"use strict";(self.webpackChunkhousing_dashboard=self.webpackChunkhousing_dashboard||[]).push([[8683],{17936:(e,t,n)=>{n.d(t,{L8:()=>u,Z7:()=>r});var r,a,i=n(88685);(a=r||(r={})).InvalidFunctionParameters="InvalidFunctionParameters",a.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",a.UnsupportedSqlFunction="UnsupportedSqlFunction",a.UnsupportedOperator="UnsupportedOperator",a.UnsupportedSyntax="UnsupportedSyntax",a.UnsupportedIsRhs="UnsupportedIsRhs",a.UnsupportedIsLhs="UnsupportedIsLhs",a.InvalidDataType="InvalidDataType",a.CannotCastValue="CannotCastValue",a.FunctionNotRecognized="FunctionNotRecognized",a.InvalidTime="InvalidTime",a.InvalidParameterCount="InvalidParameterCount",a.InvalidTimeStamp="InvalidTimeStamp",a.InvalidDate="InvalidDate",a.InvalidOperator="InvalidOperator",a.IllegalInterval="IllegalInterval",a.YearMonthIntervals="YearMonthIntervals",a.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",a.MissingStatisticParameters="MissingStatisticParameters";const o={[r.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[r.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[r.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[r.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[r.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[r.UnsupportedOperator]:"Unsupported operator - {operator}",[r.UnsupportedSyntax]:"Unsupported syntax - {node}",[r.UnsupportedSqlFunction]:"Sql function not found = {function}",[r.InvalidDataType]:"Invalid sql data type",[r.InvalidDate]:"Invalid date encountered",[r.InvalidOperator]:"Invalid operator encountered",[r.InvalidTime]:"Invalid time encountered",[r.IllegalInterval]:"Illegal interval",[r.FunctionNotRecognized]:"Function not recognized",[r.InvalidTimeStamp]:"Invalid timestamp encountered",[r.InvalidParameterCount]:"Invalid parameter count for call to {name}",[r.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[r.YearMonthIntervals]:"Year-Month Intervals not supported",[r.CannotCastValue]:"Cannot cast value to the required data type"};class u extends Error{constructor(e,t){super((0,i.HC)(o[e],t)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,u)}}},43306:(e,t,n)=>{n.d(t,{g:()=>o});var r=n(24241);function a(e){return Number.isNaN(e)||0===e?e:Math.trunc(e)}const i="esri.core.sql.SqlTimeStampOffset";class o{constructor(e){this._timeStampOffset=e,this.declaredRootClass=i,this._date=null}static isTimestampOffset(e){return"object"==typeof e&&null!=e&&"declaredRootClass"in e&&e.declaredRootClass===i}toDateTime(){var e;return null!==(e=this._date)&&void 0!==e||(this._date=r.c9.fromISO(this._timeStampOffset,{setZone:!0})),this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return a(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return a(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return o.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(e){return new o(r.c9.fromJSDate(e).toISO({includeOffset:!0}))}static fromDateTime(e){return new o(e.toISO({includeOffset:!0}))}static fromParts(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;const f="".concat(e.toString().padStart(4,"0"),"-").concat(t.toString().padStart(2,"0"),"-").concat(n.toString().padStart(2,"0"));let d="";i<10&&(d="0");let p="".concat(r.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"),":").concat(d+i.toString());0!==u&&(p+="."+u.toString().padStart(3,"0"));const v="".concat(s?"-":"+").concat(l.toString().padStart(2,"0"),":").concat(c.toString().padStart(2,"0"));return new o(f+"T"+p+v)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let e=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return e&&(e=e.replace(".000","")),e}toSQLWithKeyword(){return"timestamp '".concat(this.toSQLValue(),"'")}addMilliseconds(e){const t=this.toDateTime().plus(e);return o.fromDateTime(t)}}},68541:(e,t,n)=>{n.d(t,{M:()=>l,s:()=>s});var r=n(16503),a=n(17936),i=n(43306),o=n(14902),u=n(24241);function s(e,t){const n=c[e.toLowerCase()];if(null==n)throw new a.L8(a.Z7.FunctionNotRecognized);if(t.length<n.minParams||t.length>n.maxParams)throw new a.L8(a.Z7.InvalidParameterCount,{name:e.toUpperCase()});return n.evaluate(t)}function l(e,t){const n=c[e.toLowerCase()];return null!=n&&t>=n.minParams&&t<=n.maxParams}const c={min:{minParams:1,maxParams:1,evaluate:e=>p(e[0],"min")},max:{minParams:1,maxParams:1,evaluate:e=>p(e[0],"max")},avg:{minParams:1,maxParams:1,evaluate:e=>f(e[0])},sum:{minParams:1,maxParams:1,evaluate:e=>function(e){if(null===e)return null;let t=0;for(let n=0;n<e.length;n++){const r=e[n];if(null!==r){if(!d(r))throw new a.L8(a.Z7.InvalidValueForAggregateFunction);t+=r}}return t}(e[0])},stddev:{minParams:1,maxParams:1,evaluate:e=>function(e){if(null===e)return null;const t=v(e);return null===t?null:Math.sqrt(t)}(e[0])},count:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].length},var:{minParams:1,maxParams:1,evaluate:e=>v(e[0])}};function f(e){if(null===e)return null;let t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r];if(null!==i){if(!d(i))throw new a.L8(a.Z7.InvalidValueForAggregateFunction);n++,t+=i}}return 0===n?null:t/e.length}function d(e){return"number"==typeof e}function p(e,t){if(null===e)return null;let n=null,a=null;for(const s of e){let e=s;e=r.n.isDateOnly(s)||o.k.isTimeOnly(s)?s.toNumber():u.c9.isDateTime(s)?s.toMillis():i.g.isTimestampOffset(s)?s.toMilliseconds():s,(null===n||"max"===t&&null!==a&&null!==e&&a<=e||"min"===t&&null!==a&&null!==e&&a>=e)&&(n=s,a=e)}return n}function v(e){if(null===e)return null;if(0===(e=e.filter((e=>null!==e))).length)return null;const t=f(e);if(null===t)return null;let n=0;for(const r of e){if(!d(r))throw new a.L8(a.Z7.InvalidValueForAggregateFunction);n+=(t-r)**2}return n/(e.length-1)}},98683:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne});var r=n(81806),a=n(68541),i=n(16503),o=n(17936);function u(e){if(null!==e.precision||null!==e.secondary)throw new o.L8(o.Z7.PrimarySecondaryQualifiers)}function s(e,t){if(t.includes(".")){const n=t.split(".");e.second=parseFloat(n[0]),e.millis=parseInt(n[1],10)}else e.second=parseFloat(t)}const l="esri.core.sql.SqlInterval";class c{constructor(){this.declaredRootClass=l,this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static isInterval(e){return"object"==typeof e&&null!=e&&"declaredRootClass"in e&&e.declaredRootClass===l}static createFromMilliseconds(e){const t=new c;return t.second=e/1e3,t}static createFromValueAndQualifier(e,t,n){let r=null;const a=new c;if(a.op="-"===n?"-":"+","interval-period"===t.type){u(t);const n=new RegExp("^[0-9]{1,}$");if("year"===t.period||"month"===t.period)throw new o.L8(o.Z7.YearMonthIntervals);if("second"===t.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(e))throw new o.L8(o.Z7.IllegalInterval);s(a,e)}else{if(!n.test(e))throw new o.L8(o.Z7.IllegalInterval);a[t.period]=parseFloat(e)}}else{if(u(t.start),u(t.end),"year"===t.start.period||"month"===t.start.period||"year"===t.end.period||"month"===t.end.period)throw new o.L8(o.Z7.YearMonthIntervals);switch(t.start.period){case"day":switch(t.end.period){case"hour":if(r=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!r.test(e))throw new o.L8(o.Z7.IllegalInterval);a[t.start.period]=parseFloat(e.split(" ")[0]),a[t.end.period]=parseFloat(e.split(" ")[1]);break;case"minute":if(r=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!r.test(e))throw new o.L8(o.Z7.IllegalInterval);{a[t.start.period]=parseFloat(e.split(" ")[0]);const n=e.split(" ")[1].split(":");a.hour=parseFloat(n[0]),a.minute=parseFloat(n[1])}break;case"second":if(r=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!r.test(e))throw new o.L8(o.Z7.IllegalInterval);{a[t.start.period]=parseFloat(e.split(" ")[0]);const n=e.split(" ")[1].split(":");a.hour=parseFloat(n[0]),a.minute=parseFloat(n[1]),s(a,n[2])}break;default:throw new o.L8(o.Z7.IllegalInterval)}break;case"hour":switch(t.end.period){case"minute":if(r=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!r.test(e))throw new o.L8(o.Z7.IllegalInterval);a.hour=parseFloat(e.split(":")[0]),a.minute=parseFloat(e.split(":")[1]);break;case"second":if(r=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!r.test(e))throw new o.L8(o.Z7.IllegalInterval);{const t=e.split(":");a.hour=parseFloat(t[0]),a.minute=parseFloat(t[1]),s(a,t[2])}break;default:throw new o.L8(o.Z7.IllegalInterval)}break;case"minute":if("second"!==t.end.period)throw new o.L8(o.Z7.IllegalInterval);if(r=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!r.test(e))throw new o.L8(o.Z7.IllegalInterval);{const t=e.split(":");a.minute=parseFloat(t[0]),s(a,t[1])}break;default:throw new o.L8(o.Z7.IllegalInterval)}}return a}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}var f=n(43306),d=n(14902),p=n(64920),v=n(24241);const m=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,h=/^(\d{1,2}):(\d{1,2})$/,w=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,g=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,I=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,y=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,T=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,L=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function N(e,t){if(t instanceof v.bo)return t===p.GB.instance?v.c9.fromMillis(e.getTime(),{zone:p.GB.instance}):v.c9.fromJSDate(e,{zone:t});switch(t){case"system":case"local":case null:return v.c9.fromJSDate(e);default:return"unknown"===(null===t||void 0===t?void 0:t.toLowerCase())?v.c9.fromMillis(e.getTime(),{zone:p.GB.instance}):v.c9.fromJSDate(e,{zone:t})}}function O(e){return c.isInterval(e)}function S(e){return v.c9.isDateTime(e)}function Z(e){return i.n.isDateOnly(e)}function E(e){return d.k.isTimeOnly(e)}function C(e){return f.g.isTimestampOffset(e)}function x(e){let t=m.exec(e);if(null!==t){const[,e,n,r]=t,a=d.k.fromParts(parseInt(e,10),parseInt(n,10),parseInt(r,10),0);if(null!==a)return a;throw new o.L8(o.Z7.InvalidTime)}if(t=h.exec(e),null!==t){const[,e,n]=t,r=d.k.fromParts(parseInt(e,10),parseInt(n,10),0,0);if(null!==r)return r;throw new o.L8(o.Z7.InvalidTime)}if(t=w.exec(e),null!==t){const[,e,n,r,a]=t,i=d.k.fromParts(parseInt(e,10),parseInt(n,10),parseInt(r,10),parseInt(a,10));if(null!==i)return i;throw new o.L8(o.Z7.InvalidTime)}throw new o.L8(o.Z7.InvalidTime)}function M(e,t){let n=I.exec(e);if(null!==n){const[,e,r,a,i,u,s,l]=n,c=v.c9.fromObject({year:parseInt(e,10),month:parseInt(r,10),day:parseInt(a,10),hour:parseInt(i,10),minute:parseInt(u,10),second:parseInt(s,10),millisecond:l?parseInt(l.replace(".",""),10):0},{zone:(0,p.Qo)(t)});if(!1===c.isValid)throw new o.L8(o.Z7.InvalidTimeStamp);return c}if(n=y.exec(e),null!==n){const[,e,t,r,a,i,u,s,l,c,d]=n,p=f.g.fromParts(parseInt(e,10),parseInt(t,10),parseInt(r,10),parseInt(a,10),parseInt(i,10),parseInt(u,10),s?parseInt(s.replace(".",""),10):0,"-"===l,parseInt(c,10),parseInt(d,10));if(!1===p.isValid)throw new o.L8(o.Z7.InvalidTimeStamp);return p}if(n=T.exec(e),null!==n){const[,e,t,r,a,i,u,s,l]=n,c=f.g.fromParts(parseInt(e,10),parseInt(t,10),parseInt(r,10),parseInt(a,10),parseInt(i,10),0,0,"-"===u,parseInt(s,10),parseInt(l,10));if(!1===c.isValid)throw new o.L8(o.Z7.InvalidTimeStamp);return c}if(n=L.exec(e),null!==n){const[,e,r,a,i,u]=n,s=v.c9.fromObject({year:parseInt(e,10),month:parseInt(r,10),day:parseInt(a,10),hour:parseInt(i,10),minute:parseInt(u,10),second:0},{zone:(0,p.Qo)(t)});if(!1===s.isValid)throw new o.L8(o.Z7.InvalidTimeStamp);return s}if(n=g.exec(e),null!==n){const[,e,r,a]=n,i=v.c9.fromObject({year:parseInt(e,10),month:parseInt(r,10),day:parseInt(a,10),hour:0,minute:0,second:0},{zone:(0,p.Qo)(t)});if(!1===i.isValid)throw new o.L8(o.Z7.InvalidTimeStamp);return i}throw new o.L8(o.Z7.InvalidTimeStamp)}function b(e,t){const n=g.exec(e);if(null===n)try{return M(e,t)}catch(l){throw new o.L8(o.Z7.InvalidDate)}const[,r,a,u]=n,s=i.n.fromParts(parseInt(r,10),parseInt(a,10),parseInt(u,10));if(null===s)throw new o.L8(o.Z7.InvalidDate);return s}var P=n(15941),A=n(88685),F=n(85632);function D(e){return!!S(e)||!!C(e)}function R(e){return!!S(e)||!!Z(e)||!!C(e)||!!E(e)}function _(e){if(S(e))return e.toMillis();if(Z(e))return e.toNumber();if(C(e))return e.toMilliseconds();throw new o.L8(o.Z7.InvalidDataType)}function U(e,t,n,r){if(null==e||null==t)return null;if((0,F.Et)(e)){if((0,F.Et)(t))return V(e,t,n);if((0,F.Kg)(t))return function(e,t,n){const r=parseFloat(t);if(!isNaN(r))return V(e,r,n);const a=e.toString();switch(n){case"<>":return a!==t;case"=":return a===t;case">":return a>t;case"<":return a<t;case">=":return a>=t;case"<=":return a<=t}}(e,t,n);if(R(t))throw new o.L8(o.Z7.InvalidOperator);if(Z(t))throw new o.L8(o.Z7.InvalidOperator)}else if((0,F.Kg)(e)){if((0,F.Et)(t))return function(e,t,n){const r=parseFloat(e);if(!isNaN(r))return V(r,t,n);const a=t.toString();switch(n){case"<>":return e!==a;case"=":return e===a;case">":return e>a;case"<":return e<a;case">=":return e>=a;case"<=":return e<=a}}(e,t,n);if((0,F.Kg)(t))return function(e,t,n){switch(n){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}(e,t,n);if(S(t))throw new o.L8(o.Z7.InvalidOperator);if(Z(t))throw new o.L8(o.Z7.InvalidOperator);if(E(t))throw new o.L8(o.Z7.InvalidOperator);if(C(t))throw new o.L8(o.Z7.InvalidOperator)}else if(S(e)){if(D(t)){if((0,p.Y4)(e.zone)){if(v.c9.isDateTime(t)&&!(0,p.Y4)(t.zone))return k(e,t,n);if(f.g.isTimestampOffset(t))return k(e,t,n)}else if(v.c9.isDateTime(t)&&(0,p.Y4)(t.zone)){if(!(0,p.Y4)(e.zone))return k(e,t,n);if(f.g.isTimestampOffset(e))return k(e,t,n)}return V(_(e),_(t),n)}if((0,F.Kg)(t))throw new o.L8(o.Z7.InvalidOperator);if(Z(t))return function(e,t,n){const r=t.toDateTimeLuxon(e.zone);return V((e=e.startOf("day")).toMillis(),r.toMillis(),n)}(e,t,n);if(E(t))throw new o.L8(o.Z7.InvalidOperator);if((0,F.Et)(t))throw new o.L8(o.Z7.InvalidOperator)}else if(Z(e)){if(C(t))return function(e,t,n){const r=e.toDateTimeLuxon(t.toDateTime().zone);return t=t.startOfDay(),V(r.toMillis(),t.toMilliseconds(),n)}(e,t,n);if(S(t))return function(e,t,n){const r=e.toDateTimeLuxon(t.zone);return t=t.startOf("day"),V(r.toMillis(),t.toMillis(),n)}(e,t,n);if((0,F.Kg)(t))throw new o.L8(o.Z7.InvalidOperator);if(Z(t))return V(e.toNumber(),t.toNumber(),n);if(E(t))throw new o.L8(o.Z7.InvalidOperator);if((0,F.Et)(t))throw new o.L8(o.Z7.InvalidOperator)}else if(E(e)){if(E(t))return V(e.toNumber(),t.toNumber(),n);if((0,F.Kg)(t))throw new o.L8(o.Z7.InvalidOperator);if((0,F.Et)(t))throw new o.L8(o.Z7.InvalidOperator);if(Z(t))throw new o.L8(o.Z7.InvalidOperator);if(D(t))throw new o.L8(o.Z7.InvalidOperator)}else if(C(e)){if(D(t))return v.c9.isDateTime(t)&&(0,p.Y4)(t.zone)?k(e,t,n):V(_(e),_(t),n);if((0,F.Kg)(t))throw new o.L8(o.Z7.InvalidOperator);if(Z(t))return function(e,t,n){const r=t.toDateTimeLuxon(e.toDateTime().zone);return V((e=e.startOfDay()).toMilliseconds(),r.toMillis(),n)}(e,t,n);if(E(t))throw new o.L8(o.Z7.InvalidOperator);if((0,F.Et)(t))throw new o.L8(o.Z7.InvalidOperator)}switch(n){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function V(e,t,n){switch(n){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function k(e,t,n){f.g.isTimestampOffset(e)&&(e=e.toDateTime()),f.g.isTimestampOffset(t)&&(t=t.toDateTime());const r=J(e),a=J(t);switch(n){case"<>":return r!==a;case"=":return r===a;case">":return r>a;case"<":return r<a;case">=":return r>=a;case"<=":return r<=a}}function J(e){return 321408e5*e.year+26784e5*e.month+864e5*e.day+36e5*e.hour+6e4*e.minute+1e3*e.second+e.millisecond}function $(e,t,n){const r=q[e.toLowerCase()];if(null==r)throw new o.L8(o.Z7.FunctionNotRecognized);if(t.length<r.minParams||t.length>r.maxParams)throw new o.L8(o.Z7.InvalidParameterCount,{name:e.toUpperCase()});return r.evaluate(t,n)}function z(e){return!(0,F.$P)(e)&&!Z(e)&&!S(e)&&!E(e)&&!C(e)}function H(e){return Z(e)||E(e)?e.toString():C(e)?e.toSQLValue():S(e)?0===e.millisecond?e.toFormat("yyyy-LL-dd HH:mm:ss"):e.toSQL({includeOffset:!1}):(0,F.$P)(e)?H(v.c9.fromJSDate(e)):e.toString()}const q={extract:{minParams:2,maxParams:2,evaluate:e=>{let[t,n]=e;if(null==n)return null;if((0,F.$P)(n))switch(t.toUpperCase()){case"SECOND":return n.getSeconds();case"MINUTE":return n.getMinutes();case"HOUR":return n.getHours();case"DAY":return n.getDate();case"MONTH":return n.getMonth()+1;case"YEAR":return n.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0}else if(S(n))switch(t.toUpperCase()){case"SECOND":return n.second;case"MINUTE":return n.minute;case"HOUR":return n.hour;case"DAY":return n.day;case"MONTH":return n.month;case"YEAR":return n.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new o.L8(o.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}else if(Z(n))switch(t.toUpperCase()){case"DAY":return n.day;case"MONTH":return n.month;case"YEAR":return n.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new o.L8(o.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}else if(E(n))switch(t.toUpperCase()){case"SECOND":return n.second;case"MINUTE":return n.minute;case"HOUR":return n.hour}else if(C(n))switch(t.toUpperCase()){case"SECOND":return n.second;case"MINUTE":return n.minute;case"HOUR":return n.hour;case"DAY":return n.day;case"MONTH":return n.month;case"YEAR":return n.year;case"TIMEZONE_HOUR":return n.timezoneOffsetHour;case"TIMEZONE_MINUTE":return n.timezoneOffsetMinutes}throw new o.L8(o.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:e=>{if(2===e.length){const[t,n]=e;return null==t||null==n?null:t.toString().substring(n-1)}if(3===e.length){const[t,n,r]=e;return null==t||null==n||null==r?null:r<=0?"":t.toString().substring(n-1,n+r-1)}}},position:{minParams:2,maxParams:2,evaluate:e=>{let[t,n]=e;return null==t||null==n?null:n.indexOf(t)+1}},trim:{minParams:2,maxParams:3,evaluate:e=>{const t=3===e.length,n=t?e[1]:" ",r=t?e[2]:e[1];if(null==n||null==r)return null;const a="(".concat((0,A.Cj)(n),")");switch(e[0]){case"BOTH":return r.replaceAll(new RegExp("^".concat(a,"*|").concat(a,"*$"),"g"),"");case"LEADING":return r.replaceAll(new RegExp("^".concat(a,"*"),"g"),"");case"TRAILING":return r.replaceAll(new RegExp("".concat(a,"*$"),"g"),"")}throw new o.L8(o.Z7.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.abs(e[0])},ceiling:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.ceil(e[0])},floor:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.floor(e[0])},log:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.log(e[0])},log10:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.log(e[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.sin(e[0])},cos:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.cos(e[0])},tan:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.tan(e[0])},asin:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.asin(e[0])},acos:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.acos(e[0])},atan:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.atan(e[0])},sign:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0]>0?1:e[0]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:e=>null==e[0]||null==e[1]?null:e[0]**e[1]},mod:{minParams:2,maxParams:2,evaluate:e=>null==e[0]||null==e[1]?null:e[0]%e[1]},round:{minParams:1,maxParams:2,evaluate:e=>{const t=e[0],n=2===e.length?10**e[1]:1;return null==t?null:Math.round(t*n)/n}},truncate:{minParams:1,maxParams:2,evaluate:e=>null==e[0]?null:1===e.length||0===e[1]?Math.trunc(e[0]):(0,P.pF)("trunc",e[0],-Number(e[1]))},char_length:{minParams:1,maxParams:1,evaluate:e=>(0,F.Kg)(e[0])?e[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:e=>{let t="";for(let n=0;n<e.length;n++){if(null==e[n])return null;t+=e[n].toString()}return t}},lower:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:e=>{for(const t of e)if(null!==t)return t;return null}},cosh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.cosh(e[0])},sinh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.sinh(e[0])},tanh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.tanh(e[0])},nullif:{minParams:2,maxParams:2,evaluate:(e,t)=>U(e[0],e[1],"=")?null:e[0]},cast:{minParams:2,maxParams:2,evaluate:(e,t)=>{const n=e[0],r=e[1];if(null===n)return null;switch(r.type){case"integer":{if(!z(n))throw new o.L8(o.Z7.CannotCastValue);const e=parseInt(n,10);if(isNaN(e))throw new o.L8(o.Z7.CannotCastValue);return e}case"smallint":{if(!z(n))throw new o.L8(o.Z7.CannotCastValue);const e=parseInt(n,10);if(isNaN(e))throw new o.L8(o.Z7.CannotCastValue);if(e>32767||e<-32767)throw new o.L8(o.Z7.CannotCastValue);return e}case"float":case"real":{if(!z(n))throw new o.L8(o.Z7.CannotCastValue);const e=parseFloat(n);if(isNaN(e))throw new o.L8(o.Z7.CannotCastValue);return e}case"time":return function(e){if((0,F.$P)(e))return d.k.fromDateJS(e);if(S(e))return d.k.fromDateTime(e);if(Z(e))throw new o.L8(o.Z7.CannotCastValue);if(E(e))return e;if(C(e))return d.k.fromSqlTimeStampOffset(e);if((0,F.Kg)(e))return x(e);throw new o.L8(o.Z7.CannotCastValue)}(n);case"date":return function(e){if((0,F.$P)(e))return i.n.fromDateJS(e);if(S(e))return i.n.fromParts(e.year,e.month,e.day);if(Z(e))return e;if(E(e))throw new o.L8(o.Z7.CannotCastValue);if(C(e)&&null===i.n.fromParts(e.year,e.month,e.day))throw new o.L8(o.Z7.CannotCastValue);if((0,F.Kg)(e)){const t=i.n.fromReader(e);if(null!==t&&t.isValid)return t}throw new o.L8(o.Z7.CannotCastValue)}(n);case"timestamp":return function(e,t,n){if((0,F.$P)(e))return N(e,t);if(S(e))return e;if(Z(e))return e.toDateTimeLuxon("unknown");if(E(e))throw new o.L8(o.Z7.CannotCastValue);if(C(e))return e;if((0,F.Kg)(e))return M(e,"unknown",n);throw new o.L8(o.Z7.CannotCastValue)}(n,t,!0===r.withtimezone);case"varchar":{const e=H(n);if(e.length>r.size)throw new o.L8(o.Z7.CannotCastValue);return e}default:throw new o.L8(o.Z7.InvalidDataType)}}}};function K(e,t,n,r){if("||"===e)return $("concat",[t,n],r);if(null===t||null===n)return null;if((0,F.Et)(t)){if((0,F.Et)(n))return Y(t,n,e);if(O(n))return function(e,t,n){switch(n){case"+":return c.createFromMilliseconds(e+t.valueInMilliseconds());case"-":return c.createFromMilliseconds(e-t.valueInMilliseconds());case"*":return c.createFromMilliseconds(e*t.valueInMilliseconds());case"/":return c.createFromMilliseconds(e/t.valueInMilliseconds())}throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(E(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(Z(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(C(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(S(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if((0,F.Kg)(n))return function(e,t,n){const r=parseFloat(t);if(isNaN(r))throw new o.L8(o.Z7.InvalidOperator);return Y(e,r,n)}(t,n,e);throw new o.L8(o.Z7.InvalidOperator)}if(Z(t)){if((0,F.Et)(n))return function(e,t,n){const r=1e3*t*24*60*60;switch(n){case"+":return e.plus("milliseconds",r);case"-":return e.plus("milliseconds",-1*r)}throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(O(n))return function(e,t,n){switch(n){case"+":return e.plus("milliseconds",t.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*t.valueInMilliseconds())}throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(E(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(Z(n))return function(e,t,n){if("-"===n)return e.toDateTimeLuxon("UTC").diff(t.toDateTimeLuxon("UTC")).as("days");throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(C(n))return function(e,t,n){if("-"===n)return e.toDateTimeLuxon(t.toDateTime().zone).diff(t.toDateTime()).as("days");throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(S(n))return function(e,t,n){if("-"===n)return e.toDateTimeLuxon(t.zone).diff(t).as("days");throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if((0,F.Kg)(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();throw new o.L8(o.Z7.InvalidOperator)}if(E(t)){if((0,F.Et)(n))return function(e,t,n){const r=1e3*t*24*60*60;switch(n){case"+":return e.plus("milliseconds",r);case"-":return e.plus("milliseconds",-1*r)}throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(O(n))return function(e,t,n){switch(n){case"+":return e.plus("milliseconds",t.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*t.valueInMilliseconds())}throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(E(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(Z(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(C(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(S(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if((0,F.Kg)(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();throw new o.L8(o.Z7.InvalidOperator)}if(O(t)){if((0,F.Et)(n))return function(e,t,n){switch(n){case"+":return c.createFromMilliseconds(e.valueInMilliseconds()+t);case"-":return c.createFromMilliseconds(e.valueInMilliseconds()-t);case"*":return c.createFromMilliseconds(e.valueInMilliseconds()*t);case"/":return c.createFromMilliseconds(e.valueInMilliseconds()/t)}throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(O(n))return function(e,t,n){switch(n){case"+":return c.createFromMilliseconds(e.valueInMilliseconds()+t.valueInMilliseconds());case"-":return c.createFromMilliseconds(e.valueInMilliseconds()-t.valueInMilliseconds());case"*":return c.createFromMilliseconds(e.valueInMilliseconds()*t.valueInMilliseconds());case"/":return c.createFromMilliseconds(e.valueInMilliseconds()/t.valueInMilliseconds())}throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(E(n))return function(e,t,n){if("+"===n)return t.plus("milliseconds",e.valueInMilliseconds());throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(Z(n))return function(e,t,n){if("+"===n)return t.plus("milliseconds",e.valueInMilliseconds());throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(C(n))return function(e,t,n){if("+"===n)return t.addMilliseconds(e.valueInMilliseconds());throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(S(n))return function(e,t,n){switch(n){case"+":return t.plus({milliseconds:e.valueInMilliseconds()});case"-":return e.valueInMilliseconds()-t.toMillis()}throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if((0,F.Kg)(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();throw new o.L8(o.Z7.InvalidOperator)}if(S(t)){if((0,F.Et)(n))return function(e,t,n){const r=1e3*t*24*60*60;switch(n){case"+":return e.plus({milliseconds:r});case"-":return e.minus({milliseconds:r})}throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(O(n))return function(e,t,n){switch(n){case"+":return e.plus({milliseconds:t.valueInMilliseconds()});case"-":return e.minus({milliseconds:t.valueInMilliseconds()})}throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(E(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(Z(n))return function(e,t,n){if("-"===n)return e.diff(t.toDateTimeLuxon(e.zone)).as("days");throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(C(n))return function(e,t,n){if("-"===n)return e.diff(t.toDateTime()).as("days");throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(S(n))return function(e,t,n){if("-"===n)return e.diff(t).as("days");throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if((0,F.Kg)(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();throw new o.L8(o.Z7.InvalidOperator)}if(C(t)){if((0,F.Et)(n))return function(e,t,n){const r=1e3*t*24*60*60;switch(n){case"+":return e.addMilliseconds(r);case"-":return e.addMilliseconds(-1*r)}throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(O(n))return function(e,t,n){switch(n){case"+":return e.addMilliseconds(t.valueInMilliseconds());case"-":return e.addMilliseconds(-1*t.valueInMilliseconds())}throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(E(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(Z(n))return function(e,t,n){if("-"===n)return e.toDateTime().diff(t.toDateTimeLuxon(e.toDateTime().zone)).as("days");throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(C(n))return function(e,t,n){if("-"===n)return e.toDateTime().diff(t.toDateTime()).as("days");throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if(S(n))return function(e,t,n){if("-"===n)return e.toDateTime().diff(t).as("days");throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);if((0,F.Kg)(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();throw new o.L8(o.Z7.InvalidOperator)}if((0,F.Kg)(t)){if((0,F.Et)(n))return function(e,t,n){const r=parseFloat(e);if(isNaN(r))throw new o.L8(o.Z7.InvalidOperator);return Y(r,t,n)}(t,n,e);if(O(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(E(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(Z(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(C(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if(S(n))return function(){throw new o.L8(o.Z7.InvalidOperator)}();if((0,F.Kg)(n))return function(e,t,n){if("+"===n)return e+t;throw new o.L8(o.Z7.InvalidOperator)}(t,n,e);throw new o.L8(o.Z7.InvalidOperator)}throw new o.L8(o.Z7.InvalidOperator)}function Y(e,t,n){switch(n){case"+":return e+t;case"-":return e-t;case"*":return e*t;case"/":return e/t}throw new o.L8(o.Z7.InvalidOperator)}var Q=n(89379);function j(e,t,n,r){var a=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(a,j.prototype),a.expected=t,a.found=n,a.location=r,a.name="SyntaxError",a}function B(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}function G(e,t){var n,r={},a=(t=void 0!==t?t:{}).grammarSource,i={start:ri},o=ri,u="!",s="=",l=">=",c=">",f="<=",d="<>",p="!=",v="||",m="@",h="'",w="N'",g="''",I=".",y="null",T="true",L="false",N="in",O="is",S="like",Z="escape",E="not",C="and",x="or",M="between",b="from",P="for",A="substring",F="extract",D="trim",R="position",_="timestamp",U="date",V="time",k="leading",J="trailing",$="both",z="cast",H="as",q="integer",K="int",Y="smallint",B="float",G="real",W="varchar",X="to",ee="interval",te="year",ne="timezone_hour",re="timezone_minute",ae="month",ie="day",oe="hour",ue="minute",se="second",le="case",ce="end",fe="when",de="then",pe="else",ve=",",me="(",he=")",we="`",ge=/^[<-=]/,Ie=/^[+\-]/,ye=/^[*\/]/,Te=/^[A-Za-z_\x80-\uFFFF]/,Le=/^[A-Za-z0-9_]/,Ne=/^[A-Za-z0-9_.\x80-\uFFFF]/,Oe=/^["]/,Se=/^[^']/,Ze=/^[0-9]/,Ee=/^[eE]/,Ce=/^[ \t\n\r]/,xe=/^[^`]/,Me=Ga("!",!1),be=Ga("=",!1),Pe=Ga(">=",!1),Ae=Ga(">",!1),Fe=Ga("<=",!1),De=Ga("<>",!1),Re=Wa([["<","="]],!1,!1),_e=Ga("!=",!1),Ue=Wa(["+","-"],!1,!1),Ve=Ga("||",!1),ke=Wa(["*","/"],!1,!1),Je=Wa([["A","Z"],["a","z"],"_",["\x80","\uffff"]],!1,!1),$e=Wa([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),ze=Wa([["A","Z"],["a","z"],["0","9"],"_",".",["\x80","\uffff"]],!1,!1),He=Wa(['"'],!1,!1),qe=Ga("@",!1),Ke=Ga("'",!1),Ye=Ga("N'",!1),Qe=Ga("''",!1),je=Wa(["'"],!0,!1),Be=Ga(".",!1),Ge=Wa([["0","9"]],!1,!1),We=Wa(["e","E"],!1,!1),Xe=Ga("NULL",!0),et=Ga("TRUE",!0),tt=Ga("FALSE",!0),nt=Ga("IN",!0),rt=Ga("IS",!0),at=Ga("LIKE",!0),it=Ga("ESCAPE",!0),ot=Ga("NOT",!0),ut=Ga("AND",!0),st=Ga("OR",!0),lt=Ga("BETWEEN",!0),ct=Ga("FROM",!0),ft=Ga("FOR",!0),dt=Ga("SUBSTRING",!0),pt=Ga("EXTRACT",!0),vt=Ga("TRIM",!0),mt=Ga("POSITION",!0),ht=Ga("TIMESTAMP",!0),wt=Ga("DATE",!0),gt=Ga("TIME",!0),It=Ga("LEADING",!0),yt=Ga("TRAILING",!0),Tt=Ga("BOTH",!0),Lt=Ga("CAST",!0),Nt=Ga("AS",!0),Ot=Ga("INTEGER",!0),St=Ga("INT",!0),Zt=Ga("SMALLINT",!0),Et=Ga("FLOAT",!0),Ct=Ga("REAL",!0),xt=Ga("VARCHAR",!0),Mt=Ga("TO",!0),bt=Ga("INTERVAL",!0),Pt=Ga("YEAR",!0),At=Ga("TIMEZONE_HOUR",!0),Ft=Ga("TIMEZONE_MINUTE",!0),Dt=Ga("MONTH",!0),Rt=Ga("DAY",!0),_t=Ga("HOUR",!0),Ut=Ga("MINUTE",!0),Vt=Ga("SECOND",!0),kt=Ga("CASE",!0),Jt=Ga("END",!0),$t=Ga("WHEN",!0),zt=Ga("THEN",!0),Ht=Ga("ELSE",!0),qt=Ga(",",!1),Kt=Ga("(",!1),Yt=Ga(")",!1),Qt=Wa([" ","\t","\n","\r"],!1,!1),jt=Ga("`",!1),Bt=Wa(["`"],!0,!1),Gt=function(e){return e},Wt=function(e){return{type:"expression-list",location:ja(),value:e}},Xt=function(e,t,n){return{op:t,expr:n,location:ja()}},en=function(e,t){return Ho(e,t)},tn=function(e,t,n){return{op:t,expr:n,location:ja()}},nn=function(e,t){return Ho(e,t)},rn=function(e){return function(e,t,n){return{type:"unary-expression",location:n,operator:e,expr:t}}("NOT",e,ja())},an=function(e,t){return""==t||null==t||null==t?e:"arithmetic"==t.type?Ho(e,t.tail):$o(t.op,e,t.right,t.escape,ja())},on=function(e,t){return{op:e,expr:t,location:ja()}},un=function(e){return{type:"arithmetic",tail:e}},sn=function(e,t){return{op:e+"NOT",right:t}},ln=function(e,t){return{op:e,right:t}},cn=function(e,t,n){return zo(ja(),t,n)},fn=function(e,t){return{op:"NOT"+e,right:t}},dn=function(e,t,n){return zo(ja(),t,n)},pn=function(e,t){return{op:e,right:t}},vn=function(e){return e[0]+" "+e[2]},mn=function(e){return e[0]+" "+e[2]},hn=function(e,t,n){return{op:e,right:t,escape:n.value}},wn=function(e,t){return{op:e,right:t,escape:""}},gn=function(e,t){return{op:e,right:t}},In=function(e,t){return{op:e,right:t}},yn=function(e,t,n){return{op:t,expr:n,location:ja()}},Tn=function(e,t){return Ho(e,t)},Ln=function(e,t,n){return{op:t,expr:n,location:ja()}},Nn=function(e,t){return Ho(e,t)},On=function(e){return e.paren=!0,e},Sn=function(e){return/^CURRENT_DATE$/i.test(e)?{type:"current-time",location:ja(),mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(e)?{type:"current-time",location:ja(),mode:"timestamp"}:/^CURRENT_TIME$/i.test(e)?{type:"current-time",location:ja(),mode:"time"}:/^CURRENT_USER$/i.test(e)?{type:"current-user",location:ja()}:{type:"column-reference",location:ja(),table:"",column:e}},Zn=function(e){return{type:"column-reference",location:ja(),table:"",column:e,delimited:!0}},En=function(e){return e},Cn=function(e,t){return e+t.join("")},xn=function(e,t){return e+t.join("")},Mn=function(e){return e},bn=function(e){return e.join("")},Pn=function(){return'"'},An=function(e){return{type:"parameter",location:ja(),value:e[1]}},Fn=function(e,t){return zo(ja(),e,t)},Dn=function(e,t){return zo(ja(),e,t)},Rn=function(e){return{type:"function",location:ja(),name:"extract",args:e}},_n=function(e,t,n){return zo(ja(),e,t,...n?[n]:[])},Un=function(e,t,n){return zo(ja(),e,t,n)},Vn=function(e){return{type:"function",location:ja(),name:"substring",args:e}},kn=function(e,t){return zo(ja(),e,t)},Jn=function(e,t){return zo(ja(),e,t)},$n=function(e){return{type:"function",location:ja(),name:"cast",args:e}},zn=function(){return{type:"data-type",location:ja(),value:{type:"integer"}}},Hn=function(){return{type:"data-type",location:ja(),value:{type:"smallint"}}},qn=function(){return{type:"data-type",location:ja(),value:{type:"float"}}},Kn=function(){return{type:"data-type",location:ja(),value:{type:"real"}}},Yn=function(){return{type:"data-type",location:ja(),value:{type:"date"}}},Qn=function(){return{type:"data-type",location:ja(),value:{type:"timestamp"}}},jn=function(){return{type:"data-type",location:ja(),value:{type:"time"}}},Bn=function(e){return{type:"data-type",location:ja(),value:{type:"varchar",size:parseInt(e)}}},Gn=function(e,t,n){return zo(ja(),e,t,n)},Wn=function(e,t){return zo(ja(),e,t)},Xn=function(e){return{type:"function",location:ja(),name:"trim",args:e}},er=function(e){return{type:"string",location:ja(),value:null!==e&&void 0!==e?e:"BOTH"}},tr=function(e,t){return zo(ja(),e,t)},nr=function(e,t){return zo(ja(),e,t)},rr=function(e){return{type:"function",location:ja(),name:"position",args:e}},ar=function(e,t){return{type:"function",location:ja(),name:e,args:t}},ir=function(e){return{type:"string",location:ja(),value:e}},or=function(e){return"string"===e.type&&function(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&Ba("Timestamp literal is invalid")}(e.value),{type:"timestamp",location:ja(),value:e.value}},ur=function(e){return"string"===e.type&&function(e){!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(e)&&Ba("Time literal is invalid")}(e.value),{type:"time",location:ja(),value:e.value}},sr=function(e,t,n){return{type:"interval",location:ja(),value:t,qualifier:n,op:e}},lr=function(e,t){return{type:"interval",location:ja(),value:e,qualifier:t,op:""}},cr=function(e,t){return{type:"interval-qualifier",location:ja(),start:e,end:t}},fr=function(e,t){return{type:"interval-period",location:ja(),period:e.value,precision:t,secondary:null}},dr=function(e){return{type:"interval-period",location:ja(),period:e.value,precision:null,secondary:null}},pr=function(e){return{type:"interval-period",location:ja(),period:e.value,precision:null,secondary:null}},vr=function(e,t){return{type:"interval-period",location:ja(),period:"second",precision:e,secondary:t}},mr=function(e){return{type:"interval-period",location:ja(),period:"second",precision:e,secondary:null}},hr=function(){return{type:"interval-period",location:ja(),period:"second",precision:null,secondary:null}},wr=function(e,t){return{type:"interval-period",location:ja(),period:e.value,precision:t,secondary:null}},gr=function(e){return{type:"interval-period",location:ja(),period:e.value,precision:null,secondary:null}},Ir=function(e,t){return{type:"interval-period",location:ja(),period:"second",precision:e,secondary:t}},yr=function(e){return{type:"interval-period",location:ja(),period:"second",precision:e,secondary:null}},Tr=function(){return{type:"interval-period",location:ja(),period:"second",precision:null,secondary:null}},Lr=function(){return{type:"string",location:ja(),value:"day"}},Nr=function(){return{type:"string",location:ja(),value:"hour"}},Or=function(){return{type:"string",location:ja(),value:"minute"}},Sr=function(){return{type:"string",location:ja(),value:"month"}},Zr=function(){return{type:"string",location:ja(),value:"year"}},Er=function(e){return parseFloat(e)},Cr=function(e){return parseFloat(e)},xr=function(e){return"string"===e.type&&function(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&Ba("Date literal is invalid")}(e.value),{type:"date",location:ja(),value:e.value}},Mr=function(){return{type:"null",location:ja(),value:null}},br=function(){return{type:"boolean",location:ja(),value:!0}},Pr=function(){return{type:"boolean",location:ja(),value:!1}},Ar=function(){return"'"},Fr=function(e){return{type:"string",location:ja(),value:e.join("")}},Dr=function(e,t){return{type:"case-expression",location:ja(),format:"simple",operand:e,clauses:t,else:null,elseLocation:null}},Rr=function(e,t,n){return{type:"case-expression",location:ja(),format:"simple",operand:e,clauses:t,else:n.value,elseLocation:n.location}},_r=function(e){return{type:"case-expression",location:ja(),format:"searched",clauses:e,else:null,elseLocation:null}},Ur=function(e,t){return{type:"case-expression",location:ja(),format:"searched",clauses:e,else:t.value,elseLocation:t.location}},Vr=function(e,t){return{type:"when-clause",location:ja(),operand:e,value:t}},kr=function(e,t){return{type:"when-clause",location:ja(),operand:e,value:t}},Jr=function(e){return{type:"else-clause",location:ja(),value:e}},$r=function(e){return{type:"number",location:ja(),value:e}},zr=function(e,t,n){return parseFloat(e+t+n)},Hr=function(e,t){return parseFloat(e+t)},qr=function(e,t){return parseFloat(e+t)},Kr=function(e){return parseFloat(e)},Yr=function(e,t){return e[0]+t},Qr=function(e){return"."+(null!=e?e:"")},jr=function(e,t){return e+t},Br=function(e){return e.join("")},Gr=function(e,t){return"e"+(null===t?"":t)},Wr=function(){return"IN"},Xr=function(){return"IS"},ea=function(){return"LIKE"},ta=function(){return"ESCAPE"},na=function(){return"NOT"},ra=function(){return"AND"},aa=function(){return"OR"},ia=function(){return"BETWEEN"},oa=function(){return"FROM"},ua=function(){return"FOR"},sa=function(){return"SUBSTRING"},la=function(){return"EXTRACT"},ca=function(){return"TRIM"},fa=function(){return"POSITION"},da=function(){return"TIMESTAMP"},pa=function(){return"DATE"},va=function(){return"TIME"},ma=function(){return"LEADING"},ha=function(){return"TRAILING"},wa=function(){return"BOTH"},ga=function(){return"CAST"},Ia=function(){return"AS"},ya=function(){return"INTEGER"},Ta=function(){return"INT"},La=function(){return"SMALLINT"},Na=function(){return"FLOAT"},Oa=function(){return"REAL"},Sa=function(){return"VARCHAR"},Za=function(){return"TO"},Ea=function(){return"INTERVAL"},Ca=function(){return"YEAR"},xa=function(){return"TIMEZONE_HOUR"},Ma=function(){return"TIMEZONE_MINUTE"},ba=function(){return"MONTH"},Pa=function(){return"DAY"},Aa=function(){return"HOUR"},Fa=function(){return"MINUTE"},Da=function(){return"SECOND"},Ra=function(){return"CASE"},_a=function(){return"END"},Ua=function(){return"WHEN"},Va=function(){return"THEN"},ka=function(){return"ELSE"},Ja=function(e){return e},$a=function(e){return e.join("")},za=0|t.peg$currPos,Ha=za,qa=[{line:1,column:1}],Ka=za,Ya=t.peg$maxFailExpected||[],Qa=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=i[t.startRule]}function ja(){return ei(Ha,za)}function Ba(e,t){throw ni(e,t=void 0!==t?t:ei(Ha,za))}function Ga(e,t){return{type:"literal",text:e,ignoreCase:t}}function Wa(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Xa(t){var n,r=qa[t];if(r)return r;if(t>=qa.length)n=qa.length-1;else for(n=t;!qa[--n];);for(r={line:(r=qa[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return qa[t]=r,r}function ei(e,t,n){var r=Xa(e),i=Xa(t);return{source:a,start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:i.line,column:i.column}}}function ti(e){za<Ka||(za>Ka&&(Ka=za,Ya=[]),Ya.push(e))}function ni(e,t){return new j(e,null,null,t)}function ri(){var e,t;return e=za,Vo(),(t=ii())!==r?(Vo(),Ha=e,e=Gt(t)):(za=e,e=r),e}function ai(){var e,t,n,a,i,o;if(e=za,_o()!==r){for(Vo(),t=[],n=ii();n!==r;)t.push(n),n=za,a=za,i=Vo(),(o=Ro())!==r?a=i=[i,o,Vo()]:(za=a,a=r),a!==r&&(a=ii())===r?(za=n,n=r):n=a;n=Vo(),(a=Uo())!==r?(Ha=e,e=Wt(t)):(za=e,e=r)}else za=e,e=r;return e}function ii(){var e,t,n,a,i,o;if(e=za,(t=oi())!==r){for(n=[],a=za,Vo(),(i=Wi())!==r?(Vo(),(o=oi())!==r?(Ha=a,a=Xt(t,i,o)):(za=a,a=r)):(za=a,a=r);a!==r;)n.push(a),a=za,Vo(),(i=Wi())!==r?(Vo(),(o=oi())!==r?(Ha=a,a=Xt(t,i,o)):(za=a,a=r)):(za=a,a=r);Ha=e,e=en(t,n)}else za=e,e=r;return e}function oi(){var e,t,n,a,i,o;if(e=za,(t=ui())!==r){for(n=[],a=za,Vo(),(i=Gi())!==r?(Vo(),(o=ui())!==r?(Ha=a,a=tn(t,i,o)):(za=a,a=r)):(za=a,a=r);a!==r;)n.push(a),a=za,Vo(),(i=Gi())!==r?(Vo(),(o=ui())!==r?(Ha=a,a=tn(t,i,o)):(za=a,a=r)):(za=a,a=r);Ha=e,e=nn(t,n)}else za=e,e=r;return e}function ui(){var t,n,a,i,o;return t=za,(n=Bi())===r&&(n=za,33===e.charCodeAt(za)?(a=u,za++):(a=r,0===Qa&&ti(Me)),a!==r?(i=za,Qa++,61===e.charCodeAt(za)?(o=s,za++):(o=r,0===Qa&&ti(be)),Qa--,o===r?i=void 0:(za=i,i=r),i!==r?n=a=[a,i]:(za=n,n=r)):(za=n,n=r)),n!==r?(a=Vo(),(i=ui())!==r?(Ha=t,t=rn(i)):(za=t,t=r)):(za=t,t=r),t===r&&(t=function(){var e,t,n,a;return e=za,(t=fi())!==r?(n=za,Vo(),(a=function(){var e;return(e=function(){var e,t,n,a,i;if(e=za,t=[],n=za,Vo(),(a=si())!==r?(Vo(),(i=fi())!==r?(Ha=n,n=on(a,i)):(za=n,n=r)):(za=n,n=r),n!==r)for(;n!==r;)t.push(n),n=za,Vo(),(a=si())!==r?(Vo(),(i=fi())!==r?(Ha=n,n=on(a,i)):(za=n,n=r)):(za=n,n=r);else t=r;return t!==r&&(Ha=e,t=un(t)),t}())===r&&(e=function(){var e,t,n;return e=za,(t=ci())!==r?(Vo(),(n=ai())!==r?(Ha=e,e=gn(t,n)):(za=e,e=r)):(za=e,e=r),e===r&&(e=za,(t=ci())!==r?(Vo(),(n=Ni())!==r?(Ha=e,e=In(t,n)):(za=e,e=r)):(za=e,e=r)),e}())===r&&(e=function(){var e,t,n,a,i,o,u,s;return e=za,(t=Bi())!==r?(Vo(),(n=Xi())!==r?(a=Vo(),i=za,(o=fi())!==r?(Vo(),(u=Gi())!==r?(Vo(),(s=fi())!==r?(Ha=i,i=cn(n,o,s)):(za=i,i=r)):(za=i,i=r)):(za=i,i=r),i!==r?(Ha=e,e=fn(n,i)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r),e===r&&(e=za,(t=Xi())!==r?(Vo(),n=za,(a=fi())!==r?(i=Vo(),(o=Gi())!==r?(Vo(),(u=fi())!==r?(Ha=n,n=dn(t,a,u)):(za=n,n=r)):(za=n,n=r)):(za=n,n=r),n!==r?(Ha=e,e=pn(t,n)):(za=e,e=r)):(za=e,e=r)),e}())===r&&(e=function(){var e,t,n,a;return e=za,(t=Yi())!==r?(Vo(),(n=Bi())!==r?(Vo(),(a=fi())!==r?(Ha=e,e=sn(t,a)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r),e===r&&(e=za,(t=Yi())!==r?(Vo(),(n=fi())!==r?(Ha=e,e=ln(t,n)):(za=e,e=r)):(za=e,e=r)),e}())===r&&(e=function(){var e,t,n,a;return e=za,(t=li())!==r?(Vo(),(n=Pi())!==r?(Vo(),ji()!==r?(Vo(),(a=Ai())!==r?(Ha=e,e=hn(t,n,a)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r),e===r&&(e=za,(t=li())!==r?(Vo(),(n=Pi())!==r?(Ha=e,e=wn(t,n)):(za=e,e=r)):(za=e,e=r)),e}()),e}())!==r?n=a:(za=n,n=r),n===r&&(n=null),Ha=e,e=an(t,n)):(za=e,e=r),e}()),t}function si(){var t;return e.substr(za,2)===l?(t=l,za+=2):(t=r,0===Qa&&ti(Pe)),t===r&&(62===e.charCodeAt(za)?(t=c,za++):(t=r,0===Qa&&ti(Ae)),t===r&&(e.substr(za,2)===f?(t=f,za+=2):(t=r,0===Qa&&ti(Fe)),t===r&&(e.substr(za,2)===d?(t=d,za+=2):(t=r,0===Qa&&ti(De)),t===r&&(t=e.charAt(za),ge.test(t)?za++:(t=r,0===Qa&&ti(Re)),t===r&&(e.substr(za,2)===p?(t=p,za+=2):(t=r,0===Qa&&ti(_e))))))),t}function li(){var e,t,n,a,i;return e=za,t=za,(n=Bi())!==r?(a=Vo(),(i=Qi())!==r?t=n=[n,a,i]:(za=t,t=r)):(za=t,t=r),t!==r&&(Ha=e,t=vn(t)),(e=t)===r&&(e=Qi()),e}function ci(){var e,t,n,a,i;return e=za,t=za,(n=Bi())!==r?(a=Vo(),(i=Ki())!==r?t=n=[n,a,i]:(za=t,t=r)):(za=t,t=r),t!==r&&(Ha=e,t=mn(t)),(e=t)===r&&(e=Ki()),e}function fi(){var e,t,n,a,i,o;if(e=za,(t=pi())!==r){for(n=[],a=za,Vo(),(i=di())!==r?(Vo(),(o=pi())!==r?(Ha=a,a=yn(t,i,o)):(za=a,a=r)):(za=a,a=r);a!==r;)n.push(a),a=za,Vo(),(i=di())!==r?(Vo(),(o=pi())!==r?(Ha=a,a=yn(t,i,o)):(za=a,a=r)):(za=a,a=r);Ha=e,e=Tn(t,n)}else za=e,e=r;return e}function di(){var t;return t=e.charAt(za),Ie.test(t)?za++:(t=r,0===Qa&&ti(Ue)),t===r&&(e.substr(za,2)===v?(t=v,za+=2):(t=r,0===Qa&&ti(Ve))),t}function pi(){var e,t,n,a,i,o;if(e=za,(t=mi())!==r){for(n=[],a=za,Vo(),(i=vi())!==r?(Vo(),(o=mi())!==r?(Ha=a,a=Ln(t,i,o)):(za=a,a=r)):(za=a,a=r);a!==r;)n.push(a),a=za,Vo(),(i=vi())!==r?(Vo(),(o=mi())!==r?(Ha=a,a=Ln(t,i,o)):(za=a,a=r)):(za=a,a=r);Ha=e,e=Nn(t,n)}else za=e,e=r;return e}function vi(){var t;return t=e.charAt(za),ye.test(t)?za++:(t=r,0===Qa&&ti(ke)),t}function mi(){var e,t;return(e=function(){var e;return(e=Ai())===r&&(e=function(){var e,t,n,a;return e=za,(t=function(){var e,t,n,a;return e=za,(t=_i())!==r&&(n=Ui())!==r&&(a=Vi())!==r?(Ha=e,e=zr(t,n,a)):(za=e,e=r),e===r&&(e=za,(t=_i())!==r&&(n=Ui())!==r?(Ha=e,e=Hr(t,n)):(za=e,e=r),e===r&&(e=za,(t=_i())!==r&&(n=Vi())!==r?(Ha=e,e=qr(t,n)):(za=e,e=r),e===r&&(e=za,(t=_i())!==r&&(Ha=e,t=Kr(t)),e=t))),e}())!==r?(n=za,Qa++,a=wi(),Qa--,a===r?n=void 0:(za=n,n=r),n!==r?(Ha=e,e=$r(t)):(za=e,e=r)):(za=e,e=r),e}())===r&&(e=function(){var e,t;return e=za,(t=Hi())!==r&&(Ha=e,t=br()),(e=t)===r&&(e=za,(t=qi())!==r&&(Ha=e,t=Pr()),e=t),e}())===r&&(e=function(){var e,t;return e=za,(t=zi())!==r&&(Ha=e,t=Mr()),t}())===r&&(e=function(){var e,t;return e=za,uo()!==r?(Vo(),(t=Pi())!==r?(Ha=e,e=xr(t)):(za=e,e=r)):(za=e,e=r),e}())===r&&(e=function(){var e,t;return e=za,oo()!==r?(Vo(),(t=Pi())!==r?(Ha=e,e=or(t)):(za=e,e=r)):(za=e,e=r),e}())===r&&(e=Ei())===r&&(e=function(){var e,t;return e=za,so()!==r?(Vo(),(t=Pi())!==r?(Ha=e,e=ur(t)):(za=e,e=r)):(za=e,e=r),e}()),e}())===r&&(e=function(){var e,t,n,a;return e=za,ro()!==r?(Vo(),t=za,_o()!==r?(Vo(),(n=Zi())!==r?(Vo(),eo()!==r?(Vo(),(a=ii())!==r?(Vo(),Uo()!==r?(Ha=t,t=Fn(n,a)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r),t===r&&(t=za,_o()!==r?(Vo(),(n=Zi())!==r?(Vo(),Ro()!==r?(Vo(),(a=ii())!==r?(Vo(),Uo()!==r?(Ha=t,t=Dn(n,a)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)),t!==r?(Ha=e,e=Rn(t)):(za=e,e=r)):(za=e,e=r),e}())===r&&(e=function(){var e,t,n,a,i,o,u;return e=za,no()!==r?(Vo(),t=za,_o()!==r?(Vo(),(n=ii())!==r?(Vo(),eo()!==r?(Vo(),(a=ii())!==r?(Vo(),i=za,to()!==r?(o=Vo(),(u=ii())!==r?(Vo(),i=u):(za=i,i=r)):(za=i,i=r),i===r&&(i=null),Uo()!==r?(Ha=t,t=_n(n,a,i)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r),t===r&&(t=za,_o()!==r?(Vo(),(n=ii())!==r?(Vo(),Ro()!==r?(Vo(),(a=ii())!==r?(Vo(),(i=Ro())!==r?(Vo(),(o=ii())!==r&&(u=Uo())!==r?(Ha=t,t=Un(n,a,o)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)),t!==r?(Ha=e,e=Vn(t)):(za=e,e=r)):(za=e,e=r),e}())===r&&(e=function(){var e,t,n,a,i;return e=za,ao()!==r?(Vo(),t=za,_o()!==r?(Vo(),n=Si(),Vo(),(a=ii())!==r?(Vo(),eo()!==r?(Vo(),(i=ii())!==r?(Vo(),Uo()!==r?(Ha=t,t=Gn(n,a,i)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r),t===r&&(t=za,_o()!==r?(Vo(),n=Si(),Vo(),(a=ii())!==r?(Vo(),Uo()!==r?(Ha=t,t=Wn(n,a)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)),t!==r?(Ha=e,e=Xn(t)):(za=e,e=r)):(za=e,e=r),e}())===r&&(e=function(){var e,t,n,a;return e=za,io()!==r?(Vo(),t=za,_o()!==r?(Vo(),(n=ii())!==r?(Vo(),Ki()!==r?(Vo(),(a=ii())!==r?(Vo(),Uo()!==r?(Ha=t,t=tr(n,a)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r),t===r&&(t=za,_o()!==r?(Vo(),(n=ii())!==r?(Vo(),Ro()!==r?(Vo(),(a=ii())!==r?(Vo(),Uo()!==r?(Ha=t,t=nr(n,a)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)),t!==r?(Ha=e,e=rr(t)):(za=e,e=r)):(za=e,e=r),e}())===r&&(e=function(){var e,t,n,a;return e=za,po()!==r?(Vo(),t=za,_o()!==r?(Vo(),(n=ii())!==r?(Vo(),vo()!==r?(Vo(),(a=Oi())!==r?(Vo(),Uo()!==r?(Ha=t,t=kn(n,a)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r),t===r&&(t=za,_o()!==r?(Vo(),(n=ii())!==r?(Vo(),Ro()!==r?(Vo(),(a=Oi())!==r?(Vo(),Uo()!==r?(Ha=t,t=Jn(n,a)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)),t!==r?(Ha=e,e=$n(t)):(za=e,e=r)):(za=e,e=r),e}())===r&&(e=function(){var e,t,n,a;return e=za,t=za,Qa++,n=ro(),Qa--,n===r?t=void 0:(za=t,t=r),t!==r&&(n=Jo())!==r?(Vo(),(a=ai())!==r?(Ha=e,e=ar(n,a)):(za=e,e=r)):(za=e,e=r),e}())===r&&(e=function(){var e;return(e=function(){var e,t,n,a,i;if(e=za,bo()!==r)if(Vo(),(t=ii())!==r){for(Vo(),n=[],a=za,(i=Di())!==r?(Vo(),a=i):(za=a,a=r);a!==r;)n.push(a),a=za,(i=Di())!==r?(Vo(),a=i):(za=a,a=r);(a=Po())!==r?(Ha=e,e=Dr(t,n)):(za=e,e=r)}else za=e,e=r;else za=e,e=r;if(e===r)if(e=za,bo()!==r)if(Vo(),(t=ii())!==r){for(Vo(),n=[],a=za,(i=Di())!==r?(Vo(),a=i):(za=a,a=r);a!==r;)n.push(a),a=za,(i=Di())!==r?(Vo(),a=i):(za=a,a=r);(a=Ri())!==r?(i=Vo(),Po()!==r?(Ha=e,e=Rr(t,n,a)):(za=e,e=r)):(za=e,e=r)}else za=e,e=r;else za=e,e=r;return e}())===r&&(e=function(){var e,t,n,a;if(e=za,bo()!==r){for(Vo(),t=[],n=za,(a=Fi())!==r?(Vo(),n=a):(za=n,n=r);n!==r;)t.push(n),n=za,(a=Fi())!==r?(Vo(),n=a):(za=n,n=r);(n=Po())!==r?(Ha=e,e=_r(t)):(za=e,e=r)}else za=e,e=r;if(e===r)if(e=za,bo()!==r){for(Vo(),t=[],n=za,(a=Fi())!==r?(Vo(),n=a):(za=n,n=r);n!==r;)t.push(n),n=za,(a=Fi())!==r?(Vo(),n=a):(za=n,n=r);(n=Ri())!==r?(a=Vo(),Po()!==r?(Ha=e,e=Ur(t,n)):(za=e,e=r)):(za=e,e=r)}else za=e,e=r;return e}()),e}())===r&&(e=function(){var e,t;return e=za,(t=function(){var e,t;return e=za,(t=function(){var e,t,n,a;if(e=za,(t=wi())!==r){for(n=[],a=Ii();a!==r;)n.push(a),a=Ii();Ha=e,e=Cn(t,n)}else za=e,e=r;return e}())!==r&&(Ha=e,t=En(t)),t}())!==r&&(Ha=e,t=Sn(t)),(e=t)===r&&(e=za,(t=function(){var e,t;return e=za,Li()!==r?(t=function(){var e,t,n;for(e=za,t=[],n=yi();n!==r;)t.push(n),n=yi();return Ha=e,bn(t)}(),Li()!==r?(Ha=e,e=Mn(t)):(za=e,e=r)):(za=e,e=r),e}())!==r&&(Ha=e,t=Zn(t)),e=t),e}())===r&&(e=Ni())===r&&(e=za,_o()!==r?(Vo(),(t=ii())!==r?(Vo(),Uo()!==r?(Ha=e,e=On(t)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)),e}function hi(){var e,t,n,a;if(e=za,(t=wi())!==r){for(n=[],a=gi();a!==r;)n.push(a),a=gi();Ha=e,e=xn(t,n)}else za=e,e=r;return e}function wi(){var t;return t=e.charAt(za),Te.test(t)?za++:(t=r,0===Qa&&ti(Je)),t}function gi(){var t;return t=e.charAt(za),Le.test(t)?za++:(t=r,0===Qa&&ti($e)),t}function Ii(){var t;return t=e.charAt(za),Ne.test(t)?za++:(t=r,0===Qa&&ti(ze)),t}function yi(){var e;return(e=Ti())===r&&(e=function(){var e;return e=za,Li()!==r&&Li()!==r?(Ha=e,e=Pn()):(za=e,e=r),e}()),e}function Ti(){var t;return t=e.charAt(za),Ne.test(t)?za++:(t=r,0===Qa&&ti(ze)),t}function Li(){var t;return t=e.charAt(za),Oe.test(t)?za++:(t=r,0===Qa&&ti(He)),t}function Ni(){var t,n,a,i;return t=za,n=za,64===e.charCodeAt(za)?(a=m,za++):(a=r,0===Qa&&ti(qe)),a!==r&&(i=hi())!==r?n=a=[a,i]:(za=n,n=r),n!==r&&(Ha=t,n=An(n)),n}function Oi(){var e,t,n;return e=za,(t=mo())===r&&(t=ho()),t!==r&&(Ha=e,t=zn()),(e=t)===r&&(e=za,(t=wo())!==r&&(Ha=e,t=Hn()),(e=t)===r&&(e=za,(t=go())!==r&&(Ha=e,t=qn()),(e=t)===r&&(e=za,(t=Io())!==r&&(Ha=e,t=Kn()),(e=t)===r&&(e=za,(t=uo())!==r&&(Ha=e,t=Yn()),(e=t)===r&&(e=za,(t=oo())!==r&&(Ha=e,t=Qn()),(e=t)===r&&(e=za,(t=so())!==r&&(Ha=e,t=jn()),(e=t)===r&&(e=za,(t=yo())!==r?(Vo(),_o()!==r?(Vo(),(n=ki())!==r?(Vo(),Uo()!==r?(Ha=e,e=Bn(n)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)))))))),e}function Si(){var e,t;return e=za,(t=lo())===r&&(t=co())===r&&(t=fo()),t===r&&(t=null),Ha=e,er(t)}function Zi(){var e,t;return e=za,(t=No())===r&&(t=Zo())===r&&(t=Eo())===r&&(t=Co())===r&&(t=xo())===r&&(t=Mo())===r&&(t=Oo())===r&&(t=So()),t!==r&&(Ha=e,t=ir(t)),t}function Ei(){var t,n,a,i;return t=za,Lo()!==r?(Vo(),n=e.charAt(za),Ie.test(n)?za++:(n=r,0===Qa&&ti(Ue)),n!==r?(Vo(),(a=Pi())!==r?(Vo(),(i=Ci())!==r?(Ha=t,t=sr(n,a,i)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r),t===r&&(t=za,Lo()!==r?(Vo(),(n=Pi())!==r?(Vo(),(a=Ci())!==r?(Ha=t,t=lr(n,a)):(za=t,t=r)):(za=t,t=r)):(za=t,t=r)),t}function Ci(){var e,t,n;return e=za,(t=function(){var e,t,n;return e=za,(t=xi())!==r?(Vo(),_o()!==r?(Vo(),(n=bi())!==r?(Vo(),Uo()!==r?(Ha=e,e=fr(t,n)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r),e===r&&(e=za,(t=xi())!==r&&(Ha=e,t=dr(t)),e=t),e}())!==r?(Vo(),To()!==r?(Vo(),(n=function(){var e,t,n,a;return e=za,(t=xi())!==r&&(Ha=e,t=pr(t)),(e=t)===r&&(e=za,(t=Mo())!==r?(Vo(),_o()!==r?(Vo(),(n=bi())!==r?(Vo(),Ro()!==r?(Vo(),(a=Mi())!==r?(Vo(),Uo()!==r?(Ha=e,e=vr(n,a)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r),e===r&&(e=za,(t=Mo())!==r?(Vo(),_o()!==r?(Vo(),(n=bi())!==r?(Vo(),Uo()!==r?(Ha=e,e=mr(n)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r),e===r&&(e=za,(t=Mo())!==r&&(Ha=e,t=hr()),e=t))),e}())!==r?(Ha=e,e=cr(t,n)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r),e===r&&(e=function(){var e,t,n,a;return e=za,(t=xi())!==r?(Vo(),_o()!==r?(Vo(),(n=Mi())!==r?(Vo(),Uo()!==r?(Ha=e,e=wr(t,n)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r),e===r&&(e=za,(t=xi())!==r&&(Ha=e,t=gr(t)),(e=t)===r&&(e=za,(t=Mo())!==r?(Vo(),_o()!==r?(Vo(),(n=bi())!==r?(Vo(),Ro()!==r?(Vo(),(a=Mi())!==r?(Vo(),Uo()!==r?(Ha=e,e=Ir(n,a)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r),e===r&&(e=za,(t=Mo())!==r?(Vo(),_o()!==r?(Vo(),(n=Mi())!==r?(Vo(),Uo()!==r?(Ha=e,e=yr(n)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r),e===r&&(e=za,(t=Mo())!==r&&(Ha=e,t=Tr()),e=t)))),e}()),e}function xi(){var e,t;return e=za,(t=Eo())!==r&&(Ha=e,t=Lr()),(e=t)===r&&(e=za,(t=Co())!==r&&(Ha=e,t=Nr()),(e=t)===r&&(e=za,(t=xo())!==r&&(Ha=e,t=Or()),(e=t)===r&&(e=za,(t=Zo())!==r&&(Ha=e,t=Sr()),(e=t)===r&&(e=za,(t=No())!==r&&(Ha=e,t=Zr()),e=t)))),e}function Mi(){var e,t;return e=za,(t=ki())!==r&&(Ha=e,t=Er(t)),t}function bi(){var e,t;return e=za,(t=ki())!==r&&(Ha=e,t=Cr(t)),t}function Pi(){var e;return(e=Ai())===r&&(e=Ni()),e}function Ai(){var t,n,a,i,o;if(t=za,39===e.charCodeAt(za)?(n=h,za++):(n=r,0===Qa&&ti(Ke)),n===r&&(e.substr(za,2)===w?(n=w,za+=2):(n=r,0===Qa&&ti(Ye))),n!==r){for(a=[],i=za,e.substr(za,2)===g?(o=g,za+=2):(o=r,0===Qa&&ti(Qe)),o!==r&&(Ha=i,o=Ar()),(i=o)===r&&(i=e.charAt(za),Se.test(i)?za++:(i=r,0===Qa&&ti(je)));i!==r;)a.push(i),i=za,e.substr(za,2)===g?(o=g,za+=2):(o=r,0===Qa&&ti(Qe)),o!==r&&(Ha=i,o=Ar()),(i=o)===r&&(i=e.charAt(za),Se.test(i)?za++:(i=r,0===Qa&&ti(je)));39===e.charCodeAt(za)?(i=h,za++):(i=r,0===Qa&&ti(Ke)),i!==r?(Ha=t,t=Fr(a)):(za=t,t=r)}else za=t,t=r;return t}function Fi(){var e,t,n;return e=za,Ao()!==r?(Vo(),(t=ii())!==r?(Vo(),Fo()!==r?(Vo(),(n=ii())!==r?(Ha=e,e=Vr(t,n)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r),e}function Di(){var e,t,n;return e=za,Ao()!==r?(Vo(),(t=ii())!==r?(Vo(),Fo()!==r?(Vo(),(n=ii())!==r?(Ha=e,e=kr(t,n)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r)):(za=e,e=r),e}function Ri(){var e,t;return e=za,Do()!==r?(Vo(),(t=ii())!==r?(Ha=e,e=Jr(t)):(za=e,e=r)):(za=e,e=r),e}function _i(){var t,n,a;return(t=ki())===r&&(t=za,n=e.charAt(za),Ie.test(n)?za++:(n=r,0===Qa&&ti(Ue)),n!==r&&(a=ki())!==r?(Ha=t,t=Yr(n,a)):(za=t,t=r)),t}function Ui(){var t,n,a;return t=za,46===e.charCodeAt(za)?(n=I,za++):(n=r,0===Qa&&ti(Be)),n!==r?((a=ki())===r&&(a=null),Ha=t,t=Qr(a)):(za=t,t=r),t}function Vi(){var e,t,n;return e=za,(t=$i())!==r&&(n=ki())!==r?(Ha=e,e=jr(t,n)):(za=e,e=r),e}function ki(){var e,t,n;if(e=za,t=[],(n=Ji())!==r)for(;n!==r;)t.push(n),n=Ji();else t=r;return t!==r&&(Ha=e,t=Br(t)),t}function Ji(){var t;return t=e.charAt(za),Ze.test(t)?za++:(t=r,0===Qa&&ti(Ge)),t}function $i(){var t,n,a;return t=za,n=e.charAt(za),Ee.test(n)?za++:(n=r,0===Qa&&ti(We)),n!==r?(a=e.charAt(za),Ie.test(a)?za++:(a=r,0===Qa&&ti(Ue)),a===r&&(a=null),Ha=t,t=Gr(n,a)):(za=t,t=r),t}function zi(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===y?za+=4:(n=r,0===Qa&&ti(Xe)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?t=n=[n,a]:(za=t,t=r)):(za=t,t=r),t}function Hi(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===T?za+=4:(n=r,0===Qa&&ti(et)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?t=n=[n,a]:(za=t,t=r)):(za=t,t=r),t}function qi(){var t,n,a,i;return t=za,(n=e.substr(za,5)).toLowerCase()===L?za+=5:(n=r,0===Qa&&ti(tt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?t=n=[n,a]:(za=t,t=r)):(za=t,t=r),t}function Ki(){var t,n,a,i;return t=za,(n=e.substr(za,2)).toLowerCase()===N?za+=2:(n=r,0===Qa&&ti(nt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Wr()):(za=t,t=r)):(za=t,t=r),t}function Yi(){var t,n,a,i;return t=za,(n=e.substr(za,2)).toLowerCase()===O?za+=2:(n=r,0===Qa&&ti(rt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Xr()):(za=t,t=r)):(za=t,t=r),t}function Qi(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===S?za+=4:(n=r,0===Qa&&ti(at)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=ea()):(za=t,t=r)):(za=t,t=r),t}function ji(){var t,n,a,i;return t=za,(n=e.substr(za,6)).toLowerCase()===Z?za+=6:(n=r,0===Qa&&ti(it)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=ta()):(za=t,t=r)):(za=t,t=r),t}function Bi(){var t,n,a,i;return t=za,(n=e.substr(za,3)).toLowerCase()===E?za+=3:(n=r,0===Qa&&ti(ot)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=na()):(za=t,t=r)):(za=t,t=r),t}function Gi(){var t,n,a,i;return t=za,(n=e.substr(za,3)).toLowerCase()===C?za+=3:(n=r,0===Qa&&ti(ut)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=ra()):(za=t,t=r)):(za=t,t=r),t}function Wi(){var t,n,a,i;return t=za,(n=e.substr(za,2)).toLowerCase()===x?za+=2:(n=r,0===Qa&&ti(st)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=aa()):(za=t,t=r)):(za=t,t=r),t}function Xi(){var t,n,a,i;return t=za,(n=e.substr(za,7)).toLowerCase()===M?za+=7:(n=r,0===Qa&&ti(lt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=ia()):(za=t,t=r)):(za=t,t=r),t}function eo(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===b?za+=4:(n=r,0===Qa&&ti(ct)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=oa()):(za=t,t=r)):(za=t,t=r),t}function to(){var t,n,a,i;return t=za,(n=e.substr(za,3)).toLowerCase()===P?za+=3:(n=r,0===Qa&&ti(ft)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=ua()):(za=t,t=r)):(za=t,t=r),t}function no(){var t,n,a,i;return t=za,(n=e.substr(za,9)).toLowerCase()===A?za+=9:(n=r,0===Qa&&ti(dt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=sa()):(za=t,t=r)):(za=t,t=r),t}function ro(){var t,n,a,i;return t=za,(n=e.substr(za,7)).toLowerCase()===F?za+=7:(n=r,0===Qa&&ti(pt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=la()):(za=t,t=r)):(za=t,t=r),t}function ao(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===D?za+=4:(n=r,0===Qa&&ti(vt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=ca()):(za=t,t=r)):(za=t,t=r),t}function io(){var t,n,a,i;return t=za,(n=e.substr(za,8)).toLowerCase()===R?za+=8:(n=r,0===Qa&&ti(mt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=fa()):(za=t,t=r)):(za=t,t=r),t}function oo(){var t,n,a,i;return t=za,(n=e.substr(za,9)).toLowerCase()===_?za+=9:(n=r,0===Qa&&ti(ht)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=da()):(za=t,t=r)):(za=t,t=r),t}function uo(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===U?za+=4:(n=r,0===Qa&&ti(wt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=pa()):(za=t,t=r)):(za=t,t=r),t}function so(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===V?za+=4:(n=r,0===Qa&&ti(gt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=va()):(za=t,t=r)):(za=t,t=r),t}function lo(){var t,n,a,i;return t=za,(n=e.substr(za,7)).toLowerCase()===k?za+=7:(n=r,0===Qa&&ti(It)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=ma()):(za=t,t=r)):(za=t,t=r),t}function co(){var t,n,a,i;return t=za,(n=e.substr(za,8)).toLowerCase()===J?za+=8:(n=r,0===Qa&&ti(yt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=ha()):(za=t,t=r)):(za=t,t=r),t}function fo(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===$?za+=4:(n=r,0===Qa&&ti(Tt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=wa()):(za=t,t=r)):(za=t,t=r),t}function po(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===z?za+=4:(n=r,0===Qa&&ti(Lt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=ga()):(za=t,t=r)):(za=t,t=r),t}function vo(){var t,n,a,i;return t=za,(n=e.substr(za,2)).toLowerCase()===H?za+=2:(n=r,0===Qa&&ti(Nt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Ia()):(za=t,t=r)):(za=t,t=r),t}function mo(){var t,n,a,i;return t=za,(n=e.substr(za,7)).toLowerCase()===q?za+=7:(n=r,0===Qa&&ti(Ot)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=ya()):(za=t,t=r)):(za=t,t=r),t}function ho(){var t,n,a,i;return t=za,(n=e.substr(za,3)).toLowerCase()===K?za+=3:(n=r,0===Qa&&ti(St)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Ta()):(za=t,t=r)):(za=t,t=r),t}function wo(){var t,n,a,i;return t=za,(n=e.substr(za,8)).toLowerCase()===Y?za+=8:(n=r,0===Qa&&ti(Zt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=La()):(za=t,t=r)):(za=t,t=r),t}function go(){var t,n,a,i;return t=za,(n=e.substr(za,5)).toLowerCase()===B?za+=5:(n=r,0===Qa&&ti(Et)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Na()):(za=t,t=r)):(za=t,t=r),t}function Io(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===G?za+=4:(n=r,0===Qa&&ti(Ct)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Oa()):(za=t,t=r)):(za=t,t=r),t}function yo(){var t,n,a,i;return t=za,(n=e.substr(za,7)).toLowerCase()===W?za+=7:(n=r,0===Qa&&ti(xt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Sa()):(za=t,t=r)):(za=t,t=r),t}function To(){var t,n,a,i;return t=za,(n=e.substr(za,2)).toLowerCase()===X?za+=2:(n=r,0===Qa&&ti(Mt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Za()):(za=t,t=r)):(za=t,t=r),t}function Lo(){var t,n,a,i;return t=za,(n=e.substr(za,8)).toLowerCase()===ee?za+=8:(n=r,0===Qa&&ti(bt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Ea()):(za=t,t=r)):(za=t,t=r),t}function No(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===te?za+=4:(n=r,0===Qa&&ti(Pt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Ca()):(za=t,t=r)):(za=t,t=r),t}function Oo(){var t,n,a,i;return t=za,(n=e.substr(za,13)).toLowerCase()===ne?za+=13:(n=r,0===Qa&&ti(At)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=xa()):(za=t,t=r)):(za=t,t=r),t}function So(){var t,n,a,i;return t=za,(n=e.substr(za,15)).toLowerCase()===re?za+=15:(n=r,0===Qa&&ti(Ft)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Ma()):(za=t,t=r)):(za=t,t=r),t}function Zo(){var t,n,a,i;return t=za,(n=e.substr(za,5)).toLowerCase()===ae?za+=5:(n=r,0===Qa&&ti(Dt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=ba()):(za=t,t=r)):(za=t,t=r),t}function Eo(){var t,n,a,i;return t=za,(n=e.substr(za,3)).toLowerCase()===ie?za+=3:(n=r,0===Qa&&ti(Rt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Pa()):(za=t,t=r)):(za=t,t=r),t}function Co(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===oe?za+=4:(n=r,0===Qa&&ti(_t)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Aa()):(za=t,t=r)):(za=t,t=r),t}function xo(){var t,n,a,i;return t=za,(n=e.substr(za,6)).toLowerCase()===ue?za+=6:(n=r,0===Qa&&ti(Ut)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Fa()):(za=t,t=r)):(za=t,t=r),t}function Mo(){var t,n,a,i;return t=za,(n=e.substr(za,6)).toLowerCase()===se?za+=6:(n=r,0===Qa&&ti(Vt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Da()):(za=t,t=r)):(za=t,t=r),t}function bo(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===le?za+=4:(n=r,0===Qa&&ti(kt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Ra()):(za=t,t=r)):(za=t,t=r),t}function Po(){var t,n,a,i;return t=za,(n=e.substr(za,3)).toLowerCase()===ce?za+=3:(n=r,0===Qa&&ti(Jt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=_a()):(za=t,t=r)):(za=t,t=r),t}function Ao(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===fe?za+=4:(n=r,0===Qa&&ti($t)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Ua()):(za=t,t=r)):(za=t,t=r),t}function Fo(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===de?za+=4:(n=r,0===Qa&&ti(zt)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=Va()):(za=t,t=r)):(za=t,t=r),t}function Do(){var t,n,a,i;return t=za,(n=e.substr(za,4)).toLowerCase()===pe?za+=4:(n=r,0===Qa&&ti(Ht)),n!==r?(a=za,Qa++,i=gi(),Qa--,i===r?a=void 0:(za=a,a=r),a!==r?(Ha=t,t=ka()):(za=t,t=r)):(za=t,t=r),t}function Ro(){var t;return 44===e.charCodeAt(za)?(t=ve,za++):(t=r,0===Qa&&ti(qt)),t}function _o(){var t;return 40===e.charCodeAt(za)?(t=me,za++):(t=r,0===Qa&&ti(Kt)),t}function Uo(){var t;return 41===e.charCodeAt(za)?(t=he,za++):(t=r,0===Qa&&ti(Yt)),t}function Vo(){var e,t;for(e=[],t=ko();t!==r;)e.push(t),t=ko();return e}function ko(){var t;return t=e.charAt(za),Ce.test(t)?za++:(t=r,0===Qa&&ti(Qt)),t}function Jo(){var t,n,a,i;if(t=za,(n=hi())!==r&&(Ha=t,n=Ja(n)),(t=n)===r)if(t=za,96===e.charCodeAt(za)?(n=we,za++):(n=r,0===Qa&&ti(jt)),n!==r){if(a=[],i=e.charAt(za),xe.test(i)?za++:(i=r,0===Qa&&ti(Bt)),i!==r)for(;i!==r;)a.push(i),i=e.charAt(za),xe.test(i)?za++:(i=r,0===Qa&&ti(Bt));else a=r;a!==r?(96===e.charCodeAt(za)?(i=we,za++):(i=r,0===Qa&&ti(jt)),i!==r?(Ha=t,t=$a(a)):(za=t,t=r)):(za=t,t=r)}else za=t,t=r;return t}function $o(e,t,n,r,a){const i={type:"binary-expression",location:a,operator:e,left:t,right:n};return void 0!==r&&(i.escape=r),i}function zo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:"expression-list",location:e,value:n}}function Ho(e,t){let n=e;for(const{op:r,expr:a,location:{end:i}}of t)n=$o(r,n,a,void 0,(0,Q.A)((0,Q.A)({},n.location),{},{end:i}));return n}if(n=o(),t.peg$library)return{peg$result:n,peg$currPos:za,peg$FAILED:r,peg$maxFailExpected:Ya,peg$maxFailPos:Ka};if(n!==r&&za===e.length)return n;throw n!==r&&za<e.length&&ti({type:"end"}),function(e,t,n){return new j(j.buildMessage(e,t),e,t,n)}(Ya,Ka<e.length?e.charAt(Ka):null,Ka<e.length?ei(Ka,Ka+1):ei(Ka,Ka))}(function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n})(j,Error),j.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,i=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(a):a,o=this.location.source+":"+i.line+":"+i.column;if(r){var u=this.location.end,s=B("",i.line.toString().length," "),l=r[a.line-1],c=(a.line===u.line?u.column:l.length+1)-a.column||1;t+="\n --\x3e "+o+"\n"+s+" |\n"+i.line+" | "+l+"\n"+s+" | "+B("",a.column-1," ")+B("",c,"^")}else t+="\n at "+o}return t},j.buildMessage=function(e,t){var n={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return n[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(o);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+a(e)+'"':"end of input"}(t)+" found."};class W{static parse(e){return G(e)}}function X(e,t){if(null!=e)switch(t(e),e.type){case"when-clause":X(e.operand,t),X(e.value,t);break;case"case-expression":for(const n of e.clauses)X(n,t);"simple"===e.format&&X(e.operand,t),null!==e.else&&X(e.else,t);break;case"expression-list":for(const n of e.value)X(n,t);break;case"unary-expression":X(e.expr,t);break;case"binary-expression":X(e.left,t),X(e.right,t);break;case"function":X(e.args,t);break;case"interval":X(e.value,t),X(e.qualifier,t);break;case"interval-qualifier":X(e.start,t),X(e.end,t)}}const ee=new Set(["current_timestamp","current_date","current_time"]);class te{static makeBool(e){return re(e)}static featureValue(e,t,n,r){return de(e,t,n,r)}static equalsNull(e){return null===e}static applyLike(e,t,n){return fe(e,t,n)}static ensureArray(e){return ae(e)}static applyIn(e,t,n){return se(e,t)}static currentTimestamp(e){return N(new Date,e)}static currentDate(e){return i.n.fromNow(e)}static currentTime(e){const t=N(new Date,e);return d.k.fromDateTime(t)}static makeSqlInterval(e,t,n){return c.createFromValueAndQualifier(e,t,n)}static convertInterval(e){return c.isInterval(e)?e.valueInMilliseconds():e}static compare(e,t,n,r){return U(t,n,e)}static calculate(e,t,n,r){return K(e,t,n,r)}static evaluateTime(e){return x(e)}static evaluateTimestamp(e,t,n){return M(e,t,n)}static evaluateDate(e,t){return b(e,t)}static evaluateFunction(e,t,n){return $(e,t,n)}static lookup(e,t){const n=t[e];return void 0===n?null:n}static between(e,t,n){return null==e||null==t[0]||null==t[1]?null:U(e,t[0],">=")&&U(e,t[1],"<=")}static notbetween(e,t,n){return null==e||null==t[0]||null==t[1]?null:U(e,t[0],"<")||U(e,t[1],">")}static ternaryNot(e){return ie(e)}static ternaryAnd(e,t){return oe(e,t)}static ternaryOr(e,t){return ue(e,t)}}class ne{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UTC",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.fieldsIndex=t,this.timeZone=n,this.currentUser=r,this.parameters={},this._hasDateFunctions=void 0,this.parseTree=W.parse(e);const{isStandardized:a,isAggregate:i,currentUserRequired:o,referencedFieldNames:u}=this._extractExpressionInfo(t);this._referencedFieldNames=u,this.isStandardized=a,this.isAggregate=i,this.currentUserRequired=o}static convertValueToStorageFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t)return(0,F.$P)(e)?e.getTime():S(e)?e.toMillis():C(e)?e.toStorageFormat():E(e)?e.toStorageString():Z(e)?e.toStorageFormat():e;switch(t){case"date":return(0,F.$P)(e)?e.getTime():S(e)?e.toMillis():C(e)?e.toMilliseconds():Z(e)?e.toNumber():e;case"date-only":return(0,F.$P)(e)?i.n.fromDateJS(e).toString():C(e)?i.n.fromSqlTimeStampOffset(e).toString():S(e)?i.n.fromDateTime(e).toString():e;case"time-only":return(0,F.$P)(e)?d.k.fromDateJS(e).toStorageString():S(e)?d.k.fromDateTime(e).toStorageString():C(e)?d.k.fromSqlTimeStampOffset(e).toStorageString():E(e)?e.toStorageString():e;case"timestamp-offset":if((0,F.$P)(e))return f.g.fromJSDate(e).toStorageFormat();if(S(e))return f.g.fromDateTime(e).toStorageFormat();if(C(e))return e.toStorageFormat()}return e}static create(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new ne(e,n.fieldsIndex,null!==(t=n.timeZone)&&void 0!==t?t:void 0,n.currentUser)}get fieldNames(){return this._referencedFieldNames}testSet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentUser;return!!this._evaluateNode(this.parseTree,null,t,e,n)}calculateValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentUser;const r=this._evaluateNode(this.parseTree,e,t,null,n);return c.isInterval(r)?r.valueInMilliseconds()/864e5:r}calculateValueCompiled(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentUser;return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone,null!==n&&void 0!==n?n:null):(0,r.A)("esri-csp-restrictions")?this.calculateValue(e,t):(this._compileMe(),this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone,null!==n&&void 0!==n?n:null))}testFeature(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentUser;return!!this._evaluateNode(this.parseTree,e,t,null,n)}testFeatureCompiled(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentUser;return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone,null!==n&&void 0!==n?n:null):(0,r.A)("esri-csp-restrictions")?this.testFeature(e,t):(this._compileMe(),!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone,null!==n&&void 0!==n?n:null))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,X(this.parseTree,(e=>{"current-time"===e.type?this._hasDateFunctions=!0:"function"===e.type&&(this._hasDateFunctions=this._hasDateFunctions||ee.has(e.name.toLowerCase()))}))),this._hasDateFunctions}getFunctions(){const e=new Set;return X(this.parseTree,(t=>{"function"===t.type&&e.add(t.name.toLowerCase())})),Array.from(e)}getExpressions(){const e=new Map;return X(this.parseTree,(t=>{if("function"===t.type){const n=t.name.toLowerCase(),r=t.args.value[0];if("column-reference"===r.type){const t=r.column,a="".concat(n,"-").concat(t);e.has(a)||e.set(a,{aggregateType:n,field:t})}}})),[...e.values()]}getVariables(){const e=new Set;return X(this.parseTree,(t=>{"parameter"===t.type&&e.add(t.value.toLowerCase())})),Array.from(e)}_compileMe(){const e="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone","currentUser",e).bind(te)}_extractExpressionInfo(e){const t=[],n=new Set;let r=!0,i=!1,o=!1;return X(this.parseTree,(u=>{switch(u.type){case"column-reference":{var s;const r=null===e||void 0===e?void 0:e.get(u.column);let a,i;r?a=i=null!==(s=r.name)&&void 0!==s?s:"":(i=u.column,a=i.toLowerCase()),n.has(a)||(n.add(a),t.push(i)),u.column=i;break}case"current-user":o=!0;break;case"function":{const{name:e,args:t}=u,n=t.value.length;r&&(r=function(e,t){const n=q[e.toLowerCase()];return null!=n&&t>=n.minParams&&t<=n.maxParams}(e,n)),!1===i&&(i=(0,a.M)(e,n));break}}})),{referencedFieldNames:Array.from(t),isStandardized:r,isAggregate:i,currentUserRequired:o}}evaluateNodeToJavaScript(e){switch(e.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(e.value)+", "+JSON.stringify(e.qualifier)+","+JSON.stringify(e.op)+")";case"case-expression":{let t="";if("simple"===e.format){const n=this.evaluateNodeToJavaScript(e.operand);t="( ";for(let r=0;r<e.clauses.length;r++)t+=" (this.compare('=',"+n+","+this.evaluateNodeToJavaScript(e.clauses[r].operand)+") ? ("+this.evaluateNodeToJavaScript(e.clauses[r].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )"}else{t="( ";for(let n=0;n<e.clauses.length;n++)t+=" this.makeBool("+this.evaluateNodeToJavaScript(e.clauses[n].operand)+")===true ? ("+this.evaluateNodeToJavaScript(e.clauses[n].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )"}return t}case"parameter":return"this.lookup("+JSON.stringify(e.value.toLowerCase())+",lookups)";case"expression-list":{let t="[";for(const n of e.value)"["!==t&&(t+=","),t+=this.evaluateNodeToJavaScript(n);return t+="]",t}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(e.expr)+")";case"binary-expression":switch(e.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"IS":if("null"!==e.right.type)throw new o.L8(o.Z7.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")";case"ISNOT":if("null"!==e.right.type)throw new o.L8(o.Z7.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+"), timeZone)";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+"), timeZone))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"*":case"-":case"+":case"/":case"||":return"this.calculate("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";default:throw new o.L8(o.Z7.UnsupportedOperator,{operator:e.operator})}case"null":case"boolean":case"string":case"number":return JSON.stringify(e.value);case"time":return"this.evaluateTime("+JSON.stringify(e.value)+")";case"date":return"this.evaluateDate("+JSON.stringify(e.value)+", 'unknown')";case"timestamp":return"this.evaluateTimestamp("+JSON.stringify(e.value)+", 'unknown')";case"current-time":return"date"===e.mode?"this.currentDate(timeZone)":"time"===e.mode?"this.currentTime(timeZone)":"this.currentTimestamp(timeZone)";case"current-user":return"currentUser";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(e.column)+",fieldsIndex,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(e.name)+","+this.evaluateNodeToJavaScript(e.args)+", timeZone)"}throw new o.L8(o.Z7.UnsupportedSyntax,{node:e.type})}_evaluateNode(e,t,n,r,i){var u,s;let l;switch(e.type){case"interval":{const a=this._evaluateNode(e.value,t,n,r,i);return c.createFromValueAndQualifier(a,e.qualifier,e.op)}case"case-expression":if("simple"===e.format){const a=this._evaluateNode(e.operand,t,n,r,i);for(let o=0;o<e.clauses.length;o++)if(U(a,this._evaluateNode(e.clauses[o].operand,t,n,r,i),"=",this.timeZone))return this._evaluateNode(e.clauses[o].value,t,n,r,i);if(null!==e.else)return this._evaluateNode(e.else,t,n,r,i)}else{for(let a=0;a<e.clauses.length;a++)if(re(this._evaluateNode(e.clauses[a].operand,t,n,r,i)))return this._evaluateNode(e.clauses[a].value,t,n,r,i);if(null!==e.else)return this._evaluateNode(e.else,t,n,r,i)}return null;case"parameter":return l=this.parameters[e.value.toLowerCase()],(0,F.$P)(l)?v.c9.fromJSDate(l):null!=l&&"object"==typeof l&&"toDateTime"in l?l.toDateTime():l;case"expression-list":{const a=[];for(const o of e.value)a.push(this._evaluateNode(o,t,n,r,i));return a}case"unary-expression":return ie(this._evaluateNode(e.expr,t,n,r,i));case"binary-expression":switch(e.operator){case"AND":return oe(this._evaluateNode(e.left,t,n,r,i),this._evaluateNode(e.right,t,n,r,i));case"OR":return ue(this._evaluateNode(e.left,t,n,r,i),this._evaluateNode(e.right,t,n,r,i));case"IS":if("null"!==e.right.type)throw new o.L8(o.Z7.UnsupportedIsRhs);return null===this._evaluateNode(e.left,t,n,r,i);case"ISNOT":if("null"!==e.right.type)throw new o.L8(o.Z7.UnsupportedIsRhs);return null!==this._evaluateNode(e.left,t,n,r,i);case"IN":{const a=ae(this._evaluateNode(e.right,t,n,r,i));return se(this._evaluateNode(e.left,t,n,r,i),a,this.timeZone)}case"NOT IN":{const a=ae(this._evaluateNode(e.right,t,n,r,i));return ie(se(this._evaluateNode(e.left,t,n,r,i),a,this.timeZone))}case"BETWEEN":{const a=this._evaluateNode(e.left,t,n,r,i),o=this._evaluateNode(e.right,t,n,r,i);return null==a||null==o[0]||null==o[1]?null:U(a,o[0],">=",this.timeZone)&&U(a,o[1],"<=",this.timeZone)}case"NOTBETWEEN":{const a=this._evaluateNode(e.left,t,n,r,i),o=this._evaluateNode(e.right,t,n,r,i);return null==a||null==o[0]||null==o[1]?null:U(a,o[0],"<",this.timeZone)||U(a,o[1],">",this.timeZone)}case"LIKE":return fe(this._evaluateNode(e.left,t,n,r,i),this._evaluateNode(e.right,t,n,r,i),e.escape);case"NOT LIKE":return ie(fe(this._evaluateNode(e.left,t,n,r,i),this._evaluateNode(e.right,t,n,r,i),e.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return U(this._evaluateNode(e.left,t,n,r,i),this._evaluateNode(e.right,t,n,r,i),e.operator,this.timeZone);case"-":case"+":case"*":case"/":case"||":return K(e.operator,this._evaluateNode(e.left,t,n,r,i),this._evaluateNode(e.right,t,n,r,i),this.timeZone)}case"null":case"boolean":case"string":case"number":return e.value;case"date":return null!==(u=e.parsedValue)&&void 0!==u||(e.parsedValue=b(e.value,"unknown")),e.parsedValue;case"timestamp":return null!==(s=e.parsedValue)&&void 0!==s||(e.parsedValue=M(e.value,"unknown")),e.parsedValue;case"time":return x(e.value);case"current-time":return"date"===e.mode?te.currentDate(this.timeZone):"time"===e.mode?te.currentTime(this.timeZone):te.currentTimestamp(this.timeZone);case"current-user":return null!==i&&void 0!==i?i:null;case"column-reference":return de(t,e.column,this.fieldsIndex,n);case"data-type":return e.value;case"function":{if(this.isAggregate&&(0,a.M)(e.name,e.args.value.length)){const t=[];for(const a of(null===(f=e.args)||void 0===f?void 0:f.value)||[]){var f;const e=[];for(const t of r||[])e.push(this._evaluateNode(a,t,n,null,i));t.push(e)}return(0,a.s)(e.name,t)}const o=this._evaluateNode(e.args,t,n,r,i);return $(e.name,o,this.timeZone)}}throw new o.L8(o.Z7.UnsupportedSyntax,{node:e.type})}}function re(e){return!0===e}function ae(e){return Array.isArray(e)?e:[e]}function ie(e){return null!==e?!0!==e:null}function oe(e,t){return null!=e&&null!=t?!0===e&&!0===t:!1!==e&&!1!==t&&null}function ue(e,t){return null!=e&&null!=t?!0===e||!0===t:!0===e||!0===t||null}function se(e,t,n){if(null==e)return null;let r=!1;for(const a of t)if(null==a)r=null;else{if(e===a){r=!0;break}if(R(e)&&R(a)&&(r=U(e,a,"="),r))break}return r}const le="-[]/{}()*+?.\\^$|";var ce;function fe(e,t,n){return null==e?null:function(e,t){const n=t;let r="",a=ce.Normal;for(let i=0;i<e.length;i++){const t=e.charAt(i);switch(a){case ce.Normal:t===n?a=ce.Escaped:le.includes(t)?r+="\\"+t:r+="%"===t?".*":"_"===t?".":t;break;case ce.Escaped:le.includes(t)?r+="\\"+t:r+=t,a=ce.Normal}}return new RegExp("^"+r+"$","m")}(t,n).test(e)}function de(e,t,n,r){var a;if("getAttributeSQL"in r)return r.getAttributeSQL(e,t);const o=r.getAttribute(e,t),u=null===n||void 0===n?void 0:n.get(t);return null==o||"esriFieldTypeDate"!==(null===u||void 0===u?void 0:u.type)&&"date"!==(null===u||void 0===u?void 0:u.type)?null==o||"esriFieldTypeDateOnly"!==(null===u||void 0===u?void 0:u.type)&&"date-only"!==(null===u||void 0===u?void 0:u.type)?null==o||"esriFieldTypeTimeOnly"!==(null===u||void 0===u?void 0:u.type)&&"time-only"!==(null===u||void 0===u?void 0:u.type)?null==o||"esriFieldTypeTimestampOffset"!==(null===u||void 0===u?void 0:u.type)&&"timestamp-offset"!==(null===u||void 0===u?void 0:u.type)?o:new f.g(o):d.k.fromReader(o):i.n.fromReader(o):N(new Date(o),null!==(a=null===n||void 0===n?void 0:n.getLuxonTimeZone(u.name))&&void 0!==a?a:v.mQ.utcInstance)}!function(e){e[e.Normal=0]="Normal",e[e.Escaped=1]="Escaped"}(ce||(ce={}));const pe={getAttribute:(e,t)=>(function(e){return e&&"object"==typeof e.attributes}(e)?e.attributes:e)[t]}}}]);
//# sourceMappingURL=8683.457384c5.chunk.js.map