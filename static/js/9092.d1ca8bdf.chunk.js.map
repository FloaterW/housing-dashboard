{"version":3,"file":"static/js/9092.d1ca8bdf.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js","../node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js","../node_modules/@arcgis/core/views/layers/ImageryLayerView.js","../node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isAbortError as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mosaicPixelData as p}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{BitmapContainer as n}from\"../../engine/BitmapContainer.js\";import{Container as l}from\"../../engine/Container.js\";import c from\"../../engine/ImageryBitmapSource.js\";import h from\"../support/ExportStrategy.js\";let m=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new l,this.updateRequested=!1,this.type=\"imagery\",this._bitmapView=new n}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(t){this.strategy.update(t).catch((t=>{s(t)||r.getLogger(this).error(t)}))}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const t=this.layer.version>=10,e=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,i=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new h({container:this._bitmapView,imageNormalizationSupported:t,imageMaxHeight:e,imageMaxWidth:i,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((async t=>{const{source:e}=t;if(!e||e instanceof ImageBitmap)return;const i=await this.layer.applyRenderer({extent:e.extent,pixelBlock:e.originalPixelBlock??e.pixelBlock});e.filter=t=>this.layer.pixelFilter?this.layer.applyFilter(t):{...i,extent:e.extent}})).catch((t=>{s(t)||r.getLogger(this).error(t)}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const t=this.strategy.bitmaps;if(1===t.length&&t[0].source)return{extent:t[0].source.extent,pixelBlock:t[0].source.originalPixelBlock};if(t.length>1){const e=this.view.extent,i=t.map((t=>t.source)).filter((t=>t.extent&&t.extent.intersects(e))).map((t=>({extent:t.extent,pixelBlock:t.originalPixelBlock}))),r=p(i,e);return null!=r?{extent:r.extent,pixelBlock:r.pixelBlock}:null}return null}async _fetchImage(t,e,i,r){(r=r||{}).timeExtent=this.timeExtent,r.requestAsImageElement=!0,r.returnImageBitmap=!0;const s=await this.layer.fetchImage(t,e,i,r);if(s.imageBitmap)return s.imageBitmap;const a=await this.layer.applyRenderer(s.pixelData,{signal:r.signal}),o=new c(a.pixelBlock,a.extent?.clone(),s.pixelData.pixelBlock);return o.filter=t=>this.layer.applyFilter(t),o}};t([a()],m.prototype,\"attached\",void 0),t([a()],m.prototype,\"container\",void 0),t([a()],m.prototype,\"layer\",void 0),t([a()],m.prototype,\"strategy\",void 0),t([a()],m.prototype,\"timeExtent\",void 0),t([a()],m.prototype,\"view\",void 0),t([a()],m.prototype,\"updateRequested\",void 0),t([a()],m.prototype,\"updating\",null),t([a()],m.prototype,\"type\",void 0),m=t([o(\"esri.views.2d.layers.imagery.ImageryView2D\")],m);const d=m;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"./BrushVectorField.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.symbolTypes=[\"triangle\"]}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"imagery (vf)\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}export{t as RasterVFContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{debounce as r,isAbortError as o}from\"../../../../core/promiseUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../geometry/Extent.js\";import{RasterVFDisplayObject as l}from\"../../engine/imagery/RasterVFDisplayObject.js\";let c=class extends t{constructor(e){super(e),this._loading=null,this.update=r(((e,t)=>this._update(e,t).catch((e=>{o(e)||i.getLogger(this).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes=\"wind_speed\"===e.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===e.style?[\"scalar\"]:[\"triangle\"],this.container.requestRender()}async _update(e,t,i){if(!e.stationary)return;const{extent:r,spatialReference:o}=e.state,s=new n({xmin:r.xmin,ymin:r.ymin,xmax:r.xmax,ymax:r.ymax,spatialReference:o}),[a,l]=e.state.size;this._loading=this.fetchPixels(s,a,l,i);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,i){if(null==e.pixelBlock)return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:r,pixelBlock:o}=e,s=new l(o);s.offset=[0,0],s.symbolizerParameters=t,s.rawPixelData=e,s.invalidateVAO(),s.x=r.xmin,s.y=r.ymax,s.pixelRatio=i.pixelRatio,s.rotation=i.rotation,s.resolution=i.resolution,s.width=o.width*t.symbolTileSize,s.height=o.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes=\"wind_speed\"===t.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===t.style?[\"scalar\"]:[\"triangle\"],this.container.addChild(s)}};e([s()],c.prototype,\"fetchPixels\",void 0),e([s()],c.prototype,\"container\",void 0),e([s()],c.prototype,\"_loading\",void 0),e([s()],c.prototype,\"updating\",null),c=e([a(\"esri.views.2d.layers.imagery.ImageryVFStrategy\")],c);const p=c;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import r from\"../../../../request.js\";import i from\"../../../../core/Accessor.js\";import s from\"../../../../core/Logger.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{watch as o,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import c from\"../../../../geometry/Extent.js\";import{srToRESTValue as p}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{projectExtent as h}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{snapImageToSymbolTile as y,convertVectorFieldData as u}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFContainer as x}from\"../../engine/imagery/RasterVFContainer.js\";import d from\"./ImageryVFStrategy.js\";let f=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new x,this.type=\"imageryVF\",this._dataParameters={exportParametersVersion:0,bbox:\"\",symbolTileSize:0,time:\"\"},this._fetchpixels=async(t,e,r,i)=>{const s=await this._projectFullExtentPromise,{symbolTileSize:a}=this.layer.renderer,{extent:o,width:n,height:l}=y(t,e,r,a,s);if(null!=s&&!s.intersects(t))return{extent:o,pixelBlock:null};const m={bbox:`${o.xmin}, ${o.ymin}, ${o.xmax}, ${o.ymax}`,exportParametersVersion:this.layer.exportImageServiceParameters.version,symbolTileSize:a,time:JSON.stringify(this.timeExtent||\"\")};if(this._canReuseVectorFieldData(m)){const t=this.getPixelData();if(null!=t){if(`${t.extent.xmin}, ${t.extent.ymin}, ${t.extent.xmax}, ${t.extent.ymax}`===m.bbox)return t}}const{pixelData:c}=await this.layer.fetchImage(o,n,l,{timeExtent:this.timeExtent,requestAsImageElement:!1,signal:i});this._dataParameters=m;const p=c?.pixelBlock;if(null==p)return{extent:o,pixelBlock:null};return{extent:o,pixelBlock:\"vector-uv\"===this.layer.rasterInfo.dataType?u(p,\"vector-uv\"):p}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new d({container:this.container,fetchPixels:this._fetchpixels}),this.addHandles(o((()=>this.layer.renderer),(t=>this._updateSymbolizerParams(t)),n),\"attach\")}detach(){this._strategy.destroy(),this.container.children.forEach((t=>t.destroy())),this.container.removeAllChildren(),this.removeHandles(\"attach\"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){const t=this.container.children[0]?.rawPixelData;if(this.updating||!t)return null;const{extent:e,pixelBlock:r}=t;return{extent:e,pixelBlock:r}}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}update(t){this._strategy.update(t,this._symbolizerParams).catch((t=>{a(t)||s.getLogger(this).error(t)}))}redraw(){const{renderer:t}=this.layer;t&&(this._updateSymbolizerParams(t),this._strategy.redraw(this._symbolizerParams))}_canReuseVectorFieldData(t){const e=this._dataParameters.exportParametersVersion===t.exportParametersVersion,r=this._dataParameters.time===t.time,i=this._dataParameters.symbolTileSize===t.symbolTileSize,s=this._dataParameters.bbox===t.bbox;return e&&r&&i&&s}async _getProjectedFullExtent(t){try{return h(this.layer.fullExtent,t)}catch(e){try{const e=(await r(this.layer.url,{query:{option:\"footprints\",outSR:p(t),f:\"json\"}})).data.featureCollection.layers[0].layerDefinition.extent;return e?c.fromJSON(e):null}catch{return null}}}_updateSymbolizerParams(t){\"vector-field\"===t?.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};t([l()],f.prototype,\"attached\",void 0),t([l()],f.prototype,\"container\",void 0),t([l()],f.prototype,\"layer\",void 0),t([l()],f.prototype,\"timeExtent\",void 0),t([l()],f.prototype,\"type\",void 0),t([l()],f.prototype,\"view\",void 0),t([l()],f.prototype,\"updating\",null),f=t([m(\"esri.views.2d.layers.imagery.VectorFieldView2D\")],f);const g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combineTimeExtent as a}from\"../../layers/support/timeSupport.js\";import{load as p,getSourceScale as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import u from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as c}from\"./support/popupUtils.js\";const m=m=>{let l=class extends m{constructor(){super(...arguments),this.view=null}get timeExtent(){return a(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}async fetchPopupFeaturesAtLocation(e,o){const{layer:s}=this;if(!e)throw new t(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:a}=s,p=c(s,o);if(!a||null==p)return[];const n=await p.getRequiredFields();r(o);const m=new u;m.timeExtent=this.timeExtent,m.geometry=e,m.outFields=n,m.outSpatialReference=e.spatialReference;const{resolution:l,spatialReference:y}=this.view,h=\"2d\"===this.view.type?new i(l,l,y):new i(.5*l,.5*l,y),{returnTopmostRaster:f,showNoDataRecords:w}=p.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},d={returnDomainValues:!0,returnTopmostRaster:f,pixelSize:h,showNoDataRecords:w,signal:o?.signal};return s.queryVisibleRasters(m,d).then((e=>e))}async getSourceScale(){return await p(),await this.layer.load(),n(this.layer.serviceRasterInfo,this.view.spatialReference)}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([o()],l.prototype,\"layer\",void 0),e([o()],l.prototype,\"suspended\",void 0),e([o({readOnly:!0})],l.prototype,\"timeExtent\",null),e([o()],l.prototype,\"view\",void 0),l=e([s(\"esri.views.layers.ImageryLayerView\")],l),l};export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import s from\"../../../core/Collection.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import{watch as h,sync as a}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GraphicsCollection as n}from\"../../../support/GraphicsCollection.js\";import c from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as g}from\"./LayerView2D.js\";import p from\"./graphics/GraphicsView2D.js\";import d from\"./graphics/HighlightGraphicContainer.js\";import w from\"./imagery/ImageryView2D.js\";import m from\"./imagery/VectorFieldView2D.js\";import u from\"../../layers/ImageryLayerView.js\";import v from\"../../layers/LayerView.js\";import y from\"../../layers/RefreshableLayerView.js\";import{defaultHighlightName as f}from\"../../support/HighlightDefaults.js\";let b=class extends(u(y(g(v)))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new n,this._highlightView=void 0,this.layer=null,this.subview=null}get pixelData(){const{subview:e}=this;return this.updating||!e?null:\"getPixelData\"in e?e.getPixelData():null}update(e){this.subview?.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new p({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new d(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.addAttachHandles([h((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),a),h((()=>this.timeExtent),(e=>{const{subview:i}=this;i&&(i.timeExtent=e,\"redraw\"in i?this.requestUpdate():i.redrawOrRefetch())}),a),this.layer.on(\"redraw\",(()=>{const{subview:e}=this;e&&(\"redraw\"in e?e.redraw():e.redrawOrRefetch())})),h((()=>this.layer.renderer),(()=>this._setSubView()))])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,h){if(!((Array.isArray(e)?e[0]:s.isCollection(e)?e.at(0):e)instanceof i))return r();let a=[];Array.isArray(e)||s.isCollection(e)?a=e.map((e=>e.clone())):e instanceof i&&(a=[e.clone()]);const o=a?.filter(t);if(!o?.length)return r();const l=h?.name??f;return this._addHighlightGraphics(a,l),r((()=>!this.destroyed&&this._removeHighlightGraphics(a,l)))}_addHighlightGraphics(e,i){this._highlightGraphics.addMany(e),this._addHighlights(e.map((e=>e.uid)),i)}_removeHighlightGraphics(e,i){this._highlightGraphics.removeMany(e),this._removeHighlights(e.map((e=>e.uid)),i)}async doRefresh(){this.requestUpdate()}isUpdating(){const e=!this.subview||this.subview.updating||!!this._highlightView?.updating;return has(\"esri-2d-log-updating\")&&console.log(`Updating ImageryLayerView2D (${this.layer.id}): ${e}\\n-> subview ${!this.subview||this.subview.updating}\\n-> higlightView ${this._highlightView?.updating}\\n`),e}_processHighlight(){const e=this._getHighlights();this._highlightView?.setHighlight(e)}_setSubView(){if(!this.view)return;const e=this.layer.renderer?.type;let i=\"imagery\";if(\"vector-field\"===e?i=\"imageryVF\":\"flow\"===e&&(i=\"flow\"),this.subview){const{type:e}=this.subview;if(e===i)return this._attachSubview(this.subview),void(\"flow\"===e?this.subview.redrawOrRefetch():\"imagery\"===e&&\"lerc\"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}this.subview=\"imagery\"===i?new w({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):\"imageryVF\"===i?new m({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new c({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0))}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};e([o()],b.prototype,\"pixelData\",null),e([o()],b.prototype,\"subview\",void 0),b=e([l(\"esri.views.2d.layers.ImageryLayerView2D\")],b);const _=b;export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as s,FeatureSelection as t}from\"../../engine/webgl/enums.js\";import{AGraphicContainer as i}from\"./AGraphicContainer.js\";import{renderHighlight as o}from\"../support/util.js\";let a=class extends i{get hasHighlight(){return this.children.some((r=>r.hasData))}renderChildren(r){this.attributeView.update(),r.drawPhase===s.HIGHLIGHT&&this.children.some((r=>r.hasData))&&(super.renderChildren(r),r.context.setColorMask(!0,!0,!0,!0),o(r,!1,(r=>{this._renderChildren(r,t.Highlight)})))}};a=r([e(\"esri.views.2d.layers.graphics.HighlightGraphicContainer\")],a);const h=a;export{h as default};\n"],"names":["m","i","constructor","super","arguments","this","attached","container","l","updateRequested","type","_bitmapView","n","destroy","detach","updating","isUpdating","update","t","strategy","catch","s","r","getLogger","error","hitTest","e","attributes","geometry","clone","layer","attach","addChild","version","imageMaxHeight","imageMaxWidth","h","imageNormalizationSupported","fetchSource","_fetchImage","bind","requestUpdate","removeAllChildren","redraw","updateExports","async","_e$originalPixelBlock","source","ImageBitmap","applyRenderer","extent","pixelBlock","originalPixelBlock","filter","pixelFilter","applyFilter","_objectSpread","view","getPixelData","bitmaps","length","map","intersects","p","_a$extent","timeExtent","requestAsImageElement","returnImageBitmap","fetchImage","imageBitmap","a","pixelData","signal","o","c","prototype","d","symbolTypes","prepareRenderPasses","registerRenderPass","name","brushes","target","children","drawPhase","MAP","doRender","visible","forEach","renderPass","_loading","_update","symbolizerParameters","invalidateVAO","style","requestRender","stationary","spatialReference","state","xmin","ymin","xmax","ymax","size","fetchPixels","_addToDisplay","offset","rawPixelData","x","y","pixelRatio","rotation","resolution","width","symbolTileSize","height","f","_dataParameters","exportParametersVersion","bbox","time","_fetchpixels","_projectFullExtentPromise","renderer","concat","exportImageServiceParameters","JSON","stringify","_canReuseVectorFieldData","rasterInfo","dataType","u","_strategy","_getProjectedFullExtent","addHandles","_updateSymbolizerParams","removeHandles","_this$container$child","_symbolizerParams","fullExtent","url","query","option","outSR","data","featureCollection","layers","layerDefinition","fromJSON","_unused","symbolizer","generateWebGLParameters","g","_this$view","_get","fetchPopupFeaturesAtLocation","popupEnabled","getRequiredFields","outFields","outSpatialReference","returnTopmostRaster","showNoDataRecords","w","layerOptions","returnDomainValues","pixelSize","queryVisibleRasters","then","getSourceScale","load","serviceRasterInfo","canResume","_this$timeExtent","isEmpty","readOnly","b","v","_exportImageVersion","_highlightGraphics","_highlightView","subview","_this$subview","increaseRasterJobHandlerUsage","_setSubView","graphics","requestUpdateCallback","featuresTilingScheme","addAttachHandles","redrawOrRefetch","on","_this$subview2","_this$_highlightView","decreaseRasterJobHandlerUsage","_detachSubview","viewChange","moveEnd","highlight","_a","_h$name","Array","isArray","isCollection","at","_addHighlightGraphics","destroyed","_removeHighlightGraphics","addMany","_addHighlights","uid","removeMany","_removeHighlights","doRefresh","_this$_highlightView2","_this$_highlightView3","has","console","log","id","_processHighlight","_this$_highlightView4","_getHighlights","setHighlight","_this$layer$renderer","_this$subview3","_attachSubview","format","layerView","addChildAt","removeChild","_","hasHighlight","some","hasData","renderChildren","attributeView","HIGHLIGHT","context","setColorMask","_renderChildren","Highlight"],"sourceRoot":""}