"use strict";(self.webpackChunkhousing_dashboard=self.webpackChunkhousing_dashboard||[]).push([[1338],{91338:(e,l,n)=>{n.d(l,{getRampStops:()=>V});var o,i=n(69539),t=n(24921),r=(n(50076),n(53084));n(63040),n(89465),n(28808);function u(e){switch(e){case"circle":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case"square":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case"diamond":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case"hexagon-pointy":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case"hexagon-flat":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}function s(e){var l;return"CIMVectorMarker"===(null===e||void 0===e?void 0:e.type)?null===(l=e.markerGraphics)||void 0===l?void 0:l[0]:void 0}function a(e){var l,n;return"CIMPolygonSymbol"===(null===e||void 0===e||null===(l=e.symbol)||void 0===l?void 0:l.type)?null===(n=e.symbol.symbolLayers)||void 0===n?void 0:n[0]:void 0}function c(e,l){"CIMVectorMarker"===(null===e||void 0===e?void 0:e.type)&&null!=l&&(e.size=l)}function d(e,l){const n=s(e);n&&null!=l&&(n.geometry=u(l))}function v(e,l){const n=a(s(e));n&&null!=l&&(n.color=l.toArray())}function f(e,l,n){const o=a(s(e));o&&null!=l&&n&&(o.colorLocked=l)}!function(e){e.OuterRing="reference-size-outer-ring",e.InnerDot="reference-size-inner-dot"}(o||(o={}));var y=n(7246),m=n(76940),p=n(29632),h=n(94725),b=n(94439),g=n(60823),w=(n(76099),n(91896));const z=30,S=12,k=24,I=[255,255,255],L=[200,200,200],x=[128,128,128],C=20,M=5;async function V(e,l,n,o,i,r,u){var s,a;const c=l.legendOptions,d=null===c||void 0===c?void 0:c.customValues,v=u||await P(e,n),f=l.stops,y=!!v,m=!!d,p=null!=l.minSize&&null!=l.maxSize,h=f&&f.length>1,w=!!l.target;if(!y||!m&&!(p||h&&!w))return;const z=(0,b.$d)(v);let S=!1,I=null,L=null;I=z&&!h?(0,t.LI)([l.minDataValue,l.maxDataValue]):null!==d&&void 0!==d?d:await _(l,v,o,null===i||void 0===i?void 0:i.type);const x=null===e||void 0===e?void 0:e.authoringInfo,C="univariate-color-size"===(null===x||void 0===x?void 0:x.type),M=C&&"above-and-below"===(null===x||void 0===x?void 0:x.univariateTheme),V=!!(0,g._l)(e);if(!I&&h&&(I=f.map((e=>e.value)),S=f.some((e=>!!e.label)),"flow"===e.type&&(I=(0,t.LI)(I)),S&&(L=f.map((e=>e.label)))),z&&null!=I&&(null===(s=I)||void 0===s?void 0:s.length)>2&&!M&&(I=[I[0],I[I.length-1]]),!I)return null;C&&5!==(null===(a=I)||void 0===a?void 0:a.length)&&(I=B({minSize:I[0],maxSize:I[I.length-1]}));const R=z?D(e,I):null,q=(0,b.k_)(v),E=S?null:function(e,l){const n=e.length-1;return e.map(((e,o)=>(0,g.Dd)(e,o,n,l)))}(I,r);return(await Promise.all(I.map((async(t,r)=>{var u;const s=z?R[r]:await T(l,v,t,o,null===i||void 0===i?void 0:i.type);return{value:t,symbol:!V||"class-breaks"!==e.type&&"unique-value"!==e.type?$(M&&"class-breaks"===e.type?O(e,r):v,s):null!==(u=A(e,s,l.maxSize,n))&&void 0!==u?u:v,label:S?L[r]:E[r],size:V?k:s,outlineSize:q}})))).reverse()}function D(e,l){const n=null===e||void 0===e?void 0:e.authoringInfo,o="univariate-color-size"===(null===n||void 0===n?void 0:n.type);let i=[S,z];if(o){const e=l[0],n=l[l.length-1],o=S,t=z;i=l.map((l=>o+(l-e)/(n-e)*(t-o)))}return o&&"below"===(null===n||void 0===n?void 0:n.univariateTheme)&&i.reverse(),i}function A(e,l,n,t){var u,s;const a="class-breaks"===e.type,y=a?null===(u=e.classBreakInfos)||void 0===u||null===(u=u[0])||void 0===u||null===(u=u.symbol)||void 0===u?void 0:u.clone():null===(s=e.uniqueValueInfos)||void 0===s||null===(s=s[0])||void 0===s||null===(s=s.symbol)||void 0===s?void 0:s.clone();return y&&"type"in y&&"cim"===y.type?(function(e,l){var n;const{outerRingSize:i,innerDotSize:t,type:u,color:s,colorLocked:a,primitiveOverrides:y}=l,m="CIMPolygonSymbol"===(null===(n=e.data.symbol)||void 0===n?void 0:n.type)?e.data.symbol.symbolLayers:null;if(2===(null===m||void 0===m?void 0:m.length))for(const r of m){const e=r.primitiveName===o.OuterRing;c(r,e?i:t),d(r,u),v(r,s),f(r,a,e)}null!=i&&null!=t&&(e.data.primitiveOverrides=null),void 0!==y&&(e.data.primitiveOverrides=(0,r.o8)(y))}(y,{color:null!==t&&void 0!==t?t:a?null:new i.A(L),innerDotSize:l*(k/n)||1,outerRingSize:k}),y):null}function O(e,l){var n;const o=e.classBreakInfos,i=o.length,t=i<2||!(l>=2)?o[0].symbol.clone():o[i-1].symbol.clone(),r=null===(n=e.visualVariables)||void 0===n?void 0:n.some((e=>"color"===e.type));return r&&(t.type.includes("3d")?R(t):q(t)),t}async function P(e,l){var n;if("flow"===e.type)return(0,g.Zo)(e,l);if("pie-chart"===e.type)return new m.A({color:null,outline:null!==(n=e.outline)&&void 0!==n&&n.width?e.outline:new y.A});let o=null,i=null;if("simple"===e.type)o=e.symbol;else if("class-breaks"===e.type){const l=e.classBreakInfos;o=l&&l[0]&&l[0].symbol,i=l.length>1}else if("unique-value"===e.type){var t;const l=e.uniqueValueInfos;o=null===l||void 0===l||null===(t=l[0])||void 0===t?void 0:t.symbol,i=null!=l&&l.length>1}return!o||function(e){var l,n,o;return(0,h.wk)(e)?null!==(l=null===(n=e.symbolLayers)||void 0===n?void 0:n.some((e=>"fill"===(null===e||void 0===e?void 0:e.type))))&&void 0!==l&&l:null!==(o=null===e||void 0===e?void 0:e.type.includes("fill"))&&void 0!==o&&o}(o)?null:(o=o.clone(),(l||i)&&(o.type.includes("3d")?R(o):q(o)),o)}function R(e){"line-3d"===e.type?e.symbolLayers.forEach((e=>{e.material={color:x}})):e.symbolLayers.forEach((e=>{var l;"icon"!==e.type||null!==(l=e.resource)&&void 0!==l&&l.href?e.material={color:L}:(e.material={color:I},e.outline={color:x,size:1.5})}))}function q(e){const l=(0,w.g4)();if("cim"===e.type)(0,p.Fe)(e,new i.A(L));else if(e.type.includes("line"))e.color=x;else if(e.color=l?x:I,"simple-marker"===e.type)if(e.outline){var n;"#ffffff"===(null===(n=e.outline)||void 0===n||null===(n=n.color)||void 0===n?void 0:n.toHex())&&(e.outline.color=x)}else e.outline={color:x,width:1.5}}async function _(e,l,o,i){const r=(await Promise.resolve().then(n.bind(n,15492))).getSizeRangeAtScale(e,o,i),u=r&&B(r);if(!r||!u)return;let s=u.map((l=>function(e,l,n){const o=n.minSize,i=n.maxSize,t=l.minDataValue,r=l.maxDataValue;let u;u=e<=o?t:e>=i?r:(e-o)/(i-o)*(r-t)+t;return u}(l,e,r)));s=(0,t.LI)(s);for(let n=1;n<s.length-1;n++){const t=await E(e,l,s[n],s[n-1],o,i);t&&(s[n]=t[0],u[n]=t[1])}return s}function B(e){const l=e.minSize,n=e.maxSize,o=M,i=(n-l)/(o-1),t=[];for(let r=0;r<o;r++)t.push(l+i*r);return t}async function E(e,l,n,o,i,r){const u=await T(e,l,n,i,r),s=await T(e,l,o,i,r),a=(0,t.lc)(n),c=a.fractional,d=C;let v=a.integer,f=null,y=null;n>0&&n<1&&(f=10**c,v=(0,t.lc)(n*=f).integer);for(let m=v-1;m>=0;m--){const o=10**m;let a=Math.floor(n/o)*o,c=Math.ceil(n/o)*o;null!=f&&(a/=f,c/=f);let v=(a+c)/2;[,v]=(0,t.LI)([a,v,c],{indexes:[1]});const p=await T(e,l,a,i,r),h=await T(e,l,c,i,r),b=await T(e,l,v,i,r),g=(0,t.u5)(u,p,s,null),w=(0,t.u5)(u,h,s,null),z=(0,t.u5)(u,b,s,null);let S=g.previous<=d,k=w.previous<=d;if(S&&k&&(g.previous<=w.previous?(S=!0,k=!1):(k=!0,S=!1)),S?y=[a,p]:k?y=[c,h]:z.previous<=d&&(y=[v,b]),y)break}return y}async function T(e,l,o,i,t){const{getSize:r}=await Promise.resolve().then(n.bind(n,15492));return r(e,o,{scale:i,view:t,shape:"simple-marker"===l.type?l.style:null})}function $(e,l){const n=e.clone();if((0,h.wk)(n))(0,b.$d)(n)||n.symbolLayers.forEach((e=>{"fill"!==e.type&&(e.size=l)}));else if(function(e){return"esri.symbols.SimpleMarkerSymbol"===e.declaredClass}(n))n.size=l;else if(function(e){return"esri.symbols.PictureMarkerSymbol"===e.declaredClass}(n)){const e=n.width,o=n.height;n.height=l,n.width=l*(e/o)}else!function(e){return"esri.symbols.SimpleLineSymbol"===e.declaredClass}(n)?function(e){return"esri.symbols.TextSymbol"===e.declaredClass}(n)&&n.font&&(n.font.size=l):n.width=l;return n}}}]);
//# sourceMappingURL=1338.66026dcb.chunk.js.map