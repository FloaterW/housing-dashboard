/*! For license information please see 1801.8f8bcf0a.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkhousing_dashboard=self.webpackChunkhousing_dashboard||[]).push([[1801],{194:(e,t,i)=>{i.r(t),i.d(t,{default:()=>k});var n=i(89379),r=i(35143),o=i(3825),s=i(94643),a=i(3975),l=i(42553),c=i(53084),u=i(49304),d=i(27741),h=i(76460),p=i(30726),f=i(50346),m=i(90534),y=i(46053),g=(i(81806),i(85842)),v=i(17707),_=i(13312),w=i(65308),b=i(70652),A=i(54047),M=(i(11265),i(91967)),S=(i(47249),i(38042)),T=i(63860);let E=class extends M.A{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){var e;const t=this.language;let i="local"===t||"global"===t?t:null!==(e=(0,T.xO)(null!==t&&void 0!==t?t:(0,S.JK)()))&&void 0!==e?e:"global";return i="no"===i?"nb":i,i}};(0,r._)([(0,y.MZ)()],E.prototype,"apiKey",void 0),(0,r._)([(0,y.MZ)()],E.prototype,"id",void 0),(0,r._)([(0,y.MZ)()],E.prototype,"language",void 0),(0,r._)([(0,y.MZ)()],E.prototype,"places",void 0),(0,r._)([(0,y.MZ)()],E.prototype,"serviceUrl",void 0),(0,r._)([(0,y.MZ)()],E.prototype,"worldview",void 0),E=(0,r._)([(0,g.$)("esri.support.BasemapStyle")],E);const x=E;var C,P=i(8837);let O=0,I=C=class extends(l.A.JSONSupportMixin(u.A)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+O++,this.baseLayers=new s.A,this.referenceLayers=new s.A;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&h.A.getLogger(this).error("Layer '".concat(e.title,", id:").concat(e.id,"' of type '").concat(e.type,"' is not supported as a basemap layer and will therefore be ignored."))},i=e=>{e.parent=null};this.addHandles([this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>i(e.item))),this.referenceLayers.on("after-remove",(e=>i(e.item)))])}initialize(){this.when().catch((e=>{h.A.getLogger(this).error("#load()","Failed to load basemap (title: '".concat(this.title,"', id: '").concat(this.id,"')"),e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const i of e)i.destroy();const t=this.referenceLayers.toArray();for(const i of t)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,p.pR)(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=(0,n.A)({},e)).resourceInfo),e}set baseLayers(e){this._set("baseLayers",(0,a.V)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,i){const r=[];e?(i=(0,n.A)((0,n.A)({},i),{},{layerContainerType:"basemap"}),this.baseLayers.forEach((e=>{const t=(0,P.CJ)(e,i.webmap?i.webmap.getLayerJSONFromResourceInfo(e):null,i);null!=t&&r.push(t)})),this.referenceLayers.forEach((e=>{const t=(0,P.CJ)(e,i.webmap?i.webmap.getLayerJSONFromResourceInfo(e):null,i);null!=t&&("scene"!==e.type&&(t.isReference=!0),r.push(t))})),t.baseMapLayers=r):t.baseMapLayers=r}set referenceLayers(e){this._set("referenceLayers",(0,a.V)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,d.g)(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map((e=>(0,c.Nb)(e)?e.clone():e)),referenceLayers:this.referenceLayers.map((e=>(0,c.Nb)(e)?e.clone():e))};return this.loaded&&(e.loadStatus="loaded"),new C({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){var i,r;return e=e||{},null!==(i=t)&&void 0!==i&&i.origin||(t=(0,n.A)({origin:"web-map"},t)),super.write(e,t),!this.loaded&&null!==(r=this.resourceInfo)&&void 0!==r&&r.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=(0,c.o8)(e);return t.url&&(0,m.BQ)(t.url)&&(t.url="https:".concat(t.url)),t.templateUrl&&(0,m.BQ)(t.templateUrl)&&(t.templateUrl="https:".concat(t.templateUrl)),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:i,style:n}=this;(0,f.Te)(e);const r=[];if(t){const i=t.context?t.context.url:null;if(r.push(this._loadLayersFromJSON(t.data,i,e)),t.data.id&&!t.data.title){const e=t.data.id;r.push((0,A.q)(e).then((e=>{e&&this.read({title:e},t.context)})))}}else i?r.push(this._loadFromItem(i,e)):n&&r.push(this._loadFromStylesService(n,e));await Promise.all(r)}async _loadLayersFromJSON(e,t,r){var o,s,a;const l=null===(o=this.resourceInfo)||void 0===o?void 0:o.context,c=(null===(s=this.portalItem)||void 0===s?void 0:s.portal)||(null===l||void 0===l?void 0:l.portal)||null,u=null!==(a=N[(null===l||void 0===l?void 0:l.origin)||""])&&void 0!==a?a:"web-map",{populateOperationalLayers:d}=await Promise.all([i.e(2620),i.e(6070)]).then(i.bind(i,60239)),h=[];if((0,f.Te)(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const i={context:(0,n.A)((0,n.A)({},l),{},{origin:u,url:t,portal:c,layerContainerType:"basemap"}),defaultLayerType:"DefaultTileLayer"},r=e=>"web-scene"===u&&"ArcGISSceneServiceLayer"===e.layerType||e.isReference,o=d(this.baseLayers,e.baseMapLayers.filter((e=>!r(e))),i);h.push(o);const s=d(this.referenceLayers,e.baseMapLayers.filter(r),i);h.push(s)}await Promise.allSettled(h)}async _loadFromItem(e,t){var i,n,r;const o=await e.load(t),s=await o.fetchData("json",t),a=(0,m.An)(null!==(i=e.itemUrl)&&void 0!==i?i:"");return this._set("resourceInfo",{data:null!==(n=s.baseMap)&&void 0!==n?n:{},context:{origin:null!==(r=R[e.type||""])&&void 0!==r?r:"web-map",portal:e.portal||w.A.getDefault(),url:a}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:s.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||w.A.getDefault(),url:a}),this._loadLayersFromJSON(this.resourceInfo.data,a,t)}async _loadFromStylesService(e,t){var i,n;const r=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,s="".concat(r,"/styles/").concat(e.id,"/self"),a="".concat(r,"/webmaps/").concat(e.id),[l,c]=await Promise.all([(await(0,o.A)(s,{query:{token:e.apiKey},signal:null===t||void 0===t?void 0:t.signal})).data,(await(0,o.A)(a,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:e.apiKey},signal:null===t||void 0===t?void 0:t.signal})).data]);null!==(i=this.thumbnailUrl)&&void 0!==i||(this.thumbnailUrl=l.thumbnailUrl);const u=(0,m.An)(a);if(this._set("resourceInfo",{data:null!==(n=c.baseMap)&&void 0!==n?n:{},context:{origin:"web-map",url:u}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:c.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,u,t),e.apiKey)for(const o of[...this.baseLayers,...this.referenceLayers])"apiKey"in o&&(o.apiKey=e.apiKey)}static fromId(e){const t=A.H[e];return t?t.itemId?new C({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):C.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};(0,r._)([(0,y.MZ)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:s.A}},writer(e,t,i,n){this._writeBaseLayers(e,t,n)}}}}}})],I.prototype,"baseLayers",null),(0,r._)([(0,y.MZ)({type:String,json:{origins:{"web-scene":{write:!0}}}})],I.prototype,"id",void 0),(0,r._)([(0,y.MZ)({type:b.default})],I.prototype,"portalItem",void 0),(0,r._)([(0,y.MZ)()],I.prototype,"referenceLayers",null),(0,r._)([(0,y.MZ)({readOnly:!0})],I.prototype,"resourceInfo",void 0),(0,r._)([(0,y.MZ)({type:_.A})],I.prototype,"spatialReference",void 0),(0,r._)([(0,y.MZ)({type:x})],I.prototype,"style",void 0),(0,r._)([(0,y.MZ)()],I.prototype,"thumbnailUrl",void 0),(0,r._)([(0,y.MZ)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],I.prototype,"title",void 0),(0,r._)([(0,v.K)("title")],I.prototype,"writeTitle",null),I=C=(0,r._)([(0,g.$)("esri.Basemap")],I);const R={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},N={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},k=I},205:(e,t,i)=>{i.d(t,{S8:()=>a,TP:()=>h,Z4:()=>o,l8:()=>s,w2:()=>c});var n=i(16108),r=i(5262);function o(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function s(e){var t;return e?a(e.rings,null!==(t=e.hasZ)&&void 0!==t&&t):null}function a(e,t){if(null===e||void 0===e||!e.length)return null;const i=[],n=[],o=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let r=0,s=e.length;r<s;r++){const i=l(e[r],t,o);i&&n.push(i)}if(n.sort(((e,i)=>{let n=e[2]-i[2];return 0===n&&t&&(n=e[4]-i[4]),n})),n.length&&(i[0]=n[0][0],i[1]=n[0][1],t&&(i[2]=n[0][3]),(i[0]<o[0]||i[0]>o[1]||i[1]<o[2]||i[1]>o[3]||t&&(i[2]<o[4]||i[2]>o[5]))&&(i.length=0)),!i.length){const n=e[0]&&e[0].length?function(e,t){const i=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let o=0,s=0,a=0,l=0;for(let c=0,u=e.length;c<u-1;c++){const u=e[c],d=e[c+1];if(u&&d){i[0]=u[0],i[1]=u[1],n[0]=d[0],n[1]=d[1],t&&u.length>2&&d.length>2&&(i[2]=u[2],n[2]=d[2]);const e=(0,r.R3)(i,n);if(e){o+=e;const i=(0,r.t9)(u,d);s+=e*i[0],a+=e*i[1],t&&i.length>2&&(l+=e*i[2])}}}return o>0?t?[s/o,a/o,l/o]:[s/o,a/o]:e.length?e[0]:null}(e[0],t):null;if(!n)return null;i[0]=n[0],i[1]=n[1],t&&n.length>2&&(i[2]=n[2])}return i}function l(e,t,i){let n=0,r=0,o=0,s=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,u=e.length&&t?e[0][2]:0;for(let h=0;h<e.length;h++){const d=e[h],p=e[(h+1)%e.length],[f,m,y]=d,g=f-l,v=m-c,[_,w,b]=p,A=_-l,M=w-c,S=g*M-A*v;if(s+=S,n+=(g+A)*S,r+=(v+M)*S,t&&d.length>2&&p.length>2){const e=y-u,t=b-u,i=g*t-A*e;o+=(e+t)*i,a+=i}f<i[0]&&(i[0]=f),f>i[1]&&(i[1]=f),m<i[2]&&(i[2]=m),m>i[3]&&(i[3]=m),t&&(y<i[4]&&(i[4]=y),y>i[5]&&(i[5]=y))}if(s>0&&(s*=-1),a>0&&(a*=-1),!s)return null;s*=.5,a*=.5;const d=[n/(6*s)+l,r/(6*s)+c,s];return t&&(i[4]===i[5]||0===a?(d[3]=(i[4]+i[5])/2,d[4]=0):(d[3]=o/(6*a)+u,d[4]=a)),d}function c(e,t){let i=0,n=0,r=0;e.nextPoint();const o=e.pathSize?e.x:0,s=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[u,d]=l,h=u-o,p=d-s,[f,m]=c,y=f-o,g=m-s,v=h*g-y*p;r+=v,i+=(h+y)*v,n+=(p+g)*v,u<t[0]&&(t[0]=u),u>t[1]&&(t[1]=u),d<t[2]&&(t[2]=d),d>t[3]&&(t[3]=d)}return r>0&&(r*=-1),r?(r*=.5,[i/(6*r)+o,n/(6*r)+s,r]):null}function u(e){const{hasZ:t,totalSize:i}=e;if(0===i)return null;const o=[],s=[],a=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const t=l((0,n.A)(e),e.hasZ,a);t&&s.push(t)}if(s.sort(((e,i)=>{let n=e[2]-i[2];return 0===n&&t&&(n=e[4]-i[4]),n})),s.length&&(o[0]=s[0][0],o[1]=s[0][1],t&&(o[2]=s[0][3]),(o[0]<a[0]||o[0]>a[1]||o[1]<a[2]||o[1]>a[3]||t&&(o[2]<a[4]||o[2]>a[5]))&&(o.length=0)),!o.length){e.reset(),e.nextPath();const i=e.pathSize?function(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let o=0,s=0,a=0,l=0;if(e.nextPoint()){let c=e.x,u=e.y,d=e.z;for(;e.nextPoint();){const h=e.x,p=e.y,f=e.z;i[0]=c,i[1]=u,n[0]=h,n[1]=p,t&&(i[2]=d,n[2]=f);const m=(0,r.R3)(i,n);if(m){o+=m;const e=(0,r.t9)(i,n);s+=m*e[0],a+=m*e[1],t&&e.length>2&&(l+=m*e[2])}c=h,u=p,d=f}}return o>0?t?[s/o,a/o,l/o]:[s/o,a/o]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}(e):null;if(!i)return null;o[0]=i[0],o[1]=i[1],t&&i.length>2&&(o[2]=i[2])}return o}const d=1e-6;function h(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<d){const t=u(e);return t?[t[0],t[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const n=[e.x,e.y];for(e.reset();e.nextPath();)f(i,n,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=n[0],i[1]+=n[1],i}const p=1/3;function f(e,t,i){if(!i||i.pathSize<3)return null;i.nextPoint();const n=i.x,r=i.y;i.nextPoint();let o,s=i.x-n,a=i.y-r,l=0,c=0;for(;i.nextPoint();)l=i.x-n,c=i.y-r,o=.5*p*(l*a-c*s),e[0]+=o*(s+l),e[1]+=o*(a+c),s=l,a=c;const u=i.getCurrentRingArea(),d=[n,r];return d[0]-=t[0],d[1]-=t[1],d[0]*=u,d[1]*=u,e[0]+=d[0],e[1]+=d[1],e}},482:(e,t,i)=>{i.d(t,{RC:()=>_,Tp:()=>p,jd:()=>h,n4:()=>C,pO:()=>m,rz:()=>n,w5:()=>d});var n,r=i(15941),o=i(31633),s=i(34111),a=i(14556),l=i(63885),c=i(80963),u=i(34038);!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"}(n||(n={}));const d={[n.WGS84]:{[n.CGCS2000]:m,[n.GCSMARS2000]:null,[n.GCSMOON2000]:null,[n.LON_LAT]:m,[n.SPHERICAL_ECEF]:x,[n.SPHERICAL_MARS_PCPF]:null,[n.SPHERICAL_MOON_PCPF]:null,[n.UNKNOWN]:null,[n.WEB_MERCATOR]:w,[n.PLATE_CARREE]:b,[n.WGS84]:m,[n.WGS84_ECEF]:k},[n.CGCS2000]:{[n.CGCS2000]:m,[n.GCSMARS2000]:null,[n.GCSMOON2000]:null,[n.LON_LAT]:m,[n.SPHERICAL_ECEF]:x,[n.SPHERICAL_MARS_PCPF]:null,[n.SPHERICAL_MOON_PCPF]:null,[n.UNKNOWN]:null,[n.WEB_MERCATOR]:w,[n.PLATE_CARREE]:b,[n.WGS84]:m,[n.WGS84_ECEF]:k},[n.GCSMARS2000]:{[n.CGCS2000]:null,[n.GCSMARS2000]:m,[n.GCSMOON2000]:null,[n.LON_LAT]:m,[n.SPHERICAL_ECEF]:null,[n.SPHERICAL_MARS_PCPF]:E,[n.SPHERICAL_MOON_PCPF]:null,[n.UNKNOWN]:null,[n.WEB_MERCATOR]:null,[n.PLATE_CARREE]:null,[n.WGS84]:null,[n.WGS84_ECEF]:null},[n.GCSMOON2000]:{[n.CGCS2000]:null,[n.GCSMARS2000]:null,[n.GCSMOON2000]:m,[n.LON_LAT]:m,[n.SPHERICAL_ECEF]:null,[n.SPHERICAL_MARS_PCPF]:null,[n.SPHERICAL_MOON_PCPF]:T,[n.UNKNOWN]:null,[n.WEB_MERCATOR]:null,[n.PLATE_CARREE]:null,[n.WGS84]:null,[n.WGS84_ECEF]:null},[n.WEB_MERCATOR]:{[n.CGCS2000]:y,[n.GCSMARS2000]:null,[n.GCSMOON2000]:null,[n.LON_LAT]:y,[n.SPHERICAL_ECEF]:g,[n.SPHERICAL_MARS_PCPF]:null,[n.SPHERICAL_MOON_PCPF]:null,[n.UNKNOWN]:null,[n.WEB_MERCATOR]:m,[n.PLATE_CARREE]:M,[n.WGS84]:y,[n.WGS84_ECEF]:v},[n.WGS84_ECEF]:{[n.CGCS2000]:L,[n.GCSMARS2000]:null,[n.GCSMOON2000]:null,[n.LON_LAT]:L,[n.SPHERICAL_ECEF]:D,[n.SPHERICAL_MARS_PCPF]:null,[n.SPHERICAL_MOON_PCPF]:null,[n.UNKNOWN]:null,[n.WEB_MERCATOR]:Z,[n.PLATE_CARREE]:function(e,t,i,n){L(e,t,i,n),b(i,n,i,n)},[n.WGS84]:L,[n.WGS84_ECEF]:m},[n.SPHERICAL_ECEF]:{[n.CGCS2000]:I,[n.GCSMARS2000]:null,[n.GCSMOON2000]:null,[n.LON_LAT]:I,[n.SPHERICAL_ECEF]:m,[n.SPHERICAL_MARS_PCPF]:null,[n.SPHERICAL_MOON_PCPF]:null,[n.UNKNOWN]:null,[n.WEB_MERCATOR]:R,[n.PLATE_CARREE]:function(e,t,i,n){I(e,t,i,n),b(i,n,i,n)},[n.WGS84]:I,[n.WGS84_ECEF]:N},[n.SPHERICAL_MARS_PCPF]:{[n.CGCS2000]:null,[n.GCSMARS2000]:O,[n.GCSMOON2000]:null,[n.LON_LAT]:O,[n.SPHERICAL_ECEF]:null,[n.SPHERICAL_MARS_PCPF]:m,[n.SPHERICAL_MOON_PCPF]:null,[n.UNKNOWN]:null,[n.WEB_MERCATOR]:null,[n.PLATE_CARREE]:null,[n.WGS84]:null,[n.WGS84_ECEF]:null},[n.SPHERICAL_MOON_PCPF]:{[n.CGCS2000]:null,[n.GCSMARS2000]:null,[n.GCSMOON2000]:P,[n.LON_LAT]:P,[n.SPHERICAL_ECEF]:null,[n.SPHERICAL_MARS_PCPF]:null,[n.SPHERICAL_MOON_PCPF]:m,[n.UNKNOWN]:null,[n.WEB_MERCATOR]:null,[n.PLATE_CARREE]:null,[n.WGS84]:null,[n.WGS84_ECEF]:null},[n.UNKNOWN]:{[n.CGCS2000]:null,[n.GCSMARS2000]:null,[n.GCSMOON2000]:null,[n.LON_LAT]:null,[n.SPHERICAL_ECEF]:null,[n.SPHERICAL_MARS_PCPF]:null,[n.SPHERICAL_MOON_PCPF]:null,[n.UNKNOWN]:m,[n.WEB_MERCATOR]:null,[n.PLATE_CARREE]:null,[n.WGS84]:null,[n.WGS84_ECEF]:null},[n.LON_LAT]:{[n.CGCS2000]:m,[n.GCSMARS2000]:m,[n.GCSMOON2000]:m,[n.LON_LAT]:m,[n.SPHERICAL_ECEF]:x,[n.SPHERICAL_MARS_PCPF]:E,[n.SPHERICAL_MOON_PCPF]:T,[n.UNKNOWN]:null,[n.WEB_MERCATOR]:w,[n.PLATE_CARREE]:b,[n.WGS84]:m,[n.WGS84_ECEF]:k},[n.PLATE_CARREE]:{[n.CGCS2000]:A,[n.GCSMARS2000]:null,[n.GCSMOON2000]:null,[n.LON_LAT]:A,[n.SPHERICAL_ECEF]:function(e,t,i,n){A(e,t,i,n),x(i,n,i,n)},[n.SPHERICAL_MARS_PCPF]:null,[n.SPHERICAL_MOON_PCPF]:null,[n.UNKNOWN]:null,[n.WEB_MERCATOR]:function(e,t,i,n){A(e,t,i,n),w(i,n,i,n)},[n.PLATE_CARREE]:m,[n.WGS84]:A,[n.WGS84_ECEF]:function(e,t,i,n){A(e,t,i,n),k(i,n,i,n)}}};function h(e,t){var i;return null===(i=p(e,t))||void 0===i?void 0:i.projector}function p(e,t){if(null==e||null==t)return null;if(F.source.spatialReference===e&&F.dest.spatialReference===t)return F;const i=f(e,F.source),r=f(t,F.dest);return i===n.UNKNOWN&&r===n.UNKNOWN?(0,c.aI)(e,t)?F.projector=m:F.projector=null:F.projector=d[i][r],F}function f(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=(0,o.GA)(e,1)),(0,s.jA)(e)?t.spatialReferenceId=n.SPHERICAL_ECEF:(0,c.oT)(e)?t.spatialReferenceId=n.WGS84:(0,c.K8)(e)?t.spatialReferenceId=n.WEB_MERCATOR:(0,c.r1)(e)?t.spatialReferenceId=n.PLATE_CARREE:e.wkt===s.Ro.wkt?t.spatialReferenceId=n.WGS84_ECEF:e.wkid===u.Y.CGCS2000?t.spatialReferenceId=n.CGCS2000:e.wkt===s.FY.wkt?t.spatialReferenceId=n.SPHERICAL_MARS_PCPF:e.wkt===s.LJ.wkt?t.spatialReferenceId=n.SPHERICAL_MOON_PCPF:(0,c.q8)(e)?t.spatialReferenceId=n.GCSMARS2000:(0,c.KQ)(e)?t.spatialReferenceId=n.GCSMOON2000:t.spatialReferenceId=n.UNKNOWN):n.UNKNOWN}function m(e,t,i,n){e!==i&&(i[n++]=e[t++],i[n++]=e[t++],i[n]=e[t])}function y(e,t,i,n){i[n]=j*(e[t]/z),i[n+1]=j*(G-2*Math.atan(Math.exp(-e[t+1]/z))),i[n+2]=e[t+2]}function g(e,t,i,n){const r=e[t]/z,o=G-2*Math.atan(Math.exp(-e[t+1]/z)),s=z+e[t+2],a=Math.cos(o)*s;i[n]=Math.cos(r)*a,i[n+1]=Math.sin(r)*a,i[n+2]=Math.sin(o)*s}function v(e,t,i,n){y(e,t,i,n),k(i,n,i,n)}function _(e,t,i,n,o){const s=.4999999*Math.PI,a=(0,r.qE)(U*e[t+1],-s,s),l=Math.sin(a);i[n++]=U*e[t]*o.radius,i[n++]=o.halfSemiMajorAxis*Math.log((1+l)/(1-l)),i[n]=e[t+2]}function w(e,t,i,n){_(e,t,i,n,a.$O)}function b(e,t,i,n){i[n]=e[t]*V,i[n+1]=e[t+1]*V,i[n+2]=e[t+2]}function A(e,t,i,n){i[n]=e[t]*B,i[n+1]=e[t+1]*B,i[n+2]=e[t+2]}function M(e,t,i,n){y(e,t,i,n),b(i,n,i,n)}function S(e,t,i,n,r){const o=r+e[t+2],s=U*e[t+1],a=U*e[t],l=Math.cos(s)*o;i[n]=Math.cos(a)*l,i[n+1]=Math.sin(a)*l,i[n+2]=Math.sin(s)*o}function T(e,t,i,n){S(e,t,i,n,a.Sw.radius)}function E(e,t,i,n){S(e,t,i,n,a.sH.radius)}function x(e,t,i,n){S(e,t,i,n,a.$O.radius)}function C(e,t,i,n,o){const s=e[t],a=e[t+1],l=e[t+2],c=Math.sqrt(s*s+a*a+l*l),u=(0,r.YN)(l/(0===c?1:c)),d=Math.atan2(a,s);i[n++]=j*d,i[n++]=j*u,i[n]=c-o}function P(e,t,i,n){C(e,t,i,n,a.Sw.radius)}function O(e,t,i,n){C(e,t,i,n,a.sH.radius)}function I(e,t,i,n){C(e,t,i,n,a.$O.radius)}function R(e,t,i,n){I(e,t,i,n),w(i,n,i,n)}function N(e,t,i,n){I(e,t,i,n),k(i,n,i,n)}function k(e,t,i,n){!function(e,t,i,n,r){const o=U*e[t],s=U*e[t+1],a=e[t+2],l=Math.sin(s),c=Math.cos(s),u=r.radius/Math.sqrt(1-r.eccentricitySquared*l*l);i[n++]=(u+a)*c*Math.cos(o),i[n++]=(u+a)*c*Math.sin(o),i[n++]=(u*(1-r.eccentricitySquared)+a)*l}(e,t,i,n,a.$O)}function L(e,t,i,n){const r=l.TP,o=e[t],s=e[t+1],c=e[t+2];let u,d,h,p,f,m,y,g,v,_,w,b,A,M,S,T,E,x,C,P,O;u=Math.abs(c),d=o*o+s*s,h=Math.sqrt(d),p=d+c*c,f=Math.sqrt(p),P=Math.atan2(s,o),m=c*c/p,y=d/p,M=r.a2/f,S=r.a3-r.a4/f,y>.3?(g=u/f*(1+y*(r.a1+M+m*S)/f),C=Math.asin(g),_=g*g,v=Math.sqrt(1-_)):(v=h/f*(1-m*(r.a5-M-y*S)/f),C=Math.acos(v),_=1-v*v,g=Math.sqrt(_)),w=1-a.$O.eccentricitySquared*_,b=a.$O.radius/Math.sqrt(w),A=r.a6*b,M=h-b*v,S=u-A*g,E=v*M+g*S,T=v*S-g*M,x=T/(A/w+E),C+=x,O=E+T*x/2,c<0&&(C=-C),i[n++]=j*P,i[n++]=j*C,i[n]=O}function D(e,t,i,n){L(e,t,i,n),x(i,n,i,n)}function Z(e,t,i,n){L(e,t,i,n),w(i,n,i,n)}const F={source:{spatialReference:null,spatialReferenceId:n.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:n.UNKNOWN,metersPerUnit:1},projector:m},U=(0,r.kU)(1),j=(0,r.KJ)(1),G=.5*Math.PI,z=a.$O.radius,V=z*Math.PI/180,B=180/(z*Math.PI)},731:(e,t,i)=>{i.d(t,{A:()=>w});var n,r=i(35143),o=i(45802),s=i(42553),a=i(30726),l=i(46053),c=(i(81806),i(76460),i(47249),i(28379)),u=i(85842),d=i(17707),h=i(53430);let p=n=class extends s.A{constructor(e){super(e)}async collectRequiredFields(e,t){return(0,h.Dx)(e,t,this.expression)}clone(){return new n({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};(0,r._)([(0,l.MZ)({type:String,json:{write:{isRequired:!0}}})],p.prototype,"expression",void 0),(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],p.prototype,"title",void 0),p=n=(0,r._)([(0,u.$)("esri.symbols.support.FeatureExpressionInfo")],p);const f=p;var m,y=i(59097);const g=(0,o.O)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),v=new o.J({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let _=m=class extends s.A{constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,t){return null!=e?e:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,i,n){t[i]=e.write({},n),"0"===e.expression&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):null!=e||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new m({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&(0,a.CM)(this.featureExpressionInfo,e.featureExpressionInfo)}};(0,r._)([(0,l.MZ)({type:f,json:{write:!0}})],_.prototype,"featureExpressionInfo",void 0),(0,r._)([(0,c.w)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],_.prototype,"readFeatureExpressionInfo",null),(0,r._)([(0,d.K)("featureExpressionInfo",{featureExpressionInfo:{type:f},"featureExpression.value":{type:[0]}})],_.prototype,"writeFeatureExpressionInfo",null),(0,r._)([(0,l.MZ)({type:g.apiValues,nonNullable:!0,json:{type:g.jsonValues,read:g.read,write:{writer:g.write,isRequired:!0}}})],_.prototype,"mode",null),(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],_.prototype,"offset",void 0),(0,r._)([(0,l.MZ)({type:y.KQ,json:{type:String,read:v.read,write:v.write}})],_.prototype,"unit",null),_=m=(0,r._)([(0,u.$)("esri.symbols.support.ElevationInfo")],_);const w=_},1438:(e,t,i)=>{i.d(t,{O7:()=>x,Hr:()=>E,el:()=>T,mT:()=>C,XX:()=>b});var n=i(86560),r=i(50076),o=i(76460),s=i(65215),a=i(23701),l=i(73548),c=i(80963),u=i(45417),d=i(89379),h=i(3825),p=i(19902),f=i(54994);var m=i(90534),y=i(71838);const g=()=>o.A.getLogger("esri.geometry.support.normalizeUtils");function v(e){return"polygon"===e[0].type}function _(e){return"polyline"===e[0].type}function w(e){const t=[];let i=0,n=0;for(let r=0;r<e.length;r++){const o=e[r];let s=null;for(let e=0;e<o.length;e++)s=o[e],t.push(s),0===e?(i=s[0],n=i):(i=Math.min(i,s[0]),n=Math.max(n,s[0]));s&&t.push([(i+n)/2,0])}return t}function b(e,t){if(!(e instanceof a.A||e instanceof s.A)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw g().error(e),new r.A(e)}const i=(0,l.r8)(e),n=[];for(const r of i){const e=[];n.push(e),e.push([r[0][0],r[0][1]]);for(let i=0;i<r.length-1;i++){const n=r[i][0],o=r[i][1],s=r[i+1][0],a=r[i+1][1],l=Math.sqrt((s-n)*(s-n)+(a-o)*(a-o)),c=(a-o)/l,u=(s-n)/l,d=l/t;if(d>1){for(let a=1;a<=d-1;a++){const i=a*t,r=u*i+n,s=c*i+o;e.push([r,s])}const i=(l+Math.floor(d-1)*t)/2,r=u*i+n,s=c*i+o;e.push([r,s])}e.push([s,a])}}return function(e){return"polygon"===e.type}(e)?new s.A({rings:n,spatialReference:e.spatialReference}):new a.A({paths:n,spatialReference:e.spatialReference})}function A(e,t,i){if(t){const t=b(e,1e6);e=(0,u.ci)(t,!0)}return i&&(e=(0,l.kS)(e,i)),e}function M(e,t,i){if(Array.isArray(e)){const n=e[0];if(n>t){const i=(0,l.kd)(n,t);e[0]=n+i*(-2*t)}else if(n<i){const t=(0,l.kd)(n,i);e[0]=n+t*(-2*i)}}else{const n=e.x;if(n>t){const i=(0,l.kd)(n,t);e=e.clone().offset(i*(-2*t),0)}else if(n<i){const t=(0,l.kd)(n,i);e=e.clone().offset(t*(-2*i),0)}}return e}function S(e,t){let i=-1;for(let n=0;n<t.cutIndexes.length;n++){const r=t.cutIndexes[n],o=t.geometries[n],s=(0,l.r8)(o);for(let e=0;e<s.length;e++){const t=s[e];t.some((i=>{if(i[0]<180)return!0;{let i=0;for(let e=0;e<t.length;e++){const n=t[e][0];i=n>i?n:i}i=Number(i.toFixed(9));const n=-360*(0,l.kd)(i,180);for(let r=0;r<t.length;r++){const t=o.getPoint(e,r);o.setPoint(e,r,t.clone().offset(n,0))}return!0}}))}if(r===i){if(v(e))for(const t of(0,l.r8)(o))e[r]=e[r].addRing(t);else if(_(e))for(const t of(0,l.r8)(o))e[r]=e[r].addPath(t)}else i=r,e[r]=o}return e}async function T(e,t,i){var r;if(!Array.isArray(e))return T([e],t);t&&"string"!=typeof t&&g().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const o="string"==typeof t?t:null!==(r=null===t||void 0===t?void 0:t.url)&&void 0!==r?r:n.A.geometryServiceUrl;let v,_,w,b,E,x,C,P,O=0;const I=[],R=[];for(const n of e)if(null!=n)if(v||(v=n.spatialReference,_=(0,c.Vp)(v),w=v.isWebMercator,x=w?102100:4326,b=l.j7[x].maxX,E=l.j7[x].minX,C=l.j7[x].plus180Line,P=l.j7[x].minus180Line),_)if("mesh"===n.type)R.push(n);else if("point"===n.type)R.push(M(n.clone(),b,E));else if("multipoint"===n.type){const e=n.clone();e.points=e.points.map((e=>M(e,b,E))),R.push(e)}else if("extent"===n.type){const e=n.clone()._normalize(!1,!1,_);R.push(e.rings?new s.A(e):e)}else if(n.extent){const e=n.extent,t=(0,l.kd)(e.xmin,E)*(2*b);let i=0===t?n.clone():(0,l.kS)(n.clone(),t);e.offset(t,0);let{xmin:r,xmax:o}=e;r=Number(r.toFixed(9)),o=Number(o.toFixed(9)),e.intersects(C)&&o!==b?(O=o>O?o:O,i=A(i,w),I.push(i),R.push("cut")):e.intersects(P)&&r!==E?(O=o*(2*b)>O?o*(2*b):O,i=A(i,w,360),I.push(i),R.push("cut")):R.push(i)}else R.push(n.clone());else R.push(n);else R.push(n);let N=(0,l.kd)(O,b),k=-90;const L=N,D=new a.A;for(;N>0;){const e=360*N-180;D.addPath([[e,k],[e,-1*k]]),k*=-1,N--}if(I.length>0&&L>0){const t=S(I,await async function(e,t,i,n){const r=(0,f.Dl)(e),o=t[0].spatialReference,s=(0,d.A)((0,d.A)({},n),{},{responseType:"json",query:(0,d.A)((0,d.A)({},r.query),{},{f:"json",sr:(0,c.YX)(o),target:JSON.stringify({geometryType:(0,p.$B)(t[0]),geometries:t}),cutter:JSON.stringify(i)})}),a=await(0,h.A)(r.path+"/cut",s),{cutIndexes:l,geometries:u=[]}=a.data;return{cutIndexes:l,geometries:u.map((e=>{const t=(0,p.rS)(e);return t.spatialReference=o,t}))}}(o,I,D,i)),n=[],r=[];for(let i=0;i<R.length;i++){const o=R[i];if("cut"!==o)r.push(o);else{const o=t.shift(),s=e[i];null!=s&&"polygon"===s.type&&s.rings&&s.rings.length>1&&o.rings.length>=s.rings.length?(n.push(o),r.push("simplify")):r.push(w?(0,u.Gh)(o):o)}}if(!n.length)return r;const s=await async function(e,t,i){const n="string"==typeof e?(0,m.An)(e):e,r=t[0].spatialReference,o=(0,p.$B)(t[0]),s=(0,d.A)((0,d.A)({},i),{},{query:(0,d.A)((0,d.A)({},n.query),{},{f:"json",sr:(0,c.YX)(r),geometries:JSON.stringify((0,y.X)(t))})}),{data:a}=await(0,h.A)(n.path+"/simplify",s);return(0,y.V)(a.geometries,o,r)}(o,n,i),a=[];for(let e=0;e<r.length;e++){const t=r[e];"simplify"!==t?a.push(t):a.push(w?(0,u.Gh)(s.shift()):s.shift())}return a}const Z=[];for(let n=0;n<R.length;n++){const e=R[n];if("cut"!==e)Z.push(e);else{const e=I.shift();Z.push(!0===w?(0,u.Gh)(e):e)}}return Z}function E(e){if(!e)return null;const t=e.extent;if(!t)return null;const i=e.spatialReference&&(0,c.Vp)(e.spatialReference);if(!i)return t;const[n,r]=i.valid,o=2*r,{width:s}=t;let a,{xmin:l,xmax:u}=t;if([l,u]=[u,l],"extent"===e.type||0===s||s<=r||s>o||l<n||u>r)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;a=w(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;a=w(e.paths);break;case"multipoint":a=e.points}const d=t.clone();for(let c=0;c<a.length;c++){let e=a[c][0];e<0?(e+=r,u=Math.max(e,u)):(e-=r,l=Math.min(e,l))}return d.xmin=l,d.xmax=u,d.width<s?(d.xmin-=r,d.xmax-=r,d):t}function x(e,t,i){const n=(0,c.Vp)(i);if(null==n)return e;const[r,o]=n.valid,s=2*o;let a=0,l=0;t>o?a=Math.ceil(Math.abs(t-o)/s):t<r&&(a=-Math.ceil(Math.abs(t-r)/s)),e>o?l=Math.ceil(Math.abs(e-o)/s):e<r&&(l=-Math.ceil(Math.abs(e-r)/s));let u=e+(a-l)*s;const d=u-t;return d>o?u-=s:d<r&&(u+=s),u}function C(e,t){const i=(0,c.Vp)(t);if(i){const[t,n]=i.valid,r=n-t;if(e<t)for(;e<t;)e+=r;if(e>n)for(;e>n;)e-=r}return e}},1723:(e,t,i)=>{i.d(t,{Ps:()=>l,Tv:()=>d,Zs:()=>o,cD:()=>u,d2:()=>c,fT:()=>r,lH:()=>p,mA:()=>s,n4:()=>h,xc:()=>a});var n=i(69539);const r=new n.A("cyan"),o=1,s=.25,a=new n.A("black"),l=.4,c=.2,u=.25,d="default",h="temporary",p=new n.A("yellow")},2183:(e,t,i)=>{i.d(t,{D:()=>o,p:()=>r});var n=i(40565);function r(e){const t=(0,n.Vr)(100*(1-e));return Math.max(0,Math.min(t,100))}function o(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}},2413:(e,t,i)=>{i.d(t,{$9:()=>b,C:()=>o,HY:()=>w,Ie:()=>S,Jf:()=>d,Rj:()=>_,VL:()=>p,VY:()=>a,Wc:()=>m,aI:()=>E,cY:()=>M,fA:()=>s,fT:()=>u,gR:()=>A,gX:()=>y,ib:()=>g,qv:()=>x,tK:()=>c,uJ:()=>f,vQ:()=>h,vR:()=>v,vt:()=>r,w1:()=>l});i(81806),i(15941);var n=i(76797);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return[e[0],e[1],e[2],e[3]]}function o(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function s(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r();return o[0]=e,o[1]=t,o[2]=i,o[3]=n,o}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r();return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new n.A;return i.xmin=e[0],i.ymin=e[1],i.xmax=e[2],i.ymax=e[3],i.spatialReference=t,i}function c(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function u(e,t,i){if(null!=t)if("length"in t)T(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else o(i,e)}function d(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const n=t.length;let r=e[0],o=e[1],s=e[2],a=e[3];for(let l=0;l<n;l++){const e=t[l];r=Math.min(r,e[0]),o=Math.min(o,e[1]),s=Math.max(s,e[0]),a=Math.max(a,e[1])}return i[0]=r,i[1]=o,i[2]=s,i[3]=a,i}function h(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function p(e){return null==e||e[0]>=e[2]?0:e[2]-e[0]}function f(e){return null==e||e[1]>=e[3]?0:e[3]-e[1]}function m(e){return p(e)*f(e)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function g(e){const t=p(e),i=f(e);return Math.sqrt(t*t+i*i)}function v(e,t){return _(e,t.x,t.y)}function _(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function w(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function b(e,t,i){return Math.max(t[0],e[0])-i<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-i<=Math.min(t[3],e[3])}function A(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function M(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return n[0]=e[0]+t,n[1]=e[1]+i,n[2]=e[2]+t,n[3]=e[3]+i,n}function S(e){return e?o(e,x):r(x)}function T(e){return null!=e&&4===e.length}function E(e,t){return T(e)&&T(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const x=[1/0,1/0,-1/0,-1/0],C=[0,0,0,0]},2515:(e,t,i)=>{i.d(t,{r:()=>o});var n=i(19898);class r extends n.R{constructor(e,t){super(e,t,"webmap")}}function o(e){return null!=e&&"object"==typeof e&&"declaredClass"in e&&"esri.WebMap"===e.declaredClass}new r(2,33)},3454:(e,t,i)=>{i.d(t,{j:()=>o});var n=i(31633),r=i(14556);const o={unknown:1,inches:(0,n.oU)(1,"meters","inches"),feet:(0,n.oU)(1,"meters","feet"),"us-feet":(0,n.oU)(1,"meters","us-feet"),yards:(0,n.oU)(1,"meters","yards"),miles:(0,n.oU)(1,"meters","miles"),"nautical-miles":(0,n.oU)(1,"meters","nautical-miles"),millimeters:(0,n.oU)(1,"meters","millimeters"),centimeters:(0,n.oU)(1,"meters","centimeters"),decimeters:(0,n.oU)(1,"meters","decimeters"),meters:(0,n.oU)(1,"meters","meters"),kilometers:(0,n.oU)(1,"meters","kilometers"),"decimal-degrees":1/(0,n.vl)(1,"meters",r.$O.radius)}},3789:(e,t,i)=>{i.d(t,{A:()=>n});class n{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this._ctor=e,this._acquireFunction=t,this._releaseFunction=i,this.allocationSize=n,this._pool=new Array(r),this._initialSize=r;for(let o=0;o<r;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(){let e;if(n.test.disabled)e=new this._ctor;else{if(0===this._pool.length){const e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=new this._ctor}e=this._pool.pop()}for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return this._acquireFunction?this._acquireFunction(e,...i):function(e){return(null===e||void 0===e?void 0:e.acquire)&&"function"==typeof e.acquire}(e)&&e.acquire(...i),e}release(e){e&&!n.test.disabled&&(this._releaseFunction?this._releaseFunction(e):function(e){return(null===e||void 0===e?void 0:e.release)&&"function"==typeof e.release}(e)&&e.release(),this._pool.push(e))}prune(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._initialSize;if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}}n.test={disabled:!1}},3825:(e,t,i)=>{i.d(t,{A:()=>y});var n=i(89379),r=i(86560),o=i(55171),s=i(50076),a=i(81806),l=i(53084),c=i(87663),u=i(50346),d=i(90534),h=i(13096),p=i(47437),f=i(90924),m=i(76312);async function y(e,t){var r,o,s;e instanceof URL&&(e=e.toString()),(null===(r=t)||void 0===r?void 0:r.query)instanceof URLSearchParams&&(t.query=(0,d.zf)(t.query.toString().replaceAll("+"," ")));const l=(0,d.DB)(e),p=(0,d.w8)(e);p||l||(e=(0,d.S8)(e));const f={url:e,requestOptions:(0,n.A)({},t)},m=e=>({data:e,getAllHeaders:M,getHeader:M,httpStatus:200,requestOptions:f.requestOptions,url:f.url}),y=(0,d.sC)(e,v.internalInterceptors);if(y){const e=await O(y,f);if(null!=e)return m(e)}let _=(0,d.sC)(e);if(_){const e=await O(_,f);if(null!=e)return m(e);_.after||_.error||(_=null)}if(e=f.url,"image"===(t=f.requestOptions).responseType&&((0,a.A)("host-webworker")||(0,a.A)("host-node")))throw E("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),f);if("head"===t.method){if(t.body)throw E("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),f);if(l||p)throw E("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),f)}if(await async function(){(0,a.A)("host-webworker")&&!g&&(g=await i.e(623).then(i.bind(i,20623)))}(),g)return g.execute(e,t);const w=new AbortController,b=(0,u.u7)(t,(()=>w.abort())),A={controller:w,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:_,params:f,redoRequest:!1,useIdentity:v.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},S=t.useRequestQueue?async function(e){const t=function(e){let t,i;return"string"==typeof e?(t=(0,d.$z)(e,!0),i=(0,h.Wo)(e)):(t=e.origin,i=(0,h.Wo)(e.toString())),null==t?null:{origin:t,isHosted:i}}(e.params.url);if(!t)return N(e);const{QueueProcessor:n}=await i.e(4429).then(i.bind(i,34429)),r=(0,c.tE)(R,t.origin,(()=>{const e=t.isHosted?(0,a.A)("request-queue-concurrency-hosted"):(0,a.A)("request-queue-concurrency-non-hosted");return new n({concurrency:e,process:e=>{if((0,u.G4)(e.params.requestOptions))throw E("",(0,u.NK)("Request canceled"),e.params);return N(e)}})}));return r.push(e)}(A):N(A),T=await S.finally((()=>null===b||void 0===b?void 0:b.remove()));return null!==(o=_)&&void 0!==o&&null!==(s=o.after)&&void 0!==s&&s.call(o,T),T}let g;const v=r.A.request,_="FormData"in globalThis,w=new Set([499,498,403,401]),b=new Set(["COM_0056","COM_0057","SB_0008"]),A=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],M=()=>null,S=Symbol();function T(e){const t=(0,d.$z)(e);return!t||t.endsWith(".arcgis.com")||y._corsServers.includes(t)||(0,d.FL)(t)}function E(e,t,i,n){let r="Error";const o={url:i.url,requestOptions:i.requestOptions,getAllHeaders:M,getHeader:M,ssl:!1};if(t instanceof s.A)return t.details?(t.details=(0,l.o8)(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=o,t;if(t){const e=n&&(()=>Array.from(n.headers)),i=n&&(e=>n.headers.get(e)),s=null===n||void 0===n?void 0:n.status,a=t.message;a&&(r=a),e&&i&&(o.getAllHeaders=e,o.getHeader=i),o.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||s||0,o.subCode=t.subcode,o.messageCode=t.messageCode,"string"==typeof t.details?o.messages=[t.details]:o.messages=t.details,o.raw=S in t?t[S]:t}return(0,u.zf)(t)?(0,u.NK)():new s.A(e,r,o)}async function x(){o.id||await i.e(1145).then(i.bind(i,1145))}function C(e){return A.some((t=>t.test(e)))}async function P(e){var t;let i=e.params.url;const r=e.params.requestOptions,s=null!==(t=e.fetchOptions)&&void 0!==t?t:{},l=(0,d.w8)(i)||(0,d.DB)(i),c=r.responseType||"json",h=l?0:null!=r.timeout?r.timeout:v.timeout;let f=!1;if(!l){e.useSSL&&(i=(0,d.lM)(i));let t=(0,n.A)({},r.query);e.credentialToken&&(t.token=e.credentialToken);let l=(0,d.x0)(t);(0,a.A)("esri-url-encodes-apostrophe")&&(l=l.replaceAll("'","%27"));const c=i.length+1+l.length;let u;f="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||c>v.maxUrlLength;const h=r.useProxy||!!(0,d.zs)(i);if(h){const e=(0,d.s_)(i);u=e.path,!f&&u.length+1+c>v.maxUrlLength&&(f=!0),e.query&&(t=(0,n.A)((0,n.A)({},e.query),t))}if("HEAD"===s.method&&(f||h)){if(f){if(c>v.maxUrlLength)throw E("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw E("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(h)throw E("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(f?(s.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?i=(0,d.a6)(i,t):(s.body=(0,d.x0)(t),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):i=(0,d.a6)(i,t),h&&(e.useProxy=!0,i="".concat(u,"?").concat(i)),t.token&&_&&s.body instanceof FormData&&!(0,p.$E)(i)&&s.body.set("token",t.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!(0,d.FX)(i,(0,d.Xq)()))if((0,d.FL)(i))e.withCredentials=!0;else if(o.id){const t=o.id.findServerInfo(i);(null===t||void 0===t?void 0:t.webTierAuth)&&(e.withCredentials=!0)}e.withCredentials&&(s.credentials="include",(0,m.xW)(i)&&await(0,m.m3)(f?(0,d.a6)(i,t):i))}let g,w,b=0,A=!1;h>0&&(b=setTimeout((()=>{A=!0,e.controller.abort()}),h));try{if("native-request-init"===r.responseType)w=s,w.url=i,r.signal?w.signal=r.signal:delete w.signal;else if("image"!==r.responseType||"default"!==s.cache||"GET"!==s.method||f||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(r.headers)||!l&&!e.useProxy&&v.proxyUrl&&!T(i)){if(y._beforeFetch&&await y._beforeFetch(i,s),g=await fetch(i,s),y._afterFetch&&await y._afterFetch(g),e.useProxy||function(e){const t=(0,d.$z)(e);t&&!y._corsServers.includes(t)&&y._corsServers.push(t)}(i),"native"===r.responseType)w=g;else if("HEAD"!==s.method)if(g.ok){switch(c){case"array-buffer":w=await g.arrayBuffer();break;case"blob":case"image":w=await g.blob();break;default:w=await g.text()}if(b&&(clearTimeout(b),b=0),"json"===c||"xml"===c||"document"===c)if(w)switch(c){case"json":w=JSON.parse(w);break;case"xml":w=I(w,"application/xml");break;case"document":w=I(w,"text/html")}else w=null;if(w){if("array-buffer"===c||"blob"===c){const e=g.headers.get("Content-Type");if(e&&/application\/json|text\/plain/i.test(e)&&w["blob"===c?"size":"byteLength"]<=750)try{const e=await new Response(w).json();e.error&&(w=e)}catch(S){}}"image"===c&&w instanceof Blob&&(w=await L(URL.createObjectURL(w),e,!0))}}else{w=await g.text();try{w=JSON.parse(w)}catch(x){}}}else w=await L(i,e)}catch(C){var M;if("AbortError"===C.name){if(A)throw(0,m.ql)();throw(0,u.NK)("Request canceled")}if(!(!g&&C instanceof TypeError&&v.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||e.useProxy||T(i))throw C;e.redoRequest=!0,(0,d.oy)({proxyUrl:v.proxyUrl,urlPrefix:null!==(M=(0,d.$z)(i))&&void 0!==M?M:""})}finally{b&&clearTimeout(b)}return[g,w]}async function O(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers=(0,n.A)((0,n.A)({},t.requestOptions.headers),e.headers)),e.query&&(t.requestOptions.query=(0,n.A)((0,n.A)({},t.requestOptions.query),e.query)),e.before){let n,r;try{r=await e.before(t)}catch(i){n=E("request:interceptor",i,t)}if((r instanceof Error||r instanceof s.A)&&(n=E("request:interceptor",r,t)),n)throw e.error&&e.error(n),n;return r}}function I(e,t){let i;try{i=(new DOMParser).parseFromString(e,t)}catch(n){}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}y._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],y._beforeFetch=void 0,y._afterFetch=void 0;const R=new Map;async function N(e){var t,i;let n,s;await async function(e){var t,i;const n=e.params.url,s=e.params.requestOptions,a=e.controller.signal,l=s.body;let c=null,d=null;if(_&&"HTMLFormElement"in globalThis&&(l instanceof FormData?c=l:l instanceof HTMLFormElement&&(c=new FormData(l))),"string"==typeof l&&(d=l),e.fetchOptions={cache:s.cacheBust?"no-cache":"default",credentials:"same-origin",headers:s.headers||{},method:"head"===s.method?"HEAD":"GET",mode:"cors",priority:v.priority,redirect:"follow",signal:a},(c||d)&&(e.fetchOptions.body=c||d),"anonymous"===s.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(n)||null!==(t=s.query)&&void 0!==t&&t.token||null!==(i=c)&&void 0!==i&&i.get("token")),!e.hasToken&&(0,f.Jn)(n)&&(s.query||(s.query={}),s.query.token=r.A.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!C(n)&&!(0,u.G4)(a)){let t;"immediate"===s.authMode?(await x(),t=await o.id.getCredential(n,{signal:a}),e.credential=t):"no-prompt"===s.authMode?(await x(),t=await o.id.getCredential(n,{prompt:!1,signal:a}).catch((()=>{})),e.credential=t):o.id&&(t=o.id.findCredential(n)),t&&(e.credentialToken=t.token,e.useSSL=!!t.ssl)}}(e);try{do{[n,s]=await P(e)}while(!await k(e,n,s))}catch(p){var a;const t=E("request:server",p,e.params,n);throw t.details.ssl=e.useSSL,null!==(a=e.interceptor)&&void 0!==a&&a.error&&e.interceptor.error(t),t}const l=e.params.url;if(s&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(l)){var c;if(!e.hasToken&&!e.credentialToken&&null!==(c=s.user)&&void 0!==c&&c.username&&!(0,d.FL)(l)){const e=(0,d.$z)(l,!0);e&&v.trustedServers.push(e)}Array.isArray(s.authorizedCrossOriginNoCorsDomains)&&(0,m.tz)(s.authorizedCrossOriginNoCorsDomains)}const h=e.credential;if(h&&o.id){const e=o.id.findServerInfo(h.server);let t=null===e||void 0===e?void 0:e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=o.id.findCredential(t,h.userId);e&&-1===o.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:s,getAllHeaders:n?()=>Array.from(n.headers):M,getHeader:n?e=>n.headers.get(e):M,httpStatus:null!==(t=null===(i=n)||void 0===i?void 0:i.status)&&void 0!==t?t:200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function k(e,t,i){var r,s;if(e.redoRequest)return e.redoRequest=!1,!1;const a=e.params.requestOptions;if(!t||"native"===a.responseType||"native-request-init"===a.responseType)return!0;let l,c;if(i&&(i.error&&"object"==typeof i.error?l=i.error:"error"===i.status&&Array.isArray(i.messages)&&(l=(0,n.A)({},i),l[S]=i,l.details=i.messages)),!l&&!t.ok)throw l=new Error("Unable to load ".concat(t.url," status: ").concat(t.status)),l[S]=i,l;let u,d=null;l&&(c=Number(l.code),d=l.hasOwnProperty("subcode")?Number(l.subcode):null,u=l.messageCode,u=null===(r=u)||void 0===r?void 0:r.toUpperCase());const h=a.authMode;if(403===c&&(4===d||null!==(s=l.message)&&void 0!==s&&s.toLowerCase().includes("ssl")&&!l.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==h||498===c)&&void 0!==c&&w.has(c)&&!C(e.params.url)&&(403!==c||(!u||!b.has(u))&&(null==d||2===d&&e.credentialToken))){await x();try{const t=await o.id.getCredential(e.params.url,{error:E("request:server",l,e.params),prompt:"no-prompt"!==h,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(p){if("no-prompt"===h)return e.credential=void 0,e.credentialToken=void 0,!1;l=p}}if(l)throw l;return!0}function L(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=t.controller.signal,r=new Image;return t.withCredentials?r.crossOrigin="use-credentials":r.crossOrigin="anonymous",r.alt="",r.fetchPriority=v.priority,r.src=e,(0,m.Sx)(r,e,i,n)}},3975:(e,t,i)=>{i.d(t,{H:()=>o,V:()=>r});var n=i(94643);function r(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.A;return t||(t=new i),t===e||(t.removeAll(),function(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}(e)?t.addMany(e):e&&t.add(e)),t}function o(e){return e}},4212:(e,t,i)=>{i.d(t,{GB:()=>r,Xb:()=>n,zI:()=>o});i(81806);function n(e){}function r(e){return()=>e}function o(e){return e}},5095:(e,t,i)=>{i.d(t,{$U:()=>k,C2:()=>c,CQ:()=>r,CR:()=>A,C_:()=>D,Cp:()=>M,DY:()=>a,GR:()=>Q,Gh:()=>P,LY:()=>x,MZ:()=>z,O5:()=>W,Pq:()=>u,Qb:()=>H,Qs:()=>te,Sr:()=>_,TB:()=>X,U5:()=>E,V3:()=>I,Vl:()=>Y,Xh:()=>K,YS:()=>h,YV:()=>o,_M:()=>R,_x:()=>$,cp:()=>ee,dV:()=>T,eG:()=>l,eI:()=>J,fq:()=>V,fy:()=>O,g0:()=>C,hM:()=>Z,ie:()=>N,ju:()=>s,lL:()=>y,mg:()=>L,n9:()=>v,nM:()=>m,nW:()=>j,oj:()=>G,p:()=>F,qM:()=>n,r1:()=>q,sn:()=>g,tP:()=>ie,uM:()=>p,ue:()=>d,vN:()=>S,vd:()=>b,yA:()=>U,yv:()=>B,z2:()=>f,zt:()=>w});const n=1e-30,r=512,o=16777216,s=8,a=29,l=24,c=4,u=0,d=0,h=0,p=1,f=2,m=3,y=4,g=5,v=6,_=12,w=13,b=5,A=6,M=5,S=6;var T;!function(e){e[e.FilterFlags=0]="FilterFlags",e[e.Animation=1]="Animation",e[e.GPGPU=2]="GPGPU",e[e.VV=3]="VV",e[e.DD0=4]="DD0",e[e.DD1=5]="DD1",e[e.DD2=6]="DD2",e[e.LocalTimeOrigin=7]="LocalTimeOrigin"}(T||(T={}));const E=6,x=1<<E,C=x<<1,P=1.05,O=3,I=1,R=3,N=3,k=5,L=6,D=1.15,Z=4,F=128,U=256-2*Z,j=2,G=128,z=1,V=10,B=1024,H=128,q=4,W=1,$=1<<20,J=.75,K=10,Y=.75,X=256,Q=32,ee=512,te=0,ie=1},5262:(e,t,i)=>{i.d(t,{$3:()=>m,$H:()=>f,$K:()=>s,B1:()=>c,It:()=>A,JM:()=>w,Ng:()=>d,R3:()=>a,Yl:()=>p,_7:()=>_,gR:()=>u,m3:()=>v,t9:()=>h,uC:()=>g});var n=i(18690),r=i(5568),o=i(80963);function s(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,i=e.hasM;if("point"===e.type)return i&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:i?[e.x,e.y,e.m]:[e.x,e.y];if("polygon"===e.type)return e.rings.slice();if("polyline"===e.type)return e.paths.slice();if("multipoint"===e.type)return e.points.slice();if("extent"===e.type){const t=e.clone().normalize();if(!t)return null;let i=!1,n=!1;return t.forEach((e=>{e.hasZ&&(i=!0),e.hasM&&(n=!0)})),t.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(i&&e.hasZ){const i=.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(i)}if(n&&e.hasM){const i=.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(i)}return t}))}return null}function a(e,t){const i=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)}return Math.sqrt(i*i+n*n)}function l(e,t,i){const n=e[0]+i*(t[0]-e[0]),r=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[n,r,e[2]+i*(t[2]-e[2])]:[n,r]}function c(e,t,i,n){return u(e,t,i[n],i[n+1])}function u(e,t,i,n){const[r,o]=t,[s,a]=i,[l,c]=n,u=l-s,d=c-a,h=u*u+d*d,p=(r-s)*u+(o-a)*d,f=Math.min(1,Math.max(0,p/h));return e[0]=s+u*f,e[1]=a+d*f,e}function d(e,t,i,n,r,o){let s=i,a=n,l=r-s,c=o-a;if(0!==l||0!==c){const i=((e-s)*l+(t-a)*c)/(l*l+c*c);i>1?(s=r,a=o):i>0&&(s+=l*i,a+=c*i)}return l=e-s,c=t-a,l*l+c*c}function h(e,t){return l(e,t,.5)}function p(e){const t=e.length;let i=0;for(let n=0;n<t-1;++n)i+=a(e[n],e[n+1]);return i}function f(e,t){if(t<=0)return e[0];const i=e.length;let n=0;for(let r=0;r<i-1;++r){const i=a(e[r],e[r+1]);if(t-n<i){const o=(t-n)/i;return l(e[r],e[r+1],o)}n+=i}return e[i-1]}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r._.X,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r._.Y,n=0;const o=e.length;let s=e[0];for(let r=1;r<o;r++){const o=e[r];n+=(o[t]-s[t])*(o[i]+s[i]),s=o}if(!y(e)){const r=e[0];n+=(r[t]-s[t])*(r[i]+s[i])}return n>=0}function y(e){const t=e.length;return t<3||(0,n.aI)(e[0],e[t-1])}function g(e){"rings"in e&&(v(e),function(e){if(!("rings"in e))return!1;if(0===e.rings.length||m(e.rings[0]))return!1;for(const t of e.rings)t.reverse()}(e))}function v(e){if(!("rings"in e))return!1;let t=!1;for(const i of e.rings)y(i)||(i.push(i[0].slice()),t=!0);return t}function _(e){return"polygon"!==e.type&&"polyline"!==e.type||w("polygon"===e.type?e.rings:e.paths,e.spatialReference),e}function w(e,t){const i=(0,o.Vp)(t);if(!i)return;const n=i.valid[0],r=i.valid[1],s=r-n;for(const o of e){let e=1/0,t=-1/0;for(const s of o){const i=b(s[0],n,r);e=Math.min(e,i),t=Math.max(t,i),s[0]=i}const i=t-e;s-i<i&&o.forEach((e=>{e[0]<0&&(e[0]+=s)}))}}function b(e,t,i){const n=i-t;return e<t?i-(t-e)%n:e>i?t+(e-t)%n:e}function A(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if("point"===e.type||"mesh"===e.type||"extent"===e.type)return!0;if("multipoint"===e.type)return e.points.length===t.points.length;const[i,n]="polyline"===e.type?[e.paths,t.paths]:[e.rings,t.rings];return i.length===n.length&&i.every(((e,t)=>e.length===n[t].length))}},5364:(e,t,i)=>{i.d(t,{C:()=>c,X:()=>l});var n=i(35143),r=i(94643),o=i(3975),s=(i(81806),i(76460),i(46053)),a=(i(47249),i(85842));let l=class extends r.A{constructor(e){super(e),this.addHandles([this.on("before-add",(e=>{null==e.item&&e.preventDefault()})),this.on("after-add",(e=>this._own(e.item))),this.on("after-remove",(e=>this._release(e.item)))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(r.A.ofType(this.itemType.Type))(e):new r.A(e)}};function c(e,t){return{type:e,cast:o.H,set(i){const n=(0,o.V)(i,this._get(t),e);n.owner=this,this._set(t,n)}}}(0,n._)([(0,s.MZ)()],l.prototype,"owner",null),l=(0,n._)([(0,a.$)("esri.core.support.OwningCollection")],l)},5501:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(35143),r=i(42553),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842));let a=class extends r.A{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};(0,n._)([(0,o.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],a.prototype,"type",void 0),a=(0,n._)([(0,s.$)("esri.symbols.patterns.Pattern3D")],a);const l=a},5551:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(35143),r=i(91967),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842));let a=class extends r.A{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,n._)([(0,o.MZ)()],a.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,n._)([(0,o.MZ)()],a.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),a=(0,n._)([(0,s.$)("esri.views.support.debugFlags")],a);const l=new a},5568:(e,t,i)=>{var n;i.d(t,{_:()=>n}),function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"}(n||(n={}))},5632:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(35143),r=i(85842);let o=0;const s=e=>{let t=class extends e{constructor(){super(...arguments),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+o++})}};return t=(0,n._)([(0,r.$)("esri.core.Identifiable")],t),t},a=e=>{let t=class extends e{constructor(){super(...arguments),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:o++})}};return t=(0,n._)([(0,r.$)("esri.core.Identifiable.NumericIdentifiable")],t),t};let l=class extends(s(class{})){};l=(0,n._)([(0,r.$)("esri.core.Identifiable")],l),function(e){e.IdentifiableMixin=s,e.NumericIdentifiableMixin=a}(l||(l={}));const c=l},5682:(e,t,i)=>{i.d(t,{j:()=>s});var n=i(35143),r=i(46053),o=(i(81806),i(76460),i(47249),i(85842));const s=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===e.minScale&&i.maxScale===e.maxScale?i:e}};return(0,n._)([(0,r.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,n._)([(0,r.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,n._)([(0,o.$)("esri.layers.mixins.ScaleRangeLayer")],t),t}},5890:(e,t,i)=>{i.d(t,{M:()=>o});var n=i(92154),r=i(68452);class o{constructor(e,t){this._owner=t,this._properties={},this._afterDispatchHandle=null;for(const i in e){const t=e[i],r=new n.P(t,void 0,void 0,2,2);this._properties[i]={pool:r,acquired:[]}}this._afterDispatchHandle=(0,r.rs)((()=>this._release()))}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const t=this._properties[e];for(const e of t.acquired)(0,r.Gs)(e)||t.pool.release(e);t.pool.destroy(),t.pool=null,t.acquired=null}this._properties=null,this._owner=null}get(e){const t=this._owner._get(e),i=this._properties[e];let n=i.pool.acquire();for(i.acquired.push(n);n===t;)i.acquired.push(n),n=i.pool.acquire();return n}_release(){for(const e in this._properties){const t=this._properties[e];let i=0;for(const e of t.acquired)(0,r.Gs)(e)?t.acquired[i++]=e:t.pool.release(e);t.acquired.length=i}}}},6127:(e,t,i)=>{i.d(t,{m:()=>n});const n=new(i(45802).J)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},6362:(e,t,i)=>{i.d(t,{A:()=>d});var n=i(35143),r=i(69098),o=i(45802),s=i(42553),a=i(46053),l=(i(81806),i(76460),i(47249),i(85842));const c=new o.J({asc:"ascending",desc:"descending"});let u=class extends(r.A.ClonableMixin(s.A)){constructor(e){super(e),this.field=null,this.order="ascending"}};(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"field",void 0),(0,n._)([(0,a.MZ)({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],u.prototype,"order",void 0),u=(0,n._)([(0,l.$)("esri.popup.support.AttachmentsOrderByInfo")],u);const d=u},6409:(e,t,i)=>{i.d(t,{e:()=>o});var n=i(45802),r=i(46053);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=e instanceof n.J?e:new n.J(e,t),{alwaysWriteDefaults:o,default:s,ignoreUnknown:a=!0,name:l,nonNullable:c,readOnly:u=!1}=t;return(0,r.MZ)({type:a?i.apiValues:String,json:{type:i.jsonValues,default:s,name:l,read:!u&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:o}},nonNullable:c,readOnly:u})}},6527:(e,t,i)=>{i.d(t,{L:()=>d,t:()=>h});var n=i(89379),r=i(17879),o=i(39314),s=i(95922);function a(e,t,i){if(null===e||void 0===e||!e.read||!1===e.read.enabled||!e.read.source)return!1;const n=e.read.source;if("string"==typeof n){if(n===t)return!0;if(n.includes(".")&&0===n.indexOf(t)&&(0,r.t2)(n,i))return!0}else for(const o of n){if(o===t)return!0;if(o.includes(".")&&0===o.indexOf(t)&&(0,r.t2)(o,i))return!0}return!1}function l(e,t,i,n,r){let o=(0,s.N5)(t[i],r);(function(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)})(o)&&(e[i]=!0);for(const l of Object.getOwnPropertyNames(t))o=(0,s.N5)(t[l],r),a(o,i,n)&&(e[l]=!0)}function c(e,t,i,n){const r=i.metadata,o=(0,s.xF)(r[t],n),a=null===o||void 0===o?void 0:o.default;if(void 0===a)return;const l="function"==typeof a?a.call(e,t,n):a;void 0!==l&&i.set(t,l)}const u={origin:"service"};function d(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;if(!t||"object"!=typeof t)return;const n=(0,o.oY)(e),a=n.metadata,d={};for(const r of Object.getOwnPropertyNames(t))l(d,a,r,t,i);n.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(d)){const l=(0,s.N5)(a[o],i).read,c=null===l||void 0===l?void 0:l.source;let u;u=c&&"string"==typeof c?(0,r.RP)(t,c):t[o],null!==l&&void 0!==l&&l.reader&&(u=l.reader.call(e,u,t,i)),void 0!==u&&n.set(o,u)}if(!i||!i.ignoreDefaults){n.setDefaultOrigin("defaults");for(const t of Object.getOwnPropertyNames(a))d[t]||c(e,t,n,i)}n.setDefaultOrigin("user")}function h(e,t,i){var r;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;const s=(0,n.A)((0,n.A)({},o),{},{messages:[]});i(s),null===(r=s.messages)||void 0===r||r.forEach((t=>{"warning"!==t.type||e.loaded?(null===o||void 0===o?void 0:o.messages)&&o.messages.push(t):e.loadWarnings.push(t)}))}},6929:(e,t,i)=>{i.d(t,{A:()=>h});var n,r=i(35143),o=i(53084),s=i(46053),a=(i(81806),i(76460),i(85842)),l=i(17707),c=i(40585),u=i(56362);let d=n=class extends u.A{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map((e=>e.toJSON()))}clone(){return new n((0,o.o8)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,r._)([(0,s.MZ)({type:Object,json:{write:!0}})],d.prototype,"attributes",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],d.prototype,"description",void 0),(0,r._)([(0,s.MZ)({type:[c.A]})],d.prototype,"fieldInfos",void 0),(0,r._)([(0,l.K)("fieldInfos")],d.prototype,"writeFieldInfos",null),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],d.prototype,"title",void 0),(0,r._)([(0,s.MZ)({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],d.prototype,"type",void 0),d=n=(0,r._)([(0,a.$)("esri.popup.content.FieldsContent")],d);const h=d},7198:(e,t,i)=>{i.d(t,{A:()=>v});var n,r=i(35143),o=i(53084),s=i(46053),a=(i(81806),i(76460),i(28379)),l=i(85842),c=i(17707),u=i(8034),d=i(12061),h=i(56362),p=i(52022),f=i(36381),m=i(79181),y=i(11662);let g=n=class extends h.A{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map((e=>"image"===e.type?p.A.fromJSON(e):"barchart"===e.type?u.A.fromJSON(e):"columnchart"===e.type?d.A.fromJSON(e):"linechart"===e.type?f.A.fromJSON(e):"piechart"===e.type?m.A.fromJSON(e):void 0)).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map((e=>e.toJSON()))}clone(){return new n((0,o.o8)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,r._)([(0,s.MZ)()],g.prototype,"activeMediaInfoIndex",void 0),(0,r._)([(0,s.MZ)({type:Object,json:{write:!0}})],g.prototype,"attributes",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],g.prototype,"description",void 0),(0,r._)([(0,s.MZ)({types:[y.g]})],g.prototype,"mediaInfos",void 0),(0,r._)([(0,a.w)("mediaInfos")],g.prototype,"readMediaInfos",null),(0,r._)([(0,c.K)("mediaInfos")],g.prototype,"writeMediaInfos",null),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],g.prototype,"title",void 0),(0,r._)([(0,s.MZ)({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],g.prototype,"type",void 0),g=n=(0,r._)([(0,l.$)("esri.popup.content.MediaContent")],g);const v=g},7246:(e,t,i)=>{i.d(t,{A:()=>S});var n=i(35143),r=i(45802),o=i(53084),s=i(76931),a=i(46053),l=(i(81806),i(76460),i(6409)),c=i(85842),u=(i(47249),i(25900));let d=class extends u.A{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return"".concat(this.type,".").concat(this.width)}};(0,n._)([(0,l.e)({esriSLS:"simple-line"},{readOnly:!0})],d.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:Number,cast:s.cr,json:{write:!0}})],d.prototype,"width",void 0),d=(0,n._)([(0,c.$)("esri.symbols.LineSymbol")],d);const h=d;var p,f=i(69539),m=i(42553),y=i(28379),g=i(17707),v=i(62571);let _=p=class extends m.A{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,n){t[i]="web-map"===(null===n||void 0===n?void 0:n.origin)?"arrow":e}set color(e){this._set("color",e)}readColor(e){return null!=(null===e||void 0===e?void 0:e[0])?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,n){"web-map"===(null===n||void 0===n?void 0:n.origin)||(t[i]=e)}clone(){return new p({color:(0,o.o8)(this.color),placement:this.placement,style:this.style})}hash(){var e;return"".concat(this.placement,".").concat(null===(e=this.color)||void 0===e?void 0:e.hash(),".").concat(this.style)}};(0,n._)([(0,a.MZ)({type:["begin","end","begin-end"],json:{write:!0}})],_.prototype,"placement",void 0),(0,n._)([(0,l.e)({"line-marker":"line-marker"},{readOnly:!0}),(0,a.MZ)({json:{origins:{"web-map":{write:!1}}}})],_.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:v.z})],_.prototype,"style",void 0),(0,n._)([(0,g.K)("style")],_.prototype,"writeStyle",null),(0,n._)([(0,a.MZ)({type:f.A,value:null,json:{write:{allowNull:!0}}})],_.prototype,"color",null),(0,n._)([(0,y.w)("color")],_.prototype,"readColor",null),(0,n._)([(0,g.K)("color")],_.prototype,"writeColor",null),_=p=(0,n._)([(0,c.$)("esri.symbols.LineSymbolMarker")],_);const w=_;var b;const A=new r.J({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let M=b=class extends h{constructor(){super(...arguments),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,n,r,o){if(e&&"string"!=typeof e)return e;const a={};return null!=e&&(a.style=e),null!=t&&(a.color=t),null!=i&&(a.width=(0,s.cr)(i)),null!=n&&(a.cap=n),null!=r&&(a.join=r),null!=o&&(a.miterLimit=(0,s.cr)(o)),a}clone(){var e;return new b({color:(0,o.o8)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null===(e=this.marker)||void 0===e?void 0:e.clone()})}hash(){var e,t;return"".concat(super.hash(),".").concat(null===(e=this.color)||void 0===e?void 0:e.hash(),".").concat(this.style,".").concat(this.cap,".").concat(this.join,".").concat(this.miterLimit,".").concat(null===(t=this.marker)||void 0===t?void 0:t.hash())}};(0,n._)([(0,l.e)({esriSLS:"simple-line"},{readOnly:!0})],M.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:A.apiValues,json:{read:A.read,write:A.write}})],M.prototype,"style",void 0),(0,n._)([(0,a.MZ)({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:"round"!==e&&null==(null===i||void 0===i?void 0:i.origin)})}}})],M.prototype,"cap",void 0),(0,n._)([(0,a.MZ)({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:"round"!==e&&null==(null===i||void 0===i?void 0:i.origin)})}}})],M.prototype,"join",void 0),(0,n._)([(0,a.MZ)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":w}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],M.prototype,"marker",void 0),(0,n._)([(0,a.MZ)({type:Number,json:{read:!1,write:!1}})],M.prototype,"miterLimit",void 0),M=b=(0,n._)([(0,c.$)("esri.symbols.SimpleLineSymbol")],M);const S=M},7724:(e,t,i)=>{i.d(t,{P:()=>h,a:()=>u,c:()=>_,g:()=>c,h:()=>y,i:()=>a,j:()=>M,l:()=>l,p:()=>O});var n=i(28899),r=i(81806);let o,s=null;function a(){return!!s}function l(){return o||(o=i.e(5665).then(i.bind(i,65665)).then((e=>e.p)).then((e=>{let{default:t}=e;return t({locateFile:e=>(0,n.s)("esri/geometry/support/".concat(e))})})).then((e=>{T(e)})),o)}var c,u;!function(e){function t(e,t,i){s.ensureCache.prepare();const n=C(i),r=i===n,o=s.ensureFloat64(n),a=s._pe_geog_to_proj(s.getPointer(e),t,o);return a&&P(i,t,o,r),a}function i(e,t,i){return n(e,t,i,0)}function n(e,t,i,n){s.ensureCache.prepare();const r=C(i),o=i===r,a=s.ensureFloat64(r),l=s._pe_proj_to_geog_center(s.getPointer(e),t,a,n);return l&&P(i,t,a,o),l}e.geogToProj=t,e.projGeog=function(e,n,r,o){switch(o){case u.PE_TRANSFORM_P_TO_G:return i(e,n,r);case u.PE_TRANSFORM_G_TO_P:return t(e,n,r)}return 0},e.projToGeog=i,e.projToGeogCenter=n}(c||(c={})),function(e){e.init=function(){e.PE_BUFFER_MAX=s.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=s.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=s.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=s.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=s.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=s.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=s.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=s.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=s.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=s.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=s.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=s.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=s.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=s.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=s.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=s.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=s.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=s.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=s.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=s.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=s.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=s.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=s.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=s.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=s.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=s.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=s.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=s.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=s.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=s.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=s.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=s.PeDefs.prototype.PE_HORIZON_DELTA}}(u||(u={}));let d=null;var h;!function(e){const t={},i={},n=e=>{const t=e.getType();switch(t){case u.PE_TYPE_GEOGCS:e=s.castObject(e,s.PeGeogcs);break;case u.PE_TYPE_PROJCS:e=s.castObject(e,s.PeProjcs);break;case u.PE_TYPE_GEOGTRAN:e=s.castObject(e,s.PeGeogtran);break;default:t&u.PE_TYPE_UNIT&&(e=s.castObject(e,s.PeUnit))}return e};function r(e,i){let r=null,o=t[e];if(o||(o={},t[e]=o),o.hasOwnProperty(String(i))&&(r=o[i],s.compare(r,s.NULL)&&(r=null)),!r){const t=s.PeFactory.prototype.factoryByType(e,i);s.compare(t,s.NULL)||(r=n(t),o[i]=r)}return r}e.initialize=function(){s.PeFactory.prototype.initialize(null)},e.coordsys=function(e){return r(u.PE_TYPE_COORDSYS,e)},e.factoryByType=r,e.fromString=function(e,t){let r=null,o=i[e];if(o||(o={},i[e]=o),o.hasOwnProperty(t)&&(r=o[t],s.compare(r,s.NULL)&&(r=null)),!r){const i=s.PeFactory.prototype.fromString(e,t);s.compare(i,s.NULL)||(r=n(i),o[t]=r)}return r},e.geogcs=function(e){return r(u.PE_TYPE_GEOGCS,e)},e.geogtran=function(e){return r(u.PE_TYPE_GEOGTRAN,e)},e.getCode=function(e){return s.PeFactory.prototype.getCode(e)},e.projcs=function(e){return r(u.PE_TYPE_PROJCS,e)},e.unit=function(e){return r(u.PE_TYPE_UNIT,e)}}(h||(h={}));let p=null;var f,m,y,g,v,_,w,b,A,M,S;function T(e){function t(e,t,i){e[t]=i(e[t])}s=e,u.init(),f.init(),w.init(),A.init(),M.init(),d=class extends s.PeDouble{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN)}destroy(){s.destroy(this)}[Symbol.dispose](){this.destroy()}},p=class extends s.PeGCSExtent{destroy(){s.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[s.PeAngunit,s.PeDatum,s.PeGeogcs,s.PeGeogtran,s.PeObject,s.PeParameter,s.PePrimem,s.PeProjcs,s.PeSpheroid,s.PeUnit];for(const o of i)t(o.prototype,"getName",(e=>function(){return e.call(this,new Array(u.PE_NAME_MAX))}));for(const o of[s.PeGeogtran,s.PeProjcs])t(o.prototype,"getParameters",(e=>function(){const t=new Array(u.PE_PARM_MAX);let i=e.call(this);for(let e=0;e<t.length;e++){const n=s.getValue(i,"*");t[e]=n?s.wrapPointer(n,s.PeParameter):null,i+=Int32Array.BYTES_PER_ELEMENT}return t}));t(s.PeHorizon.prototype,"getCoord",(e=>function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const i=this.getSize();if(!i)return null;const n=[];return P(n,i,e.call(this),t),n})),t(s.PeGTlistExtendedEntry.prototype,"getEntries",(e=>{const t=s._pe_getPeGTlistExtendedGTsSize();return function(){let i=null;const n=e.call(this);if(!s.compare(n,s.NULL)){i=[n];const e=this.getSteps();if(e>1){const r=s.getPointer(n);for(let n=1;n<e;n++)i.push(s.wrapPointer(r+t*n,s.PeGTlistExtendedGTs))}}return i}}));const n=s._pe_getPeHorizonSize(),r=e=>function(){let t=this._cache;if(t||(t=new Map,this._cache=t),t.has(e))return t.get(e);let i=null;const r=e.call(this);if(!s.compare(r,s.NULL)){i=[r];const e=r.getNump();if(e>1){const t=s.getPointer(r);for(let r=1;r<e;r++)i.push(s.wrapPointer(t+n*r,s.PeHorizon))}}return t.set(e,i),i};t(s.PeProjcs.prototype,"horizonGcsGenerate",r),t(s.PeProjcs.prototype,"horizonPcsGenerate",r),s.PeObject.prototype.toString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.PE_STR_OPTS_NONE;s.ensureCache.prepare();const t=s.getPointer(this),i=s.ensureInt8(new Array(u.PE_BUFFER_MAX));return s.UTF8ToString(s._pe_object_to_string_ext(t,e,i))},s.PeGeogcs.prototype.destroy=function(){this.Delete(),E(this),this.ptr=0},s.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},s.PeProjcs.prototype.destroy=function(){this.Delete(),E(this),this.ptr=0},s.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function E(e){if(!e)return;const t=s.getClass(e);if(!t)return;const i=s.getCache(t);if(!i)return;const n=s.getPointer(e);n&&delete i[n]}function x(e,t){const i=[],n=new Array(t);for(let r=0;r<e;r++)i.push(s.ensureInt8(n));return i}function C(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function P(e,t,i){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3])for(let n=0;n<2*t;n++)e[n]=s.getValue(i+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=0===e.length;for(let r=0;r<t;r++)n&&(e[r]=new Array(2)),e[r][0]=s.getValue(i,"double"),e[r][1]=s.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}!function(e){let t;e.init=function(){e.PE_GTLIST_OPTS_COMMON=s.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=s._pe_getPeGTlistExtendedEntrySize()},e.getGTlist=function(e,i,n,r,o,a){let l=null;const c=new s.PeInteger(a);try{const u=s.PeGTlistExtended.prototype.getGTlist(e,i,n,r,o,c);if((a=c.val)&&(l=[u],a>1)){const e=s.getPointer(u);for(let i=1;i<a;i++)l.push(s.wrapPointer(e+t*i,s.PeGTlistExtendedEntry))}}finally{s.destroy(c)}return l}}(f||(f={})),function(e){e.destroy=function(e){if(null!==e&&void 0!==e&&e.length){for(const t of e)E(t),t.getEntries().forEach((e=>{E(e);const t=e.getGeogtran();E(t),t.getParameters().forEach(E),[t.getGeogcs1(),t.getGeogcs2()].forEach((e=>{E(e);const t=e.getDatum();E(t),E(t.getSpheroid()),E(e.getPrimem()),E(e.getUnit())}))}));s.PeGTlistExtendedEntry.prototype.Delete(e[0])}}}(m||(m={})),function(e){e.geogToGeog=function(e,t,i,n,r){s.ensureCache.prepare();const o=C(i),a=i===o,l=s.ensureFloat64(o);let c=0;n&&(c=s.ensureFloat64(n));const u=s._pe_geog_to_geog(s.getPointer(e),t,l,c,r);return u&&P(i,t,l,a),u}}(y||(y={})),function(e){e.geodesicCoordinate=function(e,t,i,n,r,o,a,l){s.PeLineType.prototype.geodesic_coordinate(e,t,i,n,r,o,a,l)},e.geodeticCoordinate=function(e,t,i,n,r,o,a,l,c){s.PeLineType.prototype.geodetic_coordinate(e,t,i,n,r,o,a,l,c)},e.geodeticDistance=function(e,t,i,n,r,o,a,l,c,u){s.PeLineType.prototype.geodetic_distance(e,t,i,n,r,o,a,l,c,u)},e.greatEllipticDistance=function(e,t,i,n,r,o,a,l,c){s.PeLineType.prototype.great_elliptic_distance(e,t,i,n,r,o,a,l,c)}}(g||(g={})),function(e){e.phiToEta=function(e,t){return s.PeMath.prototype.phi_to_eta(e,t)},e.etaToPhi=function(e,t){return s.PeMath.prototype.eta_to_phi(e,t)},e.phiToPhig=function(e,t){return s.PeMath.prototype.phi_to_phig(e,t)},e.q=function(e,t,i){return s.PeMath.prototype.q(e,t,i)},e.q90=function(e,t){return s.PeMath.prototype.q90(e,t)}}(v||(v={})),function(e){const t=(e,t,i,n,r,o)=>{let a,l;switch(s.ensureCache.prepare(),e){case"dd":a=s._pe_geog_to_dd,l=u.PE_DD_MAX;break;case"ddm":a=s._pe_geog_to_ddm,l=u.PE_DDM_MAX;break;case"dms":a=s._pe_geog_to_dms,l=u.PE_DMS_MAX}let c=0;t&&(c=s.getPointer(t));const d=C(n),h=s.ensureFloat64(d),p=x(i,l),f=a(c,i,h,r,s.ensureInt32(p));if(f)for(let u=0;u<i;u++)o[u]=s.UTF8ToString(p[u]);return f},i=(e,t,i,n,r)=>{let o;switch(s.ensureCache.prepare(),e){case"dd":o=s._pe_dd_to_geog;break;case"ddm":o=s._pe_ddm_to_geog;break;case"dms":o=s._pe_dms_to_geog}let a=0;t&&(a=s.getPointer(t));const l=n.map((e=>s.ensureString(e))),c=s.ensureInt32(l),u=s.ensureFloat64(new Array(2*i)),d=o(a,i,c,u);return d&&P(r,i,u),d};e.geogToDms=function(e,i,n,r,o){return t("dms",e,i,n,r,o)},e.dmsToGeog=function(e,t,n,r){return i("dms",e,t,n,r)},e.geogToDdm=function(e,i,n,r,o){return t("ddm",e,i,n,r,o)},e.ddmToGeog=function(e,t,n,r){return i("ddm",e,t,n,r)},e.geogToDd=function(e,i,n,r,o){return t("dd",e,i,n,r,o)},e.ddToGeog=function(e,t,n,r){return i("dd",e,t,n,r)}}(_||(_={})),function(e){e.init=function(){e.PE_MGRS_STYLE_NEW=s.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=s.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=s.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=s.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=s.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},e.geogToMgrsExtended=function(e,t,i,n,r,o,a){s.ensureCache.prepare();let l=0;e&&(l=s.getPointer(e));const c=C(i),d=s.ensureFloat64(c),h=x(t,u.PE_MGRS_MAX),p=s.ensureInt32(h),f=s._pe_geog_to_mgrs_extended(l,t,d,n,r,o,p);if(f)for(let u=0;u<t;u++)a[u]=s.UTF8ToString(h[u]);return f},e.mgrsToGeogExtended=function(e,t,i,n,r){s.ensureCache.prepare();let o=0;e&&(o=s.getPointer(e));const a=i.map((e=>s.ensureString(e))),l=s.ensureInt32(a),c=s.ensureFloat64(new Array(2*t)),u=s._pe_mgrs_to_geog_extended(o,t,l,n,c);return u&&P(r,t,c),u}}(w||(w={})),function(e){e.geogToUsng=function(e,t,i,n,r,o,a){s.ensureCache.prepare();let l=0;e&&(l=s.getPointer(e));const c=C(i),d=s.ensureFloat64(c),h=x(t,u.PE_MGRS_MAX),p=s.ensureInt32(h),f=s._pe_geog_to_usng(l,t,d,n,r,o,p);if(f)for(let u=0;u<t;u++)a[u]=s.UTF8ToString(h[u]);return f},e.usngToGeog=function(e,t,i,n){s.ensureCache.prepare();let r=0;e&&(r=s.getPointer(e));const o=i.map((e=>s.ensureString(e))),a=s.ensureInt32(o),l=s.ensureFloat64(new Array(2*t)),c=s._pe_usng_to_geog(r,t,a,l);return c&&P(n,t,l),c}}(b||(b={})),function(e){e.init=function(){e.PE_UTM_OPTS_NONE=s.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=s.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=s.PeNotationUtm.prototype.PE_UTM_OPTS_NS},e.geogToUtm=function(e,t,i,n,r){s.ensureCache.prepare();let o=0;e&&(o=s.getPointer(e));const a=C(i),l=s.ensureFloat64(a),c=x(t,u.PE_UTM_MAX),d=s.ensureInt32(c),h=s._pe_geog_to_utm(o,t,l,n,d);if(h)for(let u=0;u<t;u++)r[u]=s.UTF8ToString(c[u]);return h},e.utmToGeog=function(e,t,i,n,r){s.ensureCache.prepare();let o=0;e&&(o=s.getPointer(e));const a=i.map((e=>s.ensureString(e))),l=s.ensureInt32(a),c=s.ensureFloat64(new Array(2*t)),u=s._pe_utm_to_geog(o,t,l,n,c);return u&&P(r,t,c),u}}(A||(A={})),function(e){const t=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=s.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=s.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=s.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=s.PePCSInfo.prototype.PE_POLE_POINT},e.generate=function(i){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.PE_PCSINFO_OPTION_DOMAIN,r=null,o=null;return t.has(i)&&(o=t.get(i),o[n]&&(r=o[n])),r||(r=s.PePCSInfo.prototype.generate(i,n),o||(o=[],t.set(i,o)),o[n]=r),r}}(M||(M={})),function(e){e.versionString=function(){return s.PeVersion.prototype.version_string()}}(S||(S={}));const O=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return c},get PeDefs(){return u},get PeDouble(){return d},get PeFactory(){return h},get PeGCSExtent(){return p},get PeGTTransformations(){return y},get PeGTlistExtended(){return f},get PeGTlistExtendedEntry(){return m},get PeLineType(){return g},get PeMath(){return v},get PeNotationDms(){return _},get PeNotationMgrs(){return w},get PeNotationUsng(){return b},get PeNotationUtm(){return A},get PePCSInfo(){return M},get PeVersion(){return S},_init:T,get _pe(){return s},isLoaded:a,isSupported:function(){return!!(0,r.A)("esri-wasm")},load:l},Symbol.toStringTag,{value:"Module"}))},7847:(e,t,i)=>{i.d(t,{q:()=>u});var n=i(99746),r=i(50076),o=i(93103),s=i(58503);function a(e,t,i,n){var r=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(r,a.prototype),r.expected=t,r.found=i,r.location=n,r.name="SyntaxError",r}function l(e,t,i){return i=i||" ",e.length>t?e:(t-=e.length,e+(i+=i.repeat(t)).slice(0,t))}function c(e,t){var i,n={},r=(t=void 0!==t?t:{}).grammarSource,o={start:He},s=He,l="none",c=")",u=",",d="(",h="%",p="px",f="cm",m="mm",y="in",g="pt",v="pc",_="deg",w="rad",b="grad",A="turn",M="#",S=".",T="e",E=/^[ \t\n\r]/,x=/^[a-z\-]/,C=/^[0-9a-fA-F]/,P=/^[+\-]/,O=/^[0-9]/,I=Ge("none"),R=Ue("none",!1),N=Ue(")",!1),k=Ue(",",!1),L=Ge("whitespace"),D=je([" ","\t","\n","\r"],!1,!1),Z=Ge("function"),F=Ue("(",!1),U=Ge("identifier"),j=je([["a","z"],"-"],!1,!1),G=Ge("percentage"),z=Ue("%",!1),V=Ge("length"),B=Ue("px",!1),H=Ue("cm",!1),q=Ue("mm",!1),W=Ue("in",!1),$=Ue("pt",!1),J=Ue("pc",!1),K=Ge("angle"),Y=Ue("deg",!1),X=Ue("rad",!1),Q=Ue("grad",!1),ee=Ue("turn",!1),te=Ge("number"),ie=Ge("color"),ne=Ue("#",!1),re=je([["0","9"],["a","f"],["A","F"]],!1,!1),oe=je(["+","-"],!1,!1),se=je([["0","9"]],!1,!1),ae=Ue(".",!1),le=Ue("e",!1),ce=function(){return[]},ue=function(e,t){return{type:"function",name:e,parameters:t||[]}},de=function(e,t){return t.length>0?function(e,t,i){return[e].concat(function(e,t){return e.map((function(e){return e[t]}))}(t,i))}(e,t,3):[e]},he=function(e){return{type:"quantity",value:e.value,unit:e.unit}},pe=function(e){return{type:"color",colorType:e.type,value:e.value}},fe=function(e){return e},me=function(){return Fe()},ye=function(e){return{value:e,unit:"%"}},ge=function(e){return{value:e,unit:"px"}},ve=function(e){return{value:e,unit:"cm"}},_e=function(e){return{value:e,unit:"mm"}},we=function(e){return{value:e,unit:"in"}},be=function(e){return{value:e,unit:"pt"}},Ae=function(e){return{value:e,unit:"pc"}},Me=function(e){return{value:e,unit:"deg"}},Se=function(e){return{value:e,unit:"rad"}},Te=function(e){return{value:e,unit:"grad"}},Ee=function(e){return{value:e,unit:"turn"}},xe=function(e){return{value:e,unit:null}},Ce=function(){return{type:"hex",value:Fe()}},Pe=function(e){return{type:"function",value:e}},Oe=function(){return{type:"named",value:Fe()}},Ie=function(){return parseFloat(Fe())},Re=0|t.peg$currPos,Ne=Re,ke=[{line:1,column:1}],Le=Re,De=t.peg$maxFailExpected||[],Ze=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in o))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=o[t.startRule]}function Fe(){return e.substring(Ne,Re)}function Ue(e,t){return{type:"literal",text:e,ignoreCase:t}}function je(e,t,i){return{type:"class",parts:e,inverted:t,ignoreCase:i}}function Ge(e){return{type:"other",description:e}}function ze(t){var i,n=ke[t];if(n)return n;if(t>=ke.length)i=ke.length-1;else for(i=t;!ke[--i];);for(n={line:(n=ke[i]).line,column:n.column};i<t;)10===e.charCodeAt(i)?(n.line++,n.column=1):n.column++,i++;return ke[t]=n,n}function Ve(e,t,i){var n=ze(e),o=ze(t);return{source:r,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:o.line,column:o.column}}}function Be(e){Re<Le||(Re>Le&&(Le=Re,De=[]),De.push(e))}function He(){var e;return(e=qe())===n&&(e=function(){var e,t;if(e=[],(t=We())!==n)for(;t!==n;)e.push(t),t=We();else e=n;return e}()),e}function qe(){var t,i;return Ze++,t=Re,Je(),e.substr(Re,4)===l?(i=l,Re+=4):(i=n,0===Ze&&Be(R)),i!==n?(Je(),Ne=t,t=ce()):(Re=t,t=n),Ze--,t===n&&0===Ze&&Be(I),t}function We(){var t,i,r,o;return t=Re,Je(),(i=function(){var t,i,r;return Ze++,t=Re,(i=Ke())!==n?(40===e.charCodeAt(Re)?(r=d,Re++):(r=n,0===Ze&&Be(F)),r!==n?(Ne=t,t=fe(i)):(Re=t,t=n)):(Re=t,t=n),Ze--,t===n&&(i=n,0===Ze&&Be(Z)),t}())!==n?(Je(),(r=function(){var t,i,r,o,s,a,l,c;if(t=Re,(i=$e())!==n){for(r=[],o=Re,s=Je(),44===e.charCodeAt(Re)?(a=u,Re++):(a=n,0===Ze&&Be(k)),a===n&&(a=null),l=Je(),(c=$e())!==n?o=s=[s,a,l,c]:(Re=o,o=n);o!==n;)r.push(o),o=Re,s=Je(),44===e.charCodeAt(Re)?(a=u,Re++):(a=n,0===Ze&&Be(k)),a===n&&(a=null),l=Je(),(c=$e())!==n?o=s=[s,a,l,c]:(Re=o,o=n);Ne=t,t=de(i,r)}else Re=t,t=n;return t}())===n&&(r=null),Je(),41===e.charCodeAt(Re)?(o=c,Re++):(o=n,0===Ze&&Be(N)),o!==n?(Je(),Ne=t,t=ue(i,r)):(Re=t,t=n)):(Re=t,t=n),t}function $e(){var e,t;return e=Re,(t=Ye())===n&&(t=Xe())===n&&(t=Qe())===n&&(t=function(){var e,t;return Ze++,e=Re,Je(),(t=tt())!==n?(Ne=e,e=xe(t)):(Re=e,e=n),Ze--,e===n&&0===Ze&&Be(te),e}()),t!==n&&(Ne=e,t=he(t)),(e=t)===n&&(e=Re,(t=et())!==n&&(Ne=e,t=pe(t)),e=t),e}function Je(){var t,i;for(Ze++,t=[],i=e.charAt(Re),E.test(i)?Re++:(i=n,0===Ze&&Be(D));i!==n;)t.push(i),i=e.charAt(Re),E.test(i)?Re++:(i=n,0===Ze&&Be(D));return Ze--,i=n,0===Ze&&Be(L),t}function Ke(){var t,i,r;if(Ze++,t=Re,i=[],r=e.charAt(Re),x.test(r)?Re++:(r=n,0===Ze&&Be(j)),r!==n)for(;r!==n;)i.push(r),r=e.charAt(Re),x.test(r)?Re++:(r=n,0===Ze&&Be(j));else i=n;return i!==n&&(Ne=t,i=me()),Ze--,(t=i)===n&&(i=n,0===Ze&&Be(U)),t}function Ye(){var t,i,r;return Ze++,t=Re,Je(),(i=tt())!==n?(37===e.charCodeAt(Re)?(r=h,Re++):(r=n,0===Ze&&Be(z)),r!==n?(Ne=t,t=ye(i)):(Re=t,t=n)):(Re=t,t=n),Ze--,t===n&&0===Ze&&Be(G),t}function Xe(){var t,i,r;return Ze++,t=Re,Je(),(i=tt())!==n?(e.substr(Re,2)===p?(r=p,Re+=2):(r=n,0===Ze&&Be(B)),r!==n?(Ne=t,t=ge(i)):(Re=t,t=n)):(Re=t,t=n),t===n&&(t=Re,Je(),(i=tt())!==n?(e.substr(Re,2)===f?(r=f,Re+=2):(r=n,0===Ze&&Be(H)),r!==n?(Ne=t,t=ve(i)):(Re=t,t=n)):(Re=t,t=n),t===n&&(t=Re,Je(),(i=tt())!==n?(e.substr(Re,2)===m?(r=m,Re+=2):(r=n,0===Ze&&Be(q)),r!==n?(Ne=t,t=_e(i)):(Re=t,t=n)):(Re=t,t=n),t===n&&(t=Re,Je(),(i=tt())!==n?(e.substr(Re,2)===y?(r=y,Re+=2):(r=n,0===Ze&&Be(W)),r!==n?(Ne=t,t=we(i)):(Re=t,t=n)):(Re=t,t=n),t===n&&(t=Re,Je(),(i=tt())!==n?(e.substr(Re,2)===g?(r=g,Re+=2):(r=n,0===Ze&&Be($)),r!==n?(Ne=t,t=be(i)):(Re=t,t=n)):(Re=t,t=n),t===n&&(t=Re,Je(),(i=tt())!==n?(e.substr(Re,2)===v?(r=v,Re+=2):(r=n,0===Ze&&Be(J)),r!==n?(Ne=t,t=Ae(i)):(Re=t,t=n)):(Re=t,t=n)))))),Ze--,t===n&&0===Ze&&Be(V),t}function Qe(){var t,i,r;return Ze++,t=Re,(i=tt())!==n?(e.substr(Re,3)===_?(r=_,Re+=3):(r=n,0===Ze&&Be(Y)),r!==n?(Ne=t,t=Me(i)):(Re=t,t=n)):(Re=t,t=n),t===n&&(t=Re,(i=tt())!==n?(e.substr(Re,3)===w?(r=w,Re+=3):(r=n,0===Ze&&Be(X)),r!==n?(Ne=t,t=Se(i)):(Re=t,t=n)):(Re=t,t=n),t===n&&(t=Re,(i=tt())!==n?(e.substr(Re,4)===b?(r=b,Re+=4):(r=n,0===Ze&&Be(Q)),r!==n?(Ne=t,t=Te(i)):(Re=t,t=n)):(Re=t,t=n),t===n&&(t=Re,(i=tt())!==n?(e.substr(Re,4)===A?(r=A,Re+=4):(r=n,0===Ze&&Be(ee)),r!==n?(Ne=t,t=Ee(i)):(Re=t,t=n)):(Re=t,t=n)))),Ze--,t===n&&(i=n,0===Ze&&Be(K)),t}function et(){var t,i,r,o;if(Ze++,t=Re,35===e.charCodeAt(Re)?(i=M,Re++):(i=n,0===Ze&&Be(ne)),i!==n){if(r=[],o=e.charAt(Re),C.test(o)?Re++:(o=n,0===Ze&&Be(re)),o!==n)for(;o!==n;)r.push(o),o=e.charAt(Re),C.test(o)?Re++:(o=n,0===Ze&&Be(re));else r=n;r!==n?(Ne=t,t=Ce()):(Re=t,t=n)}else Re=t,t=n;return t===n&&(t=Re,(i=We())!==n&&(Ne=t,i=Pe(i)),(t=i)===n&&(t=Re,(i=Ke())!==n&&(Ne=t,i=Oe()),t=i)),Ze--,t===n&&(i=n,0===Ze&&Be(ie)),t}function tt(){var t,i,r,o,s,a,l,c;for(t=Re,i=e.charAt(Re),P.test(i)?Re++:(i=n,0===Ze&&Be(oe)),i===n&&(i=null),r=Re,o=[],s=e.charAt(Re),O.test(s)?Re++:(s=n,0===Ze&&Be(se));s!==n;)o.push(s),s=e.charAt(Re),O.test(s)?Re++:(s=n,0===Ze&&Be(se));if(46===e.charCodeAt(Re)?(s=S,Re++):(s=n,0===Ze&&Be(ae)),s!==n){if(a=[],l=e.charAt(Re),O.test(l)?Re++:(l=n,0===Ze&&Be(se)),l!==n)for(;l!==n;)a.push(l),l=e.charAt(Re),O.test(l)?Re++:(l=n,0===Ze&&Be(se));else a=n;a!==n?r=o=[o,s,a]:(Re=r,r=n)}else Re=r,r=n;if(r===n)if(r=[],o=e.charAt(Re),O.test(o)?Re++:(o=n,0===Ze&&Be(se)),o!==n)for(;o!==n;)r.push(o),o=e.charAt(Re),O.test(o)?Re++:(o=n,0===Ze&&Be(se));else r=n;if(r!==n){if(o=Re,101===e.charCodeAt(Re)?(s=T,Re++):(s=n,0===Ze&&Be(le)),s!==n){if(a=e.charAt(Re),P.test(a)?Re++:(a=n,0===Ze&&Be(oe)),a===n&&(a=null),l=[],c=e.charAt(Re),O.test(c)?Re++:(c=n,0===Ze&&Be(se)),c!==n)for(;c!==n;)l.push(c),c=e.charAt(Re),O.test(c)?Re++:(c=n,0===Ze&&Be(se));else l=n;l!==n?o=s=[s,a,l]:(Re=o,o=n)}else Re=o,o=n;o===n&&(o=null),Ne=t,t=Ie()}else Re=t,t=n;return t}if(i=s(),t.peg$library)return{peg$result:i,peg$currPos:Re,peg$FAILED:n,peg$maxFailExpected:De,peg$maxFailPos:Le};if(i!==n&&Re===e.length)return i;throw i!==n&&Re<e.length&&Be({type:"end"}),function(e,t,i){return new a(a.buildMessage(e,t),e,t,i)}(De,Le<e.length?e.charAt(Le):null,Le<e.length?Ve(Le,Le+1):Ve(Le,Le))}function u(e){if(!e||0===e.length)return null;if("string"==typeof e){const t=d(e);return t&&0!==t.length?t:null}const t=e.map((e=>{if(!Number.isFinite(e.scale)||e.scale<=0)throw new r.A("effect:invalid-scale","scale must be finite and greater than 0",{stop:e});return{scale:e.scale,effects:d(e.value)}}));t.sort(((e,t)=>t.effects.length-e.effects.length));for(let i=0;i<t.length-1;i++){if(!(0,s.mj)(t[i].effects,t[i+1].effects))throw new r.A("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[i].effects,b:t[i+1].effects});(0,s.O9)(t[i].effects,t[i+1].effects)}return t.sort(((e,t)=>t.scale-e.scale)),t}function d(e){let t;if(!e)return[];try{t=c(e)}catch(i){throw new r.A("effect:invalid-syntax","Invalid effect syntax",{value:e,error:i})}return t.map((e=>function(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function(e){let t=1;return h(e.parameters,1),1===e.parameters.length&&(t=g(e.parameters[0])),new o.yG(e.name,t)}(e);case"opacity":return function(e){let t=1;return h(e.parameters,1),1===e.parameters.length&&(t=g(e.parameters[0])),new o.jm(t)}(e);case"hue-rotate":return function(e){let t=0;return h(e.parameters,1),1===e.parameters.length&&(t=function(e){return function(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=m[e.unit]))throw new r.A("effect:type-error","Expected <angle>, Actual: ".concat(p(e)),{term:e})}(e),e.value*m[e.unit]||0}(e.parameters[0])),new o.Nd(t)}(e);case"blur":return function(e){let t=0;return h(e.parameters,1),1===e.parameters.length&&(t=_(e.parameters[0]),f(t,e.parameters[0])),new o.Fk(t)}(e);case"drop-shadow":return function(e){const t=[];let i=null;for(const n of e.parameters)if("color"===n.type){if(t.length&&Object.freeze(t),i)throw new r.A("effect:type-error","Accepts only one color",{});i=w(n)}else{const e=_(n);if(Object.isFrozen(t))throw new r.A("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(e),3===t.length&&f(e,n)}if(t.length<2||t.length>3)throw new r.A("effect:type-error","Expected <length>{2,3}, Actual: <length>{".concat(t.length,"}"),{lengths:t});return new o.$b(t[0],t[1],t[2]||0,i||b("black"))}(e);case"bloom":return function(e){let t=1,i=0,n=0;return h(e.parameters,3),e.parameters[0]&&(t=g(e.parameters[0])),e.parameters[1]&&(i=_(e.parameters[1]),f(i,e.parameters[1])),e.parameters[2]&&(n=g(e.parameters[2])),new o.bv(t,i,n)}(e)}}catch(t){throw t.details.filter=e,t}throw new r.A("effect:unknown-effect","Effect '".concat(e.name,"' is not supported"),{effect:e})}(e)))}function h(e,t){if(e.length>t)throw new r.A("effect:type-error","Function supports up to ".concat(t," parameters, Actual: ").concat(e.length),{parameters:e})}function p(e){if("color"===e.type)return"<color>";if(e.unit){if(e.unit in y)return"<length>";if(e.unit in m)return"<angle>";if("%"===e.unit)return"<percentage>"}return"<double>"}function f(e,t){if(e<0)throw new r.A("effect:type-error","Negative values are not allowed, Actual: ".concat(e),{term:t})}(function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i})(a,Error),a.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var i,n=null;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){n=e[i].text.split(/\r\n|\n|\r/g);break}var r=this.location.start,o=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(r):r,s=this.location.source+":"+o.line+":"+o.column;if(n){var a=this.location.end,c=l("",o.line.toString().length," "),u=n[r.line-1],d=(r.line===a.line?a.column:u.length+1)-r.column||1;t+="\n --\x3e "+s+"\n"+c+" |\n"+o.line+" | "+u+"\n"+c+" | "+l("",r.column-1," ")+l("",d,"^")}else t+="\n at "+s}return t},a.buildMessage=function(e,t){var i={literal:function(e){return'"'+r(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function s(e){return i[e.type](e)}return"Expected "+function(e){var t,i,n=e.map(s);if(n.sort(),n.length>0){for(t=1,i=1;t<n.length;t++)n[t-1]!==n[t]&&(n[i]=n[t],i++);n.length=i}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+function(e){return e?'"'+r(e)+'"':"end of input"}(t)+" found."};const m={deg:1,grad:.9,rad:180/Math.PI,turn:360};const y={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function g(e){!function(e){if("quantity"!==e.type||null!==e.unit&&"%"!==e.unit)throw new r.A("effect:type-error","Expected <double> or <percentage>, Actual: ".concat(p(e)),{term:e})}(e);const t=e.value;return f(t,e),"%"===e.unit?.01*t:t}function v(e){return function(e){if("quantity"!==e.type||null!==e.unit)throw new r.A("effect:type-error","Expected <double>, Actual: ".concat(p(e)),{term:e})}(e),f(e.value,e),e.value}function _(e){return function(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=y[e.unit]))throw new r.A("effect:type-error","Expected <length>, Actual: ".concat(p(e)),{term:e})}(e),e.value*y[e.unit]||0}function w(e){switch(e.colorType){case"hex":return(0,n.qh)(e.value);case"named":return b(e.value);case"function":return function(e){if(h(e.parameters,4),A.test(e.name))return[g(e.parameters[0]),g(e.parameters[1]),g(e.parameters[2]),e.parameters[3]?g(e.parameters[3]):1];if(M.test(e.name))return(0,n.z$)(v(e.parameters[0]),g(e.parameters[1]),g(e.parameters[2]),e.parameters[3]?g(e.parameters[3]):1);throw new r.A("effect:syntax-error","Invalid color function '".concat(e.name,"'"),{colorFunction:e})}(e.value)}}function b(e){if(!(0,n.V6)(e))throw new r.A("effect:unknown-color","color '".concat(e,"' isn't valid"),{namedColor:e});return(0,n.c4)(e)}const A=/^rgba?/i,M=/^hsla?/i},7982:(e,t,i)=>{i.d(t,{C:()=>u,v:()=>c});var n=i(76460),r=i(48611),o=i(62754),s=i(19258),a=i(28013);const l=()=>n.A.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function c(e,t,i){var n,o;e&&(!i&&!t.read||(null===(n=t.read)||void 0===n?void 0:n.reader)||!1===(null===(o=t.read)||void 0===o?void 0:o.enabled)||function(e){return"types"in e?y(e.types):m(e.type)}(e)&&(0,r.sM)("read.reader",u(e),t))}function u(e){var t;const i=null!==(t=e.ndimArray)&&void 0!==t?t:0;if(i>1)return function(e){var t;const i=d(e),n=h.bind(null,i),r=null!==(t=e.ndimArray)&&void 0!==t?t:0;return(e,t,i)=>{if(null==e)return e;e=n(e,i,r);let o=r,s=e;for(;o>0&&Array.isArray(s);)o--,s=s[0];if(void 0!==s)for(let n=0;n<o;n++)e=[e];return e}}(e);if(1===i)return p(e);if("type"in e&&f(e.type)){var n;const t=null===(n=e.type.prototype)||void 0===n||null===(n=n.itemType)||void 0===n?void 0:n.Type,i=p("function"==typeof t?{type:t}:{types:t});return(t,n,r)=>{const o=i(t,n,r);return o?new e.type(o):o}}return d(e)}function d(e){return"type"in e?function(e){return e.prototype.read?(t,i,n)=>{if(null==t)return t;const r=typeof t;if("object"!==r)return void l().error("Expected JSON value of type 'object' to deserialize type '".concat(e.prototype.declaredClass,"', but got '").concat(r,"'"));const o=new e;return o.read(t,n),o}:e.fromJSON}(e.type):function(e){var t;let i=null;const n=null!==(t=e.errorContext)&&void 0!==t?t:"type",r=e.validate;return(t,a,c)=>{if(null==t)return t;const u=typeof t;if("object"!==u)return void l().error("Expected JSON value of type 'object' to deserialize, but got '".concat(u,"'"));i||(i=function(e){const t={};for(const r in e.typeMap){var i,n;const o=e.typeMap[r],a=(0,s.tD)(o.prototype);if("function"==typeof e.key)continue;const l=a[e.key];if(!l)continue;if(null!==(i=l.json)&&void 0!==i&&i.type&&Array.isArray(l.json.type)&&1===l.json.type.length&&"string"==typeof l.json.type[0]){t[l.json.type[0]]=o;continue}const c=null===(n=l.json)||void 0===n?void 0:n.write;if(null===c||void 0===c||!c.writer){t[r]=o;continue}const u=c.target,d="string"==typeof u?u:e.key,h={};c.writer(r,h,d),h[d]&&(t[h[d]]=o)}return t}(e));const d=e.key;if("string"!=typeof d)return;const h=t[d],p=h?i[h]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!p){const e="Type '".concat(h||"unknown","' is not supported");return null!==c&&void 0!==c&&c.messages&&t&&c.messages.push(new o.A("".concat(n,":unsupported"),e,{definition:t,context:c})),void l().error(e)}const f=new p;return f.read(t,c),r?r(f):f}}(e.types)}function h(e,t,i,n){return 0!==n&&Array.isArray(t)?t.map((t=>h(e,t,i,n-1))):e(t,void 0,i)}function p(e){const t=d(e);return(e,i,n)=>{if(null==e)return e;if(Array.isArray(e)){const i=[];for(const r of e){const e=t(r,void 0,n);void 0!==e&&i.push(e)}return i}const r=t(e,void 0,n);return void 0!==r?[r]:void 0}}function f(e){if(!(0,a.P)(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?m(t.Type):y(t.Type))}function m(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||f(e))}function y(e){for(const t in e.typeMap)if(!m(e.typeMap[t]))return!1;return!0}},8034:(e,t,i)=>{i.d(t,{A:()=>u});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(82052),l=i(48746);let c=n=class extends a.A{constructor(e){super(e),this.type="bar-chart"}clone(){var e;return new n({altText:this.altText,title:this.title,caption:this.caption,value:null===(e=this.value)||void 0===e?void 0:e.clone()})}};(0,r._)([(0,o.MZ)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:l.U.write,isRequired:!0}}})],c.prototype,"type",void 0),c=n=(0,r._)([(0,s.$)("esri.popup.content.BarChartMediaInfo")],c);const u=c},8195:(e,t,i)=>{function n(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}i.d(t,{A:()=>n})},8819:(e,t,i)=>{i.d(t,{h:()=>s});var n=i(50076),r=i(81806),o=(i(76460),i(17879));function s(e,t,i){if(e&&t)if("object"==typeof t)for(const n of Object.getOwnPropertyNames(t))s(e,n,t[n]);else{if(t.includes(".")){const n=t.split("."),r=n.splice(-1,1)[0];return void s((0,o.Jt)(e,n),r,i)}const n=e.__accessor__;null!=n&&a(t,n),e[t]=i}}function a(e,t){if((0,r.A)("esri-unknown-property-errors")&&!function(e,t){return null!=t.metadata[e]}(e,t))throw new n.A("set:unknown-property",function(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}(e,t))}},8837:(e,t,i)=>{i.d(t,{CJ:()=>f});var n=i(50076),r=i(53084),o=i(48611),s=i(22382),a=i(31933);const l=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),c=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wcs","wfs","wms","wmts"]),u=new Set([...c,"link-chart"]);function d(e,t){if(t.restrictedWebMapWriting){const i=function(e){switch(e.layerContainerType){case"basemap":return l;case"operational-layers":return"link-chart"===e.origin?u:c;default:return null}}(t);return null==i||i.has(e.type)&&!(0,a.Ov)(e)}return!0}function h(e,t){var i,n;"maxScale"in e&&(t.maxScale=null!==(i=(0,s.B)(e.maxScale))&&void 0!==i?i:void 0),"minScale"in e&&(t.minScale=null!==(n=(0,s.B)(e.minScale))&&void 0!==n?n:void 0)}function p(e,t){var i;if(function(e,t){if(t)if((0,a.Ov)(e)){var i;const n=(0,o.wc)("featureCollection.layers",t),r=null===n||void 0===n||null===(i=n[0])||void 0===i?void 0:i.layerDefinition;r&&h(e,r)}else"group"!==e.type&&h(e,t)}(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=null!==(i=(0,s.B)(e.opacity))&&void 0!==i?i:void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,a.Ov)(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function f(e,t,i){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return null!==i&&void 0!==i&&i.messages&&i.messages.push(new n.A("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted"),{layer:e})),null;if((0,a.Ov)(e)&&!e.isTable)t=e.resourceInfo;else if(d(e,i)){const t={};return e.write(t,i)?t:null}return null!=t&&p(e,t=(0,r.o8)(t)),t}},9392:(e,t,i)=>{function n(){return[0,0,0]}function r(e){return[e[0],e[1],e[2]]}function o(e,t,i){return[e,t,i]}function s(e,t,i){return[e,t,i]}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];const i=Math.min(3,e.length);for(let n=0;n<i;++n)t[n]=e[n];return t}function l(){return[0,0,0]}function c(){return o(1,1,1)}function u(){return o(1,0,0)}function d(){return o(0,1,0)}function h(){return o(0,0,1)}i.d(t,{CN:()=>s,Cb:()=>g,Cw:()=>m,JP:()=>y,S:()=>c,Ul:()=>l,Un:()=>f,ci:()=>a,fA:()=>o,o8:()=>r,uY:()=>p,vt:()=>n});const p=[0,0,0],f=c(),m=u(),y=d(),g=h();Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_X:m,UNIT_Y:y,UNIT_Z:g,ZEROS:p,clone:r,create:n,createView:function(e,t){return new Float64Array(e,t,3)},freeze:s,fromArray:a,fromValues:o,ones:c,unitX:u,unitY:d,unitZ:h,zeros:l},Symbol.toStringTag,{value:"Module"}))},9624:(e,t,i)=>{i.r(t),i.d(t,{canProjectWithoutEngine:()=>B,getTransformation:()=>Z,getTransformations:()=>F,initializeProjection:()=>q,isEqualBaseGCS:()=>H,isLoaded:()=>C,isLoadedOrLoad:()=>P,isLoadedOrLoadFor:()=>O,load:()=>R,project:()=>N,projectExtent:()=>ie,projectMany:()=>k,projectMultipoint:()=>K,projectOrLoad:()=>L,projectOrLoadMany:()=>D,projectPoint:()=>$,projectPolygon:()=>ee,projectPolyline:()=>X,projectWithZConversion:()=>V,projectWithoutEngine:()=>W,requiresLoad:()=>I,test:()=>G,tryProjectWithZConversion:()=>z,unload:()=>j});var n=i(50076),r=i(50346),o=i(99486),s=i(99702),a=i(9392),l=i(38590),c=i(34111),u=i(76797),d=i(66388),h=i(7724),p=i(19247),f=i(65215),m=i(23701),y=i(13312),g=i(45308),v=i(482),_=i(91789),w=i(64681),b=i(80963),A=i(86729);let M=null,S=null,T=null,E={};const x=new s.I;function C(){return!!M&&(0,h.i)()}function P(){return!!C()||((0,o.gc)(x),R(),!1)}function O(e,t){return!e||!t||B(e,t)||P()}function I(e,t){return!B(e,t)&&!C()}function R(e){return null==T&&(T=Promise.all([(0,h.l)(),Promise.all([i.e(2612),i.e(4787)]).then(i.bind(i,52612)).then((e=>e.g)),i.e(5617).then(i.bind(i,35617))])),T.then((t=>{let[,i,{hydratedAdapter:n}]=t;(0,r.Te)(e),S=n,M=i.default,M._enableProjection(h.p),x.notify()}))}function N(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Array.isArray(e)?0===e.length?[]:((0,l.H)(e),k(S,e,e[0].spatialReference,t,i,n)):((0,l.f)(e),k(S,[e],e.spatialReference,t,i,n)[0])}function k(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(null==i||null==n)return t;if(B(i,n,r))return t.map((e=>W(e,i,n)));if(null==r&&(0,c.jA)(i))return t.map((e=>W(e,i,y.A.WGS84))).map((e=>z(e,n)));if(null==r&&(0,c.jA)(n))return t.map((e=>z(e,y.A.WGS84))).map((e=>W(e,y.A.WGS84,n)));if(null==r){const e=w.A.cacheKey(i,n);void 0!==E[e]?r=E[e]:(null==(r=Z(i,n,void 0))&&(r=new w.A),E[e]=r)}if(null==M||null==e)throw new U;return null!=o?M._project(e,t,i,n,r,o):M._project(e,t,i,n,r)}function L(e,t){const i=D([e],t);return null!=i.pending?{pending:i.pending,geometry:null}:null!=i.geometries?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function D(e,t){if(!C())for(const i of e)if(null!=i&&!(0,b.aI)(i.spatialReference,t)&&(0,b.fn)(i.spatialReference)&&(0,b.fn)(t)&&!B(i.spatialReference,t))return(0,o.gc)(x),{pending:R(),geometries:null};return{pending:null,geometries:e.map((e=>null==e?null:(0,b.aI)(e.spatialReference,t)?e:(0,b.fn)(e.spatialReference)&&(0,b.fn)(t)?z(e,t):null))}}function Z(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e||null==t)return null;if(null==M||null==S)throw new U;const n=M._getTransformation(S,e,t,i,null===i||void 0===i?void 0:i.spatialReference);return null!==n?w.A.fromGE(n):null}function F(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==M||null==S)throw new U;const n=M._getTransformationBySuitability(S,e,t,i,null===i||void 0===i?void 0:i.spatialReference);if(null!==n){const e=[];for(const t of n)e.push(w.A.fromGE(t));return e}return[]}class U extends n.A{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function j(){M=null,S=null,T=null,E={}}const G={get loadPromise(){return T}};function z(e,t){try{const i=N(e,t);if(null==i)return null;"xmin"in e&&"xmin"in i&&(i.zmin=e.zmin,i.zmax=e.zmax);const n=(0,A.N)(i.type,e.spatialReference,t);return null!=n&&n(i),i}catch(i){if(!(i instanceof U))throw i;return null}}async function V(e,t,i){const n=e.spatialReference;return null!=n&&null!=t&&await q(n,t,null,i),z(e,t)}function B(e,t,i){return!i&&(!!(0,b.aI)(e,t)||(0,b.fn)(e)&&(0,b.fn)(t)&&!!(0,v.jd)(e,t))}function H(e,t){if((0,b.aI)(e,t))return!0;if(!(0,b.fn)(e)||!(0,b.fn)(t))return!1;const i=(0,b.oT)(e)||(0,b.K8)(e)||(0,b.x1)(e),n=(0,b.oT)(t)||(0,b.K8)(t)||(0,b.x1)(t);return i&&n}async function q(e,t,i,n){if(C())return(0,r.NO)(n);if(Array.isArray(e)){for(const{source:r,dest:o,geographicTransformation:s}of e)if(r&&o&&!B(r,o,s))return R(n)}else if(e&&t&&!B(e,t,i))return R(n);return(0,r.NO)(n)}function W(e,t,i){return e?"x"in e?J(e,t,new p.A,i,0):"xmin"in e?ne(e,t,new u.A,i,0):"rings"in e?te(e,t,new f.A,i,0):"paths"in e?Q(e,t,new m.A,i,0):"points"in e?Y(e,t,new d.A,i,0):null:null}function $(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.spatialReference,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return null!=i&&null!=e.spatialReference&&null!=J(e,e.spatialReference,t,i,n)}function J(e,t,i,n,r){oe[0]=e.x,oe[1]=e.y;const o=e.z;return oe[2]=void 0!==o?o:r,(0,g.projectBuffer)(oe,t,0,oe,n,0)?(i.x=oe[0],i.y=oe[1],i.spatialReference=n,void 0!==o||(0,c.xP)(n)?(i.z=oe[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),void 0===e.m?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function K(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.spatialReference,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return null!=e.spatialReference&&null!=i&&null!=Y(e,e.spatialReference,t,i,n)}function Y(e,t,i,n,r){const{points:o,hasZ:s,hasM:a}=e,l=[],u=o.length,d=[];for(const c of o)d.push(c[0],c[1],s?c[2]:r);if(!(0,g.projectBuffer)(d,t,0,d,n,0,u))return null;const h=s||(0,c.xP)(n);for(let c=0;c<u;++c){const e=3*c,t=d[e],i=d[e+1];h&&a?l.push([t,i,d[e+2],o[c][3]]):h?l.push([t,i,d[e+2]]):a?l.push([t,i,o[c][2]]):l.push([t,i])}return i.points=l,i.spatialReference=n,i.hasZ=s,i.hasM=a,i}function X(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.spatialReference,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return null!=e.spatialReference&&null!=i&&null!=Q(e,e.spatialReference,t,i,n)}function Q(e,t,i,n,r){const{paths:o,hasZ:s,hasM:a}=e,l=[];if(!re(o,null!==s&&void 0!==s&&s,null!==a&&void 0!==a&&a,t,l,n,r))return null;const u=s||(0,c.xP)(n);return i.paths=l,i.spatialReference=n,i.hasZ=u,i.hasM=a,i}function ee(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.spatialReference,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return null!=e.spatialReference&&null!=i&&null!=te(e,e.spatialReference,t,i,n)}function te(e,t,i,n,r){const{rings:o,hasZ:s,hasM:a}=e,l=[];if(!re(o,null!==s&&void 0!==s&&s,null!==a&&void 0!==a&&a,t,l,n,r))return null;const u=s||(0,c.xP)(n);return i.rings=l,i.spatialReference=n,i.hasZ=u,i.hasM=a,i}function ie(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.spatialReference,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return null!=e.spatialReference&&null!=i&&null!=ne(e,e.spatialReference,t,i,n)}function ne(e,t,i,n,r){const{xmin:o,ymin:s,xmax:a,ymax:l,hasZ:u,hasM:d}=e,h=u?e.zmin:r;if(!(0,_.L)(o,s,h,t,oe,n))return null;const p=u||(0,c.xP)(n);i.xmin=oe[0],i.ymin=oe[1],p&&(i.zmin=oe[2]);const f=u?e.zmax:r;return(0,_.L)(a,l,f,t,oe,n)?(i.xmax=oe[0],i.ymax=oe[1],p&&(i.zmax=oe[2]),d&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=n,i):null}function re(e,t,i,n,r,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const a=new Array;for(const c of e)for(const e of c)a.push(e[0],e[1],t?e[2]:s);if(!(0,g.projectBuffer)(a,n,0,a,o,0))return!1;let l=0;r.length=0;const u=t||(0,c.xP)(o);for(const c of e){const e=new Array;for(const t of c)u&&i?e.push([a[l++],a[l++],a[l++],t[3]]):u?e.push([a[l++],a[l++],a[l++]]):i?(e.push([a[l++],a[l++],t[2]]),l++):(e.push([a[l++],a[l++]]),l++);r.push(e)}return!0}const oe=(0,a.vt)()},9685:(e,t,i)=>{i.d(t,{C:()=>o});var n=i(78614);let r;function o(){return null!==r&&void 0!==r||(r=function(){var e,t;const i=new s,r=function(e){if("undefined"==typeof WebGL2RenderingContext)return null;const t=document.createElement("canvas");if(!t)return null;let i=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(null==i&&(i=t.getContext("webgl2"),null!=i&&(e.majorPerformanceCaveat=!0)),null==i)return i;e.available=!0,e.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const n=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return n&&(e.supportsHighPrecisionFragment=n.precision>0),i}(i);return null==r||(i.supportsColorBufferFloat=null!==r.getExtension("EXT_color_buffer_float"),i.supportsColorBufferFloatBlend=null!==r.getExtension("EXT_float_blend"),i.supportsColorBufferHalfFloat=i.supportsColorBufferFloat||null!==r.getExtension("EXT_color_buffer_half_float"),i.unmaskedRenderer=null!==(e=null===(t=(0,n.Z)(r,{debugRendererInfo:!0}))||void 0===t?void 0:t.getUnmaskedRendererWebGL())&&void 0!==e?e:"unknown"),i}()),r}class s{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}}},9835:(e,t,i)=>{i.d(t,{F:()=>l});var n=i(11373),r=i(2413),o=i(46813),s=i(66422),a=i(93453);class l{constructor(e,t){this.key=new a.A(0,0,0,0),this.bounds=(0,r.vt)(),this.objectIds=new Set,this.key.set(t);const i=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=i.resolution,this.level=i.level,this.scale=i.scale,this.minScale=e.zoomToScale(i.level-1),this.maxScale=e.zoomToScale(i.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return(0,r.w1)(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(e){return(0,s.N)(this.scale,e)}createChildTiles(){const e=this.key.getChildKeys(),t=n.A.acquire();for(let i=0;i<e.length;i++)t[i]=new l(this.tileInfoView,e[i]);return t}getQuantizationParameters(){return o.A.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}},9994:(e,t,i)=>{i.d(t,{N:()=>u});var n,r=i(35143),o=i(42553),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842)),l=i(9392),c=i(85192);let u=n=class extends o.A{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){var e,t;const i={color:null!==(e=null===(t=this.color)||void 0===t?void 0:t.clone())&&void 0!==e?e:null,emissiveFactor:this.emissiveFactor?(0,l.o8)(this.emissiveFactor):null};return new n(i)}};(0,r._)([(0,s.MZ)((0,c.E)())],u.prototype,"color",void 0),(0,r._)([(0,s.MZ)({type:[Number],json:{write:!1}})],u.prototype,"emissiveFactor",void 0),u=n=(0,r._)([(0,a.$)("esri.symbols.support.Symbol3DMaterial")],u)},10425:(e,t,i)=>{i.d(t,{X:()=>o,Z:()=>r});var n=i(73763);function r(e){return new n.A({getCollections:()=>[e.tables,e.layers],getChildrenFunction:e=>{const t=[];return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent;return!!t&&"tables"in t&&t.tables.includes(e)}})}function o(e){for(const t of e.values())null===t||void 0===t||t.destroy();e.clear()}},11164:(e,t,i)=>{i.d(t,{U:()=>n});class n{constructor(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;this.id=e,this.level=t,this.row=i,this.col=n,this.extent=r}}},11265:(e,t,i)=>{i(65256),i(50265),i(39348),i(38042);var n=i(63860),r=i(3825),o=i(50076);async function s(e){if(null!=l.fetchBundleAsset)return l.fetchBundleAsset(e);const t=await(0,r.A)(e,{responseType:"text"});return JSON.parse(t.data)}class a{constructor(e){let t,{base:i="",pattern:n,location:r=new URL(window.location.href)}=e;t="string"==typeof r?e=>new URL(e,new URL(r,window.location.href)).href:r instanceof URL?e=>new URL(e,r).href:r,this.pattern="string"==typeof n?new RegExp("^".concat(n)):n,this.getAssetUrl=t,i=i?i.endsWith("/")?i:i+"/":"",this.matcher=new RegExp("^".concat(i,"(?:(.*)\\/)?(.*)$"))}fetchMessageBundle(e,t){return async function(e,t,i,r){const a=t.exec(i);if(!a)throw new o.A("esri-intl:invalid-bundle",'Bundle id "'.concat(i,'" is not compatible with the pattern "').concat(t,'"'));const l=a[1]?"".concat(a[1],"/"):"",c=a[2],u=(0,n.xO)(r),d="".concat(l).concat(c,".json"),h=u?"".concat(l).concat(c,"_").concat(u,".json"):d;let p;try{p=await s(e(h))}catch(f){if(h===d)throw new o.A("intl:unknown-bundle",'Bundle "'.concat(i,'" cannot be loaded'),{error:f});try{p=await s(e(d))}catch(f){throw new o.A("intl:unknown-bundle",'Bundle "'.concat(i,'" cannot be loaded'),{error:f})}}return p}(this.getAssetUrl,this.matcher,e,t)}}const l={};var c=i(28899);(0,n.ao)(function(e){return new a(e)}({pattern:"esri/",location:c.s}))},11352:(e,t,i)=>{i.d(t,{CW:()=>a,F8:()=>l,gH:()=>s,m3:()=>u,qz:()=>r,rL:()=>o,t1:()=>d});const n=[0,0];function r(e,t){return null!=t&&c(e,t.x,t.y,t.z)}function o(e,t){var i;if(null===(i=t.points)||void 0===i||!i.length)return!1;for(const n of t.points)if(!a(e,n))return!1;return!0}function s(e,t){const{xmin:i,ymin:n,zmin:r,xmax:o,ymax:s,zmax:a}=t;return e.hasZ&&t.hasZ?c(e,i,n,r)&&c(e,i,s,r)&&c(e,o,s,r)&&c(e,o,n,r)&&c(e,i,n,a)&&c(e,i,s,a)&&c(e,o,s,a)&&c(e,o,n,a):c(e,i,n)&&c(e,i,s)&&c(e,o,s)&&c(e,o,n)}function a(e,t){return c(e,t[0],t[1])}function l(e,t){return c(e,t[0],t[1],t[2])}function c(e,t,i,n){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(null==n||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function u(e,t){return n[1]=t.y,n[0]=t.x,function(e,t){return d(e.rings,t)}(e,n)}function d(e,t){if(!e)return!1;if(function(e){return!Array.isArray(e[0][0])}(e))return h(!1,e,t);let i=!1;for(let n=0,r=e.length;n<r;n++)i=h(i,e[n],t);return i}function h(e,t,i){const[n,r]=i;let o=e,s=0;for(let a=0,l=t.length;a<l;a++){s++,s===l&&(s=0);const[e,i]=t[a],[c,u]=t[s];(i<r&&u>=r||u<r&&i>=r)&&e+(r-i)/(u-i)*(c-e)<n&&(o=!o)}return o}},11373:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(3789);function r(e){e.length=0}class o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;this._pool=new n.A(Array,void 0,r,t,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return s.acquire()}static release(e){return s.release(e)}static prune(){s.prune()}}const s=new o(100)},11500:(e,t,i)=>{i.d(t,{FV:()=>a,Uo:()=>o,ZV:()=>r,xB:()=>s});i(81806);var n=i(76931);function r(e){return(0,n.tc)(e.x,e.y)}function o(e,t){var i;const r=null===(i=e instanceof HTMLElement?e:e.surface)||void 0===i?void 0:i.getBoundingClientRect();return r?(0,n.tc)(t.clientX-r.left,t.clientY-r.top):(0,n.tc)(0,0)}function s(e,t){return t instanceof Event?o(e,t):r(t)}function a(e){if(e instanceof Event)return!0;if("object"==typeof e&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}},11662:(e,t,i)=>{i.d(t,{g:()=>l});var n=i(8034),r=i(12061),o=i(52022),s=i(36381),a=i(79181);const l={base:i(41210).A,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":n.A,"column-chart":r.A,"line-chart":s.A,"pie-chart":a.A,image:o.A}}},12061:(e,t,i)=>{i.d(t,{A:()=>u});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(82052),l=i(48746);let c=n=class extends a.A{constructor(e){super(e),this.type="column-chart"}clone(){var e;return new n({altText:this.altText,title:this.title,caption:this.caption,value:null===(e=this.value)||void 0===e?void 0:e.clone()})}};(0,r._)([(0,o.MZ)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:l.U.write,isRequired:!0}}})],c.prototype,"type",void 0),c=n=(0,r._)([(0,s.$)("esri.popup.content.ColumnChartMediaInfo")],c);const u=c},12294:(e,t,i)=>{i.d(t,{EZ:()=>s,Io:()=>o,QP:()=>l,T0:()=>a});var n=i(80963),r=i(45417);function o(e,t){const i=e.x-t.x,n=e.y-t.y,r=null!=e.z&&null!=t.z?e.z-t.z:0;return Math.sqrt(i*i+n*n+r*r)}function s(e){var t,i;return null!==(t=null===(i=l(e,c))||void 0===i?void 0:i[0])&&void 0!==t?t:null}function a(e){var t,i;return null!==(t=null===(i=l(e,c))||void 0===i?void 0:i[1])&&void 0!==t?t:null}function l(e){let{x:t,y:i,spatialReference:o}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(o){if((0,n.K8)(o))return(0,r.tD)(t,i,s);if((0,n.EA)(o))return s[0]=t,s[1]=i,s}return null}const c=[0,0]},13096:(e,t,i)=>{i.d(t,{Fi:()=>u,HZ:()=>g,Jf:()=>y,LS:()=>v,Wo:()=>m,bd:()=>_,cr:()=>p,iz:()=>h,qg:()=>d,yG:()=>f});var n=i(90534),r=i(79453);const o={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},s=Object.values(o),a=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(".concat(s.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),l=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(".concat(s.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),c=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function u(e){return a.test(e)}function d(e){if(null==e)return null;const t=(0,n.An)(e),i=(null===t||void 0===t?void 0:t.path.match(a))||(null===t||void 0===t?void 0:t.path.match(l));if(!i)return null;const[,r,s,c,u]=i,d=s.indexOf("/");return{title:p(-1!==d?s.slice(d+1):s),serverType:o[c.toLowerCase()],sublayer:null!=u&&""!==u?parseInt(u,10):null,url:{path:r}}}function h(e){const t=(0,n.An)(e).path.match(c);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function p(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function f(e,t){const i=[];if(e){const t=d(e);null!=t&&t.title&&i.push(t.title)}if(t){const e=p(t);i.push(e)}if(2===i.length){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function m(e){let t=(0,n.$z)(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function y(e,t){return e?(0,n.UC)((0,n.zi)(e,t)):e}function g(e){let{url:t}=e;if(!t)return{url:t};t=(0,n.zi)(t,e.logger);const i=(0,n.An)(t),r=d(i.path);let o;if(null!=r)null!=r.sublayer&&null==e.layer.layerId&&(o=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const e=h(i.path);null!=e&&(t=e.serviceUrl,o=e.sublayerId)}return{url:(0,n.UC)(t),layerId:o}}function v(e,t,i,o,s){(0,r.w)(t,o,"url",s),o.url&&null!=e.layerId&&(o.url=(0,n.fj)(o.url,i,e.layerId.toString()))}function _(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),r=t.includes("/imageserver/wmsserver"),o=t.includes("/wmsserver");return i&&(n||r||o)}},13312:(e,t,i)=>{i.d(t,{A:()=>m});var n,r=i(35143),o=i(91967),s=i(42553),a=i(53084),l=i(31633),c=i(40565),u=i(46053),d=i(85842),h=i(17707),p=i(80963);let f=n=class extends s.A{static fromJSON(e){if(!e)return null;if(102100===(null===e||void 0===e?void 0:e.wkid))return n.WebMercator;if(4326===(null===e||void 0===e?void 0:e.wkid))return n.WGS84;const t=new n;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){if(e&&"object"==typeof e)return e;const t="string"==typeof e?"wkt":"wkid";return{[t]:e}}get isWGS84(){return(0,p.oT)(this)}get isWebMercator(){return(0,p.K8)(this)}get isGeographic(){return(0,p.EA)(this)}get isWrappable(){return(0,p.d9)(this)}get metersPerUnit(){return(0,l.GA)(this)}get unit(){return(0,l.Ij)(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===n.WGS84)return new n(p.KK);if(this===n.WebMercator)return new n(p.ch);const e=new n;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(e.wkt=this.wkt),null!=this.wkt2&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=(0,a.o8)(this.imageCoordinateSystem)),e}equals(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,r=this.imageCoordinateSystem;return null==t||n?JSON.stringify(r)===JSON.stringify(e.imageCoordinateSystem):i?r.id===t&&r.referenceServiceName===i:r.id===t}return(0,p.aI)(this,e)}toJSON(e){return this.write(void 0,e)}};f.GCS_NAD_1927=null,f.WGS84=null,f.WebMercator=null,f.PlateCarree=null,(0,r._)([(0,u.MZ)({readOnly:!0})],f.prototype,"isWGS84",null),(0,r._)([(0,u.MZ)({readOnly:!0})],f.prototype,"isWebMercator",null),(0,r._)([(0,u.MZ)({readOnly:!0})],f.prototype,"isGeographic",null),(0,r._)([(0,u.MZ)({readOnly:!0})],f.prototype,"isWrappable",null),(0,r._)([(0,u.MZ)({type:c.jz,json:{write:!0}})],f.prototype,"latestWkid",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],f.prototype,"metersPerUnit",null),(0,r._)([(0,u.MZ)({readOnly:!0})],f.prototype,"unit",null),(0,r._)([(0,u.MZ)({type:c.jz,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],f.prototype,"wkid",void 0),(0,r._)([(0,u.MZ)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],f.prototype,"wkt",void 0),(0,r._)([(0,h.K)("wkt"),(0,h.K)("web-scene","wkt")],f.prototype,"writeWkt",null),(0,r._)([(0,u.MZ)({type:String,json:{write:!1}})],f.prototype,"wkt2",void 0),(0,r._)([(0,u.MZ)({type:c.jz,json:{write:!0}})],f.prototype,"vcsWkid",void 0),(0,r._)([(0,u.MZ)({type:c.jz,json:{write:!0}})],f.prototype,"latestVcsWkid",void 0),(0,r._)([(0,u.MZ)()],f.prototype,"imageCoordinateSystem",void 0),f=n=(0,r._)([(0,d.$)("esri.geometry.SpatialReference")],f),f.prototype.toJSON.isDefaultToJSON=!0,f.GCS_NAD_1927=o.A.freeze(new f({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),f.WGS84=o.A.freeze(new f(p.KK)),f.WebMercator=o.A.freeze(new f(p.ch)),f.PlateCarree=o.A.freeze(new f(p.tQ));const m=f},13692:(e,t,i)=>{i.d(t,{H_:()=>A,u4:()=>M,Oq:()=>T,lB:()=>S,eh:()=>b});var n=i(89379),r=i(18690),o=i(94643),s=i(45802),a=i(85632),l=i(76460),c=i(5095),u=i(45180),d=i(30363),h=i(93345),p=i(80895),f=i(96673);const m=()=>l.A.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");const y=[0,0,0,0];class g{constructor(){this.type="single",this._highlightOptions=new d.A,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*u.Ci),this._minMaxDistance=[0,0]}setHighlightOptions(e){this._highlightOptions=e}applyHighlightOptions(e,t){this._updateGradientTexture(e),e.bindTexture(this._shadeTex,c.CR),t.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){var e;null!==(e=this._shadeTex)&&void 0!==e&&e.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<c.U5)-1,activeGradient:this}]}_updateGradientTexture(e){const t=function(e){return"".concat(e.color,";").concat(e.haloColor,";").concat(e.haloOpacity,";").concat(e.fillOpacity,";").concat(e.haloWidth,";").concat(e.haloBlur)}(this._highlightOptions);if(t===this._optionsShadeTexKey)return;this._optionsShadeTexKey=t,function(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=(1-e.haloBlur)*e.haloWidth,t.outerHaloWidth=e.haloBlur*e.haloWidth/2,t.innerHaloWidth=e.haloBlur*e.haloWidth/2,t.outlinePosition=0}(this._highlightOptions,this._convertedHighlightOptions);const i=this._convertedHighlightOptions,n=i.outlinePosition-i.outlineWidth/2-i.outerHaloWidth,r=i.outlinePosition-i.outlineWidth/2,o=i.outlinePosition+i.outlineWidth/2,s=i.outlinePosition+i.outlineWidth/2+i.innerHaloWidth,a=Math.sqrt(Math.PI/2)*u.aY,l=Math.abs(n)>a?Math.round(10*(Math.abs(n)-a))/10:0,c=Math.abs(s)>a?Math.round(10*(Math.abs(s)-a))/10:0;let d;l&&!c?m().error("The outer rim of the highlight is "+l+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!l&&c?m().error("The inner rim of the highlight is "+c+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):l&&c&&m().error("The highlight is "+Math.max(l,c)+"px away from the edge of the feature; consider reducing some width values.");const g=[void 0,void 0,void 0,void 0];function v(e,t,i){g[0]=(1-i)*e[0]+i*t[0],g[1]=(1-i)*e[1]+i*t[1],g[2]=(1-i)*e[2]+i*t[2],g[3]=(1-i)*e[3]+i*t[3]}const{_texelData:_}=this;for(let h=0;h<u.Ci;++h)d=n+h/(u.Ci-1)*(s-n),d<n?(g[0]=0,g[1]=0,g[2]=0,g[3]=0):d<r?v(y,i.outlineColor,(d-n)/(r-n)):d<o?[g[0],g[1],g[2],g[3]]=i.outlineColor:d<s?v(i.outlineColor,i.fillColor,(d-o)/(s-o)):[g[0],g[1],g[2],g[3]]=i.fillColor,_[4*h]=255*g[0],_[4*h+1]=255*g[1],_[4*h+2]=255*g[2],_[4*h+3]=255*g[3];if(this._minMaxDistance[0]=n,this._minMaxDistance[1]=s,!this._shadeTex){const t=new f.R;t.wrapMode=h.pF.CLAMP_TO_EDGE,t.width=u.Ci,t.height=1,this._shadeTex=new p.g(e,t)}this._shadeTex.updateData(0,0,0,u.Ci,1,this._texelData)}}class v{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(e){for(let t=0;t<e.length;t++)this.gradients[t]||(this.gradients[t]=new g),this.gradients[t].setHighlightOptions(e[t]);for(let t=e.length+1;t<this.gradients.length;t++)this.gradients[t].destroy();this.gradients.length=e.length}destroy(){for(const e of this.gradients)e.destroy()}getReasonsWithGradients(){let e=1;const t=[];for(let i=0;i<this.gradients.length;i++){const n=this.gradients[i];t.push({activeReasons:e,activeGradient:n}),e<<=1}return t}}var _=i(63584);const w=new s.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function b(e){return w.toJSON(e)}function A(e){const{bandCount:t,attributeTable:i,colormap:n,pixelType:r}=e.raster.rasterInfo;return 1===t&&(null!=i||null!=n||"u8"===r||"s8"===r)}function M(e,t){var i,n,r;return null==t?(null!==(i=e)&&void 0!==i&&i.destroy(),null):("single"===(null===(n=e)||void 0===n?void 0:n.type)&&Array.isArray(t)&&(e.destroy(),e=null),"multi"!==(null===(r=e)||void 0===r?void 0:r.type)||Array.isArray(t)||(e.destroy(),e=null),e||(e=Array.isArray(t)?new v:new g),Array.isArray(t)?"multi"===e.type&&e.setHighlightOptions(t):"single"===e.type&&e.setHighlightOptions(t),e)}function S(e,t,i,r){const{painter:o,highlightGradient:s}=e,{highlight:a}=o.effects;if(!s)return;const l=e.passOptions,c=s.getReasonsWithGradients();for(let u=0;u<c.length;u++){const s=(0,n.A)((0,n.A)({},e),{},{passOptions:{type:"highlight",activeGradient:null!=r?c[r].activeGradient:c[u].activeGradient,activeReasons:c[u].activeReasons,stepType:"burn",highlightAll:t}});if(a.bind(s),i(s),u<c.length-1){let o=0;for(let e=u+1;e<c.length;e++)o|=c[e].activeReasons;i((0,n.A)((0,n.A)({},e),{},{passOptions:{type:"highlight",activeGradient:null!=r?c[r].activeGradient:c[u].activeGradient,activeReasons:o,stepType:"clear",highlightAll:t}}))}const l=(0,n.A)((0,n.A)({},e),{},{passOptions:{type:"highlight",activeGradient:null!=r?c[r].activeGradient:c[u].activeGradient,activeReasons:c[u].activeReasons,stepType:"draw",highlightAll:t}});o.setPipelineState((0,_.Qu)(e)),o.updatePipelineState(e.context),a.draw(l),a.unbind()}e.passOptions=l}function T(e){var t,i,n;if(!e)return[];let s=(0,a.DU)(e)?[e]:o.A.isCollection(e)?e.toArray():Array.isArray(e)?e:[];return s=null===(t=s)||void 0===t?void 0:t.filter(r.Ru),0===(null!==(i=null===(n=s)||void 0===n?void 0:n.length)&&void 0!==i?i:0)?[]:s}},14556:(e,t,i)=>{i.d(t,{$O:()=>r,Sw:()=>s,sH:()=>o});class n{constructor(e,t,i,n,r,o){this.semiMajorAxis=e,this.flattening=t,this.outerAtmosphereRimWidth=i,this.atmosphereHeight=n,this.scaleHeight=r;const s=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*s,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const r=new n(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),o=new n(3396190,1/169.8944472236118,23e4,6e4,.111),s=new n(1737400,0,0,0,0)},14656:(e,t,i)=>{i.d(t,{$U:()=>s,Qw:()=>a,Sh:()=>r,rE:()=>o});const n=new Map;function r(){n.clear()}function o(e){return n.get(e)}function s(e,t){n.set(e,t)}function a(e){n.delete(e)}},15142:(e,t,i)=>{i.d(t,{A5:()=>p,Mh:()=>n});var n,r=i(89379),o=i(41289),s=i(96017);!function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"}(n||(n={}));const a=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function l(e){return null!=e&&a.has(e.type)}function c(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function u(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function d(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}const h=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);(0,o.KC)(a,h);function p(e,t){const i=null!==t&&void 0!==t?t:null===e||void 0===e?void 0:e.domain;if(!i||"range"!==i.type)return;const n="range"in i?i.range[0]:i.minValue,o="range"in i?i.range[1]:i.maxValue,a=l(e);return c(e)||d(e)||u(e)?(0,r.A)((0,r.A)({},function(e,t,i){var n,r,o,a,l,h;return c(e)?{min:null===(n=(0,s.Xi)(i))||void 0===n?void 0:n.toMillis(),max:null===(r=(0,s.Xi)(t))||void 0===r?void 0:r.toMillis(),rawMin:i,rawMax:t}:d(e)?{min:null===(o=(0,s.UE)(i))||void 0===o?void 0:o.toMillis(),max:null===(a=(0,s.UE)(t))||void 0===a?void 0:a.toMillis(),rawMin:i,rawMax:t}:u(e)?{min:null===(l=(0,s.gz)(i))||void 0===l?void 0:l.toMillis(),max:null===(h=(0,s.gz)(t))||void 0===h?void 0:h.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}(e,o,n)),{},{isInteger:a}):{min:null!=n&&"number"==typeof n?n:null,max:null!=o&&"number"==typeof o?o:null,rawMin:n,rawMax:o,isInteger:a}}},15302:(e,t,i)=>{i.d(t,{A:()=>w});var n=i(35143),r=i(91967),o=i(87663),s=i(30726),a=i(41289),l=i(46053),c=(i(81806),i(76460),i(47249),i(85842)),u=i(19555),d=i(50346),h=i(59649),p=i(67993),f=i(52394),m=i(75540);class y{constructor(e,t){this.item=e,this.controller=t,this.promise=null}}class g{constructor(e){this._schedule=null,this._task=null,this._deferreds=new p.A,this._controllers=new p.A,this._processingItems=new p.A,this._pausedSignal=(0,m.v)(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new h.A(e.peeker),this.process=e.process;const t=e.scheduler;e.priority&&t&&(this._task=t.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=(0,s.xt)(this._schedule),this._task=(0,s.xt)(this._task)}get updating(){var e;return!(null===(e=this._task)||void 0===e||!e.updating)||this.running}get length(){return this._processingItems.size+this._queue.length}abort(e){const t=this._controllers.get(e);t&&t.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach((t=>e.push(t))),this._controllers.clear(),e.forEach((e=>e.abort())),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach(((t,i)=>e(i)))}get(e){const t=this._deferreds.get(e);return t?t.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,t){const i=this.get(e);if(i)return i;const n=new AbortController;let r=null;t&&(r=(0,d.u7)(t,(()=>n.abort())));const o=()=>{s.remove(),null!=r&&r.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},s=(0,d.NY)(n.signal,(()=>{const t=this._processingItems.get(e);t&&t.controller.abort(),o(),a.reject((0,d.NK)())})),a=(0,d.Tw)();return this._deferreds.set(e,a),this._controllers.set(e,n),a.promise.then(o,o),this._queue.push(e),this._scheduleNext(),a.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){var e;const t=this._queue.popLast();return t&&(null!==(e=this._deferreds.get(t))&&void 0!==e&&e.reject((0,d.NK)()),this._removeItem(t)),t}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const t of e)this._queue.push(t.item),t.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=(0,f._)((()=>{this._schedule=null,this._next()})))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(t))}_processError(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(t))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let t;const i=new AbortController,n=new y(e,i);this._processingItems.set(e,n);try{t=this.process(e,i.signal)}catch(r){this._processError(n,r)}(0,d.$X)(t)?(n.promise=t,t.then((e=>this._processResult(n,e)),(e=>this._processError(n,e)))):this._processResult(n,t)}get test(){}}const v=[0,0];let _=class extends r.A{constructor(e){super(e),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:e,process:t,scheduler:i,priority:n}=this;this._queue=new g({concurrency:e,scheduler:i,priority:n,process:(e,i)=>{const n=this._keyToItem.get(e);return t(n,{signal:i})},peeker:e=>this._peek(e)})}destroy(){this.clear(),this._queue=(0,s.pR)(this._queue)}get length(){return this._queue?this._queue.length:0}abort(e){const t="string"==typeof e?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}pause(){this._queue.pause()}push(e){const t=e.key.id;if(this._queue.has(t))return this._queue.get(t);const i=this._queue.push(t),n=this.tileInfoView.getTileScale(e.key),r=(0,o.tE)(this._tilesByScale,n,(()=>new Set)),s=()=>{r.delete(e.key),0===r.size&&this._tilesByScale.delete(n),this._keyToItem.delete(t)};return r.add(e.key),this._keyToItem.set(t,e),i.then(s,s),i}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(e){if(!this.state)return e.values().next().value;const t=new Set;for(const o of e)t.add(this._keyToItem.get(o).key);const i=this.state.scale;let n,r=Number.POSITIVE_INFINITY;for(const[o,s]of this._tilesByScale)if((0,a.bw)(s,(e=>t.has(e)))){const e=Math.abs(o-i);e<r&&(n=s,r=e)}return this._getClosestTileKey(n,e).id}_getClosestTileKey(e,t){const i=this.tileInfoView,n=this.state.center;let r,o=Number.POSITIVE_INFINITY;for(const s of e)if(t.has(s.id)){i.getTileCoords(v,s);const e=(0,u.Io)(v,n);e<o&&(o=e,r=s)}return r}};(0,n._)([(0,l.MZ)({constructOnly:!0})],_.prototype,"concurrency",void 0),(0,n._)([(0,l.MZ)({constructOnly:!0})],_.prototype,"priority",void 0),(0,n._)([(0,l.MZ)({constructOnly:!0})],_.prototype,"process",void 0),(0,n._)([(0,l.MZ)({constructOnly:!0})],_.prototype,"scheduler",void 0),(0,n._)([(0,l.MZ)()],_.prototype,"state",void 0),(0,n._)([(0,l.MZ)({constructOnly:!0})],_.prototype,"tileInfoView",void 0),_=(0,n._)([(0,c.$)("esri.views.2d.tiling.TileQueue")],_);const w=_},15303:(e,t,i)=>{i.d(t,{h:()=>o,k:()=>r});const n=new FinalizationRegistry((e=>{e.close()}));function r(e,t){n.register(e,t,t)}function o(e){n.unregister(e)}},15434:(e,t,i)=>{var n;i.d(t,{i:()=>n}),function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"}(n||(n={}))},15863:(e,t,i)=>{i.d(t,{r:()=>r});var n=i(61196);function r(e,t){if(!(this instanceof r))return new r(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this.toBBox=t:this._initFormat(t)),this.clear()}function o(e,t,i){if(!i)return t.indexOf(e);for(var n=0;n<t.length;n++)if(i(e,t[n]))return n;return-1}function s(e,t){a(e,0,e.children.length,t,e)}function a(e,t,i,n,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=t;s<i;s++)o=e.children[s],l(r,e.leaf?n(o):o);return r}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function c(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function f(e,t){var i=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,r-i)*Math.max(0,o-n)}function m(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function y(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function g(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(e,t,i,r,o){for(var s,a=[t,i];a.length;)(i=a.pop())-(t=a.pop())<=r||(s=t+Math.ceil((i-t)/r/2)*r,(0,n.q)(e,s,t,i,o),a.push(t,s,s,i))}r.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],n=this.toBBox;if(!y(e,t))return i;for(var r,o,s,a,l=[];t;){for(r=0,o=t.children.length;r<o;r++)s=t.children[r],y(e,a=t.leaf?n(s):s)&&(t.leaf?i.push(s):m(e,a)?this._all(s,i):l.push(s));t=l.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!y(e,t))return!1;for(var n,r,o,s,a=[];t;){for(n=0,r=t.children.length;n<r;n++)if(o=t.children[n],y(e,s=t.leaf?i(o):o)){if(t.leaf||m(e,s))return!0;a.push(o)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return null!=e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(e,t){if(null==e)return this;for(var i,n,r,s,a=this.data,l=this.toBBox(e),c=[],u=[];a||c.length;){if(a||(a=c.pop(),n=c[c.length-1],i=u.pop(),s=!0),a.leaf&&-1!==(r=o(e,a.children,t)))return a.children.splice(r,1),c.push(a),this._condense(c),this;s||a.leaf||!m(a,l)?n?(i++,a=n.children[i],s=!1):a=null:(c.push(a),u.push(i),i=0,n=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,n){var r,o=i-t+1,a=this._maxEntries;if(o<=a)return s(r=g(e.slice(t,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,n-1))),(r=g([])).leaf=!1,r.height=n;var l,c,u,d,h=Math.ceil(o/a),p=h*Math.ceil(Math.sqrt(a));for(v(e,t,i,p,this.compareMinX),l=t;l<=i;l+=p)for(v(e,l,u=Math.min(l+p-1,i),h,this.compareMinY),c=l;c<=u;c+=h)d=Math.min(c+h-1,u),r.children.push(this._build(e,c,d,n-1));return s(r,this.toBBox),r},_chooseSubtree:function(e,t,i,n){for(var r,o,s,a,l,c,u,h;n.push(t),!t.leaf&&n.length-1!==i;){for(u=h=1/0,r=0,o=t.children.length;r<o;r++)l=d(s=t.children[r]),(c=p(e,s)-l)<h?(h=c,u=l<u?l:u,a=s):c===h&&l<u&&(u=l,a=s);t=a||t.children[0]}return t},_insert:function(e,t,i){var n=this.toBBox,r=i?e:n(e),o=[],s=this._chooseSubtree(r,this.data,t,o);for(s.children.push(e),l(s,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)},_split:function(e,t){var i=e[t],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var o=this._chooseSplitIndex(i,r,n),a=g(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,s(i,this.toBBox),s(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(e,t){this.data=g([e,t]),this.data.height=e.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var n,r,o,s,l,c,u,h;for(c=u=1/0,n=t;n<=i-t;n++)s=f(r=a(e,0,n,this.toBBox),o=a(e,n,i,this.toBBox)),l=d(r)+d(o),s<c?(c=s,h=n,u=l<u?l:u):s===c&&l<u&&(u=l,h=n);return h},_chooseSplitAxis:function(e,t,i){var n=e.leaf?this.compareMinX:c,r=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,r)&&e.children.sort(n)},_allDistMargin:function(e,t,i,n){e.children.sort(n);var r,o,s=this.toBBox,c=a(e,0,t,s),u=a(e,i-t,i,s),d=h(c)+h(u);for(r=t;r<i-t;r++)o=e.children[r],l(c,e.leaf?s(o):o),d+=h(c);for(r=i-t-1;r>=t;r--)o=e.children[r],l(u,e.leaf?s(o):o),d+=h(u);return d},_adjustParentBBoxes:function(e,t,i){for(var n=i;n>=0;n--)l(t[n],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)0===e[i].children.length?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():s(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},15941:(e,t,i)=>{i.d(t,{$8:()=>S,Cc:()=>a,Hx:()=>g,Io:()=>M,J_:()=>d,KJ:()=>u,Sp:()=>f,XM:()=>h,YN:()=>p,ZH:()=>y,cU:()=>r,gg:()=>m,hs:()=>l,kU:()=>c,or:()=>E,pF:()=>C,pq:()=>x,qE:()=>o,yR:()=>s});const n=new Float32Array(1);function r(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function o(e,t,i){return Math.min(Math.max(e,t),i)}function s(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function a(e,t,i){return e+(t-e)*i}function l(e,t,i,n,r){return a(n,r,(e-t)/(i-t))}function c(e){return e*Math.PI/180}function u(e){return 180*e/Math.PI}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-6;return(e<0?-1:1)/Math.max(Math.abs(e),t)}function h(e){return Math.acos(o(e,-1,1))}function p(e){return Math.asin(o(e,-1,1))}function f(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return e===t||!(!Number.isFinite(e)||!Number.isFinite(t))&&(e>t?e-t:t-e)<=i}function m(e,t){return!f(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6)&&e>t}function y(e,t){return!f(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6)&&e<t}function g(e,t){return f(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6)||e>t}const v=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function _(e){return v.setFloat64(0,e),v.getBigInt64(0)}const w=BigInt("1000000"),b=A(1);function A(e){const t=_(e=Math.abs(e)),i=function(e){return v.setBigInt64(0,e),v.getFloat64(0)}(t<=w?w:t-w);return Math.abs(e-i)}function M(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(null!=i&&A(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const n=_(e),r=_(t);return n<0==r<0&&!((n<r?r-n:n-r)>w)}function S(e){return T(Math.max(-x,Math.min(e,x)))}function T(e){return n[0]=e,n[0]}function E(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(f(t,1)&&f(i,1)&&f(n,1))}const x=T(34028234663852886e22);function C(e,t,i){if(void 0===i||0==+i)return Math[e](t);if(t=+t,i=+i,isNaN(t)||"number"!=typeof i||i%1!=0)return NaN;let n=t.toString().split("e");return n=(t=Math[e](+(n[0]+"e"+(n[1]?+n[1]-i:-i)))).toString().split("e"),+(n[0]+"e"+(n[1]?+n[1]+i:i))}},16036:(e,t,i)=>{i.d(t,{A:()=>M});var n=i(35143),r=i(69098),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842));let a=class extends r.A{constructor(e){super(e),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(e){return null!=e&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,"row",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,"column",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,"rows",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,"columns",void 0),a=(0,n._)([(0,s.$)("esri.CameraLayout")],a);const l=a;var c=i(73582),u=i(42553),d=i(15941),h=i(21403),p=i(28379),f=i(17707),m=i(40565),y=i(19247);let g=class extends(r.A.ClonableMixin(u.A)){constructor(){super(...arguments),this.position=new y.A([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new l}normalizeCtorArgs(e,t,i,n){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){const r={position:e};return null!=t&&(r.heading=t),null!=i&&(r.tilt=i),null!=n&&(r.fov=n),r}return e}writePosition(e,t,i,n){const r=e.clone();r.x=(0,m.GB)(e.x||0),r.y=(0,m.GB)(e.y||0),r.z=e.hasZ?(0,m.GB)(e.z||0):e.z,t[i]=r.write({},n)}readPosition(e,t){const i=new y.A;return i.read(e,t),i.x=(0,m.GB)(i.x||0),i.y=(0,m.GB)(i.y||0),i.z=i.hasZ?(0,m.GB)(i.z||0):i.z,i}equals(e){return null!=e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}};(0,n._)([(0,o.MZ)({type:y.A,json:{write:{isRequired:!0}}})],g.prototype,"position",void 0),(0,n._)([(0,f.K)("position")],g.prototype,"writePosition",null),(0,n._)([(0,p.w)("position")],g.prototype,"readPosition",null),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,h.w)((e=>c.ie.normalize((0,m.GB)(e))))],g.prototype,"heading",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,h.w)((e=>(0,d.qE)((0,m.GB)(e),-180,180)))],g.prototype,"tilt",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{default:55,write:!0}}),(0,h.w)((e=>(0,d.qE)((0,m.GB)(e,55),1,170)))],g.prototype,"fov",void 0),(0,n._)([(0,o.MZ)({type:l,nonNullable:!0,json:{read:!1,write:!1}})],g.prototype,"layout",void 0),g=(0,n._)([(0,s.$)("esri.Camera")],g);const v=g;var _,w=i(19902),b=i(31608);let A=_=class extends u.A{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new _({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};(0,n._)([(0,o.MZ)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:S}}}}})],A.prototype,"rotation",void 0),(0,n._)([(0,h.w)("rotation")],A.prototype,"castRotation",null),(0,n._)([(0,o.MZ)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:S}}}}})],A.prototype,"scale",void 0),(0,n._)([(0,o.MZ)({types:b.yR,json:{read:w.rS,write:!0,origins:{"web-scene":{read:w.rS,write:{overridePolicy:S}}}}})],A.prototype,"targetGeometry",void 0),(0,n._)([(0,o.MZ)({type:v,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],A.prototype,"camera",void 0),A=_=(0,n._)([(0,s.$)("esri.Viewpoint")],A);const M=A;function S(){return{enabled:!this.camera}}},16108:(e,t,i)=>{function n(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function r(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}i.d(t,{A:()=>r,x:()=>n})},16700:(e,t,i)=>{i.d(t,{A:()=>c});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(50037);let l=n=class extends a.A{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new n({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,r._)([(0,o.MZ)()],l.prototype,"image",void 0),l=n=(0,r._)([(0,s.$)("esri.support.actions.ActionButton")],l);const c=l},16770:(e,t,i)=>{i.d(t,{M5:()=>f,eV:()=>h,xR:()=>d});var n=i(89379),r=i(3825),o=i(50076),s=i(50346),a=i(90534),l=i(59056);let c=null,u=!0;function d(e,t,i){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(u)try{return new ImageData(e,t)}catch(n){u=!1}return p(e,t,i)}function h(e,t,i,n){if(!t||!i)throw new Error("Cannot construct image data without dimensions");if(u)try{return new ImageData(e,t,i)}catch(c){u=!1}const r=p(t,i,n);return r.data.set(e,0),r}function p(e,t,i){return i||(c||(c=document.createElement("canvas"),c.width=1,c.height=1),i=c),i.getContext("2d").createImageData(e,t)}async function f(e,t){const{arrayBuffer:c,mediaType:d}=await async function(e,t){var i,o;const s=(0,a.r$)(e);if(null!==s&&void 0!==s&&s.isBase64)return{arrayBuffer:(0,l.M)(s.data),mediaType:s.mediaType};const c=await(0,r.A)(e,(0,n.A)({responseType:"array-buffer"},t));return{arrayBuffer:c.data,mediaType:null!==(i=null===(o=c.getHeader)||void 0===o?void 0:o.call(c,"Content-Type"))&&void 0!==i?i:""}}(e,t),h="image/png"===d;if("image/gif"===d){const{isAnimatedGIF:e,parseGif:n}=await i.e(3078).then(i.bind(i,3078));if(e(c))return n(c,t)}if(h){const{isAnimatedPNG:e,parseApng:n}=await i.e(6588).then(i.bind(i,56588));if(e(c))return n(c,t)}return async function(e,t){const i=window.URL.createObjectURL(e);try{const{data:e}=await(0,r.A)(i,(0,n.A)((0,n.A)({},t),{},{responseType:"image"}));return e}catch(u){if(!(0,s.zf)(u))throw new o.A("invalid-image","Could not fetch requested image at ".concat(i));throw u}finally{window.URL.revokeObjectURL(i)}}(new Blob([c],{type:d}),t)}},16783:(e,t,i)=>{i.d(t,{n_:()=>q,ho:()=>$});var n=i(89379),r=i(53986),o=i(50076),s=i(81806),a=i(50346),l=i(45012),c=i(15303),u=i(59989),d=i(76460),h=i(30726),p=i(3825),f=i(90534);const m={async request(e,t){var i,n;const r=e.options,o=r.responseType;r.signal=null===t||void 0===t?void 0:t.signal,r.responseType="native"===o||"native-request-init"===o?"native-request-init":o&&["blob","json","text"].includes(o)&&null!==(i=(0,f.sC)(e.url))&&void 0!==i&&i.after?o:"array-buffer";const s=await(0,p.A)(e.url,r),a={data:s.data,httpStatus:s.httpStatus,ssl:s.ssl};switch(null===(n=s.requestOptions)||void 0===n?void 0:n.responseType){case"native-request-init":return delete a.data.signal,a;case"blob":a.data=await a.data.arrayBuffer();break;case"json":a.data=(new TextEncoder).encode(JSON.stringify(a.data)).buffer;break;case"text":a.data=(new TextEncoder).encode(a.data).buffer}return{result:a,transferList:[a.data]}}};var y=i(88943),g=i(28899),v=i(86560),_=(i(11265),i(55171));const w={};var b=i(77944);class A{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((t=>{this[t]=function(){return e[t](...arguments)}}))}}class M{constructor(){this._dispatcher=new A,this._workerPostMessage({type:y.Go.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){(0,b.d)((()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,t,i){this._dispatcher.addEventListener(e,t,i)}removeEventListener(e,t,i){this._dispatcher.removeEventListener(e,t,i)}_workerPostMessage(e){(0,b.d)((()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))}))}async _workerMessageHandler(e){const t=(0,y.VI)(e);if(t&&t.type===y.Go.OPEN){const{modulePath:e,jobId:i}=t;let n=await u.A.loadWorker(e);n||(n=await import(e));const r=u.A.connect(n);this._workerPostMessage({type:y.Go.OPENED,jobId:i,data:r})}}}var S=i(38042),T=i(80483);const E=()=>d.A.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:x}=y.Go;let C,P;const O="Failed to create Worker. Fallback to execute module in main thread";async function I(){if(!(0,s.A)("esri-workers"))return R(new M);if(!C&&!P)try{const e='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.split("{CONFIGURATION}").join(function(){let e;if(null!=v.A.default){const t=(0,n.A)({},v.A);delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(v.A));e.assetsPath=(0,f.s2)(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?(0,f.s2)(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=(0,S.JK)(),e.has={"esri-csp-restrictions":(0,s.A)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,s.A)("esri-2d-update-debug"),"esri-2d-log-updating":(0,s.A)("esri-2d-log-updating"),"featurelayer-pbf":(0,s.A)("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":(0,s.A)("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":(0,s.A)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,s.A)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,s.A)("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":(0,s.A)("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":(0,s.A)("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":(0,s.A)("featurelayer-snapshot-enabled"),"esri-atomics":(0,s.A)("esri-atomics"),"esri-shared-array-buffer":(0,s.A)("esri-shared-array-buffer"),"esri-tiles-debug":(0,s.A)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,s.A)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,s.A)("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=(0,f.s2)(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=(0,f.s2)(e.workers.workerPath):e.workers.workerPath=(0,f.s2)((0,g.s)("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=v.A.workers.loaderConfig,i=function(e){var t;const i={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:(0,n.A)({},e.has),map:(0,n.A)({},e.map),packages:(null===(t=e.packages)||void 0===t?void 0:t.slice())||[],paths:(0,n.A)((0,n.A)({},w.paths),e.paths)};return e.hasOwnProperty("async")||(i.async=!0),e.hasOwnProperty("isDebug")||(i.isDebug=!1),e.baseUrl||(i.baseUrl=w.baseUrl),i}({baseUrl:null===t||void 0===t?void 0:t.baseUrl,locale:(0,S.JK)(),has:(0,n.A)({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},null===t||void 0===t?void 0:t.has),map:(0,n.A)({},null===t||void 0===t?void 0:t.map),paths:(0,n.A)({},null===t||void 0===t?void 0:t.paths),packages:(null===t||void 0===t?void 0:t.packages)||[]}),r={buildDate:T.$,fullVersion:_.ol,revision:T.u};return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:r})}());C=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(t){P=t||{}}let e;if(C)try{e=new Worker(C,{name:"esri-worker-"+N++})}catch(t){E().warn(O,P),e=new M}else E().warn(O,P),e=new M;return R(e)}async function R(e){return new Promise((t=>{function i(r){const o=(0,y.VI)(r);o&&o.type===x&&(e.removeEventListener("message",i),e.removeEventListener("error",n),t(e))}function n(t){t.preventDefault(),e.removeEventListener("message",i),e.removeEventListener("error",n),E().warn("Failed to create Worker. Fallback to execute module in main thread",t),(e=new M).addEventListener("message",i),e.addEventListener("error",n)}e.addEventListener("message",i),e.addEventListener("error",n)}))}let N=0;const{ABORT:k,INVOKE:L,OPEN:D,OPENED:Z,RESPONSE:F}=y.Go;class U{static async create(e){const t=await I();return new U(t,e)}constructor(e,t){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=t,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",(e=>{e.preventDefault(),d.A.getLogger("esri.core.workers.WorkerOwner").error(e)}))}terminate(){this.worker.terminate()}async open(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signal:i}=t,n=(0,y.Jc)();return new Promise(((t,r)=>{const o={resolve:t,reject:r,abortHandle:(0,a.NY)(i,(()=>{this._outJobs.delete(n),this._post({type:k,jobId:n})}))};this._outJobs.set(n,o),this._post({type:D,jobId:n,modulePath:e})}))}_onMessage(e){const t=(0,y.VI)(e);if(t)switch(t.type){case Z:this._onOpenedMessage(t);break;case F:this._onResponseMessage(t);break;case k:this._onAbortMessage(t);break;case L:this._onInvokeMessage(t)}}_onAbortMessage(e){const t=this._inJobs,i=e.jobId,n=t.get(i);n&&(n.controller&&n.controller.abort(),t.delete(i))}_onInvokeMessage(e){const{methodName:t,jobId:i,data:n,abortable:r}=e,o=r?new AbortController:null,s=this._inJobs,l=m[t];let c;try{if("function"!=typeof l)throw new TypeError("".concat(t," is not a function"));c=l.call(null,n,{signal:o?o.signal:null})}catch(u){return void this._post({type:F,jobId:i,error:(0,y.mF)(u)})}(0,a.$X)(c)?(s.set(i,{controller:o,promise:c}),c.then((e=>{s.has(i)&&(s.delete(i),this._post({type:F,jobId:i},e))}),(e=>{s.has(i)&&(s.delete(i),e||(e={message:"Error encountered at method"+t}),(0,a.zf)(e)||this._post({type:F,jobId:i,error:(0,y.mF)(e||{message:"Error encountered at method ".concat(t)})}))}))):this._post({type:F,jobId:i},c)}_onOpenedMessage(e){const{jobId:t,data:i}=e,n=this._outJobs.get(t);n&&(this._outJobs.delete(t),(0,h.xt)(n.abortHandle),n.resolve(i))}_onResponseMessage(e){const{jobId:t,error:i,data:n}=e,r=this._outJobs.get(t);r&&(this._outJobs.delete(t),(0,h.xt)(r.abortHandle),i?r.reject(o.A.fromJSON(JSON.parse(i))):r.resolve(n))}_post(e,t,i){return(0,y.u1)(this.worker,e,t,i)}}const j=["registryTarget"];var G;const z=(0,s.A)("host-browser")?Math.min(navigator.hardwareConcurrency-1,null!==(G=(0,s.A)("workers-pool-size"))&&void 0!==G?G:8):0;let V=(0,s.A)("esri-mobile")?Math.min(z,3):z;V||(V=(0,s.A)("safari")&&(0,s.A)("mac")?7:2);let B=0;const H=[];function q(){Y()}async function W(e,t){const i=new l.A,{registryTarget:n}=t,o=(0,r.A)(t,j);return await i.open(e,o),n&&(0,c.k)(n,i),i}async function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new o.A("workers:undefined-module","modulePath is missing");let i=t.strategy||"distributed";if((0,s.A)("host-webworker")&&!(0,s.A)("esri-workers")&&(i="local"),"local"===i){let i=await u.A.loadWorker(e);i||(i=await import(e)),(0,a.Te)(t.signal);const r=t.client||i;return W([u.A.connect(i,t.schedule)],(0,n.A)((0,n.A)({},t),{},{client:r}))}if(await Y(),(0,a.Te)(t.signal),"dedicated"===i){const i=B++%V;return W([await H[i].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const i=Math.min(t.maxNumWorkers,V);if(i<V){const n=new Array(i);for(let r=0;r<i;++r){const i=B++%V;n[r]=H[i].open(e,t)}return W(n,t)}}return W(H.map((i=>i.open(e,t))),t)}let J,K=null;async function Y(){if(K)return K;J=new AbortController;const e=[];for(let t=0;t<V;t++){const i=U.create(t).then((e=>(H[t]=e,e)));e.push(i)}return K=Promise.all(e),K}},16868:(e,t,i)=>{i.d(t,{A:()=>J});var n=i(89379),r=i(35143),o=i(69098),s=i(94643),a=i(42553),l=i(53084),c=i(76460),u=i(50346),d=i(46053),h=i(21403),p=i(28379),f=i(85842),m=i(17707),y=i(40565),g=i(53430),v=i(75900),_=i(56362),w=i(87015),b=i(81940),A=i(6929),M=i(7198),S=i(93616),T=i(53539),E=i(91904);const x={base:null,key:"type",typeMap:{attachment:v.A,media:M.A,text:T.A,expression:b.A,field:A.A,relationship:S.A,utilityNetworkAssociations:E.A}},C={base:null,key:"type",typeMap:{attachment:v.A,media:M.A,text:T.A,expression:b.A,field:A.A,relationship:S.A}};var P,O=i(81779),I=i(40585);i(81806),i(47249);let R=P=class extends a.A{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new P({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,r._)([(0,d.MZ)({type:Boolean,json:{write:!0}})],R.prototype,"returnTopmostRaster",void 0),(0,r._)([(0,d.MZ)({type:Boolean,json:{write:!0}})],R.prototype,"showNoDataRecords",void 0),R=P=(0,r._)([(0,f.$)("esri.popup.LayerOptions")],R);const N=R;var k,L=i(64362);let D=k=class extends a.A{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new k({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,l.o8)(this.orderByFields):null})}};(0,r._)([(0,d.MZ)({type:Boolean,json:{write:!0}})],D.prototype,"showRelatedRecords",void 0),(0,r._)([(0,d.MZ)({type:[L.A],json:{write:!0}})],D.prototype,"orderByFields",void 0),D=k=(0,r._)([(0,f.$)("esri.popup.RelatedRecordsInfo")],D);const Z=D;var F=i(11662),U=i(50037),j=i(16700),G=i(76192);const z="relationships/",V="expression/",B=s.A.ofType({key:"type",defaultKeyValue:"button",base:U.A,typeMap:{button:j.A,toggle:G.A}}),H={base:_.A,key:"type",typeMap:{media:M.A,custom:w.A,text:T.A,attachments:v.A,fields:A.A,expression:b.A,relationship:S.A,utilityNetworkAssociations:E.A}},q=new Set(["attachments","fields","media","text","expression","relationship"]),W=new Set([...q,"utility-network-associations"]);let $=class extends(o.A.ClonableMixin(a.A)){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map((e=>(0,y.aq)(H,e))):"string"==typeof e||"function"==typeof e||e instanceof HTMLElement||(0,u.$X)(e)?e:(c.A.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:i}=t;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(t.description,t.mediaInfos,i):this._readPopupInfo(t)}writeWebSceneContent(e,t,i,n){this._writePopupTemplateContent(e,t,n)}writeWebMapContent(e,t,i,n){this._writePopupTemplateContent(e,t,n)}writeFieldInfos(e,t,i,n){const{content:r}=this,o=Array.isArray(r)?r:null;if(e){const i=o?o.filter((e=>"fields"===e.type)):[],r=i.length&&i.every((e=>{var t;return null===(t=e.fieldInfos)||void 0===t?void 0:t.length}));t.fieldInfos=e.filter(Boolean).map((e=>{const t=e.toJSON(n);return r&&(t.visible=!1),t}))}if(o)for(const s of o)"fields"===s.type&&this._writeFieldsContent(s,t)}writeLayerOptions(e,t,i,n){t[i]=!e||null===e.showNoDataRecords&&null===e.returnTopmostRaster?null:e.toJSON(n)}writeTitle(e,t){t.title=e||""}async collectRequiredFields(e,t){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...i,...this._getContentExpressionInfos(this.content,i)]),(0,g._w)(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writePopupTemplateContent(e,t,i){"string"!=typeof e?Array.isArray(e)&&(t.popupElements=e.filter((e=>"web-scene"===(null===i||void 0===i?void 0:i.origin)?q.has(e.type):W.has(e.type))).map((e=>null===e||void 0===e?void 0:e.toJSON(i))),t.popupElements.forEach((e=>{"attachments"===e.type?this._writeAttachmentContent(t):"media"===e.type?this._writeMediaContent(e,t):"text"===e.type?this._writeTextContent(e,t):"relationship"===e.type&&this._writeRelationshipContent(e,t)}))):t.description=e}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const i=(0,l.o8)(e.fieldInfos);Array.isArray(t.fieldInfos)?i.forEach((e=>{const i=t.fieldInfos.find((t=>{var i,n;return(null===(i=t.fieldName)||void 0===i?void 0:i.toLowerCase())===(null===(n=e.fieldName)||void 0===n?void 0:n.toLowerCase())}));i?i.visible=!0:t.fieldInfos.push(e)})):t.fieldInfos=i}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,t){var i,r;const o=(null===(i=e.orderByFields)||void 0===i?void 0:i.map((t=>this._toFieldOrderJSON(t,e.relationshipId))))||[],s=[...(null===(r=t.relatedRecordsInfo)||void 0===r?void 0:r.orderByFields)||[],...o];t.relatedRecordsInfo=(0,n.A)({showRelatedRecords:!0},(null===s||void 0===s?void 0:s.length)&&{orderByFields:s})}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const i=(0,l.o8)(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...i]:t.mediaInfos=i}_readPopupInfoElements(e,t,i){const n={description:!1,mediaInfos:!1};return i.map((i=>"media"===i.type?(i.mediaInfos||!t||n.mediaInfos||(i.mediaInfos=t,n.mediaInfos=!0),M.A.fromJSON(i)):"text"===i.type?(i.text||!e||n.description||(i.text=e,n.description=!0),T.A.fromJSON(i)):"attachments"===i.type?v.A.fromJSON(i):"fields"===i.type?A.A.fromJSON(i):"expression"===i.type?b.A.fromJSON(i):"relationship"===i.type?S.A.fromJSON(i):"utilityNetworkAssociations"===i.type?E.A.fromJSON(i):void 0)).filter(Boolean)}_toRelationshipContent(e){const{field:t,order:i}=e;if(null===t||void 0===t||!t.startsWith(z))return null;const n=t.replace(z,"").split("/");if(2!==n.length)return null;const r=parseInt(n[0],10),o=n[1];return!Number.isNaN(r)&&o?S.A.fromJSON({relationshipId:r,orderByFields:[{field:o,order:i}]}):null}_toFieldOrderJSON(e,t){const{order:i,field:n}=e;return{field:"".concat(z).concat(t,"/").concat(n),order:i}}_readPopupInfo(e){let{description:t,mediaInfos:i,showAttachments:n,relatedRecordsInfo:r={showRelatedRecords:!1}}=e;const o=[];t?o.push(new T.A({text:t})):o.push(new A.A),Array.isArray(i)&&i.length&&o.push(M.A.fromJSON({mediaInfos:i})),n&&o.push(v.A.fromJSON({displayType:"auto"}));const{showRelatedRecords:s,orderByFields:a}=r;return s&&null!==a&&void 0!==a&&a.length&&a.forEach((e=>{const t=this._toRelationshipContent(e);t&&o.push(t)})),o.length?o:t}_getContentElementFields(e){var t;const i=null===e||void 0===e?void 0:e.type;if("attachments"===i)return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if("custom"===i)return e.outFields||[];if("fields"===i)return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(null!==(t=e.fieldInfos)&&void 0!==t?t:this.fieldInfos)];if("media"===i){const t=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...t.reduce(((e,t)=>[...e,...this._getMediaInfoFields(t)]),[])]}return"text"===i?this._extractFieldNames(e.text):"relationship"===i||"utility-network-associations"===i?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:t,title:i,value:n}=e,r=n||{},{fields:o,normalizeField:s,tooltipField:a,sourceURL:l,linkURL:c}=r,u=[...this._extractFieldNames(i),...this._extractFieldNames(t),...this._extractFieldNames(l),...this._extractFieldNames(c),...null!==o&&void 0!==o?o:[]];return s&&u.push(s),a&&u.push(a),u}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce(((e,t)=>[...e,..."expression"===t.type&&t.expressionInfo?[t.expressionInfo]:[]]),t):[]}_getContentFields(e){return"string"==typeof e?this._extractFieldNames(e):Array.isArray(e)?e.reduce(((e,t)=>[...e,...this._getContentElementFields(t)]),[]):[]}async _collectExpressionInfoFields(e,t,i){i&&await Promise.all(i.map((i=>(0,g.Dx)(e,t,i.expression))))}_getFieldInfoFields(e){return e?e.filter((e=>{let{fieldName:t,visible:i}=e;return!(void 0!==i&&!i||!t||t.startsWith(z)||t.startsWith(V))})).map((e=>e.fieldName)):[]}_getActionsFields(e){return e?e.toArray().reduce(((e,t)=>[...e,...this._getActionFields(t)]),[]):[]}_getActionFields(e){const{className:t,title:i,type:n}=e,r="button"===n||"toggle"===n?e.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(t),...this._extractFieldNames(r)]}_getTitleFields(e){return"string"==typeof e?this._extractFieldNames(e):[]}_extractFieldNames(e){return(0,g.nw)(e).filter((e=>!(0===e.indexOf(z)||0===e.indexOf(V))))}};(0,r._)([(0,d.MZ)({type:B})],$.prototype,"actions",void 0),(0,r._)([(0,d.MZ)()],$.prototype,"content",void 0),(0,r._)([(0,h.w)("content")],$.prototype,"castContent",null),(0,r._)([(0,p.w)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],$.prototype,"readContent",null),(0,r._)([(0,m.K)("web-scene","content",{popupElements:{type:s.A.ofType(C)},showAttachments:{type:Boolean},mediaInfos:{type:s.A.ofType(F.g)},description:{type:String},relatedRecordsInfo:{type:Z}})],$.prototype,"writeWebSceneContent",null),(0,r._)([(0,m.K)("content",{popupElements:{type:s.A.ofType(x)},showAttachments:{type:Boolean},mediaInfos:{type:s.A.ofType(F.g)},description:{type:String},relatedRecordsInfo:{type:Z}})],$.prototype,"writeWebMapContent",null),(0,r._)([(0,d.MZ)({type:[O.A],json:{write:!0}})],$.prototype,"expressionInfos",void 0),(0,r._)([(0,d.MZ)({type:[I.A]})],$.prototype,"fieldInfos",void 0),(0,r._)([(0,m.K)("fieldInfos")],$.prototype,"writeFieldInfos",null),(0,r._)([(0,d.MZ)({type:N})],$.prototype,"layerOptions",void 0),(0,r._)([(0,m.K)("layerOptions")],$.prototype,"writeLayerOptions",null),(0,r._)([(0,d.MZ)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],$.prototype,"lastEditInfoEnabled",void 0),(0,r._)([(0,d.MZ)()],$.prototype,"outFields",void 0),(0,r._)([(0,d.MZ)()],$.prototype,"overwriteActions",void 0),(0,r._)([(0,d.MZ)()],$.prototype,"returnGeometry",void 0),(0,r._)([(0,d.MZ)({json:{type:String}})],$.prototype,"title",void 0),(0,r._)([(0,m.K)("title")],$.prototype,"writeTitle",null),$=(0,r._)([(0,f.$)("esri.PopupTemplate")],$);const J=$},16911:(e,t,i)=>{i.d(t,{A:()=>y});var n,r=i(35143),o=i(94643),s=i(53084),a=i(46053),l=(i(81806),i(76460),i(6409)),c=i(85842),u=i(78135),d=i(21405),h=i(82041),p=i(48670);const f=o.A.ofType({base:null,key:"type",typeMap:{text:d.A}});let m=n=class extends u.A{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new f,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,h.LH)(this)}hasVisibleVerticalOffset(){return(0,h.Yq)(this)}clone(){return new n({styleOrigin:(0,s.o8)(this.styleOrigin),symbolLayers:(0,s.o8)(this.symbolLayers),thumbnail:(0,s.o8)(this.thumbnail),callout:(0,s.o8)(this.callout),verticalOffset:(0,s.o8)(this.verticalOffset)})}static fromTextSymbol(e){return new n({symbolLayers:new o.A([d.A.fromTextSymbol(e)])})}};(0,r._)([(0,a.MZ)({type:p.A,json:{write:!0}})],m.prototype,"verticalOffset",void 0),(0,r._)([(0,a.MZ)(h.oG)],m.prototype,"callout",void 0),(0,r._)([(0,a.MZ)({json:{read:!1,write:!1}})],m.prototype,"styleOrigin",void 0),(0,r._)([(0,a.MZ)({type:f})],m.prototype,"symbolLayers",void 0),(0,r._)([(0,l.e)({LabelSymbol3D:"label-3d"},{readOnly:!0})],m.prototype,"type",void 0),m=n=(0,r._)([(0,c.$)("esri.symbols.LabelSymbol3D")],m);const y=m},17542:(e,t,i)=>{i.d(t,{A:()=>h});var n=i(35143),r=i(69098),o=i(42553),s=i(46053),a=i(40565),l=(i(81806),i(47249),i(6409)),c=i(85842),u=i(65256);let d=class extends(r.A.ClonableMixin(o.A)){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};(0,n._)([(0,l.e)(u._v)],d.prototype,"dateFormat",void 0),(0,n._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"digitSeparator",void 0),(0,n._)([(0,s.MZ)({type:a.jz,json:{write:!0}})],d.prototype,"places",void 0),d=(0,n._)([(0,c.$)("esri.popup.support.FieldInfoFormat")],d);const h=d},17555:(e,t,i)=>{i.d(t,{O:()=>r});var n=i(86560);const r=()=>n.A.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches},17707:(e,t,i)=>{i.d(t,{K:()=>r});var n=i(46053);function r(e,t,i){let r,o;return void 0===t?(o=e,r=[void 0]):"string"!=typeof t?(o=e,r=[void 0],i=t):(o=t,r=Array.isArray(e)?e:[e]),(e,t)=>{const s=e.constructor.prototype;for(const a of r){const r=(0,n.rM)(e,a,o);r.write&&"object"==typeof r.write||(r.write={}),i&&(r.write.target=i),r.write.writer=s[t]}}}},17879:(e,t,i)=>{i.d(t,{Jt:()=>a,RP:()=>s,t2:()=>l});var n=i(39314);function r(e,t){const i="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){const e=parseInt(i,10);if(!isNaN(e))return Array.isArray(t)?t[e]:t.at(e)}const r=(0,n.oY)(t);return(0,n.yh)(r,i)?r.get(i):t[i]}function o(e,t,i){if(null==e)return e;const n=r(t[i],e);return!n&&i<t.length-1?void 0:i===t.length-1?n:o(n,t,i+1)}function s(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"string"!=typeof t||t.includes(".")?o(e,(0,n.AH)(t),i):r(t,e)}function a(e,t){return s(e,t)}function l(e,t){return void 0!==s(t,e)}},18288:(e,t,i)=>{i.d(t,{S1:()=>a,lL:()=>c,mi:()=>l,pJ:()=>d,t:()=>u,vf:()=>s});var n=i(65256),r=i(36693),o=i(24241);const s={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function a(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.qU;const a=new o.oh((0,n.wj)(s)),l=o.c9.fromJSDate(e,{zone:a}),c="decades"===i||"centuries"===i?"year":h(i);return"decades"===i&&(t*=10),"centuries"===i&&(t*=100),l.plus({[c]:t}).toJSDate()}function l(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"milliseconds";const n=e.getTime(),r=u(t,i,"milliseconds");return new Date(n+r)}function c(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.qU;const s=new o.oh((0,n.wj)(i)),a=o.c9.fromJSDate(e,{zone:s});if("decades"===t||"centuries"===t){const e=a.startOf("year"),{year:i}=e,n=i-i%("decades"===t?10:100);return e.set({year:n}).toJSDate()}const l=h(t);return a.startOf(l).toJSDate()}function u(e,t,i){return 0===e?0:e*s[t]/s[i]}function d(e,t){return e&&t?e.intersection(t):e||t}function h(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}},18690:(e,t,i)=>{i.d(t,{$U:()=>a,Am:()=>l,BB:()=>v,He:()=>s,Ji:()=>o,Mo:()=>_,Ru:()=>M,TF:()=>A,Xj:()=>d,Xy:()=>m,aI:()=>c,iv:()=>u,k4:()=>b,mW:()=>g,qh:()=>f,tR:()=>S,vW:()=>h});var n=i(4212),r=i(47249);const o=1.5,s=1/o,a=.5;function l(e,t){return t?e.filter(((e,i,n)=>n.findIndex(t.bind(null,e))===i)):Array.from(new Set(e))}function c(e,t,i){if(null==e&&null==t)return!0;if(null==e||null==t||e.length!==t.length)return!1;if(i){for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function u(e,t,i){let n,r;return i?(n=t.filter((t=>!e.some((e=>i(e,t))))),r=e.filter((e=>!t.some((t=>i(t,e)))))):(n=t.filter((t=>!e.includes(t))),r=e.filter((e=>!t.includes(e)))),{added:n,removed:r}}function d(e){return e&&"number"==typeof e.length}class h{constructor(){this.last=0}}const p=new h;function f(e,t,i,n){n=n||p;const r=Math.max(0,n.last-10);for(let s=r;s<i;++s)if(e[s]===t)return n.last=s,s;const o=Math.min(r,i);for(let s=0;s<o;++s)if(e[s]===t)return n.last=s,s;return-1}function m(e,t,i,r){const o=null!==i&&void 0!==i?i:e.length,s=f(e,(0,n.zI)(t),o,r);if(-1!==s)return e[s]=e[o-1],null==i&&e.pop(),t}const y=new Set;function g(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(0===n||0===i)return i;y.clear();for(let a=0;a<n;++a)y.add(t[a]);r=r||p;const s=Math.max(0,r.last-10);for(let a=s;a<i;++a)if(y.has(e[a])&&(null!==o&&void 0!==o&&o.push(e[a]),y.delete(e[a]),e[a]=e[i-1],--i,--a,0===y.size||0===i))return y.clear(),i;for(let a=0;a<s;++a)if(y.has(e[a])&&(null!==o&&void 0!==o&&o.push(e[a]),y.delete(e[a]),e[a]=e[i-1],--i,--a,0===y.size||0===i))return y.clear(),i;return y.clear(),i}function v(e,t,i){const n=e.length;if(t>=n)return e.slice();const r=_(i),o=new Set,s=[];for(;s.length<t;){const t=Math.floor(r()*n);o.has(t)||(o.add(t),s.push(e[t]))}return s}function _(e){return e?(w.seed=e,()=>w.getFloat()):Math.random}const w=new r.A;function b(e,t){const i=_(t);for(let n=e.length-1;n>0;n--){const t=Math.floor(i()*(n+1)),r=e[n];e[n]=e[t],e[t]=r}return e}function A(e,t){const i=e.indexOf(t);return-1!==i?(e.splice(i,1),t):null}function M(e,t){return null!=e}const S=[]},18789:(e,t,i)=>{i.d(t,{Ec:()=>_,W3:()=>v,mN:()=>b});var n,r,o,s=i(94161);const{is:a,defineProperty:l,getOwnPropertyDescriptor:c,getOwnPropertyNames:u,getOwnPropertySymbols:d,getPrototypeOf:h}=Object,p=globalThis,f=p.trustedTypes,m=f?f.emptyScript:"",y=p.reactiveElementPolyfillSupport,g=(e,t)=>e,v={toAttribute(e,t){switch(t){case Boolean:e=e?m:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},_=(e,t)=>!a(e,t),w={attribute:!0,type:String,converter:v,reflect:!1,useDefault:!1,hasChanged:_};null!==(n=Symbol.metadata)&&void 0!==n||(Symbol.metadata=Symbol("metadata")),null!==(r=p.litPropertyMetadata)&&void 0!==r||(p.litPropertyMetadata=new WeakMap);class b extends HTMLElement{static addInitializer(e){var t;this._$Ei(),(null!==(t=this.l)&&void 0!==t?t:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const i=Symbol(),n=this.getPropertyDescriptor(e,i,t);void 0!==n&&l(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){var n;const{get:r,set:o}=null!==(n=c(this.prototype,e))&&void 0!==n?n:{get(){return this[t]},set(e){this[t]=e}};return{get:r,set(t){const n=null===r||void 0===r?void 0:r.call(this);null!==o&&void 0!==o&&o.call(this,t),this.requestUpdate(e,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var t;return null!==(t=this.elementProperties.get(e))&&void 0!==t?t:w}static _$Ei(){if(this.hasOwnProperty(g("elementProperties")))return;const e=h(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(g("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(g("properties"))){const e=this.properties,t=[...u(e),...d(e)];for(const i of t)this.createProperty(i,e[i])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,i]of t)this.elementProperties.set(e,i)}this._$Eh=new Map;for(const[t,i]of this.elementProperties){const e=this._$Eu(t,i);void 0!==e&&this._$Eh.set(e,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const e of i)t.unshift((0,s.sk)(e))}else void 0!==e&&t.push((0,s.sk)(e));return t}static _$Eu(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),null===(e=this.constructor.l)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,i;(null!==(t=this._$EO)&&void 0!==t?t:this._$EO=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&(null===(i=e.hostConnected)||void 0===i||i.call(e))}removeController(e){var t;null===(t=this._$EO)||void 0===t||t.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const i of t.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return(0,s.Rf)(t,this.constructor.elementStyles),t}connectedCallback(){var e,t;null!==(e=this.renderRoot)&&void 0!==e||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$EO)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$EO)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$ET(e,t){const i=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,i);if(void 0!==n&&!0===i.reflect){var r;const o=(void 0!==(null===(r=i.converter)||void 0===r?void 0:r.toAttribute)?i.converter:v).toAttribute(t,i.type);this._$Em=e,null==o?this.removeAttribute(n):this.setAttribute(n,o),this._$Em=null}}_$AK(e,t){const i=this.constructor,n=i._$Eh.get(e);if(void 0!==n&&this._$Em!==n){var r,o,s,a;const e=i.getPropertyOptions(n),l="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(r=e.converter)||void 0===r?void 0:r.fromAttribute)?e.converter:v;this._$Em=n,this[n]=null!==(o=null!==(s=l.fromAttribute(t,e.type))&&void 0!==s?s:null===(a=this._$Ej)||void 0===a?void 0:a.get(n))&&void 0!==o?o:null,this._$Em=null}}requestUpdate(e,t,i){if(void 0!==e){var n,r;const o=this.constructor,s=this[e];if(null!==i&&void 0!==i||(i=o.getPropertyOptions(e)),!((null!==(n=i.hasChanged)&&void 0!==n?n:_)(s,t)||i.useDefault&&i.reflect&&s===(null===(r=this._$Ej)||void 0===r?void 0:r.get(e))&&!this.hasAttribute(o._$Eu(e,i))))return;this.C(e,t,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,i,n){var r,o,s;let{useDefault:a,reflect:l,wrapped:c}=i;a&&!(null!==(r=this._$Ej)&&void 0!==r?r:this._$Ej=new Map).has(e)&&(this._$Ej.set(e,null!==(o=null!==n&&void 0!==n?n:t)&&void 0!==o?o:this[e]),!0!==c||void 0!==n)||(this._$AL.has(e)||(this.hasUpdated||a||(t=void 0),this._$AL.set(e,t)),!0===l&&this._$Em!==e&&(null!==(s=this._$Eq)&&void 0!==s?s:this._$Eq=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){var e;if(null!==(e=this.renderRoot)&&void 0!==e||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,i]of t){const{wrapped:t}=i,n=this[e];!0!==t||this._$AL.has(e)||void 0===n||this.C(e,void 0,i,n)}}let t=!1;const i=this._$AL;try{var n;t=this.shouldUpdate(i),t?(this.willUpdate(i),null!==(n=this._$EO)&&void 0!==n&&n.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(i)):this._$EM()}catch(i){throw t=!1,this._$EM(),i}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;null!==(t=this._$EO)&&void 0!==t&&t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach((e=>this._$ET(e,this[e])))),this._$EM()}updated(e){}firstUpdated(e){}}b.elementStyles=[],b.shadowRootOptions={mode:"open"},b[g("elementProperties")]=new Map,b[g("finalized")]=new Map,null!==y&&void 0!==y&&y({ReactiveElement:b}),(null!==(o=p.reactiveElementVersions)&&void 0!==o?o:p.reactiveElementVersions=[]).push("2.1.0")},18798:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(3789),r=i(93453);class o{constructor(){this.spans=[]}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}*keys(){const e=this.lodInfo;for(const{row:t,colFrom:i,colTo:n}of this.spans)for(let o=i;o<=n;o++){const i=e.getWorldForColumn(o);yield new r.A(e.level,t,e.normalizeCol(o),i)}}forEach(e,t){const{spans:i,lodInfo:n}=this,{level:r}=n;if(0!==i.length)for(const{row:o,colFrom:s,colTo:a}of i)for(let i=s;i<=a;i++)e.call(t,r,o,n.normalizeCol(i),n.getWorldForColumn(i))}}o.pool=new n.A(o)},19247:(e,t,i)=>{i.d(t,{A:()=>b});var n,r=i(35143),o=i(91967),s=i(76460),a=i(46053),l=i(21403),c=(i(81806),i(47249),i(28379)),u=i(85842),d=i(17707),h=i(40565),p=i(89189),f=i(13312),m=i(12294),y=i(80963),g=i(45417);const v=[0,0];function _(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}let w=n=class extends p.A{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",o.A.isFrozen(i)?i:i.clone())}constructor(){super(...arguments),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,n,r){let o;if(Array.isArray(e))o=e,r=t,e=o[0],t=o[1],i=o[2],n=o[3];else if(e&&"object"==typeof e){var a;if(o=e,e=null!=o.x?o.x:o.longitude,t=null!=o.y?o.y:o.latitude,i=o.z,n=o.m,(r=o.spatialReference)&&"esri.geometry.SpatialReference"!==r.declaredClass&&(r=new f.A(r)),null!=o.longitude||null!=o.latitude)if(null==o.longitude)s.A.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==o.latitude)s.A.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&null!==(a=r)&&void 0!==a&&a.isWebMercator){const i=(0,g.je)(o.longitude,o.latitude,v);e=i[0],t=i[1]}}else _(i)?(r=i,i=null):_(n)&&(r=n,n=null);const l={x:e,y:t};return null==l.x&&null!=l.y?s.A.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==l.y&&null!=l.x&&s.A.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=r&&(l.spatialReference=r),null!=i&&(l.z=i),null!=n&&(l.m=n),l}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return(0,m.T0)(this)}set latitude(e){const{spatialReference:t,x:i}=this;null!=e&&t&&(t.isWebMercator?this._set("y",(0,g.je)(i,e,v)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return(0,m.EZ)(this)}set longitude(e){const{y:t,spatialReference:i}=this;null!=e&&i&&(i.isWebMercator?this._set("x",(0,g.je)(e,t,v)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return"string"==typeof e?NaN:e}clone(){const e=new n;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return n.copy(e,this),this}equals(e){if(null==e)return!1;const{x:t,y:i,z:n,m:r,spatialReference:o}=this,{z:s,m:a}=e;let{x:l,y:c,spatialReference:u}=e;if(!o.equals(u))if(o.isWebMercator&&u.isWGS84)[l,c]=(0,g.je)(l,c),u=o;else{if(!o.isWGS84||!u.isWebMercator)return!1;[l,c]=(0,g.tD)(l,c),u=o}return t===l&&i===c&&n===s&&r===a&&o.wkid===u.wkid}offset(e,t,i){var n;return this.x+=e,this.y+=t,null!=i&&(this.z=(null!==(n=this.z)&&void 0!==n?n:0)+i),this}normalize(){if(!this.spatialReference)return this;const e=(0,y.Vp)(this.spatialReference);if(!e)return this;let t=this.x;const[i,n]=e.valid,r=2*n;let o;return t>n?(o=Math.ceil(Math.abs(t-n)/r),t-=o*r):t<i&&(o=Math.ceil(Math.abs(t-i)/r),t+=o*r),this._set("x",t),this}distance(e){return(0,m.Io)(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};(0,r._)([(0,a.MZ)({readOnly:!0})],w.prototype,"cache",null),(0,r._)([(0,a.MZ)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasM",null),(0,r._)([(0,a.MZ)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasZ",null),(0,r._)([(0,a.MZ)({type:Number})],w.prototype,"latitude",null),(0,r._)([(0,a.MZ)({type:Number})],w.prototype,"longitude",null),(0,r._)([(0,a.MZ)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,l.w)((e=>isNaN(e)?e:(0,h.GB)(e)))],w.prototype,"x",void 0),(0,r._)([(0,d.K)("x")],w.prototype,"writeX",null),(0,r._)([(0,c.w)("x")],w.prototype,"readX",null),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0}})],w.prototype,"y",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],w.prototype,"z",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],w.prototype,"m",void 0),w=n=(0,r._)([(0,u.$)("esri.geometry.Point")],w),w.prototype.toJSON.isDefaultToJSON=!0;const b=w},19258:(e,t,i)=>{i.d(t,{CX:()=>a,tD:()=>o,z4:()=>s});var n=i(53084),r=i(39314);function o(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const e in t)t[e]=(0,n.o8)(t[e]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function s(e,t){const i=o(e);let n=i[t];return n||(n=i[t]={}),n}function a(e,t){return(0,r.h1)(e,t,c)}const l=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function c(e){return l.test(e)?"replace":"merge"}},19451:(e,t,i)=>{i.d(t,{U:()=>u});var n=i(35143),r=i(91967),o=i(54901),s=i(68134),a=i(52394),l=i(46053),c=i(85842);let u=class extends r.A{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,i,s.wB)}addWhen(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,i,s.z7)}addOnCollectionChange(e,t){let{initial:i=!1,final:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=++this._handleId;return this.addHandles([(0,s.on)(e,"after-changes",this._createSyncUpdatingCallback(),s.OH),(0,s.on)(e,"change",t,{onListenerAdd:i?e=>t({added:e.toArray(),removed:[]}):void 0,onListenerRemove:n?e=>t({added:[],removed:e.toArray()}):void 0})],r),(0,o.hA)((()=>this.removeHandles(r)))}addPromise(e){if(null==e)return e;const t=++this._handleId;this.addHandles((0,o.hA)((()=>{this._pendingPromises.delete(e)&&(0!==this._pendingPromises.size||this.hasHandles(d)||this._set("updating",!1))})),t),this._pendingPromises.add(e),this._set("updating",!0);const i=()=>this.removeHandles(t);return e.then(i,i),e}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;const r=++this._handleId;i.sync||this._installSyncUpdatingWatch(e,r);const s=n(e,t,i);return this.addHandles(s,r),(0,o.hA)((()=>this.removeHandles(r)))}_installSyncUpdatingWatch(e,t){const i=this._createSyncUpdatingCallback(),n=(0,s.wB)(e,i,{sync:!0,equals:()=>!1});return this.addHandles(n,t),n}_createSyncUpdatingCallback(){return()=>{this.removeHandles(d),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles((0,a._)((()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(d))})),d)}}};(0,n._)([(0,l.MZ)({readOnly:!0})],u.prototype,"updating",void 0),u=(0,n._)([(0,c.$)("esri.core.support.UpdatingHandles")],u);const d=-42},19555:(e,t,i)=>{i.d(t,{$A:()=>b,Bw:()=>y,C:()=>r,Cc:()=>A,Io:()=>f,Ln:()=>p,Om:()=>w,Re:()=>a,S8:()=>_,T9:()=>d,Vj:()=>P,WQ:()=>s,ZF:()=>M,aI:()=>C,e$:()=>T,g7:()=>E,hG:()=>m,hZ:()=>o,hs:()=>h,jb:()=>I,jk:()=>u,l0:()=>S,m3:()=>g,t2:()=>x,xg:()=>k,ze:()=>v});var n=i(53494);function r(e,t){return e[0]=t[0],e[1]=t[1],e}function o(e,t,i){return e[0]=t,e[1]=i,e}function s(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function a(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function l(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function c(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function u(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function d(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function h(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function p(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e}function f(e,t){const i=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(i*i+n*n)}function m(e,t){const i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function y(e){const t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function g(e){const t=e[0],i=e[1];return t*t+i*i}function v(e,t){return e[0]=-t[0],e[1]=-t[1],e}function _(e,t){const i=t[0],n=t[1];let r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),e[0]=t[0]*r,e[1]=t[1]*r),e}function w(e,t){return e[0]*t[0]+e[1]*t[1]}function b(e,t,i){const n=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=n,e}function A(e,t,i,n){const r=t[0],o=t[1];return e[0]=r+n*(i[0]-r),e[1]=o+n*(i[1]-o),e}function M(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[2]*r,e[1]=i[1]*n+i[3]*r,e}function S(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[2]*r+i[4],e[1]=i[1]*n+i[3]*r+i[5],e}function T(e,t,i,n){const r=t[0]-i[0],o=t[1]-i[1],s=Math.sin(n),a=Math.cos(n);return e[0]=r*a-o*s+i[0],e[1]=r*s+o*a+i[1],e}function E(e,t){const i=e[0],n=e[1],r=t[0],o=t[1];let s=i*i+n*n;s>0&&(s=1/Math.sqrt(s));let a=r*r+o*o;a>0&&(a=1/Math.sqrt(a));const l=(i*r+n*o)*s*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function x(e,t){return e[0]===t[0]&&e[1]===t[1]}function C(e,t){const i=e[0],r=e[1],o=t[0],s=t[1],a=(0,n.FD)();return Math.abs(i-o)<=a*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-s)<=a*Math.max(1,Math.abs(r),Math.abs(s))}function P(e,t,i,n,r){let o=t[0]-i[0],s=t[1]-i[1];const a=(n[0]*o+n[1]*s)*(r-1);return o=n[0]*a,s=n[1]*a,e[0]=t[0]+o,e[1]=t[1]+s,e}const O=y,I=a,R=l,N=c,k=f,L=m,D=g;Object.freeze(Object.defineProperty({__proto__:null,add:s,angle:E,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},copy:r,cross:b,dist:k,distance:f,div:N,divide:c,dot:w,equals:C,exactEquals:x,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},len:O,length:y,lerp:A,max:d,min:u,mul:R,multiply:l,negate:v,normalize:_,projectAndScale:P,random:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=2*(0,n.Ov)()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e},rotate:T,round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:h,scaleAndAdd:p,set:o,sqrDist:L,sqrLen:D,squaredDistance:m,squaredLength:g,str:function(e){return"vec2("+e[0]+", "+e[1]+")"},sub:I,subtract:a,transformMat2:M,transformMat2d:S,transformMat3:function(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[3]*r+i[6],e[1]=i[1]*n+i[4]*r+i[7],e},transformMat4:function(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[4]*r+i[12],e[1]=i[1]*n+i[5]*r+i[13],e}},Symbol.toStringTag,{value:"Module"}))},19898:(e,t,i)=>{i.d(t,{R:()=>r});var n=i(50076);let r=class e{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.major=e,this.minor=t,this._context=i}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}greaterEqual(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",i=this._context&&this._context+" ";throw new n.A(t+"unsupported-version","Required major ".concat(i,"version is '").concat(this.major,"', but got '${version.major}.${version.minor}'"),{version:e})}}clone(){return new e(this.major,this.minor,this._context)}static parse(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const[r,o]=t.split("."),s=/^\s*\d+\s*$/;if(null===r||void 0===r||!r.match||!s.test(r))throw new n.A((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(null===o||void 0===o||!o.match||!s.test(o))throw new n.A((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const a=parseInt(r,10),l=parseInt(o,10);return new e(a,l,i)}}},19902:(e,t,i)=>{i.d(t,{$B:()=>m,Bi:()=>p,Rg:()=>h,U9:()=>u,ZC:()=>c,fT:()=>d,rS:()=>f,xD:()=>g});var n=i(76797),r=i(89189),o=i(66388),s=i(19247),a=i(65215),l=i(23701);function c(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function u(e){return void 0!==e.points}function d(e){return void 0!==e.x&&void 0!==e.y}function h(e){return void 0!==e.paths||void 0!==e.curvePaths}function p(e){return void 0!==e.rings||void 0!==e.curveRings}function f(e){return null==e?null:e instanceof r.A?e:d(e)?s.A.fromJSON(e):h(e)?l.A.fromJSON(e):p(e)?a.A.fromJSON(e):u(e)?o.A.fromJSON(e):c(e)?n.A.fromJSON(e):null}function m(e){return e?d(e)?"esriGeometryPoint":h(e)?"esriGeometryPolyline":p(e)?"esriGeometryPolygon":c(e)?"esriGeometryEnvelope":u(e)?"esriGeometryMultipoint":null:null}const y={esriGeometryPoint:s.A,esriGeometryPolyline:l.A,esriGeometryPolygon:a.A,esriGeometryEnvelope:n.A,esriGeometryMultipoint:o.A,esriGeometryMultiPatch:a.A};function g(e){return e&&y[e]||null}},20459:(e,t,i)=>{i.d(t,{$:()=>r});var n=i(76099);function r(){return function(e,t){if(!e[t])throw new TypeError("Cannot auto bind undefined function '".concat(String(t),"'"));return{value:o(e[t])}}}function o(e){return function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];!function(e){const t=null===e||void 0===e?void 0:e.type;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(t)?e.call(this,t,...r):(0,n.OU)(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click())}}},20650:(e,t,i)=>{i.d(t,{A:()=>h});var n,r=i(35143),o=i(50076),s=i(42553),a=i(46053),l=i(40565),c=(i(81806),i(47249),i(85842)),u=i(36351);let d=n=class extends s.A{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var e;const t=this.url,i=this.thumbnail;return t&&i&&this.portal?null===(e=this.portal)||void 0===e?void 0:e.normalizeUrl("".concat(t,"/info/").concat(i,"?f=json")):null}get url(){var e;const t=null===(e=this.portal)||void 0===e?void 0:e.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then((t=>{const i=t.categorySchema||[];return i.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):i}))}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}toJSON(){throw new o.A("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new n({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=(0,l.dp)(u.A,e);const n=this.portal;return parseFloat(n.currentVersion)>5?(i=i||new u.A,n.queryPortal("/content/groups/".concat(this.id,"/search"),i,"PortalItem",t)):(i=i?i.clone():new u.A,i.query="group:"+this.id+(i.query?" "+i.query:""),n.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then((e=>{const n=e.contentCategorySetsGroupQuery;if(n){const e=new u.A({disableExtraQuery:!0,num:1,query:n});return i.queryGroups(e,t)}throw new o.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((i=>{if(i.total){const n=i.results[0],r=new u.A({num:1,query:'typekeywords:"'.concat(e,'"')});return n.queryItems(r,t)}throw new o.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>e.total?e.results[0].fetchData("json",t).then((e=>{const t=null===e||void 0===e?void 0:e.categorySchema;return null!==t&&void 0!==t&&t.length?t:[]})):[]))}};(0,r._)([(0,a.MZ)()],d.prototype,"access",void 0),(0,r._)([(0,a.MZ)({type:Date})],d.prototype,"created",void 0),(0,r._)([(0,a.MZ)()],d.prototype,"description",void 0),(0,r._)([(0,a.MZ)()],d.prototype,"id",void 0),(0,r._)([(0,a.MZ)()],d.prototype,"isInvitationOnly",void 0),(0,r._)([(0,a.MZ)({type:Date})],d.prototype,"modified",void 0),(0,r._)([(0,a.MZ)()],d.prototype,"owner",void 0),(0,r._)([(0,a.MZ)()],d.prototype,"portal",void 0),(0,r._)([(0,a.MZ)()],d.prototype,"snippet",void 0),(0,r._)([(0,a.MZ)()],d.prototype,"sortField",void 0),(0,r._)([(0,a.MZ)()],d.prototype,"sortOrder",void 0),(0,r._)([(0,a.MZ)()],d.prototype,"sourceJSON",void 0),(0,r._)([(0,a.MZ)()],d.prototype,"tags",void 0),(0,r._)([(0,a.MZ)()],d.prototype,"thumbnail",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],d.prototype,"thumbnailUrl",null),(0,r._)([(0,a.MZ)()],d.prototype,"title",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],d.prototype,"url",null),d=n=(0,r._)([(0,c.$)("esri.portal.PortalGroup")],d);const h=d},20664:(e,t,i)=>{i.d(t,{A:()=>f,B:()=>p,C:()=>u,D:()=>m,E:()=>d,F:()=>y,G:()=>G,H:()=>V,I:()=>D,L:()=>I,a:()=>F,b:()=>v,c:()=>s,d:()=>c,e:()=>E,f:()=>T,g:()=>l,h:()=>g,i:()=>a,j:()=>_,k:()=>b,l:()=>o,m:()=>x,n:()=>S,o:()=>Z,p:()=>L,q:()=>P,r:()=>R,s:()=>w,t:()=>C,u:()=>M,v:()=>A,w:()=>O,x:()=>h,y:()=>z,z:()=>B});var n=i(9392),r=i(53494);function o(e){const t=e[0],i=e[1],n=e[2];return Math.sqrt(t*t+i*i+n*n)}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(e,t,i,n){return e[0]=t,e[1]=i,e[2]=n,e}function l(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function c(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function u(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function d(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function h(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function p(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function f(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function m(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e[0]=Math.min(Math.max(e[0],t),i),e[1]=Math.min(Math.max(e[1],t),i),e[2]=Math.min(Math.max(e[2],t),i),e}function g(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function v(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e}function _(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(i*i+n*n+r*r)}function w(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return i*i+n*n+r*r}function b(e){const t=e[0],i=e[1],n=e[2];return t*t+i*i+n*n}function A(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function M(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function S(e,t){const i=t[0],n=t[1],r=t[2];let o=i*i+n*n+r*r;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function T(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function E(e,t,i){const n=t[0],r=t[1],o=t[2],s=i[0],a=i[1],l=i[2];return e[0]=r*l-o*a,e[1]=o*s-n*l,e[2]=n*a-r*s,e}function x(e,t,i,n){const r=t[0],o=t[1],s=t[2];return e[0]=r+n*(i[0]-r),e[1]=o+n*(i[1]-o),e[2]=s+n*(i[2]-s),e}function C(e,t,i){const n=t[0],r=t[1],o=t[2];return e[0]=i[0]*n+i[4]*r+i[8]*o+i[12],e[1]=i[1]*n+i[5]*r+i[9]*o+i[13],e[2]=i[2]*n+i[6]*r+i[10]*o+i[14],e}function P(e,t,i){const n=t[0],r=t[1],o=t[2];return e[0]=n*i[0]+r*i[3]+o*i[6],e[1]=n*i[1]+r*i[4]+o*i[7],e[2]=n*i[2]+r*i[5]+o*i[8],e}function O(e,t,i){const n=i[0],r=i[1],o=i[2],s=i[3],a=t[0],l=t[1],c=t[2],u=r*c-o*l,d=o*a-n*c,h=n*l-r*a,p=r*h-o*d,f=o*u-n*h,m=n*d-r*u,y=2*s;return e[0]=a+u*y+2*p,e[1]=l+d*y+2*f,e[2]=c+h*y+2*m,e}function I(e,t,i,n){const r=[],o=[];return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],o[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),o[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),o[2]=r[2],e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e}function R(e,t){S(N,e),S(k,t);const i=T(N,k);return i>1?0:i<-1?Math.PI:Math.acos(i)}const N=(0,n.vt)(),k=(0,n.vt)();function L(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function D(e,t){if(e===t)return!0;const i=e[0],n=e[1],o=e[2],s=t[0],a=t[1],l=t[2],c=(0,r.FD)();return Math.abs(i-s)<=c*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-a)<=c*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-l)<=c*Math.max(1,Math.abs(o),Math.abs(l))}function Z(e,t,i){const n=i[0]-t[0],r=i[1]-t[1],o=i[2]-t[2];let s=n*n+r*r+o*o;return s>0?(s=1/Math.sqrt(s),e[0]=n*s,e[1]=r*s,e[2]=o*s,e):(e[0]=0,e[1]=0,e[2]=0,e)}const F=c,U=u,j=d,G=_,z=w,V=o,B=b;Object.freeze(Object.defineProperty({__proto__:null,abs:h,add:l,angle:R,bezier:function(e,t,i,n,r,o){const s=1-o,a=s*s,l=o*o,c=a*s,u=3*o*a,d=3*l*s,h=l*o;return e[0]=t[0]*c+i[0]*u+n[0]*d+r[0]*h,e[1]=t[1]*c+i[1]*u+n[1]*d+r[1]*h,e[2]=t[2]*c+i[2]*u+n[2]*d+r[2]*h,e},ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},clamp:y,copy:s,cross:E,crossAndNormalize:function(e,t,i){const n=t[0],r=t[1],o=t[2],s=i[0],a=i[1],l=i[2],c=r*l-o*a,u=o*s-n*l,d=n*a-r*s,h=Math.sqrt(c*c+u*u+d*d);return e[0]=c/h,e[1]=u/h,e[2]=d/h,e},direction:Z,dist:G,distance:_,div:j,divide:d,dot:T,equals:D,exactEquals:L,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},hermite:function(e,t,i,n,r,o){const s=o*o,a=s*(2*o-3)+1,l=s*(o-2)+o,c=s*(o-1),u=s*(3-2*o);return e[0]=t[0]*a+i[0]*l+n[0]*c+r[0]*u,e[1]=t[1]*a+i[1]*l+n[1]*c+r[1]*u,e[2]=t[2]*a+i[2]*l+n[2]*c+r[2]*u,e},inverse:M,len:V,length:o,lerp:x,max:m,min:f,mul:U,multiply:u,negate:A,normalize:S,random:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=r.Ov,n=2*i()*Math.PI,o=2*i()-1,s=Math.sqrt(1-o*o)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=o*t,e},rotateX:function(e,t,i,n){const r=[],o=[];return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],o[0]=r[0],o[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),o[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e},rotateY:function(e,t,i,n){const r=[],o=[];return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],o[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),o[1]=r[1],o[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e},rotateZ:I,round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:g,scaleAndAdd:v,set:a,sign:p,sqrDist:z,sqrLen:B,squaredDistance:w,squaredLength:b,str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},sub:F,subtract:c,transformMat3:P,transformMat4:C,transformQuat:O},Symbol.toStringTag,{value:"Module"}))},21403:(e,t,i)=>{i.d(t,{w:()=>l});var n=i(40565),r=i(19258);const o=Object.prototype.toString;function s(e){const t="__accessorMetadata__"in e?(0,n.dp)(e):e;return function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i.push(t),"number"==typeof i[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return a.apply(this,i)}}function a(e,t,i,n){(0,r.z4)(e,t).cast=n}function l(){if(3!==arguments.length||"string"!=typeof(arguments.length<=1?void 0:arguments[1]))return 1===arguments.length&&"[object Function]"===o.call(arguments.length<=0?void 0:arguments[0])?s(arguments.length<=0?void 0:arguments[0]):1===arguments.length&&"string"==typeof(arguments.length<=0?void 0:arguments[0])?function(e){return(t,i)=>{(0,r.z4)(t,e).cast=t[i]}}(arguments.length<=0?void 0:arguments[0]):void 0}},21405:(e,t,i)=>{i.d(t,{A:()=>S});var n,r=i(89379),o=i(35143),s=i(53084),a=i(46053),l=(i(81806),i(76460),i(6409)),c=i(85842),u=i(17707),d=i(61425),h=i(38582),p=i(85192),f=i(69539),m=i(42553);let y=n=class extends m.A{constructor(){super(...arguments),this.color=new f.A([0,0,0,1]),this.size=0}clone(){const e={color:(0,s.o8)(this.color),size:this.size};return new n(e)}};(0,o._)([(0,a.MZ)((0,p.E)())],y.prototype,"color",void 0),(0,o._)([(0,a.MZ)(p.p)],y.prototype,"size",void 0),y=n=(0,o._)([(0,c.$)("esri.symbols.support.Symbol3DHalo")],y);var g=i(9994),v=i(69098);i(47249);let _=class extends(v.A.ClonableMixin(m.A)){constructor(e){super(e),this.color=null}};(0,o._)([(0,a.MZ)((0,p.E)())],_.prototype,"color",void 0),_=(0,o._)([(0,c.$)("esri.symbols.support.Symbol3DTextBackground")],_);var w,b=i(27790);let A=w=class extends h.A{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){null!=e&&null!=this._userSize&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,n){const o=(0,r.A)((0,r.A)({},n),{},{textSymbol3D:!0});t.font=e.write({},o),delete t.font.size}get size(){var e;return null!=this._userSize?this._userSize:null!=(null===(e=this.font)||void 0===e?void 0:e.size)?this.font.size:9}set size(e){this._userSize=e,null!=this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new w({enabled:this.enabled,font:this.font&&(0,s.o8)(this.font),halo:this.halo&&(0,s.o8)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,s.o8)(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new w({font:null!=e.font?e.font.clone():new d.A,halo:M(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new g.N({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new _({color:e.backgroundColor.clone()}):null})}};function M(e,t){return e&&null!=t&&t>0?new y({color:(0,s.o8)(e),size:t}):null}(0,o._)([(0,a.MZ)({type:d.A,json:{write:!0}})],A.prototype,"font",null),(0,o._)([(0,u.K)("font")],A.prototype,"writeFont",null),(0,o._)([(0,a.MZ)({type:y,json:{write:!0}})],A.prototype,"halo",void 0),(0,o._)([(0,a.MZ)((0,r.A)((0,r.A)({},b.rM),{},{json:{default:"center",write:!0}}))],A.prototype,"horizontalAlignment",void 0),(0,o._)([(0,a.MZ)((0,r.A)((0,r.A)({},b.Tb),{},{json:{default:1,write:!0}}))],A.prototype,"lineHeight",void 0),(0,o._)([(0,a.MZ)({type:g.N,json:{write:!0}})],A.prototype,"material",void 0),(0,o._)([(0,a.MZ)({type:_,json:{write:!0}})],A.prototype,"background",void 0),(0,o._)([(0,a.MZ)(p.p)],A.prototype,"size",null),(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],A.prototype,"text",void 0),(0,o._)([(0,l.e)({Text:"text"},{readOnly:!0})],A.prototype,"type",void 0),(0,o._)([(0,a.MZ)((0,r.A)((0,r.A)({},b.x0),{},{json:{default:"baseline",write:!0}}))],A.prototype,"verticalAlignment",void 0),A=w=(0,o._)([(0,c.$)("esri.symbols.TextSymbol3DLayer")],A);const S=A},21820:(e,t,i)=>{i.d(t,{A:()=>p});var n,r=i(35143),o=i(45802),s=i(42553),a=i(53084),l=i(46053),c=(i(81806),i(76460),i(85842)),u=i(17707);const d=new o.J({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let h=n=class extends s.A{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=(0,a.o8)(e))}clone(){return new n({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,a.o8)(this.statisticParameters)})}};(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],h.prototype,"maxPointCount",void 0),(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],h.prototype,"maxRecordCount",void 0),(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],h.prototype,"maxVertexCount",void 0),(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],h.prototype,"onStatisticField",void 0),(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],h.prototype,"outStatisticFieldName",void 0),(0,r._)([(0,l.MZ)({type:String,json:{read:{source:"statisticType",reader:d.read},write:{target:"statisticType",writer:d.write}}})],h.prototype,"statisticType",void 0),(0,r._)([(0,l.MZ)({type:Object})],h.prototype,"statisticParameters",void 0),(0,r._)([(0,u.K)("statisticParameters")],h.prototype,"writeStatisticParameters",null),h=n=(0,r._)([(0,c.$)("esri.rest.support.StatisticDefinition")],h);const p=h},22189:(e,t,i)=>{i.d(t,{A:()=>T});var n=i(89379),r=i(35143),o=i(76931),s=i(46053),a=(i(81806),i(76460),i(47249),i(6409)),l=i(85842),c=i(69539),u=i(69098),d=i(42553),h=i(40565),p=i(62571);let f=class extends(u.A.ClonableMixin(d.A)){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return null!=e&&e.placement===this.placement&&e.style===this.style&&(null==this.color&&null==e.color||null!=this.color&&null!=e.color&&this.color.toJSON()===e.color.toJSON())}};(0,r._)([(0,s.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],f.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:p.x,json:{default:"begin-end",write:!0}})],f.prototype,"placement",void 0),(0,r._)([(0,s.MZ)({type:p.z,json:{default:"arrow",write:!0}})],f.prototype,"style",void 0),(0,r._)([(0,s.MZ)({type:c.A,json:{type:[h.jz],default:null,write:!0}})],f.prototype,"color",void 0),f=(0,r._)([(0,l.$)("esri.symbols.LineStyleMarker3D")],f);const m=f;var y,g=i(38582),v=i(34870),_=i(80669),w=i(39196),b=i(85192),A=i(9994),M=i(72733);let S=y=class extends g.A{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,o.PN)(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new y(e)}static fromSimpleLineSymbol(e){var t,i,n;const r={enabled:!0,size:null!==(t=e.width)&&void 0!==t?t:(0,o.PN)(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new v.A({style:e.style}):null,material:new A.N({color:(e.color||w.ON).clone()}),marker:e.marker?new m({placement:e.marker.placement,style:e.marker.style,color:null!==(i=null===(n=e.marker.color)||void 0===n?void 0:n.clone())&&void 0!==i?i:null}):null};return new y(r)}};(0,r._)([(0,s.MZ)({type:A.N,json:{write:!0}})],S.prototype,"material",void 0),(0,r._)([(0,a.e)({Line:"line"},{readOnly:!0})],S.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:M.e,json:{write:!0,default:"miter"}})],S.prototype,"join",void 0),(0,r._)([(0,s.MZ)({type:M.M4,json:{write:!0,default:"butt"}})],S.prototype,"cap",void 0),(0,r._)([(0,s.MZ)((0,n.A)((0,n.A)({},b.p),{},{json:{write:{isRequired:!0}}}))],S.prototype,"size",void 0),(0,r._)([(0,s.MZ)(_.v)],S.prototype,"pattern",void 0),(0,r._)([(0,s.MZ)({types:{key:"type",base:m,typeMap:{style:m}},json:{write:!0}})],S.prototype,"marker",void 0),S=y=(0,r._)([(0,l.$)("esri.symbols.LineSymbol3DLayer")],S);const T=S},22382:(e,t,i)=>{i.d(t,{B:()=>d,v:()=>a});var n=i(50076),r=i(76460),o=i(48611),s=i(28013);function a(e,t){var i;if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const n=null!==(i=null===e||void 0===e?void 0:e.ndimArray)&&void 0!==i?i:0;e&&(1===n||"type"in e&&(0,s.P)(e.type))?t.write.writer=h:n>1?t.write.writer=function(e){return(t,i,n,r)=>{let s;if(null===t)s=null;else{s=p(t,r,e);let i=e,n=s;for(;i>0&&Array.isArray(n);)i--,n=n[0];if(void 0!==n)for(let e=0;e<i;e++)s=[s]}(0,o.sM)(n,s,i)}}(n):t.types?Array.isArray(t.types)?t.write.writer=function(e){return(t,i,n,r)=>t&&Array.isArray(t)?c(t.filter((t=>l(t,e,r))),i,n,r):c(t,i,n,r)}(t.types[0]):t.write.writer=function(e){return(t,i,n,r)=>t?l(t,e,r)?c(t,i,n,r):void 0:c(t,i,n,r)}(t.types):t.write.writer=c}function l(e,t,i){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(null!==i&&void 0!==i&&i.messages){var o,s;const a=null!==(o=t.errorContext)&&void 0!==o?o:"type",l="Values of type '".concat(null!==(s="function"!=typeof t.key?e[t.key]:e.declaredClass)&&void 0!==s?s:"Unknown","' cannot be written");i&&i.messages&&e&&i.messages.push(new n.A("".concat(a,":unsupported"),l,{definition:e,context:i})),r.A.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(l)}return!1}function c(e,t,i,n){(0,o.sM)(i,u(e,n),t)}function u(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?d(e):e}function d(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function h(e,t,i,n){let r;null===e?r=null:e&&"function"==typeof e.map?(r=e.map((e=>u(e,n))),"function"==typeof r.toArray&&(r=r.toArray())):r=[u(e,n)],(0,o.sM)(i,r,t)}function p(e,t,i){return 0!==i&&Array.isArray(e)?e.map((e=>p(e,t,i-1))):u(e,t)}},22431:(e,t,i)=>{i.d(t,{A:()=>c});var n,r=i(35143),o=i(91967),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842));let l=n=class extends o.A{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var e;return new n({color:null===(e=this.color)||void 0===e?void 0:e.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};(0,r._)([(0,s.MZ)()],l.prototype,"color",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"fieldName",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"tooltip",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"value",void 0),l=n=(0,r._)([(0,a.$)("esri.popup.content.support.ChartMediaInfoValueSeries")],l);const c=l},22848:(e,t,i)=>{i.d(t,{A:()=>u});var n,r=i(35143),o=i(42553),s=i(46053),a=i(40565),l=(i(81806),i(47249),i(85842));let c=n=class extends o.A{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new n({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,r._)([(0,s.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"cols",void 0),(0,r._)([(0,s.MZ)({type:a.jz,json:{write:!0}})],c.prototype,"level",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"levelValue",void 0),(0,r._)([(0,s.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"origin",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"resolution",void 0),(0,r._)([(0,s.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"rows",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"scale",void 0),c=n=(0,r._)([(0,l.$)("esri.layers.support.LOD")],c);const u=c},22856:(e,t,i)=>{i.d(t,{G:()=>n});const n=Symbol("Yield")},23701:(e,t,i)=>{i.d(t,{A:()=>g});var n,r=i(89379),o=i(35143),s=i(53084),a=i(46053),l=(i(81806),i(76460),i(85842)),c=i(17707),u=i(76797),d=i(89189),h=i(19247),p=i(13312),f=i(27084),m=i(64867);let y=n=class extends d.A{constructor(e){super(function(e){var t;if(!e)return;let{paths:i,hasM:n,hasZ:o,spatialReference:s}=e;switch(null!==i&&void 0!==i||(i=[]),function(e){var t;return"number"==typeof(null===(t=e[0])||void 0===t?void 0:t[0])}(i)&&(i=[i]),null===(t=i[0])||void 0===t||null===(t=t[0])||void 0===t?void 0:t.length){case 4:null!==o&&void 0!==o||(o=!0),null!==n&&void 0!==n||(n=!0);break;case 3:null!==o&&void 0!==o||(o=!0!==n),null!==n&&void 0!==n||(n=!o);break;default:null!==o&&void 0!==o||(o=!1),null!==n&&void 0!==n||(n=!1)}return null!==s&&void 0!==s||(s=p.A.WGS84),(0,r.A)((0,r.A)({},e),{},{hasM:n,hasZ:o,paths:i,spatialReference:s})}(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=(0,s.o8)(e)}get extent(){const e=(0,f.Z3)(this),{spatialReference:t}=this;return e?new u.A((0,r.A)((0,r.A)({},e),{},{spatialReference:t})):null}writePaths(e,t){t.paths=(0,s.o8)(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(function(e){return!Array.isArray(e[0])}(e)){const n=[];for(let t=0,i=e.length;t<i;t++)n[t]=e[t].toArray();t[i]=n}else t[i]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new n;return e.spatialReference=this.spatialReference,e.paths=(0,s.o8)(this.paths),e.curvePaths=(0,s.o8)(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],n=this.hasZ,r=this.hasM;return n&&!r?new h.A(i[0],i[1],i[2],void 0,this.spatialReference):r&&!n?new h.A(i[0],i[1],void 0,i[2],this.spatialReference):n&&r?new h.A(i[0],i[1],i[2],i[3],this.spatialReference):new h.A(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?((0,m.h)(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,n=t.map((e=>new h.A(e,i)));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new h.A(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?((0,m.h)(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||e<0||e>=this.paths.length)return!1;if(null!=t){const n=this.paths[e];if(i&&(t<0||t>n.length))return!1;if(!i&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};(0,o._)([(0,a.MZ)({readOnly:!0})],y.prototype,"cache",null),(0,o._)([(0,a.MZ)({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],y.prototype,"curvePaths",void 0),(0,o._)([(0,c.K)("curvePaths")],y.prototype,"writeCurvePaths",null),(0,o._)([(0,a.MZ)({readOnly:!0})],y.prototype,"extent",null),(0,o._)([(0,a.MZ)({type:[[[Number]]],json:{write:{isRequired:!0}}})],y.prototype,"paths",void 0),(0,o._)([(0,c.K)("paths")],y.prototype,"writePaths",null),y=n=(0,o._)([(0,l.$)("esri.geometry.Polyline")],y);const g=y;y.prototype.toJSON.isDefaultToJSON=!0},24107:(e,t,i)=>{function n(e){var t,i;if(!e)return;const n=e.match(r);return null!==n&&void 0!==n&&n.groups?null!==(t=null!==(i=n.groups.doubleQuoted)&&void 0!==i?i:n.groups.singleQuoted)&&void 0!==t?t:n.groups.dotNotation:void 0}i.d(t,{D:()=>o,o:()=>n});const r=(0,i(33635).A)(/^(\$feature\[(?:"([^"]+)"|'([^']+)')\]|\$feature\.([a-zA-Z_][a-zA-Z0-9_]*))$/i,{doubleQuoted:2,singleQuoted:3,dotNotation:4});function o(e){var t,i;return null!==(t=null===(i=e.match(s))||void 0===i||null===(i=i[1])||void 0===i?void 0:i.replace(/\\'/g,"'"))&&void 0!==t?t:null}const s=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/},24141:(e,t,i)=>{i.d(t,{A:()=>u});var n,r=i(35143),o=i(91967),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842)),l=i(65308);let c=n=class extends o.A{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new n({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,r._)([(0,s.MZ)({type:String})],c.prototype,"name",void 0),(0,r._)([(0,s.MZ)({type:String})],c.prototype,"styleUrl",void 0),(0,r._)([(0,s.MZ)({type:String})],c.prototype,"styleName",void 0),(0,r._)([(0,s.MZ)({type:l.A})],c.prototype,"portal",void 0),c=n=(0,r._)([(0,a.$)("esri.symbols.support.StyleOrigin")],c);const u=c},24241:(e,t,i)=>{i.d(t,{c9:()=>bn,mQ:()=>ae,oh:()=>V,bo:()=>Z});var n=i(89379);class r extends Error{}class o extends r{constructor(e){super("Invalid DateTime: ".concat(e.toMessage()))}}class s extends r{constructor(e){super("Invalid Interval: ".concat(e.toMessage()))}}class a extends r{constructor(e){super("Invalid Duration: ".concat(e.toMessage()))}}class l extends r{}class c extends r{constructor(e){super("Invalid unit ".concat(e))}}class u extends r{}class d extends r{constructor(){super("Zone is an abstract class")}}const h="numeric",p="short",f="long",m={year:h,month:h,day:h},y={year:h,month:p,day:h},g={year:h,month:p,day:h,weekday:p},v={year:h,month:f,day:h},_={year:h,month:f,day:h,weekday:f},w={hour:h,minute:h},b={hour:h,minute:h,second:h},A={hour:h,minute:h,second:h,timeZoneName:p},M={hour:h,minute:h,second:h,timeZoneName:f},S={hour:h,minute:h,hourCycle:"h23"},T={hour:h,minute:h,second:h,hourCycle:"h23"},E={hour:h,minute:h,second:h,hourCycle:"h23",timeZoneName:p},x={hour:h,minute:h,second:h,hourCycle:"h23",timeZoneName:f},C={year:h,month:h,day:h,hour:h,minute:h},P={year:h,month:h,day:h,hour:h,minute:h,second:h},O={year:h,month:p,day:h,hour:h,minute:h},I={year:h,month:p,day:h,hour:h,minute:h,second:h},R={year:h,month:p,day:h,weekday:p,hour:h,minute:h},N={year:h,month:f,day:h,hour:h,minute:h,timeZoneName:p},k={year:h,month:f,day:h,hour:h,minute:h,second:h,timeZoneName:p},L={year:h,month:f,day:h,weekday:f,hour:h,minute:h,timeZoneName:f},D={year:h,month:f,day:h,weekday:f,hour:h,minute:h,second:h,timeZoneName:f};class Z{get type(){throw new d}get name(){throw new d}get ianaName(){return this.name}get isUniversal(){throw new d}offsetName(e,t){throw new d}formatOffset(e,t){throw new d}offset(e){throw new d}equals(e){throw new d}get isValid(){throw new d}}let F=null;class U extends Z{static get instance(){return null===F&&(F=new U),F}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,t){let{format:i,locale:n}=t;return st(e,i,n)}formatOffset(e,t){return ut(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let j={};const G={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let z={};class V extends Z{static create(e){return z[e]||(z[e]=new V(e)),z[e]}static resetCache(){z={},j={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}constructor(e){super(),this.zoneName=e,this.valid=V.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,t){let{format:i,locale:n}=t;return st(e,i,n,this.name)}formatOffset(e,t){return ut(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=(n=this.name,j[n]||(j[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),j[n]);var n;let[r,o,s,a,l,c,u]=i.formatToParts?function(e,t){const i=e.formatToParts(t),n=[];for(let r=0;r<i.length;r++){const{type:e,value:t}=i[r],o=G[e];"era"===e?n[o]=t:Ue(o)||(n[o]=parseInt(t,10))}return n}(i,t):function(e,t){const i=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,r,o,s,a,l,c,u]=n;return[s,r,o,a,l,c,u]}(i,t);"BC"===a&&(r=1-Math.abs(r));let d=+t;const h=d%1e3;return d-=h>=0?h:1e3+h,(it({year:r,month:o,day:s,hour:24===l?0:l,minute:c,second:u,millisecond:0})-d)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}var B=i(53986);const H=["base"],q=["padTo","floor"];let W={};let $={};function J(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=JSON.stringify([e,t]);let n=$[i];return n||(n=new Intl.DateTimeFormat(e,t),$[i]=n),n}let K={};let Y={};let X=null;let Q={};function ee(e,t,i,n){const r=e.listingMode();return"error"===r?null:"en"===r?i(t):n(t)}class te{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:o}=i,s=(0,B.A)(i,q);if(!t||Object.keys(s).length>0){const t=(0,n.A)({useGrouping:!1},i);i.padTo>0&&(t.minimumIntegerDigits=i.padTo),this.inf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=JSON.stringify([e,t]);let n=K[i];return n||(n=new Intl.NumberFormat(e,t),K[i]=n),n}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return $e(this.floor?Math.floor(e):Xe(e,3),this.padTo)}}class ie{constructor(e,t,i){let r;if(this.opts=i,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,i=t>=0?"Etc/GMT+".concat(t):"Etc/GMT".concat(t);0!==e.offset&&V.create(i).valid?(r=i,this.dt=e):(r="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o=(0,n.A)({},this.opts);o.timeZone=o.timeZone||r,this.dtf=J(t,o)}format(){return this.originalZone?this.formatToParts().map((e=>{let{value:t}=e;return t})).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map((e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return(0,n.A)((0,n.A)({},e),{},{value:t})}return e})):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class ne{constructor(e,t,i){this.opts=(0,n.A)({style:"long"},i),!t&&ze()&&(this.rtf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{base:i}=t,n=(0,B.A)(t,H),r=JSON.stringify([e,n]);let o=Y[r];return o||(o=new Intl.RelativeTimeFormat(e,t),Y[r]=o),o}(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"always",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===i&&o){const i="days"===e;switch(t){case 1:return i?"tomorrow":"next ".concat(r[e][0]);case-1:return i?"yesterday":"last ".concat(r[e][0]);case 0:return i?"today":"this ".concat(r[e][0])}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),l=1===a,c=r[e],u=n?l?c[1]:c[2]||c[1]:l?r[e][0]:e;return s?"".concat(a," ").concat(u," ago"):"in ".concat(a," ").concat(u)}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const re={firstDay:1,minimalDays:4,weekend:[6,7]};class oe{static fromOpts(e){return oe.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=e||Me.defaultLocale,s=o||(r?"en-US":X||(X=(new Intl.DateTimeFormat).resolvedOptions().locale,X)),a=t||Me.defaultNumberingSystem,l=i||Me.defaultOutputCalendar,c=qe(n)||Me.defaultWeekSettings;return new oe(s,a,l,c,o)}static resetCache(){X=null,$={},K={},Y={}}static fromObject(){let{locale:e,numberingSystem:t,outputCalendar:i,weekSettings:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return oe.create(e,t,i,n)}constructor(e,t,i,n,r){const[o,s,a]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(-1===i)return[e];{let t,r;try{t=J(e).resolvedOptions(),r=e}catch(n){const o=e.substring(0,i);t=J(o).resolvedOptions(),r=o}const{numberingSystem:o,calendar:s}=t;return[r,o,s]}}(e);this.locale=o,this.numberingSystem=t||s||null,this.outputCalendar=i||a||null,this.weekSettings=n,this.intl=function(e,t,i){return i||t?(e.includes("-u-")||(e+="-u"),i&&(e+="-ca-".concat(i)),t&&(e+="-nu-".concat(t)),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?oe.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,qe(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone((0,n.A)((0,n.A)({},e),{},{defaultToEN:!0}))}redefaultToSystem(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone((0,n.A)((0,n.A)({},e),{},{defaultToEN:!1}))}months(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ee(this,e,mt,(()=>{const i=t?{month:e,day:"numeric"}:{month:e},n=t?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=function(e){const t=[];for(let i=1;i<=12;i++){const n=bn.utc(2009,i,1);t.push(e(n))}return t}((e=>this.extract(e,i,"month")))),this.monthsCache[n][e]}))}weekdays(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ee(this,e,_t,(()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=function(e){const t=[];for(let i=1;i<=7;i++){const n=bn.utc(2016,11,13+i);t.push(e(n))}return t}((e=>this.extract(e,i,"weekday")))),this.weekdaysCache[n][e]}))}meridiems(){return ee(this,void 0,(()=>wt),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[bn.utc(2016,11,13,9),bn.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e){return ee(this,e,St,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[bn.utc(-40,1,1),bn.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,i){const n=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===i));return n?n.value:null}numberFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new te(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new ie(e,this.intl,t)}relFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ne(this.intl,this.isEnglish(),e)}listFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=JSON.stringify([e,t]);let n=W[i];return n||(n=new Intl.ListFormat(e,t),W[i]=n),n}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ve()?function(e){let t=Q[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,Q[e]=t}return t}(this.locale):re}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return"Locale(".concat(this.locale,", ").concat(this.numberingSystem,", ").concat(this.outputCalendar,")")}}let se=null;class ae extends Z{static get utcInstance(){return null===se&&(se=new ae(0)),se}static instance(e){return 0===e?ae.utcInstance:new ae(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new ae(at(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":"UTC".concat(ut(this.fixed,"narrow"))}get ianaName(){return 0===this.fixed?"Etc/UTC":"Etc/GMT".concat(ut(-this.fixed,"narrow"))}offsetName(){return this.name}formatOffset(e,t){return ut(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class le extends Z{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ce(e,t){if(Ue(e)||null===e)return t;if(e instanceof Z)return e;if(function(e){return"string"===typeof e}(e)){const i=e.toLowerCase();return"default"===i?t:"local"===i||"system"===i?U.instance:"utc"===i||"gmt"===i?ae.utcInstance:ae.parseSpecifier(i)||V.create(e)}return je(e)?ae.instance(e):"object"===typeof e&&"offset"in e&&"function"===typeof e.offset?e:new le(e)}const ue={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},de={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},he=ue.hanidec.replace(/[\[|\]]/g,"").split("");let pe={};function fe(e){let{numberingSystem:t}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=t||"latn";return pe[n]||(pe[n]={}),pe[n][i]||(pe[n][i]=new RegExp("".concat(ue[n]).concat(i))),pe[n][i]}let me,ye=()=>Date.now(),ge="system",ve=null,_e=null,we=null,be=60,Ae=null;class Me{static get now(){return ye}static set now(e){ye=e}static set defaultZone(e){ge=e}static get defaultZone(){return ce(ge,U.instance)}static get defaultLocale(){return ve}static set defaultLocale(e){ve=e}static get defaultNumberingSystem(){return _e}static set defaultNumberingSystem(e){_e=e}static get defaultOutputCalendar(){return we}static set defaultOutputCalendar(e){we=e}static get defaultWeekSettings(){return Ae}static set defaultWeekSettings(e){Ae=qe(e)}static get twoDigitCutoffYear(){return be}static set twoDigitCutoffYear(e){be=e%100}static get throwOnInvalid(){return me}static set throwOnInvalid(e){me=e}static resetCaches(){oe.resetCache(),V.resetCache(),bn.resetCache(),pe={}}}class Se{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?"".concat(this.reason,": ").concat(this.explanation):this.reason}}const Te=[0,31,59,90,120,151,181,212,243,273,304,334],Ee=[0,31,60,91,121,152,182,213,244,274,305,335];function xe(e,t){return new Se("unit out of range","you specified ".concat(t," (of type ").concat(typeof t,") as a ").concat(e,", which is invalid"))}function Ce(e,t,i){const n=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const r=n.getUTCDay();return 0===r?7:r}function Pe(e,t,i){return i+(Qe(e)?Ee:Te)[t-1]}function Oe(e,t){const i=Qe(e)?Ee:Te,n=i.findIndex((e=>e<t));return{month:n+1,day:t-i[n]}}function Ie(e,t){return(e-t+7)%7+1}function Re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const{year:r,month:o,day:s}=e,a=Pe(r,o,s),l=Ie(Ce(r,o,s),i);let c,u=Math.floor((a-l+14-t)/7);return u<1?(c=r-1,u=rt(c,t,i)):u>rt(r,t,i)?(c=r+1,u=1):c=r,(0,n.A)({weekYear:c,weekNumber:u,weekday:l},dt(e))}function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const{weekYear:r,weekNumber:o,weekday:s}=e,a=Ie(Ce(r,1,t),i),l=et(r);let c,u=7*o+s-a-7+t;u<1?(c=r-1,u+=et(c)):u>l?(c=r+1,u-=et(r)):c=r;const{month:d,day:h}=Oe(c,u);return(0,n.A)({year:c,month:d,day:h},dt(e))}function ke(e){const{year:t,month:i,day:r}=e,o=Pe(t,i,r);return(0,n.A)({year:t,ordinal:o},dt(e))}function Le(e){const{year:t,ordinal:i}=e,{month:r,day:o}=Oe(t,i);return(0,n.A)({year:t,month:r,day:o},dt(e))}function De(e,t){if(!Ue(e.localWeekday)||!Ue(e.localWeekNumber)||!Ue(e.localWeekYear)){if(!Ue(e.weekday)||!Ue(e.weekNumber)||!Ue(e.weekYear))throw new l("Cannot mix locale-based week fields with ISO-based week fields");return Ue(e.localWeekday)||(e.weekday=e.localWeekday),Ue(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Ue(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Ze(e){const t=Ge(e.year),i=We(e.month,1,12),n=We(e.day,1,tt(e.year,e.month));return t?i?!n&&xe("day",e.day):xe("month",e.month):xe("year",e.year)}function Fe(e){const{hour:t,minute:i,second:n,millisecond:r}=e,o=We(t,0,23)||24===t&&0===i&&0===n&&0===r,s=We(i,0,59),a=We(n,0,59),l=We(r,0,999);return o?s?a?!l&&xe("millisecond",r):xe("second",n):xe("minute",i):xe("hour",t)}function Ue(e){return"undefined"===typeof e}function je(e){return"number"===typeof e}function Ge(e){return"number"===typeof e&&e%1===0}function ze(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Ve(){try{return"undefined"!==typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function Be(e,t,i){if(0!==e.length)return e.reduce(((e,n)=>{const r=[t(n),n];return e&&i(e[0],r[0])===e[0]?e:r}),null)[1]}function He(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qe(e){if(null==e)return null;if("object"!==typeof e)throw new u("Week settings must be an object");if(!We(e.firstDay,1,7)||!We(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((e=>!We(e,1,7))))throw new u("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function We(e,t,i){return Ge(e)&&e>=t&&e<=i}function $e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;let i;return i=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),i}function Je(e){return Ue(e)||null===e||""===e?void 0:parseInt(e,10)}function Ke(e){return Ue(e)||null===e||""===e?void 0:parseFloat(e)}function Ye(e){if(!Ue(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Xe(e,t){const i=10**t;return(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Math.trunc:Math.round)(e*i)/i}function Qe(e){return e%4===0&&(e%100!==0||e%400===0)}function et(e){return Qe(e)?366:365}function tt(e,t){const i=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===i?Qe(e+(t-i)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function it(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function nt(e,t,i){return-Ie(Ce(e,1,t),i)+t-1}function rt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const n=nt(e,t,i),r=nt(e+1,t,i);return(et(e)-n+r)/7}function ot(e){return e>99?e:e>Me.twoDigitCutoffYear?1900+e:2e3+e}function st(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const a=(0,n.A)({timeZoneName:t},s),l=new Intl.DateTimeFormat(i,a).formatToParts(o).find((e=>"timezonename"===e.type.toLowerCase()));return l?l.value:null}function at(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const n=parseInt(t,10)||0;return 60*i+(i<0||Object.is(i,-0)?-n:n)}function lt(e){const t=Number(e);if("boolean"===typeof e||""===e||Number.isNaN(t))throw new u("Invalid unit value ".concat(e));return t}function ct(e,t){const i={};for(const n in e)if(He(e,n)){const r=e[n];if(void 0===r||null===r)continue;i[t(n)]=lt(r)}return i}function ut(e,t){const i=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),r=e>=0?"+":"-";switch(t){case"short":return"".concat(r).concat($e(i,2),":").concat($e(n,2));case"narrow":return"".concat(r).concat(i).concat(n>0?":".concat(n):"");case"techie":return"".concat(r).concat($e(i,2)).concat($e(n,2));default:throw new RangeError("Value format ".concat(t," is out of range for property format"))}}function dt(e){return function(e,t){return t.reduce(((t,i)=>(t[i]=e[i],t)),{})}(e,["hour","minute","second","millisecond"])}const ht=["January","February","March","April","May","June","July","August","September","October","November","December"],pt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ft=["J","F","M","A","M","J","J","A","S","O","N","D"];function mt(e){switch(e){case"narrow":return[...ft];case"short":return[...pt];case"long":return[...ht];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const yt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],gt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],vt=["M","T","W","T","F","S","S"];function _t(e){switch(e){case"narrow":return[...vt];case"short":return[...gt];case"long":return[...yt];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const wt=["AM","PM"],bt=["Before Christ","Anno Domini"],At=["BC","AD"],Mt=["B","A"];function St(e){switch(e){case"narrow":return[...Mt];case"short":return[...At];case"long":return[...bt];default:return null}}function Tt(e,t){let i="";for(const n of e)n.literal?i+=n.val:i+=t(n.val);return i}const Et={D:m,DD:y,DDD:v,DDDD:_,t:w,tt:b,ttt:A,tttt:M,T:S,TT:T,TTT:E,TTTT:x,f:C,ff:O,fff:N,ffff:L,F:P,FF:I,FFF:k,FFFF:D};class xt{static create(e){return new xt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}static parseFormat(e){let t=null,i="",n=!1;const r=[];for(let o=0;o<e.length;o++){const s=e.charAt(o);"'"===s?(i.length>0&&r.push({literal:n||/^\s+$/.test(i),val:i}),t=null,i="",n=!n):n||s===t?i+=s:(i.length>0&&r.push({literal:/^\s+$/.test(i),val:i}),i=s,t=s)}return i.length>0&&r.push({literal:n||/^\s+$/.test(i),val:i}),r}static macroTokenToFormatOpts(e){return Et[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(e,(0,n.A)((0,n.A)({},this.opts),t)).format()}dtFormatter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e,(0,n.A)((0,n.A)({},this.opts),t))}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.opts.forceSimple)return $e(e,t);const i=(0,n.A)({},this.opts);return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,r=(t,i)=>this.loc.extract(e,t,i),o=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",s=()=>i?function(e){return wt[e.hour<12?0:1]}(e):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(t,n)=>i?function(e,t){return mt(t)[e.month-1]}(e,t):r(n?{month:t}:{month:t,day:"numeric"},"month"),l=(t,n)=>i?function(e,t){return _t(t)[e.weekday-1]}(e,t):r(n?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),c=t=>{const i=xt.macroTokenToFormatOpts(t);return i?this.formatWithSystemDefault(e,i):t},u=t=>i?function(e,t){return St(t)[e.year<0?0:1]}(e,t):r({era:t},"era");return Tt(xt.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return s();case"d":return n?r({day:"numeric"},"day"):this.num(e.day);case"dd":return n?r({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return n?r({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?r({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return n?r({month:"numeric"},"month"):this.num(e.month);case"MM":return n?r({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return n?r({year:"numeric"},"year"):this.num(e.year);case"yy":return n?r({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?r({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?r({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(t)}}))}formatDurationFromString(e,t){const i=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=xt.parseFormat(t),r=n.reduce(((e,t)=>{let{literal:i,val:n}=t;return i?e:e.concat(n)}),[]);return Tt(n,(e=>t=>{const n=i(t);return n?this.num(e.get(n),t.length):t})(e.shiftTo(...r.map(i).filter((e=>e)))))}}const Ct=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Pt(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=t.reduce(((e,t)=>e+t.source),"");return RegExp("^".concat(n,"$"))}function Ot(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return e=>t.reduce(((t,i)=>{let[r,o,s]=t;const[a,l,c]=i(e,s);return[(0,n.A)((0,n.A)({},r),a),l||o,c]}),[{},null,1]).slice(0,2)}function It(e){if(null==e)return[null,null];for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const[r,o]of i){const t=r.exec(e);if(t)return o(t)}return[null,null]}function Rt(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(e,i)=>{const n={};let r;for(r=0;r<t.length;r++)n[t[r]]=Je(e[i+r]);return[n,null,i+r]}}const Nt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,kt="(?:".concat(Nt.source,"?(?:\\[(").concat(Ct.source,")\\])?)?"),Lt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Dt=RegExp("".concat(Lt.source).concat(kt)),Zt=RegExp("(?:T".concat(Dt.source,")?")),Ft=Rt("weekYear","weekNumber","weekDay"),Ut=Rt("year","ordinal"),jt=RegExp("".concat(Lt.source," ?(?:").concat(Nt.source,"|(").concat(Ct.source,"))?")),Gt=RegExp("(?: ".concat(jt.source,")?"));function zt(e,t,i){const n=e[t];return Ue(n)?i:Je(n)}function Vt(e,t){return[{hours:zt(e,t,0),minutes:zt(e,t+1,0),seconds:zt(e,t+2,0),milliseconds:Ye(e[t+3])},null,t+4]}function Bt(e,t){const i=!e[t]&&!e[t+1],n=at(e[t+1],e[t+2]);return[{},i?null:ae.instance(n),t+3]}function Ht(e,t){return[{},e[t]?V.create(e[t]):null,t+1]}const qt=RegExp("^T?".concat(Lt.source,"$")),Wt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function $t(e){const[t,i,n,r,o,s,a,l,c]=e,u="-"===t[0],d=l&&"-"===l[0],h=function(e){return void 0!==e&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e&&u)?-e:e};return[{years:h(Ke(i)),months:h(Ke(n)),weeks:h(Ke(r)),days:h(Ke(o)),hours:h(Ke(s)),minutes:h(Ke(a)),seconds:h(Ke(l),"-0"===l),milliseconds:h(Ye(c),d)}]}const Jt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Kt(e,t,i,n,r,o,s){const a={year:2===t.length?ot(Je(t)):Je(t),month:pt.indexOf(i)+1,day:Je(n),hour:Je(r),minute:Je(o)};return s&&(a.second=Je(s)),e&&(a.weekday=e.length>3?yt.indexOf(e)+1:gt.indexOf(e)+1),a}const Yt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Xt(e){const[,t,i,n,r,o,s,a,l,c,u,d]=e,h=Kt(t,r,n,i,o,s,a);let p;return p=l?Jt[l]:c?0:at(u,d),[h,new ae(p)]}const Qt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ei=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ti=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ii(e){const[,t,i,n,r,o,s,a]=e;return[Kt(t,r,n,i,o,s,a),ae.utcInstance]}function ni(e){const[,t,i,n,r,o,s,a]=e;return[Kt(t,a,i,n,r,o,s),ae.utcInstance]}const ri=Pt(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Zt),oi=Pt(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Zt),si=Pt(/(\d{4})-?(\d{3})/,Zt),ai=Pt(Dt),li=Ot((function(e,t){return[{year:zt(e,t),month:zt(e,t+1,1),day:zt(e,t+2,1)},null,t+3]}),Vt,Bt,Ht),ci=Ot(Ft,Vt,Bt,Ht),ui=Ot(Ut,Vt,Bt,Ht),di=Ot(Vt,Bt,Ht);const hi=Ot(Vt);const pi=Pt(/(\d{4})-(\d\d)-(\d\d)/,Gt),fi=Pt(jt),mi=Ot(Vt,Bt,Ht);const yi="Invalid Duration",gi={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},vi=(0,n.A)({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},gi),_i=365.2425,wi=30.436875,bi=(0,n.A)({years:{quarters:4,months:12,weeks:52.1775,days:_i,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:wi,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},gi),Ai=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Mi=Ai.slice(0).reverse();function Si(e,t){const i={values:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t.values:(0,n.A)((0,n.A)({},e.values),t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new xi(i)}function Ti(e,t){var i;let n=null!==(i=t.milliseconds)&&void 0!==i?i:0;for(const r of Mi.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function Ei(e,t){const i=Ti(e,t)<0?-1:1;Ai.reduceRight(((n,r)=>{if(Ue(t[r]))return n;if(n){const o=t[n]*i,s=e[r][n],a=Math.floor(o/s);t[r]+=a*i,t[n]-=a*s*i}return r}),null),Ai.reduce(((i,n)=>{if(Ue(t[n]))return i;if(i){const r=t[i]%1;t[i]-=r,t[n]+=r*e[i][n]}return n}),null)}class xi{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let i=t?bi:vi;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||oe.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return xi.fromObject({milliseconds:e},t)}static fromObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||"object"!==typeof e)throw new u("Duration.fromObject: argument expected to be an object, got ".concat(null===e?"null":typeof e));return new xi({values:ct(e,xi.normalizeUnit),loc:oe.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(je(e))return xi.fromMillis(e);if(xi.isDuration(e))return e;if("object"===typeof e)return xi.fromObject(e);throw new u("Unknown duration argument ".concat(e," of type ").concat(typeof e))}static fromISO(e,t){const[i]=function(e){return It(e,[Wt,$t])}(e);return i?xi.fromObject(i,t):xi.invalid("unparsable",'the input "'.concat(e,"\" can't be parsed as ISO 8601"))}static fromISOTime(e,t){const[i]=function(e){return It(e,[qt,hi])}(e);return i?xi.fromObject(i,t):xi.invalid("unparsable",'the input "'.concat(e,"\" can't be parsed as ISO 8601"))}static invalid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new u("need to specify a reason the Duration is invalid");const i=e instanceof Se?e:new Se(e,t);if(Me.throwOnInvalid)throw new a(i);return new xi({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new c(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(0,n.A)((0,n.A)({},t),{},{floor:!1!==t.round&&!1!==t.floor});return this.isValid?xt.create(this.loc,i).formatDurationFromString(this,e):yi}toHuman(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return yi;const t=Ai.map((t=>{const i=this.values[t];return Ue(i)?null:this.loc.numberFormatter((0,n.A)((0,n.A)({style:"unit",unitDisplay:"long"},e),{},{unit:t.slice(0,-1)})).format(i)})).filter((e=>e));return this.loc.listFormatter((0,n.A)({type:"conjunction",style:e.listStyle||"narrow"},e)).format(t)}toObject(){return this.isValid?(0,n.A)({},this.values):{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Xe(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e=(0,n.A)((0,n.A)({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e),{},{includeOffset:!1});return bn.fromMillis(t,{zone:"UTC"}).toISOTime(e)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?"Duration { values: ".concat(JSON.stringify(this.values)," }"):"Duration { Invalid, reason: ".concat(this.invalidReason," }")}toMillis(){return this.isValid?Ti(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=xi.fromDurationLike(e),i={};for(const n of Ai)(He(t.values,n)||He(this.values,n))&&(i[n]=t.get(n)+this.get(n));return Si(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=xi.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=lt(e(this.values[i],i));return Si(this,{values:t},!0)}get(e){return this[xi.normalizeUnit(e)]}set(e){if(!this.isValid)return this;return Si(this,{values:(0,n.A)((0,n.A)({},this.values),ct(e,xi.normalizeUnit))})}reconfigure(){let{locale:e,numberingSystem:t,conversionAccuracy:i,matrix:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Si(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:n,conversionAccuracy:i})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Ei(this.matrix,e),Si(this,{values:e},!0)}rescale(){if(!this.isValid)return this;return Si(this,{values:function(e){const t={};for(const[i,n]of Object.entries(e))0!==n&&(t[i]=n);return t}(this.normalize().shiftToAll().toObject())},!0)}shiftTo(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!this.isValid)return this;if(0===t.length)return this;t=t.map((e=>xi.normalizeUnit(e)));const n={},r={},o=this.toObject();let s;for(const a of Ai)if(t.indexOf(a)>=0){s=a;let e=0;for(const i in r)e+=this.matrix[i][a]*r[i],r[i]=0;je(o[a])&&(e+=o[a]);const t=Math.trunc(e);n[a]=t,r[a]=(1e3*e-1e3*t)/1e3}else je(o[a])&&(r[a]=o[a]);for(const a in r)0!==r[a]&&(n[s]+=a===s?r[a]:r[a]/this.matrix[s][a]);return Ei(this.matrix,n),Si(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return Si(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const n of Ai)if(t=this.values[n],i=e.values[n],!(void 0===t||0===t?void 0===i||0===i:t===i))return!1;var t,i;return!0}}const Ci="Invalid Interval";class Pi{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new u("need to specify a reason the Interval is invalid");const i=e instanceof Se?e:new Se(e,t);if(Me.throwOnInvalid)throw new s(i);return new Pi({invalid:i})}static fromDateTimes(e,t){const i=An(e),n=An(t),r=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?Pi.invalid("end before start","The end of an interval must be after its start, but you had start=".concat(e.toISO()," and end=").concat(t.toISO())):null:Pi.invalid("missing or invalid end"):Pi.invalid("missing or invalid start")}(i,n);return null==r?new Pi({start:i,end:n}):r}static after(e,t){const i=xi.fromDurationLike(t),n=An(e);return Pi.fromDateTimes(n,n.plus(i))}static before(e,t){const i=xi.fromDurationLike(t),n=An(e);return Pi.fromDateTimes(n.minus(i),n)}static fromISO(e,t){const[i,n]=(e||"").split("/",2);if(i&&n){let e,r,o,s;try{e=bn.fromISO(i,t),r=e.isValid}catch(n){r=!1}try{o=bn.fromISO(n,t),s=o.isValid}catch(n){s=!1}if(r&&s)return Pi.fromDateTimes(e,o);if(r){const i=xi.fromISO(n,t);if(i.isValid)return Pi.after(e,i)}else if(s){const e=xi.fromISO(i,t);if(e.isValid)return Pi.before(o,e)}}return Pi.invalid("unparsable",'the input "'.concat(e,"\" can't be parsed as ISO 8601"))}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";return this.isValid?this.toDuration(e).get(e):NaN}count(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",t=arguments.length>1?arguments[1]:void 0;if(!this.isValid)return NaN;const i=this.start.startOf(e,t);let n;return n=null!==t&&void 0!==t&&t.useLocaleWeeks?this.end.reconfigure({locale:i.locale}):this.end,n=n.startOf(e,t),Math.floor(n.diff(i,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&(this.s<=e&&this.e>e)}set(){let{start:e,end:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?Pi.fromDateTimes(e||this.s,t||this.e):this}splitAt(){if(!this.isValid)return[];for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=t.map(An).filter((e=>this.contains(e))).sort(((e,t)=>e.toMillis()-t.toMillis())),r=[];let{s:o}=this,s=0;for(;o<this.e;){const e=n[s]||this.e,t=+e>+this.e?this.e:e;r.push(Pi.fromDateTimes(o,t)),o=t,s+=1}return r}splitBy(e){const t=xi.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let i,{s:n}=this,r=1;const o=[];for(;n<this.e;){const e=this.start.plus(t.mapUnits((e=>e*r)));i=+e>+this.e?this.e:e,o.push(Pi.fromDateTimes(n,i)),n=i,r+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e===+e.s}abutsEnd(e){return!!this.isValid&&+e.e===+this.s}engulfs(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}equals(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:Pi.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return Pi.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort(((e,t)=>e.s-t.s)).reduce(((e,t)=>{let[i,n]=e;return n?n.overlaps(t)||n.abutsStart(t)?[i,n.union(t)]:[i.concat([n]),t]:[i,t]}),[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const n=[],r=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),o=Array.prototype.concat(...r).sort(((e,t)=>e.time-t.time));for(const s of o)i+="s"===s.type?1:-1,1===i?t=s.time:(t&&+t!==+s.time&&n.push(Pi.fromDateTimes(t,s.time)),t=null);return Pi.merge(n)}difference(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Pi.xor([this].concat(t)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?"[".concat(this.s.toISO()," \u2013 ").concat(this.e.toISO(),")"):Ci}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?"Interval { start: ".concat(this.s.toISO(),", end: ").concat(this.e.toISO()," }"):"Interval { Invalid, reason: ".concat(this.invalidReason," }")}toLocaleString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?xt.create(this.s.loc.clone(t),e).formatInterval(this):Ci}toISO(e){return this.isValid?"".concat(this.s.toISO(e),"/").concat(this.e.toISO(e)):Ci}toISODate(){return this.isValid?"".concat(this.s.toISODate(),"/").concat(this.e.toISODate()):Ci}toISOTime(e){return this.isValid?"".concat(this.s.toISOTime(e),"/").concat(this.e.toISOTime(e)):Ci}toFormat(e){let{separator:t=" \u2013 "}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?"".concat(this.s.toFormat(e)).concat(t).concat(this.e.toFormat(e)):Ci}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):xi.invalid(this.invalidReason)}mapEndpoints(e){return Pi.fromDateTimes(e(this.s),e(this.e))}}class Oi{static hasDST(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me.defaultZone;const t=bn.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return V.isValidZone(e)}static normalizeZone(e){return ce(e,Me.defaultZone)}static getStartOfWeek(){let{locale:e=null,locObj:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t||oe.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek(){let{locale:e=null,locObj:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t||oe.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays(){let{locale:e=null,locObj:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t||oe.create(e)).getWeekendDays().slice()}static months(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:i=null,locObj:n=null,outputCalendar:r="gregory"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n||oe.create(t,i,r)).months(e)}static monthsFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:i=null,locObj:n=null,outputCalendar:r="gregory"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n||oe.create(t,i,r)).months(e,!0)}static weekdays(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:i=null,locObj:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n||oe.create(t,i,null)).weekdays(e)}static weekdaysFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:i=null,locObj:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n||oe.create(t,i,null)).weekdays(e,!0)}static meridiems(){let{locale:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return oe.create(e).meridiems()}static eras(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short",{locale:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return oe.create(t,null,"gregory").eras(e)}static features(){return{relative:ze(),localeWeek:Ve()}}}function Ii(e,t){const i=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=i(t)-i(e);return Math.floor(xi.fromMillis(n).as("days"))}function Ri(e,t,i,n){let[r,o,s,a]=function(e,t,i){const n=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const i=Ii(e,t);return(i-i%7)/7}],["days",Ii]],r={},o=e;let s,a;for(const[l,c]of n)i.indexOf(l)>=0&&(s=l,r[l]=c(e,t),a=o.plus(r),a>t?(r[l]--,(e=o.plus(r))>t&&(a=e,r[l]--,e=o.plus(r))):e=a);return[e,r,a,s]}(e,t,i);const l=t-r,c=i.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===c.length&&(s<t&&(s=r.plus({[a]:1})),s!==r&&(o[a]=(o[a]||0)+l/(s-r)));const u=xi.fromObject(o,n);return c.length>0?xi.fromMillis(l,n).shiftTo(...c).plus(u):u}function Ni(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return{regex:e,deser:e=>{let[i]=e;return t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(-1!==e[i].search(ue.hanidec))t+=he.indexOf(e[i]);else for(const e in de){const[i,r]=de[e];n>=i&&n<=r&&(t+=n-i)}}return parseInt(t,10)}return t}(i))}}}const ki=String.fromCharCode(160),Li="[ ".concat(ki,"]"),Di=new RegExp(Li,"g");function Zi(e){return e.replace(/\./g,"\\.?").replace(Di,Li)}function Fi(e){return e.replace(/\./g,"").replace(Di," ").toLowerCase()}function Ui(e,t){return null===e?null:{regex:RegExp(e.map(Zi).join("|")),deser:i=>{let[n]=i;return e.findIndex((e=>Fi(n)===Fi(e)))+t}}}function ji(e,t){return{regex:e,deser:e=>{let[,t,i]=e;return at(t,i)},groups:t}}function Gi(e){return{regex:e,deser:e=>{let[t]=e;return t}}}const zi={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Vi=null;function Bi(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const i=Wi(xt.macroTokenToFormatOpts(e.val),t);return null==i||i.includes(void 0)?e:i}(e,t))))}class Hi{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=Bi(xt.parseFormat(t),e),this.units=this.tokens.map((t=>function(e,t){const i=fe(t),n=fe(t,"{2}"),r=fe(t,"{3}"),o=fe(t,"{4}"),s=fe(t,"{6}"),a=fe(t,"{1,2}"),l=fe(t,"{1,3}"),c=fe(t,"{1,6}"),u=fe(t,"{1,9}"),d=fe(t,"{2,4}"),h=fe(t,"{4,6}"),p=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:e=>{let[t]=e;return t},literal:!0};var t},f=(f=>{if(e.literal)return p(f);switch(f.val){case"G":return Ui(t.eras("short"),0);case"GG":return Ui(t.eras("long"),0);case"y":return Ni(c);case"yy":case"kk":return Ni(d,ot);case"yyyy":case"kkkk":return Ni(o);case"yyyyy":return Ni(h);case"yyyyyy":return Ni(s);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Ni(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Ni(n);case"MMM":return Ui(t.months("short",!0),1);case"MMMM":return Ui(t.months("long",!0),1);case"LLL":return Ui(t.months("short",!1),1);case"LLLL":return Ui(t.months("long",!1),1);case"o":case"S":return Ni(l);case"ooo":case"SSS":return Ni(r);case"u":return Gi(u);case"uu":return Gi(a);case"uuu":case"E":case"c":return Ni(i);case"a":return Ui(t.meridiems(),0);case"EEE":return Ui(t.weekdays("short",!1),1);case"EEEE":return Ui(t.weekdays("long",!1),1);case"ccc":return Ui(t.weekdays("short",!0),1);case"cccc":return Ui(t.weekdays("long",!0),1);case"Z":case"ZZ":return ji(new RegExp("([+-]".concat(a.source,")(?::(").concat(n.source,"))?")),2);case"ZZZ":return ji(new RegExp("([+-]".concat(a.source,")(").concat(n.source,")?")),2);case"z":return Gi(/[a-z_+-/]{1,256}?/i);case" ":return Gi(/[^\S\n\r]/);default:return p(f)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return f.token=e,f}(t,e))),this.disqualifyingUnit=this.units.find((e=>e.invalidReason)),!this.disqualifyingUnit){const[e,t]=function(e){const t=e.map((e=>e.regex)).reduce(((e,t)=>"".concat(e,"(").concat(t.source,")")),"");return["^".concat(t,"$"),e]}(this.units);this.regex=RegExp(e,"i"),this.handlers=t}}explainFromTokens(e){if(this.isValid){const[t,i]=function(e,t,i){const n=e.match(t);if(n){const e={};let t=1;for(const r in i)if(He(i,r)){const o=i[r],s=o.groups?o.groups+1:1;!o.literal&&o.token&&(e[o.token.val[0]]=o.deser(n.slice(t,t+s))),t+=s}return[n,e]}return[n,{}]}(e,this.regex,this.handlers),[n,r,o]=i?function(e){let t,i=null;return Ue(e.z)||(i=V.create(e.z)),Ue(e.Z)||(i||(i=new ae(e.Z)),t=e.Z),Ue(e.q)||(e.M=3*(e.q-1)+1),Ue(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),Ue(e.u)||(e.S=Ye(e.u)),[Object.keys(e).reduce(((t,i)=>{const n=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(i);return n&&(t[n]=e[i]),t}),{}),i,t]}(i):[null,null,void 0];if(He(i,"a")&&He(i,"H"))throw new l("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:i,result:n,zone:r,specificOffset:o}}return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function qi(e,t,i){return new Hi(e,i).explainFromTokens(t)}function Wi(e,t){if(!e)return null;const i=xt.create(t,e).dtFormatter((Vi||(Vi=bn.fromMillis(1555555555555)),Vi)),n=i.formatToParts(),r=i.resolvedOptions();return n.map((t=>function(e,t,i){const{type:n,value:r}=e;if("literal"===n){const e=/^\s+$/.test(r);return{literal:!e,val:e?" ":r}}const o=t[n];let s=n;"hour"===n&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":i.hour12?"hour12":"hour24");let a=zi[s];if("object"===typeof a&&(a=a[o]),a)return{literal:!1,val:a}}(t,e,r)))}const $i="Invalid DateTime",Ji=864e13;function Ki(e){return new Se("unsupported zone",'the zone "'.concat(e.name,'" is not supported'))}function Yi(e){return null===e.weekData&&(e.weekData=Re(e.c)),e.weekData}function Xi(e){return null===e.localWeekData&&(e.localWeekData=Re(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Qi(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new bn((0,n.A)((0,n.A)((0,n.A)({},i),t),{},{old:i}))}function en(e,t,i){let n=e-60*t*1e3;const r=i.offset(n);if(t===r)return[n,t];n-=60*(r-t)*1e3;const o=i.offset(n);return r===o?[n,r]:[e-60*Math.min(r,o)*1e3,Math.max(r,o)]}function tn(e,t){const i=new Date(e+=60*t*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function nn(e,t,i){return en(it(e),t,i)}function rn(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),o=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),s=(0,n.A)((0,n.A)({},e.c),{},{year:r,month:o,day:Math.min(e.c.day,tt(r,o))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),a=xi.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=it(s);let[c,u]=en(l,i,e.zone);return 0!==a&&(c+=a,u=e.zone.offset(c)),{ts:c,o:u}}function on(e,t,i,r,o,s){const{setZone:a,zone:l}=i;if(e&&0!==Object.keys(e).length||t){const r=t||l,o=bn.fromObject(e,(0,n.A)((0,n.A)({},i),{},{zone:r,specificOffset:s}));return a?o:o.setZone(l)}return bn.invalid(new Se("unparsable",'the input "'.concat(o,"\" can't be parsed as ").concat(r)))}function sn(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.isValid?xt.create(oe.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function an(e,t){const i=e.c.year>9999||e.c.year<0;let n="";return i&&e.c.year>=0&&(n+="+"),n+=$e(e.c.year,i?6:4),t?(n+="-",n+=$e(e.c.month),n+="-",n+=$e(e.c.day)):(n+=$e(e.c.month),n+=$e(e.c.day)),n}function ln(e,t,i,n,r,o){let s=$e(e.c.hour);return t?(s+=":",s+=$e(e.c.minute),0===e.c.millisecond&&0===e.c.second&&i||(s+=":")):s+=$e(e.c.minute),0===e.c.millisecond&&0===e.c.second&&i||(s+=$e(e.c.second),0===e.c.millisecond&&n||(s+=".",s+=$e(e.c.millisecond,3))),r&&(e.isOffsetFixed&&0===e.offset&&!o?s+="Z":e.o<0?(s+="-",s+=$e(Math.trunc(-e.o/60)),s+=":",s+=$e(Math.trunc(-e.o%60))):(s+="+",s+=$e(Math.trunc(e.o/60)),s+=":",s+=$e(Math.trunc(e.o%60)))),o&&(s+="["+e.zone.ianaName+"]"),s}const cn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},un={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},dn={ordinal:1,hour:0,minute:0,second:0,millisecond:0},hn=["year","month","day","hour","minute","second","millisecond"],pn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],fn=["year","ordinal","hour","minute","second","millisecond"];function mn(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new c(e);return t}(e)}}function yn(e,t){const i=ce(t.zone,Me.defaultZone);if(!i.isValid)return bn.invalid(Ki(i));const n=oe.fromObject(t);let r,o;if(Ue(e.year))r=Me.now();else{for(const i of hn)Ue(e[i])&&(e[i]=cn[i]);const t=Ze(e)||Fe(e);if(t)return bn.invalid(t);const n=function(e){return wn[e]||(void 0===_n&&(_n=Me.now()),wn[e]=e.offset(_n)),wn[e]}(i);[r,o]=nn(e,n,i)}return new bn({ts:r,zone:i,loc:n,o:o})}function gn(e,t,i){const n=!!Ue(i.round)||i.round,r=(e,r)=>{e=Xe(e,n||i.calendary?0:2,!0);return t.loc.clone(i).relFormatter(i).format(e,r)},o=n=>i.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n);if(i.unit)return r(o(i.unit),i.unit);for(const s of i.units){const e=o(s);if(Math.abs(e)>=1)return r(e,s)}return r(e>t?-0:0,i.units[i.units.length-1])}function vn(e){let t,i={};return e.length>0&&"object"===typeof e[e.length-1]?(i=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[i,t]}let _n,wn={};class bn{constructor(e){const t=e.zone||Me.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Se("invalid input"):null)||(t.isValid?null:Ki(t));this.ts=Ue(e.ts)?Me.now():e.ts;let n=null,r=null;if(!i){if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,r]=[e.old.c,e.old.o];else{const o=je(e.o)&&!e.old?e.o:t.offset(this.ts);n=tn(this.ts,o),i=Number.isNaN(n.year)?new Se("invalid input"):null,n=i?null:n,r=i?null:o}}this._zone=t,this.loc=e.loc||oe.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=n,this.o=r,this.isLuxonDateTime=!0}static now(){return new bn({})}static local(){const[e,t]=vn(arguments),[i,n,r,o,s,a,l]=t;return yn({year:i,month:n,day:r,hour:o,minute:s,second:a,millisecond:l},e)}static utc(){const[e,t]=vn(arguments),[i,n,r,o,s,a,l]=t;return e.zone=ae.utcInstance,yn({year:i,month:n,day:r,hour:o,minute:s,second:a,millisecond:l},e)}static fromJSDate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)?e.valueOf():NaN;if(Number.isNaN(i))return bn.invalid("invalid input");const n=ce(t.zone,Me.defaultZone);return n.isValid?new bn({ts:i,zone:n,loc:oe.fromObject(t)}):bn.invalid(Ki(n))}static fromMillis(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(je(e))return e<-Ji||e>Ji?bn.invalid("Timestamp out of range"):new bn({ts:e,zone:ce(t.zone,Me.defaultZone),loc:oe.fromObject(t)});throw new u("fromMillis requires a numerical input, but received a ".concat(typeof e," with value ").concat(e))}static fromSeconds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(je(e))return new bn({ts:1e3*e,zone:ce(t.zone,Me.defaultZone),loc:oe.fromObject(t)});throw new u("fromSeconds requires a numerical input")}static fromObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||{};const i=ce(t.zone,Me.defaultZone);if(!i.isValid)return bn.invalid(Ki(i));const n=oe.fromObject(t),r=ct(e,mn),{minDaysInFirstWeek:o,startOfWeek:s}=De(r,n),a=Me.now(),c=Ue(t.specificOffset)?i.offset(a):t.specificOffset,u=!Ue(r.ordinal),d=!Ue(r.year),h=!Ue(r.month)||!Ue(r.day),p=d||h,f=r.weekYear||r.weekNumber;if((p||u)&&f)throw new l("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&u)throw new l("Can't mix ordinal dates with month/day");const m=f||r.weekday&&!p;let y,g,v=tn(a,c);m?(y=pn,g=un,v=Re(v,o,s)):u?(y=fn,g=dn,v=ke(v)):(y=hn,g=cn);let _=!1;for(const l of y){Ue(r[l])?r[l]=_?g[l]:v[l]:_=!0}const w=m?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const n=Ge(e.weekYear),r=We(e.weekNumber,1,rt(e.weekYear,t,i)),o=We(e.weekday,1,7);return n?r?!o&&xe("weekday",e.weekday):xe("week",e.weekNumber):xe("weekYear",e.weekYear)}(r,o,s):u?function(e){const t=Ge(e.year),i=We(e.ordinal,1,et(e.year));return t?!i&&xe("ordinal",e.ordinal):xe("year",e.year)}(r):Ze(r),b=w||Fe(r);if(b)return bn.invalid(b);const A=m?Ne(r,o,s):u?Le(r):r,[M,S]=nn(A,c,i),T=new bn({ts:M,zone:i,o:S,loc:n});return r.weekday&&p&&e.weekday!==T.weekday?bn.invalid("mismatched weekday","you can't specify both a weekday of ".concat(r.weekday," and a date of ").concat(T.toISO())):T.isValid?T:bn.invalid(T.invalid)}static fromISO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[i,n]=function(e){return It(e,[ri,li],[oi,ci],[si,ui],[ai,di])}(e);return on(i,n,t,"ISO 8601",e)}static fromRFC2822(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[i,n]=function(e){return It(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Yt,Xt])}(e);return on(i,n,t,"RFC 2822",e)}static fromHTTP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[i,n]=function(e){return It(e,[Qt,ii],[ei,ii],[ti,ni])}(e);return on(i,n,t,"HTTP",t)}static fromFormat(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Ue(e)||Ue(t))throw new u("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:r=null}=i,o=oe.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0}),[s,a,l,c]=function(e,t,i){const{result:n,zone:r,specificOffset:o,invalidReason:s}=qi(e,t,i);return[n,r,o,s]}(o,e,t);return c?bn.invalid(c):on(s,a,i,"format ".concat(t),e,l)}static fromString(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return bn.fromFormat(e,t,i)}static fromSQL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[i,n]=function(e){return It(e,[pi,li],[fi,mi])}(e);return on(i,n,t,"SQL",e)}static invalid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new u("need to specify a reason the DateTime is invalid");const i=e instanceof Se?e:new Se(e,t);if(Me.throwOnInvalid)throw new o(i);return new bn({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Wi(e,oe.fromObject(t));return i?i.map((e=>e?e.val:null)).join(""):null}static expandFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Bi(xt.parseFormat(e),oe.fromObject(t)).map((e=>e.val)).join("")}static resetCache(){_n=void 0,wn={}}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Yi(this).weekYear:NaN}get weekNumber(){return this.isValid?Yi(this).weekNumber:NaN}get weekday(){return this.isValid?Yi(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Xi(this).weekday:NaN}get localWeekNumber(){return this.isValid?Xi(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Xi(this).weekYear:NaN}get ordinal(){return this.isValid?ke(this.c).ordinal:NaN}get monthShort(){return this.isValid?Oi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Oi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Oi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Oi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=it(this.c),n=this.zone.offset(i-e),r=this.zone.offset(i+e),o=this.zone.offset(i-n*t),s=this.zone.offset(i-r*t);if(o===s)return[this];const a=i-o*t,l=i-s*t,c=tn(a,o),u=tn(l,s);return c.hour===u.hour&&c.minute===u.minute&&c.second===u.second&&c.millisecond===u.millisecond?[Qi(this,{ts:a}),Qi(this,{ts:l})]:[this]}get isInLeapYear(){return Qe(this.year)}get daysInMonth(){return tt(this.year,this.month)}get daysInYear(){return this.isValid?et(this.year):NaN}get weeksInWeekYear(){return this.isValid?rt(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?rt(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{locale:t,numberingSystem:i,calendar:n}=xt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:n}}toUTC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setZone(ae.instance(e),t)}toLocal(){return this.setZone(Me.defaultZone)}setZone(e){let{keepLocalTime:t=!1,keepCalendarTime:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((e=ce(e,Me.defaultZone)).equals(this.zone))return this;if(e.isValid){let n=this.ts;if(t||i){const t=e.offset(this.ts),i=this.toObject();[n]=nn(i,t,e)}return Qi(this,{ts:n,zone:e})}return bn.invalid(Ki(e))}reconfigure(){let{locale:e,numberingSystem:t,outputCalendar:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qi(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=ct(e,mn),{minDaysInFirstWeek:i,startOfWeek:r}=De(t,this.loc),o=!Ue(t.weekYear)||!Ue(t.weekNumber)||!Ue(t.weekday),s=!Ue(t.ordinal),a=!Ue(t.year),c=!Ue(t.month)||!Ue(t.day),u=a||c,d=t.weekYear||t.weekNumber;if((u||s)&&d)throw new l("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&s)throw new l("Can't mix ordinal dates with month/day");let h;o?h=Ne((0,n.A)((0,n.A)({},Re(this.c,i,r)),t),i,r):Ue(t.ordinal)?(h=(0,n.A)((0,n.A)({},this.toObject()),t),Ue(t.day)&&(h.day=Math.min(tt(h.year,h.month),h.day))):h=Le((0,n.A)((0,n.A)({},ke(this.c)),t));const[p,f]=nn(h,this.o,this.zone);return Qi(this,{ts:p,o:f})}plus(e){if(!this.isValid)return this;return Qi(this,rn(this,xi.fromDurationLike(e)))}minus(e){if(!this.isValid)return this;return Qi(this,rn(this,xi.fromDurationLike(e).negate()))}startOf(e){let{useLocaleWeeks:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isValid)return this;const i={},n=xi.normalizeUnit(e);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0}if("weeks"===n)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(i.weekNumber=this.weekNumber-1),i.weekday=e}else i.weekday=1;if("quarters"===n){const e=Math.ceil(this.month/3);i.month=3*(e-1)+1}return this.set(i)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?xt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):$i}toLocaleString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?xt.create(this.loc.clone(t),e).formatDateTime(this):$i}toLocaleParts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?xt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO(){let{format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;const o="extended"===e;let s=an(this,o);return s+="T",s+=ln(this,o,t,i,n,r),s}toISODate(){let{format:e="extended"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?an(this,"extended"===e):null}toISOWeekDate(){return sn(this,"kkkk-'W'WW-c")}toISOTime(){let{suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:r=!1,format:o="extended"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?(n?"T":"")+ln(this,"extended"===o,t,e,i,r):null}toRFC2822(){return sn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return sn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?an(this,!0):null}toSQLTime(){let{includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="HH:mm:ss.SSS";return(t||e)&&(i&&(n+=" "),t?n+="z":e&&(n+="ZZ")),sn(this,n,!0)}toSQL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?"".concat(this.toSQLDate()," ").concat(this.toSQLTime(e)):null}toString(){return this.isValid?this.toISO():$i}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?"DateTime { ts: ".concat(this.toISO(),", zone: ").concat(this.zone.name,", locale: ").concat(this.locale," }"):"DateTime { Invalid, reason: ".concat(this.invalidReason," }")}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return{};const t=(0,n.A)({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.isValid||!e.isValid)return xi.invalid("created by diffing an invalid DateTime");const r=(0,n.A)({locale:this.locale,numberingSystem:this.numberingSystem},i),o=(l=t,Array.isArray(l)?l:[l]).map(xi.normalizeUnit),s=e.valueOf()>this.valueOf(),a=Ri(s?this:e,s?e:this,o,r);var l;return s?a.negate():a}diffNow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.diff(bn.now(),e,t)}until(e){return this.isValid?Pi.fromDateTimes(this,e):this}hasSame(e,t,i){if(!this.isValid)return!1;const n=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t,i)<=n&&n<=r.endOf(t,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;const t=e.base||bn.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(r=e.unit,o=void 0),gn(t,this.plus(i),(0,n.A)((0,n.A)({},e),{},{numeric:"always",units:r,unit:o}))}toRelativeCalendar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?gn(e.base||bn.fromObject({},{zone:this.zone}),this,(0,n.A)((0,n.A)({},e),{},{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.every(bn.isDateTime))throw new u("min requires all arguments be DateTimes");return Be(t,(e=>e.valueOf()),Math.min)}static max(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.every(bn.isDateTime))throw new u("max requires all arguments be DateTimes");return Be(t,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{locale:n=null,numberingSystem:r=null}=i;return qi(oe.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0}),e,t)}static fromStringExplain(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return bn.fromFormatExplain(e,t,i)}static buildFormatParser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{locale:i=null,numberingSystem:n=null}=t,r=oe.fromOpts({locale:i,numberingSystem:n,defaultToEN:!0});return new Hi(r,e)}static fromFormatParser(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Ue(e)||Ue(t))throw new u("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:r=null}=i,o=oe.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});if(!o.equals(t.locale))throw new u("fromFormatParser called with a locale of ".concat(o,", ")+"but the format parser was created for ".concat(t.locale));const{result:s,zone:a,specificOffset:l,invalidReason:c}=t.explainFromTokens(e);return c?bn.invalid(c):on(s,a,i,"format ".concat(t.format),e,l)}static get DATE_SHORT(){return m}static get DATE_MED(){return y}static get DATE_MED_WITH_WEEKDAY(){return g}static get DATE_FULL(){return v}static get DATE_HUGE(){return _}static get TIME_SIMPLE(){return w}static get TIME_WITH_SECONDS(){return b}static get TIME_WITH_SHORT_OFFSET(){return A}static get TIME_WITH_LONG_OFFSET(){return M}static get TIME_24_SIMPLE(){return S}static get TIME_24_WITH_SECONDS(){return T}static get TIME_24_WITH_SHORT_OFFSET(){return E}static get TIME_24_WITH_LONG_OFFSET(){return x}static get DATETIME_SHORT(){return C}static get DATETIME_SHORT_WITH_SECONDS(){return P}static get DATETIME_MED(){return O}static get DATETIME_MED_WITH_SECONDS(){return I}static get DATETIME_MED_WITH_WEEKDAY(){return R}static get DATETIME_FULL(){return N}static get DATETIME_FULL_WITH_SECONDS(){return k}static get DATETIME_HUGE(){return L}static get DATETIME_HUGE_WITH_SECONDS(){return D}}function An(e){if(bn.isDateTime(e))return e;if(e&&e.valueOf&&je(e.valueOf()))return bn.fromJSDate(e);if(e&&"object"===typeof e)return bn.fromObject(e);throw new u("Unknown datetime argument: ".concat(e,", of type ").concat(typeof e))}},24558:(e,t,i)=>{i.d(t,{A:()=>r});var n=i(26562);function r(e,t,i){return e.set((0,n.A)(e,t),i),i}},25158:(e,t,i)=>{i.d(t,{V:()=>l});var n,r=i(35143),o=i(91967),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842));let l=n=class extends o.A{constructor(){super(...arguments),this.url=""}clone(){return new n({url:this.url})}};(0,r._)([(0,s.MZ)({type:String})],l.prototype,"url",void 0),l=n=(0,r._)([(0,a.$)("esri.symbols.support.Thumbnail")],l)},25329:(e,t,i)=>{i.d(t,{A:()=>F});var n=i(89379),r=i(35143),o=(i(11265),i(30113)),s=i(54099),a=i(79053),l=(i(81806),i(53084)),c=i(76460),u=i(30726),d=i(91291),h=i(50346),p=i(68134),f=i(49723),m=i(46053),y=i(21403),g=i(85842),v=i(99486),_=i(94151),w=i(26452);i(48396);const b={handleInterceptedEvent:(e,t,i,n)=>(e.scheduleRender(),t.properties["on".concat(n.type)].apply(t.properties.bind||i,[n]))},A={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{"-"===t.charAt(0)?e.style.setProperty(t,i):e.style[t]=i}},M=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e;return t.forEach(((e,r)=>{var o;const s=null!==(o=n)&&void 0!==o&&o.children?((e,t)=>e.find(t))(n.children,(t=>t.domNode===e)):void 0;i&&!s&&r!==t.length-1||(n=s)})),n};var S=i(94126),T=i(83008),E=i(73319);const x=new Set;var C,P=i(14656),O=i(76099),I=i(38042),R=i(63860);let N=0;function k(e,t){const i=Object.prototype.hasOwnProperty;for(const n in t)i.call(t,n)&&i.call(e,n)&&(null!=e[n]&&null!=t[n]&&"object"==typeof e[n]&&"object"==typeof t[n]?k(e[n],t[n]):e[n]=t[n]);return e}const L=(e=>{let t;const i=(0,n.A)((0,n.A)({},b),e),r=(e=>(0,n.A)((0,n.A)({},A),e))(i),o=r.performanceLogger;let s,a=!0,l=!1;const c=[],u=[],d=(e,n,s)=>{var a;let l;r.eventHandlerInterceptor=(e,n,r,s)=>function(e){let n;o("domEvent",e);const r=((e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i})(e.currentTarget,l.domNode),s=r.some((e=>{var t;return customElements.get(null===e||void 0===e||null===(t=e.tagName)||void 0===t?void 0:t.toLowerCase())}));if(e.eventPhase!==Event.CAPTURING_PHASE&&s){const t=e.composedPath(),i=t.slice(t.indexOf(e.currentTarget),t.indexOf(l.domNode)).reverse();n=M(l.getLastRender(),i,!0)}else r.reverse(),n=M(l.getLastRender(),r);let a;return n&&(a=i.handleInterceptedEvent(t,n,this,e)),o("domEventProcessed",e),a},null===(a=i.postProcessProjectionOptions)||void 0===a||a.call(i,r);const d=s();l=e(n,d,r),r.eventHandlerInterceptor=void 0,c.push(l),u.push(s),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(l,d)};let h=()=>{if(s=void 0,a){a=!1,o("renderStart",void 0);for(let e=0;e<c.length;e++){const t=u[e]();o("rendered",void 0);try{c[e].update(t)}catch(b){console.error(b)}o("patched",void 0)}o("renderDone",void 0),a=!0}};return i.modifyDoRenderImplementation&&(h=i.modifyDoRenderImplementation(h,c,u)),t={renderNow:h,scheduleRender:()=>{s||l||(s=requestAnimationFrame(h))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(e,t)=>{d(w.t.append,e,t)},insertBefore:(e,t)=>{d(w.t.insertBefore,e,t)},merge:(e,t)=>{d(w.t.merge,e,t)},replace:(e,t)=>{d(w.t.replace,e,t)},detach:e=>{for(let t=0;t<u.length;t++)if(u[t]===e)return u.splice(t,1),c.splice(t,1)[0];throw new Error("renderFunction was not found")}},t})({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(e,n,r,o)=>{const s=null===t||void 0===t?void 0:t(e,n,r,o),a=i.test(e);if(!((e=e.replace(i,"")).toLowerCase()in r)||a){const t=e[2].toLowerCase()+e.slice(3),i=e=>null===s||void 0===s?void 0:s.call(r,e);r.addEventListener(t,i,a);const n=()=>r.removeEventListener(t,i,a),l=o.afterRemoved;o.afterRemoved=e=>{null!==l&&void 0!==l&&l(e),n()}}return s}},handleInterceptedEvent(e,t,i,n){const{eventPhase:r,type:o}=n,s=r===Event.CAPTURING_PHASE;let a="on".concat(o).concat(s?"capture":"");const l=t.properties;(l&&a in l||(a="on".concat(o[0].toUpperCase()).concat(o.slice(1)).concat(s?"Capture":""),l&&a in l))&&((0,P.Sh)(),e.scheduleRender(),l[a].call(l.bind||i,n))}});let D=!1,Z=class extends(d.A.EsriPromiseMixin(s.A.EventedAccessor)){constructor(e,t){super(e,t),this._attached=!1,this._projector=L,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=(0,h.sg)((async()=>{var e;if(null!==(e=this._messageBundleProps)&&void 0!==e&&e.length){const e=await Promise.allSettled(this._messageBundleProps.map((async e=>{let{bundlePath:t,propertyName:i}=e;if(this.destroyed)return;let n=await(0,R.ud)(t);this.uiStrings&&Object.keys(this.uiStrings)&&(n=k((0,l.o8)(n),this.uiStrings)),this[i]=n})));if(this.destroyed)return;for(const t of e)"rejected"===t.status&&c.A.getLogger(this).error("widget-intl:locale-error",this.declaredClass,t.reason)}await this.loadLocale()})),(0,S.V)();const i="esri-widget-uid-"+(0,f.lk)(),n=this.render.bind(this);this._trackingTarget=new _.r((()=>{this.autoRenderingEnabled&&this.scheduleRender()}));const r=()=>({vnodeSelector:"div",properties:{key:"".concat(i,"-hidden"),class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{var e,t,o,s,a,l;if(!this._readyForTrueRender||this.destroyed)return null;const c=null!==(e=n())&&void 0!==e?e:r(),u=null!==(t=c.properties)&&void 0!==t?t:c.properties={};if(null!==(o=u.key)&&void 0!==o||(u.key=i),(0,T.b)(c.vnodeSelector)){if(!this.visible)return r()}else this.visible?u.styles||(u.styles={}):(u.class="",u.styles={display:"none"}),null!==(a=(s=u.styles).display)&&void 0!==a||(s.display="");let d=0;return null!==(l=c.children)&&void 0!==l&&l.forEach((e=>{var t,i,n;(0,T.b)(e.vnodeSelector)||(null!==(t=e.properties)&&void 0!==t||(e.properties={}),null!==(n=(i=e.properties).key)&&void 0!==n||(i.key="".concat(this.id,"--").concat(d++)))})),(0,T.d)(this,c)};this.render=()=>{var e;if(D)return o();let i=null!==(e=(0,P.rE)(this))&&void 0!==e?e:null;if(i)return i;this._trackingTarget.clear(),D=!0;try{i=(0,v.a)(this._trackingTarget,o)}catch(t){throw c.A.getLogger(this).error(t),t}finally{D=!1}return i&&(0,P.$U)(this,i),i};const s=this.beforeFirstRender();s?this._resourcesFetch=s.then((()=>{this._readyForTrueRender=!0,this._postInitialize()})):(this._resourcesFetch=Promise.resolve().then((()=>{this._postInitialize()})),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),function(e){x.add(e),e.finally((()=>x.delete(e)))}(this._resourcesFetch)}normalizeCtorArgs(e,t){const i=(0,n.A)({},e);return t&&(i.container=t),i}postInitialize(){}beforeFirstRender(){var e;const t=this.loadDependencies();return null!==(e=this._messageBundleProps)&&void 0!==e&&e.length||t?Promise.all([t,this._loadLocale()]).then((()=>{})).catch(h.jH):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||((0,u.pR)(this._trackingTarget),(0,u.pR)(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,P.Qw)(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return(0,o.$)(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){var e;return this._get("id")||(null===(e=this.container)||void 0===e?void 0:e.id)||Date.now().toString(16)+"-widget-"+N++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(C=E.x,E.D)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,P.Qw)(this),this._projector.scheduleRender())}classes(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return O.Ly.apply(this,t)}renderNow(){(0,P.Qw)(this),this._projector.renderNow()}_postInitialize(){var e;if(this.destroyed)return;this.scheduleRender(),null!==(e=this._delegatedEventNames)&&void 0!==e&&e.length&&this.addHandles((0,p.wB)((()=>this.viewModel),((e,t)=>{t&&this.removeHandles("delegated-events"),e&&(0,a.wb)(e)&&this.addHandles(this._delegatedEventNames.map((t=>(0,a.on)(e,t,(e=>{this.emit(t,e)})))),"delegated-events")}),p.pc)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(h.jH),this.scheduleRender()};this.addHandles([(0,I.oQ)(t),(0,p.wB)((()=>this.uiStrings),t),(0,p.z7)((()=>this.container),(e=>{this.destroyed||this._attach(e)}),{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){var t;this._attached&&(this._projector.detach(this.render),this._attached=!1),null===e||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(e)}};Z[C]=!0,Z.vnodeSelector="div",(0,r._)([(0,m.MZ)()],Z.prototype,"_readyForTrueRender",void 0),(0,r._)([(0,m.MZ)({value:null})],Z.prototype,"container",null),(0,r._)([(0,y.w)("container")],Z.prototype,"castContainer",null),(0,r._)([(0,m.MZ)()],Z.prototype,"icon",null),(0,r._)([(0,m.MZ)()],Z.prototype,"id",null),(0,r._)([(0,m.MZ)()],Z.prototype,"label",null),(0,r._)([(0,m.MZ)()],Z.prototype,"renderable",null),(0,r._)([(0,m.MZ)()],Z.prototype,"uiStrings",void 0),(0,r._)([(0,m.MZ)()],Z.prototype,"viewModel",void 0),(0,r._)([(0,m.MZ)({value:!0})],Z.prototype,"visible",null),(0,r._)([(0,m.MZ)()],Z.prototype,"key",void 0),(0,r._)([(0,m.MZ)()],Z.prototype,"children",void 0),(0,r._)([(0,m.MZ)()],Z.prototype,"afterCreate",void 0),(0,r._)([(0,m.MZ)()],Z.prototype,"afterUpdate",void 0),(0,r._)([(0,m.MZ)()],Z.prototype,"afterRemoved",void 0),Z=(0,r._)([(0,g.$)("esri.widgets.Widget")],Z);const F=Z},25515:(e,t,i)=>{i.d(t,{A:()=>w});var n=i(35143),r=i(3825),o=i(50076),s=i(54099),a=i(5632),l=i(49304),c=i(76460),u=i(50346),d=i(90534),h=i(46053),p=(i(81806),i(47249),i(85842)),f=i(76797),m=i(13312),y=i(86560);var g=i(59187);let v=0,_=class extends(s.A.EventedMixin(a.A.IdentifiableMixin(l.A))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new f.A(-180,-90,180,90,m.A.WGS84),this.id=Date.now().toString(16)+"-layer-"+v++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=m.A.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e;return(await i.e(2544).then(i.bind(i,62544))).fromUrl(t)}static fromPortalItem(e){return async function(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:n}=await i.e(2487).then(i.bind(i,2487));try{return await n(t)}catch(o){var r;const e=null===t||void 0===t?void 0:t.portalItem,i=(null===e||void 0===e?void 0:e.id)||"unset",n=(null===e||void 0===e||null===(r=e.portal)||void 0===r?void 0:r.url)||y.A.portalUrl;throw c.A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+n+"', id: '"+i+"')",o),o}}(e)}initialize(){this.when().catch((e=>{var t,i;(0,u.zf)(e)||c.A.getLogger(this).error("#load()","Failed to load layer (title: '".concat(null!==(t=this.title)&&void 0!==t?t:"no title","', id: '").concat(null!==(i=this.id)&&void 0!==i?i:"no id","')"),{error:e})}))}destroy(){const e=this.parent;if(e){const t=this;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"referenceLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t),this._set("parent",null)}}get effectiveVisible(){let e=this.visible;const t=this.parent;return e&&t&&"effectiveVisible"in t&&e&&(e=t.effectiveVisible),e}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,d.An)(this.url)}createLayerView(e,t){return Promise.reject(new o.A("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await(0,r.A)(e,{query:{f:"json"},responseType:"json"})).data;throw new o.A("layer:no-attribution-data","Layer does not have attribution data")}};(0,n._)([(0,h.MZ)({type:String})],_.prototype,"attributionDataUrl",void 0),(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"effectiveVisible",null),(0,n._)([(0,h.MZ)({type:f.A})],_.prototype,"fullExtent",void 0),(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"hasAttributionData",null),(0,n._)([(0,h.MZ)({type:String,clonable:!1})],_.prototype,"id",void 0),(0,n._)([(0,h.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"legendEnabled",void 0),(0,n._)([(0,h.MZ)({type:["show","hide","hide-children"]})],_.prototype,"listMode",void 0),(0,n._)([(0,h.MZ)({type:Number,range:{min:0,max:1},nonNullable:!0})],_.prototype,"opacity",void 0),(0,n._)([(0,h.MZ)({clonable:!1})],_.prototype,"parent",void 0),(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"parsedUrl",null),(0,n._)([(0,h.MZ)({type:Boolean,readOnly:!0})],_.prototype,"persistenceEnabled",void 0),(0,n._)([(0,h.MZ)({type:Boolean})],_.prototype,"popupEnabled",void 0),(0,n._)([(0,h.MZ)({type:Boolean})],_.prototype,"attributionVisible",void 0),(0,n._)([(0,h.MZ)({type:m.A})],_.prototype,"spatialReference",void 0),(0,n._)([(0,h.MZ)({type:String})],_.prototype,"title",void 0),(0,n._)([(0,h.MZ)({readOnly:!0,json:{read:!1}})],_.prototype,"type",void 0),(0,n._)([(0,h.MZ)()],_.prototype,"url",void 0),(0,n._)([(0,h.MZ)({type:g.A})],_.prototype,"visibilityTimeExtent",void 0),(0,n._)([(0,h.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"visible",void 0),_=(0,n._)([(0,p.$)("esri.layers.Layer")],_);const w=_},25900:(e,t,i)=>{i.d(t,{A:()=>p});var n=i(35143),r=i(69539),o=i(45802),s=i(42553),a=i(46053),l=(i(81806),i(76460),i(47249),i(28379)),c=i(85842);const u=new o.J({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let d=0,h=class extends s.A{constructor(e){super(e),this.id="sym"+d++,this.type=null,this.color=new r.A([0,0,0,1])}readColor(e){return null!=(null===e||void 0===e?void 0:e[0])?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,n._)([(0,a.MZ)({type:u.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:u.write,isRequired:!0}}})],h.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:r.A,json:{write:{allowNull:!0}}})],h.prototype,"color",void 0),(0,n._)([(0,l.w)("color")],h.prototype,"readColor",null),h=(0,n._)([(0,c.$)("esri.symbols.Symbol")],h);const p=h},26452:(e,t,i)=>{i.d(t,{R:()=>o,t:()=>s});var n=i(27347);const r={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{"-"===t.charAt(0)?e.style.setProperty(t,i):e.style[t]=i}};let o=e=>(0,n.X$)(r,e),s={create:(e,t)=>(t=o(t),(0,n.dj)(e,document.createElement("div"),void 0,t),(0,n.Av)(e,t)),append:(e,t,i)=>(i=o(i),(0,n.dj)(t,e,void 0,i),(0,n.Av)(t,i)),insertBefore:(e,t,i)=>(i=o(i),(0,n.dj)(t,e.parentNode,e,i),(0,n.Av)(t,i)),merge:(e,t,i)=>(i=o(i),t.domNode=e,(0,n.OM)(e,t,i),(0,n.Av)(t,i)),replace:(e,t,i)=>(i=o(i),(0,n.dj)(t,e.parentNode,e,i),e.parentNode.removeChild(e),(0,n.Av)(t,i))}},26562:(e,t,i)=>{function n(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}i.d(t,{A:()=>n})},27084:(e,t,i)=>{i.d(t,{HA:()=>u,Z3:()=>h,v:()=>d});var n=i(65391);const r=[];function o(e,t,i,n){return{xmin:e,ymin:t,xmax:i,ymax:n}}function s(e,t,i,n,r,o){return{xmin:e,ymin:t,zmin:i,xmax:n,ymax:r,zmax:o}}function a(e,t,i,n,r,o){return{xmin:e,ymin:t,mmin:i,xmax:n,ymax:r,mmax:o}}function l(e,t,i,n,r,o,s,a){return{xmin:e,ymin:t,zmin:i,mmin:n,xmax:r,ymax:o,zmax:s,mmax:a}}function c(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t?l(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):s(e[0],e[1],e[2],e[3],e[4],e[5]):t?a(e[0],e[1],e[2],e[3],e[4],e[5]):o(e[0],e[1],e[2],e[3])}function u(e){return e?function(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}(e)?e:function(e){return void 0!==e.x&&void 0!==e.y}(e)?function(e){const{x:t,y:i,z:n,m:r}=e,c=null!=r;return null!=n?c?l(t,i,n,r,t,i,n,r):s(t,i,n,t,i,n):c?a(t,i,r,t,i,r):o(t,i,t,i)}(e):function(e){return void 0!==e.rings}(e)?d(e):function(e){return void 0!==e.paths}(e)?h(e):function(e){return void 0!==e.points}(e)?function(e){const{hasZ:t,hasM:i,points:o}=e;return c((0,n.Pj)(r,o,null!==t&&void 0!==t&&t,null!==i&&void 0!==i&&i),t,i)}(e):null:null}function d(e){const{hasZ:t,hasM:i,rings:o}=e,s=(0,n.Yz)(r,o,null!==t&&void 0!==t&&t,null!==i&&void 0!==i&&i);return s?c(s,t,i):null}function h(e){const{hasZ:t,hasM:i,paths:o}=e,s=(0,n.Yz)(r,o,null!==t&&void 0!==t&&t,null!==i&&void 0!==i&&i);return s?c(s,t,i):null}},27207:(e,t,i)=>{i.d(t,{Hi:()=>l,IB:()=>c,WH:()=>s,yu:()=>a});i(81806);var n=i(61678),r=i(93345),o=i(32880);function s(e){const t=e.gl;switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case t.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case t.INVALID_OPERATION:return"The specified command is not allowed for the current state";case t.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case t.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case t.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function a(e,t,i,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const l=e.gl;e.bindBuffer(i);for(const u of r){const i=t.get(u.name);if(null==i){console.warn("There is no location for vertex attribute '".concat(u.name,"' defined."));continue}const r=a*u.stride;if(u.count<=4)l.vertexAttribPointer(i,u.count,u.type,u.normalized,u.stride,u.offset+r),l.enableVertexAttribArray(i),u.divisor>0&&e.gl.vertexAttribDivisor(i,u.divisor);else if(9===u.count)for(let t=0;t<3;t++)l.vertexAttribPointer(i+t,3,u.type,u.normalized,u.stride,u.offset+12*t+r),l.enableVertexAttribArray(i+t),u.divisor>0&&e.gl.vertexAttribDivisor(i+t,u.divisor);else if(16===u.count)for(let t=0;t<4;t++){var c;l.vertexAttribPointer(i+t,4,u.type,u.normalized,u.stride,u.offset+16*t+r),l.enableVertexAttribArray(i+t),u.divisor>0&&(null===(c=e.gl)||void 0===c||c.vertexAttribDivisor(i+t,u.divisor))}else console.error("Unsupported vertex attribute element count: "+u.count);if((0,n.en)()){const t=s(e),i=(0,o._)(u.type),n=u.offset,a=Math.round(i/n)!==i/n?". Offset not a multiple of stride. DataType requires ".concat(i," bytes, but descriptor has an offset of ").concat(n):"";t&&console.error('Unable to bind vertex attribute "'.concat(u.name,'" with baseInstanceOffset ').concat(r).concat(a,":"),t,u)}}}function l(e,t,i,n){const o=e.gl;e.bindBuffer(i);for(const r of n){var s;const i=t.get(r.name);if(r.count<=4)o.disableVertexAttribArray(i),r.divisor&&r.divisor>0&&(null===(s=e.gl)||void 0===s||s.vertexAttribDivisor(i,0));else if(9===r.count)for(let t=0;t<3;t++){var a;o.disableVertexAttribArray(i+t),r.divisor&&r.divisor>0&&(null===(a=e.gl)||void 0===a||a.vertexAttribDivisor(i+t,0))}else if(16===r.count)for(let t=0;t<4;t++){var l;o.disableVertexAttribArray(i+t),r.divisor&&r.divisor>0&&(null===(l=e.gl)||void 0===l||l.vertexAttribDivisor(i+t,0))}else console.error("Unsupported vertex attribute element count: "+r.count)}e.unbindBuffer(r.NZ.ARRAY_BUFFER)}function c(e){switch(e){case r.Ab.ALPHA:case r.Ab.LUMINANCE:case r.Ab.RED:case r.Ab.RED_INTEGER:case r.H0.R8:case r.H0.R8I:case r.H0.R8UI:case r.H0.R8_SNORM:case r.yQ.STENCIL_INDEX8:return 1;case r.Ab.LUMINANCE_ALPHA:case r.Ab.RG:case r.Ab.RG_INTEGER:case r.H0.RGBA4:case r.H0.R16F:case r.H0.R16I:case r.H0.R16UI:case r.H0.RG8:case r.H0.RG8I:case r.H0.RG8UI:case r.H0.RG8_SNORM:case r.H0.RGB565:case r.H0.RGB5_A1:case r.yQ.DEPTH_COMPONENT16:return 2;case r.Ab.DEPTH_COMPONENT:case r.Ab.RGB:case r.Ab.RGB_INTEGER:case r.H0.RGB8:case r.H0.RGB8I:case r.H0.RGB8UI:case r.H0.RGB8_SNORM:case r.H0.SRGB8:case r.yQ.DEPTH_COMPONENT24:return 3;case r.Ab.DEPTH_STENCIL:case r.Ab.DEPTH24_STENCIL8:case r.Ab.RGBA:case r.Ab.RGBA_INTEGER:case r.H0.RGBA8:case r.H0.R32F:case r.H0.R11F_G11F_B10F:case r.H0.RG16F:case r.H0.R32I:case r.H0.R32UI:case r.H0.RG16I:case r.H0.RG16UI:case r.H0.RGBA8I:case r.H0.RGBA8UI:case r.H0.RGBA8_SNORM:case r.H0.SRGB8_ALPHA8:case r.H0.RGB9_E5:case r.H0.RGB10_A2UI:case r.H0.RGB10_A2:case r.yQ.DEPTH_STENCIL:case r.yQ.DEPTH_COMPONENT32F:case r.yQ.DEPTH24_STENCIL8:return 4;case r.yQ.DEPTH32F_STENCIL8:return 5;case r.H0.RGB16F:case r.H0.RGB16I:case r.H0.RGB16UI:return 6;case r.H0.RG32F:case r.H0.RG32I:case r.H0.RG32UI:case r.H0.RGBA16F:case r.H0.RGBA16I:case r.H0.RGBA16UI:return 8;case r.H0.RGB32F:case r.H0.RGB32I:case r.H0.RGB32UI:return 12;case r.H0.RGBA32F:case r.H0.RGBA32I:case r.H0.RGBA32UI:return 16;case r.CQ.COMPRESSED_RGB_S3TC_DXT1_EXT:case r.CQ.COMPRESSED_RGBA_S3TC_DXT1_EXT:return.5;case r.CQ.COMPRESSED_RGBA_S3TC_DXT3_EXT:case r.CQ.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case r.CQ.COMPRESSED_R11_EAC:case r.CQ.COMPRESSED_SIGNED_R11_EAC:case r.CQ.COMPRESSED_RGB8_ETC2:case r.CQ.COMPRESSED_SRGB8_ETC2:case r.CQ.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case r.CQ.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return.5;case r.CQ.COMPRESSED_RG11_EAC:case r.CQ.COMPRESSED_SIGNED_RG11_EAC:case r.CQ.COMPRESSED_RGBA8_ETC2_EAC:case r.CQ.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}},27347:(e,t,i)=>{i.d(t,{Av:()=>C,OM:()=>M,X$:()=>l,dj:()=>S});var n=i(76099);const r="http://www.w3.org/",o="".concat(r,"2000/svg"),s="".concat(r,"1999/xlink");let a=[],l=(e,t)=>{let i={};return Object.keys(e).forEach((t=>{i[t]=e[t]})),t&&Object.keys(t).forEach((e=>{i[e]=t[e]})),i},c=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),u=e=>{if("string"!=typeof e)throw new Error("Style values must be strings")},d=(e,t,i)=>{if(""!==t.vnodeSelector)for(let n=i;n<e.length;n++)if(c(e[n],t))return n;return-1},h=(e,t,i,n)=>{let r=e[t];if(""===r.vnodeSelector)return;let o=r.properties;if(!(o?void 0===o.key?o.bind:o.key:void 0))for(let s=0;s<e.length;s++)if(s!==t){let t=e[s];if(c(t,r))throw new Error("".concat(i.vnodeSelector," had a ").concat(r.vnodeSelector," child ").concat("added"===n?n:"removed",", but there is now more than one. You must add unique key properties to make them distinguishable."))}},p=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},f=[],m=!1,y=e=>{(e.children||[]).forEach(y),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},g=()=>{m=!1,f.forEach(y),f.length=0},v=e=>{f.push(e),m||(m=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(g,{timeout:16}):setTimeout(g,16))},_=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i){t.style.pointerEvents="none";let n=()=>{t.parentNode&&(t.parentNode.removeChild(t),v(e))};return void i(t,n,e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),v(e))},w=(e,t,i)=>{if(!t)return;let r=i.eventHandlerInterceptor,a=Object.keys(t),l=a.length;for(let c=0;c<l;c++){let l=a[c],d=t[l];if("className"===l)throw new Error('Property "className" is not supported, use "class".');if("class"===l)T(e,d,!0);else if("classes"===l){let t=Object.keys(d),i=t.length;for(let n=0;n<i;n++){let i=t[n];d[i]&&e.classList.add(i)}}else if("styles"===l){let t=Object.keys(d),n=t.length;for(let r=0;r<n;r++){let n=t[r],o=d[n];o&&(u(o),i.styleApplyer(e,n,o))}}else if("key"!==l&&null!=d){let a=typeof d;"function"===a?(0===l.lastIndexOf("on",0)&&(r&&(d=r(l,d,e,t)),"oninput"===l&&function(){let e=d;d=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}()),e[l]=d):i.namespace===o?"href"===l?e.setAttributeNS(s,l,d):e.setAttribute(l,d):"string"===a&&"value"!==l?"innerHTML"===l?e[l]=n.W5.sanitize(d):b(e)&&l in e?e[l]=d:e.setAttribute(l,d):e[l]=d}}};function b(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let A,M=(e,t,i)=>{((e,t,i)=>{if(t)for(let n of t)S(n,e,void 0,i)})(e,t.children,i),t.text&&(e.textContent=t.text),w(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},S=(e,t,i,n)=>{let r,s=0,a=e.vnodeSelector,c=t.ownerDocument;if(""===a)r=e.domNode=c.createTextNode(e.text),void 0!==i?t.insertBefore(r,i):t.appendChild(r);else{for(let u=0;u<=a.length;++u){let d=a.charAt(u);if(u===a.length||"."===d||"#"===d){let d=a.charAt(s-1),h=a.slice(s,u);"."===d?r.classList.add(h):"#"===d?r.id=h:("svg"===h&&(n=l(n,{namespace:o})),void 0!==n.namespace?r=e.domNode=c.createElementNS(n.namespace,h):(r=e.domNode=e.domNode||c.createElement(h),"input"===h&&e.properties&&void 0!==e.properties.type&&r.setAttribute("type",e.properties.type)),void 0!==i?t.insertBefore(r,i):r.parentNode!==t&&t.appendChild(r)),s=u+1}}M(r,e,n)}},T=(e,t,i)=>{t&&t.split(" ").forEach((t=>{t&&e.classList.toggle(t,i)}))},E=(e,t,i,r)=>{if(!i)return;let a=!1,l=Object.keys(i),c=l.length;for(let d=0;d<c;d++){let c=l[d],h=i[c],p=t[c];if("class"===c)p!==h&&(T(e,p,!1),T(e,h,!0));else if("classes"===c){let t=e.classList,i=Object.keys(h),n=i.length;for(let e=0;e<n;e++){let n=i[e],r=!!h[n];r!==!!p[n]&&(a=!0,r?t.add(n):t.remove(n))}}else if("styles"===c){let t=Object.keys(h),i=t.length;for(let n=0;n<i;n++){let i=t[n],o=h[i];o!==p[i]&&(a=!0,o?(u(o),r.styleApplyer(e,i,o)):r.styleApplyer(e,i,""))}}else if(h||"string"!=typeof p||(h=""),"value"!==c||b(e)){if(h!==p){let t=typeof h;"function"===t&&r.eventHandlerInterceptor||(r.namespace===o?"href"===c?e.setAttributeNS(s,c,h):e.setAttribute(c,h):"string"===t?"innerHTML"===c?e[c]=n.W5.sanitize(h):"role"===c&&""===h?e.removeAttribute(c):b(e)&&c in e?e[c]=h:e.setAttribute(c,h):e[c]!==h&&(e[c]=h),a=!0)}}else{let t=e[c];t!==h&&(e["oninput-value"]?t===e["oninput-value"]:h!==p)&&(e[c]=h,e["oninput-value"]=void 0),h!==p&&(a=!0)}}return a},x=(e,t,i,n,r)=>{if(i===n)return!1;n=n||a;let o,s=(i=i||a).length,l=n.length,u=0,f=0,m=!1;for(;f<l;){let a=u<s?i[u]:void 0,l=n[f];if(void 0!==a&&c(a,l))m=A(a,l,r)||m,u++;else{let a=d(i,l,u+1);if(a>=0){for(o=u;o<a;o++)_(i[o]),h(i,o,e,"removed");m=A(i[a],l,r)||m,u=a+1}else S(l,t,u<s?i[u].domNode:void 0,r),p(l),h(n,f,e,"added")}f++}if(s>u)for(o=u;o<s;o++)_(i[o]),h(i,o,e,"removed");return m};A=(e,t,i)=>{let n=e.domNode,r=!1;if(e===t)return!1;let s=!1;if(""===t.vnodeSelector){if(t.text!==e.text){let e=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(e,n),t.domNode=e,r=!0,r}t.domNode=n}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(i=l(i,{namespace:o})),e.text!==t.text&&(s=!0,void 0===t.text?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,s=x(t,n,e.children,t.children,i)||s,s=E(n,e.properties,t.properties,i)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,i,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),r};let C=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=e;e=i,A(n,i,t)},domNode:e.domNode})},27410:(e,t,i)=>{i.d(t,{A:()=>f});var n,r=i(35143),o=i(53084),s=i(76931),a=i(46053),l=(i(81806),i(76460),i(6409)),c=i(28379),u=i(85842),d=i(71706),h=i(94446);let p=n=class extends d.A{constructor(){super(...arguments),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&"string"!=typeof e&&null==e.imageData)return e;const n={};return e&&(n.url=e),null!=t&&(n.width=(0,s.cr)(t)),null!=i&&(n.height=(0,s.cr)(i)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new n({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",(0,o.o8)(this.source)),e}hash(){return"".concat(super.hash(),".").concat(this.height,".").concat(this.url,".").concat(this.width)}};(0,r._)([(0,a.MZ)({json:{write:!1}})],p.prototype,"color",void 0),(0,r._)([(0,l.e)({esriPMS:"picture-marker"},{readOnly:!0})],p.prototype,"type",void 0),(0,r._)([(0,a.MZ)(h.ku)],p.prototype,"url",void 0),(0,r._)([(0,a.MZ)(h.k7)],p.prototype,"source",void 0),(0,r._)([(0,a.MZ)({type:Number,cast:s.cr,json:{write:!0}})],p.prototype,"height",void 0),(0,r._)([(0,c.w)("height",["height","size"])],p.prototype,"readHeight",null),(0,r._)([(0,a.MZ)({type:Number,cast:s.cr,json:{write:!0}})],p.prototype,"width",void 0),(0,r._)([(0,a.MZ)({json:{write:!1}})],p.prototype,"size",void 0),p=n=(0,r._)([(0,u.$)("esri.symbols.PictureMarkerSymbol")],p);const f=p},27698:(e,t,i)=>{i.d(t,{WF:()=>l,qy:()=>s.qy,S$:()=>u,Ec:()=>o.Ec,s6:()=>s.s6,JW:()=>s.JW});var n,r,o=i(18789),s=i(28531);const a=globalThis;class l extends o.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,s.XX)(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return s.c0}}l._$litElement$=!0,l.finalized=!0,null===(n=a.litElementHydrateSupport)||void 0===n||n.call(a,{LitElement:l});const c=a.litElementPolyfillSupport;null===c||void 0===c||c({LitElement:l});(null!==(r=a.litElementVersions)&&void 0!==r?r:a.litElementVersions=[]).push("4.2.0");const u=!1},27741:(e,t,i)=>{i.d(t,{L:()=>a,g:()=>s});var n=i(98773),r=i(94643),o=i(49304);async function s(e,t){return await e.load(),a(e,t)}async function a(e,t){const i=[],s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const a of t)null!=a&&(Array.isArray(a)?s(...a):r.A.isCollection(a)?a.forEach((e=>s(e))):o.A.isLoadable(a)&&i.push(a))};t(s);let a=null;if(await(0,n.Tj)(i,(async e=>{const t=await(0,n.Ke)(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load());!1!==t.ok||a||(a=t)})),a)throw a.error;return e}},27790:(e,t,i)=>{i.d(t,{NM:()=>a,Tb:()=>l,_R:()=>s,h9:()=>o,rM:()=>c,x0:()=>u,y7:()=>d});var n=i(15941),r=i(40565);const o=["none","underline","line-through"],s=["normal","italic","oblique"],a=["normal","lighter","bold","bolder"],l={type:Number,cast:e=>{const t=(0,r.GB)(e);return 0===t?1:(0,n.qE)(t,.1,4)},nonNullable:!0},c={type:["left","right","center"],nonNullable:!0},u={type:["baseline","top","middle","bottom"],nonNullable:!0},d=8},27796:(e,t,i)=>{i.d(t,{A:()=>T});var n,r=i(89379),o=i(35143),s=i(53084),a=i(76460),l=i(90534),c=i(46053),u=(i(81806),i(6409)),d=i(85842),h=i(38582),p=i(39196),f=i(76589),m=i(85192),y=i(93223),g=i(69539),v=i(42553),_=i(76931);i(47249);let w=n=class extends v.A{constructor(e){super(e),this.color=new g.A([0,0,0,1]),this.size=(0,_.PN)(1)}clone(){const e={color:null!=this.color?this.color.clone():null,size:this.size};return new n(e)}};(0,o._)([(0,c.MZ)((0,m.E)({colorRequiredOnWrite:!0}))],w.prototype,"color",void 0),(0,o._)([(0,c.MZ)((0,r.A)((0,r.A)({},m.p),{},{json:{write:{isRequired:!0}}}))],w.prototype,"size",void 0),w=n=(0,o._)([(0,d.$)("esri.symbols.support.Symbol3DIconOutline")],w);var b,A=i(9994);const M="esri.symbols.IconSymbol3DLayer";let S=b=class extends h.A{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new b({anchor:this.anchor,anchorPosition:(0,s.o8)(this.anchorPosition),enabled:this.enabled,material:(0,s.o8)(this.material),outline:(0,s.o8)(this.outline),resource:(0,s.o8)(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||p.ON,i=E(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||p.ON).clone()}:null;return new b({size:e.size,angle:e.angle,resource:{primitive:P(e.style)},material:{color:t},outline:n,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||(0,p.U9)(e.color)?p.ON:e.color,i=E(e);return new b({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new b({resource:{href:(0,l.Hg)({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};(0,o._)([(0,c.MZ)({type:A.N,json:{write:!0}})],S.prototype,"material",void 0),(0,o._)([(0,c.MZ)({type:f.i,json:{write:!0}})],S.prototype,"resource",void 0),(0,o._)([(0,u.e)({Icon:"icon"},{readOnly:!0})],S.prototype,"type",void 0),(0,o._)([(0,c.MZ)((0,r.A)((0,r.A)({},m.p),{},{json:{write:{isRequired:!0}}}))],S.prototype,"size",void 0),(0,o._)([(0,u.e)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],S.prototype,"anchor",void 0),(0,o._)([(0,c.MZ)({type:y.Q,json:{type:[Number],read:{reader:e=>new y.Q({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],S.prototype,"anchorPosition",void 0),(0,o._)([(0,c.MZ)({type:w,json:{write:!0}})],S.prototype,"outline",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0,default:0}})],S.prototype,"angle",void 0),S=b=(0,o._)([(0,d.$)(M)],S);const T=S;function E(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,n=x(e.xoffset),r=x(e.yoffset);return(n||r)&&t&&i?{x:-n/t,y:r/i}:null}function x(e){return isFinite(e)?e:0}const C={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function P(e){return C[e]||(a.A.getLogger(M).warn("".concat(e,' cannot be mapped to Icon symbol. Fallback to "circle"')),"circle")}},27842:(e,t,i)=>{i.d(t,{A:()=>p});var n=i(89379),r=i(35143),o=i(69539),s=i(42553),a=i(53084),l=i(76931),c=i(46053),u=(i(81806),i(76460),i(85842)),d=i(85192);let h=class extends s.A{constructor(e){super(e),this.color=new o.A([0,0,0,1]),this.extensionLength=0,this.size=(0,l.PN)(1)}clone(){}cloneProperties(){return{color:(0,a.o8)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,r._)([(0,c.MZ)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],h.prototype,"type",void 0),(0,r._)([(0,c.MZ)((0,d.E)({colorRequiredOnWrite:!0}))],h.prototype,"color",void 0),(0,r._)([(0,c.MZ)((0,n.A)((0,n.A)({},d.p),{},{json:{write:{overridePolicy:e=>({enabled:!!e})}}}))],h.prototype,"extensionLength",void 0),(0,r._)([(0,c.MZ)(d.p)],h.prototype,"size",void 0),h=(0,r._)([(0,u.$)("esri.symbols.edges.Edges3D")],h);const p=h},28013:(e,t,i)=>{function n(e){var t;return!!e&&(null===(t=e.prototype)||void 0===t?void 0:t.declaredClass)&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}i.d(t,{P:()=>n})},28379:(e,t,i)=>{i.d(t,{w:()=>r});var n=i(46053);function r(e,t,i){let r,o;return void 0===t||Array.isArray(t)?(o=e,i=t,r=[void 0]):(o=t,r=Array.isArray(e)?e:[e]),(e,t)=>{const s=e.constructor.prototype;r.forEach((r=>{const a=(0,n.rM)(e,r,o);a.read&&"object"==typeof a.read||(a.read={}),a.read.reader=s[t],i&&(a.read.source=(a.read.source||[]).concat(i))}))}}},28531:(e,t,i)=>{var n;i.d(t,{JW:()=>E,XX:()=>H,c0:()=>C,ej:()=>x,ge:()=>V,qy:()=>T,s6:()=>P});const r=globalThis,o=r.trustedTypes,s=o?o.createPolicy("lit-html",{createHTML:e=>e}):void 0,a="$lit$",l="lit$".concat(Math.random().toFixed(9).slice(2),"$"),c="?"+l,u="<".concat(c,">"),d=document,h=()=>d.createComment(""),p=e=>null===e||"object"!=typeof e&&"function"!=typeof e,f=Array.isArray,m=e=>f(e)||"function"==typeof(null===e||void 0===e?void 0:e[Symbol.iterator]),y="[ \t\n\f\r]",g=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,_=/>/g,w=RegExp(">|".concat(y,"(?:([^\\s\"'>=/]+)(").concat(y,"*=").concat(y,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),b=/'/g,A=/"/g,M=/^(?:script|style|textarea|title)$/i,S=e=>function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return{_$litType$:e,strings:t,values:n}},T=S(1),E=S(2),x=S(3),C=Symbol.for("lit-noChange"),P=Symbol.for("lit-nothing"),O=new WeakMap,I=d.createTreeWalker(d,129);function R(e,t){if(!f(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s?s.createHTML(t):t}const N=(e,t)=>{const i=e.length-1,n=[];let r,o=2===t?"<svg>":3===t?"<math>":"",s=g;for(let c=0;c<i;c++){const t=e[c];let i,d,h=-1,p=0;for(;p<t.length&&(s.lastIndex=p,d=s.exec(t),null!==d);)p=s.lastIndex,s===g?"!--"===d[1]?s=v:void 0!==d[1]?s=_:void 0!==d[2]?(M.test(d[2])&&(r=RegExp("</"+d[2],"g")),s=w):void 0!==d[3]&&(s=w):s===w?">"===d[0]?(s=null!==r&&void 0!==r?r:g,h=-1):void 0===d[1]?h=-2:(h=s.lastIndex-d[2].length,i=d[1],s=void 0===d[3]?w:'"'===d[3]?A:b):s===A||s===b?s=w:s===v||s===_?s=g:(s=w,r=void 0);const f=s===w&&e[c+1].startsWith("/>")?" ":"";o+=s===g?t+u:h>=0?(n.push(i),t.slice(0,h)+a+t.slice(h)+l+f):t+l+(-2===h?c:f)}return[R(e,o+(e[i]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),n]};class k{constructor(e,t){let i,{strings:n,_$litType$:r}=e;this.parts=[];let s=0,u=0;const d=n.length-1,p=this.parts,[f,m]=N(n,r);if(this.el=k.createElement(f,t),I.currentNode=this.el.content,2===r||3===r){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(i=I.nextNode())&&p.length<d;){if(1===i.nodeType){if(i.hasAttributes())for(const e of i.getAttributeNames())if(e.endsWith(a)){const t=m[u++],n=i.getAttribute(e).split(l),r=/([.?@])?(.*)/.exec(t);p.push({type:1,index:s,name:r[2],strings:n,ctor:"."===r[1]?U:"?"===r[1]?j:"@"===r[1]?G:F}),i.removeAttribute(e)}else e.startsWith(l)&&(p.push({type:6,index:s}),i.removeAttribute(e));if(M.test(i.tagName)){const e=i.textContent.split(l),t=e.length-1;if(t>0){i.textContent=o?o.emptyScript:"";for(let n=0;n<t;n++)i.append(e[n],h()),I.nextNode(),p.push({type:2,index:++s});i.append(e[t],h())}}}else if(8===i.nodeType)if(i.data===c)p.push({type:2,index:s});else{let e=-1;for(;-1!==(e=i.data.indexOf(l,e+1));)p.push({type:7,index:s}),e+=l.length-1}s++}}static createElement(e,t){const i=d.createElement("template");return i.innerHTML=e,i}}function L(e,t){var i,n,r,o,s;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=arguments.length>3?arguments[3]:void 0;if(t===C)return t;let c=void 0!==l?null===(i=a._$Co)||void 0===i?void 0:i[l]:a._$Cl;const u=p(t)?void 0:t._$litDirective$;return(null===(n=c)||void 0===n?void 0:n.constructor)!==u&&(null!==(r=c)&&void 0!==r&&null!==(o=r._$AO)&&void 0!==o&&o.call(r,!1),void 0===u?c=void 0:(c=new u(e),c._$AT(e,a,l)),void 0!==l?(null!==(s=a._$Co)&&void 0!==s?s:a._$Co=[])[l]=c:a._$Cl=c),void 0!==c&&(t=L(e,c._$AS(e,t.values),c,l)),t}class D{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:i},parts:n}=this._$AD,r=(null!==(t=null===e||void 0===e?void 0:e.creationScope)&&void 0!==t?t:d).importNode(i,!0);I.currentNode=r;let o=I.nextNode(),s=0,a=0,l=n[0];for(;void 0!==l;){var c;if(s===l.index){let t;2===l.type?t=new Z(o,o.nextSibling,this,e):1===l.type?t=new l.ctor(o,l.name,l.strings,this,e):6===l.type&&(t=new z(o,this,e)),this._$AV.push(t),l=n[++a]}s!==(null===(c=l)||void 0===c?void 0:c.index)&&(o=I.nextNode(),s++)}return I.currentNode=d,r}p(e){let t=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class Z{get _$AU(){var e,t;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cv}constructor(e,t,i,n){var r;this.type=2,this._$AH=P,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=n,this._$Cv=null===(r=null===n||void 0===n?void 0:n.isConnected)||void 0===r||r}get parentNode(){var e;let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===(null===(e=t)||void 0===e?void 0:e.nodeType)&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e){e=L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),p(e)?e===P||null==e||""===e?(this._$AH!==P&&this._$AR(),this._$AH=P):e!==this._$AH&&e!==C&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):m(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==P&&p(this._$AH)?this._$AA.nextSibling.data=e:this.T(d.createTextNode(e)),this._$AH=e}$(e){var t;const{values:i,_$litType$:n}=e,r="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=k.createElement(R(n.h,n.h[0]),this.options)),n);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===r)this._$AH.p(i);else{const e=new D(r,this),t=e.u(this.options);e.p(i),this.T(t),this._$AH=e}}_$AC(e){let t=O.get(e.strings);return void 0===t&&O.set(e.strings,t=new k(e)),t}k(e){f(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,n=0;for(const r of e)n===t.length?t.push(i=new Z(this.O(h()),this.O(h()),this,this.options)):i=t[n],i._$AI(r),n++;n<t.length&&(this._$AR(i&&i._$AB.nextSibling,n),t.length=n)}_$AR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,t);e&&e!==this._$AB;){var i;const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cv=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class F{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,i,n,r){this.type=1,this._$AH=P,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=P}_$AI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const r=this.strings;let o=!1;if(void 0===r)e=L(this,e,t,0),o=!p(e)||e!==this._$AH&&e!==C,o&&(this._$AH=e);else{const n=e;let s,a;for(e=r[0],s=0;s<r.length-1;s++)a=L(this,n[i+s],t,s),a===C&&(a=this._$AH[s]),o||(o=!p(a)||a!==this._$AH[s]),a===P?e=P:e!==P&&(e+=(null!==a&&void 0!==a?a:"")+r[s+1]),this._$AH[s]=a}o&&!n&&this.j(e)}j(e){e===P?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!==e&&void 0!==e?e:"")}}class U extends F{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===P?void 0:e}}class j extends F{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==P)}}class G extends F{constructor(e,t,i,n,r){super(e,t,i,n,r),this.type=5}_$AI(e){var t;if((e=null!==(t=L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==t?t:P)===C)return;const i=this._$AH,n=e===P&&i!==P||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,r=e!==P&&(i===P||n);n&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,i;"function"==typeof this._$AH?this._$AH.call(null!==(t=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==t?t:this.element,e):this._$AH.handleEvent(e)}}class z{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){L(this,e)}}const V={M:a,P:l,A:c,C:1,L:N,R:D,D:m,V:L,I:Z,H:F,N:j,U:G,B:U,F:z},B=r.litHtmlPolyfillSupport;null!==B&&void 0!==B&&B(k,Z),(null!==(n=r.litHtmlVersions)&&void 0!==n?n:r.litHtmlVersions=[]).push("3.3.0");const H=(e,t,i)=>{var n;const r=null!==(n=null===i||void 0===i?void 0:i.renderBefore)&&void 0!==n?n:t;let o=r._$litPart$;if(void 0===o){var s;const e=null!==(s=null===i||void 0===i?void 0:i.renderBefore)&&void 0!==s?s:null;r._$litPart$=o=new Z(t.insertBefore(h(),e),e,void 0,null!==i&&void 0!==i?i:{})}return o._$AI(e),o}},28632:(e,t,i)=>{i.d(t,{$0:()=>$,AU:()=>T,C:()=>P,FT:()=>G,GL:()=>F,Hn:()=>L,Ji:()=>H,RG:()=>U,UR:()=>K,WK:()=>Y,XR:()=>q,Z7:()=>I,aA:()=>te,b:()=>R,b8:()=>N,cp:()=>j,hV:()=>z,iB:()=>O,nr:()=>B,qV:()=>X,ri:()=>D,s5:()=>V,tj:()=>W,vt:()=>C});var n=i(16036),r=i(94643),o=i(15941),s=i(31633),a=i(53494),l=i(94967),c=i(99809),u=i(19555),d=i(72745),h=i(76797),p=i(89189),f=i(19247),m=i(9624),y=i(13312),g=i(1438),v=i(80963);const _=96,w=39.37,b=180/Math.PI;function A(e){return e.wkid?e:e.spatialReference||y.A.WGS84}function M(e,t){return t.type?(0,u.hZ)(e,t.x,t.y):(0,u.C)(e,t)}function S(e){return(0,s.GA)(e)}function T(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.width,r=e.height;if(0!==i){const t=(0,o.kU)(i),s=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t));n=e.width*s+e.height*a,r=e.width*a+e.height*s}const s=Math.max(1,t[0]),a=Math.max(1,t[1]);return Math.max(n/s,r/a)*function(e){return(0,v.fn)(e)?S(e)*w*_:1}(e.spatialReference)}async function E(e,t,i,n){let o,s;if(!e)return null;if(Array.isArray(e)&&!e.length)return null;if(r.A.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&"object"==typeof e[0]){const r=e.every((e=>"attributes"in e)),o=e.some((e=>!e.geometry));let s=e;if(r&&o&&t&&t.allLayerViews){const i=new Map;for(const t of e){const e=t.layer,n=i.get(e)||[],r=t.attributes[e.objectIdField];null!=r&&n.push(r),i.set(e,n)}const n=[];i.forEach(((e,i)=>{var r;const o=null===(r=t.allLayerViews)||void 0===r?void 0:r.find((e=>e.layer.id===i.id));if(o&&"queryFeatures"in o){const t=i.createQuery();t.objectIds=e,t.returnGeometry=!0,n.push(o.queryFeatures(t))}}));const r=await Promise.all(n),o=[];for(const e of r)if(e&&e.features&&e.features.length)for(const t of e.features)null!=t.geometry&&o.push(t.geometry);s=o}for(const e of s)n=await E(e,t,i,n);return n}if(Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1])o=new f.A(e);else if(e instanceof p.A)o=e;else if("geometry"in e)if(e.geometry)o=e.geometry;else if(e.layer){var a;const i=e.layer,n=null===(a=t.allLayerViews)||void 0===a?void 0:a.find((e=>e.layer.id===i.id));if(n&&"queryFeatures"in n){var l;const t=i.createQuery();t.objectIds=[e.attributes[i.objectIdField]],t.returnGeometry=!0;const r=await n.queryFeatures(t);o=null===r||void 0===r||null===(l=r.features)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.geometry}}if(null==o)return null;switch(o.type){case"point":s=new h.A({xmin:o.x,ymin:o.y,xmax:o.x,ymax:o.y,spatialReference:o.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":s=(0,g.Hr)(o);break;default:s=o.extent}if(!s)return null;(0,m.isLoaded)()||(0,m.canProjectWithoutEngine)(s.spatialReference,i)||await(0,m.load)();const c=(0,m.project)(s,i);if(!c)return null;if(n){const e=c.center,t=e.clone();t.x=(0,g.O7)(e.x,n.center.x,i),t.x!==e.x&&c.centerAt(t),n=n.union(c)}else n=c;return n}function x(e,t){const i=A(e);return(0,v.aI)(i,t)||i.imageCoordinateSystem||t.imageCoordinateSystem?e:(0,m.project)(e,t)}async function C(e,t){var i,r,o,s;if(!e||!t)return new n.A({targetGeometry:new f.A,scale:0,rotation:0});let a=t.spatialReference;const{constraints:l,padding:c,viewpoint:u,size:d}=t,y=[c?d[0]-c.left-c.right:d[0],c?d[1]-c.top-c.bottom:d[1]];let _=null;e instanceof n.A?_=e:e.viewpoint?_=e.viewpoint:e.target&&"esri.Viewpoint"===e.target.declaredClass&&(_=e.target);let w=null;null!==(i=_)&&void 0!==i&&i.targetGeometry?w=_.targetGeometry:e instanceof h.A?w=e:e instanceof p.A?w=await E(e,t,a):e&&(w=await E(e.center,t,a)||await E(e.target,t,a)||await E(e,t,a)),!w&&null!==u&&void 0!==u&&u.targetGeometry?w=u.targetGeometry:!w&&t.extent&&(w=t.extent),a||(a=A(t.spatialReference||t.extent||w)),(0,m.isLoaded)()||(0,v.aI)(w.spatialReference,a)||(0,m.canProjectWithoutEngine)(w.spatialReference,a)||await(0,m.load)();const b=x(w,a),M="center"in b?b.center:b;!1!==t.pickClosestTarget&&"point"===M.type&&"point"===(null===(r=u.targetGeometry)||void 0===r?void 0:r.type)&&(M.x=(0,g.O7)(M.x,u.targetGeometry.x,M.spatialReference));let S=0;_?S=_.rotation:e.hasOwnProperty("rotation")?S=e.rotation:u&&(S=u.rotation);let C=0;C=null!=(null===(o=_)||void 0===o?void 0:o.targetGeometry)&&"point"===_.targetGeometry.type?_.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&-1!==e.zoom&&l&&l.effectiveLODs?l.zoomToScale(e.zoom):Array.isArray(w)||"point"===w.type||"extent"===w.type&&0===w.width&&0===w.height?u.scale:T(x(w.extent,a),y,S);const P=function(e){if(e&&(!Array.isArray(e)||"number"!=typeof e[0])&&("object"==typeof e||Array.isArray(e)&&"object"==typeof e[0])){var t;if("layer"in e&&null!=(null===(t=e.layer)||void 0===t?void 0:t.minScale)&&null!=e.layer.maxScale){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every((e=>"layer"in e))){let t=0,i=0;for(const n of e){const e=n.layer;(null===e||void 0===e?void 0:e.minScale)&&e.maxScale&&(t=e.minScale<t?e.minScale:t,i=e.maxScale>i?e.maxScale:i)}return t&&i?{min:t,max:i}:null}}}(null!==(s=e.target)&&void 0!==s?s:e);P&&(P.min&&P.min<C?C=P.min:P.max&&P.max>C&&(C=P.max));let O=new n.A({targetGeometry:M,scale:C,rotation:S});return l&&(O=l.fit(O),l.constrainByGeometry(O),l.rotationEnabled||(O.rotation=u.rotation)),O}function P(e,t){const i=e.targetGeometry,n=t.targetGeometry;return i.x=n.x,i.y=n.y,i.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function O(e,t,i){return i?(0,u.hZ)(e,.5*(t[0]-i.right+i.left),.5*(t[1]-i.bottom+i.top)):(0,u.hs)(e,t,.5)}const I=function(){const e=(0,d.vt)();return function(t,i,n){const r=i.targetGeometry;M(e,r);const o=.5*L(i);return t.xmin=e[0]-o*n[0],t.ymin=e[1]-o*n[1],t.xmax=e[0]+o*n[0],t.ymax=e[1]+o*n[1],t.spatialReference=r.spatialReference,t}}();function R(e,t,i,n,r){var o;return H(e,t,i.center),e.scale=T(i,n),null!==r&&void 0!==r&&null!==(o=r.constraints)&&void 0!==o&&o.constrain(e),e}const N=function(){const e=(0,d.vt)();return function(t,i,n){return(0,u.jb)(t,function(e,t){return(0,u.hs)(e,t,.5)}(t,i),O(e,i,n))}}(),k=function(){const e=(0,c.vt)(),t=(0,d.vt)();return function(i,n,r,o){const s=L(n),a=Z(n);return(0,u.hZ)(t,s,s),(0,l.CV)(e,t),(0,l.e$)(e,e,a),(0,l.Tl)(e,e,N(t,r,o)),(0,l.Tl)(e,e,[0,o.top-o.bottom]),(0,u.hZ)(i,e[4],e[5])}}();function L(e){var t;return e.scale*D(null===(t=e.targetGeometry)||void 0===t?void 0:t.spatialReference)}function D(e){return(0,v.fn)(e)?1/(S(e)*w*_):1}function Z(e){return(0,a.DF)(e.rotation)||0}const F=function(){const e=(0,d.vt)(),t=(0,d.vt)(),i=(0,d.vt)();return function(n,r,o,s,a,c){return(0,u.ze)(e,r),(0,u.hs)(t,o,.5*c),(0,u.hZ)(i,1/s*c,-1/s*c),(0,l.kN)(n,t),a&&(0,l.e$)(n,n,a),(0,l.hs)(n,n,i),(0,l.Tl)(n,n,e),n}}(),U=function(){const e=(0,d.vt)();return function(t,i,n,r){const o=L(i),s=Z(i);return M(e,i.targetGeometry),F(t,e,n,o,s,r)}}(),j=function(){const e=(0,d.vt)();return function(t,i,n,r){const o=L(i);return M(e,i.targetGeometry),F(t,e,n,o,0,r)}}();function G(e){const t=(0,v.Vp)(e);return t?t.valid[1]-t.valid[0]:0}function z(e,t){return Math.round(G(e)/t)}const V=function(){const e=(0,d.vt)(),t=(0,d.vt)(),i=[0,0,0];return function(n,r,o){(0,u.Re)(e,n,r),(0,u.S8)(e,e),(0,u.Re)(t,n,o),(0,u.S8)(t,t),(0,u.$A)(i,e,t);let s=Math.acos((0,u.Om)(e,t)/((0,u.Bw)(e)*(0,u.Bw)(t)))*b;return i[2]<0&&(s=-s),isNaN(s)&&(s=0),s}}(),B=function(){const e=(0,d.vt)();return function(t,i,n,r){const o=t.targetGeometry;return P(t,i),k(e,i,n,r),o.x+=e[0],o.y+=e[1],t}}(),H=function(e,t,i){P(e,t);const n=e.targetGeometry;return n.x=i.x,n.y=i.y,n.spatialReference=i.spatialReference,e},q=function(){const e=(0,d.vt)();return function(t,i,n,r,o){o||(o="center"),(0,u.jb)(e,n,r),(0,u.hs)(e,e,.5);const s=e[0],a=e[1];switch(o){case"center":(0,u.hZ)(e,0,0);break;case"left":(0,u.hZ)(e,-s,0);break;case"top":(0,u.hZ)(e,0,a);break;case"right":(0,u.hZ)(e,s,0);break;case"bottom":(0,u.hZ)(e,0,-a);break;case"top-left":(0,u.hZ)(e,-s,a);break;case"bottom-left":(0,u.hZ)(e,-s,-a);break;case"top-right":(0,u.hZ)(e,s,a);break;case"bottom-right":(0,u.hZ)(e,s,-a)}return te(t,i,e),t}}();function W(e,t,i){return P(e,t),e.rotation+=i,e}function $(e,t,i){return P(e,t),e.rotation=i,e}const J=function(){const e=(0,d.vt)();return function(t,i,n,r,o){return P(t,i),isNaN(n)||0===n||(Q(e,r,i,o),t.scale=i.scale*n,ee(e,e,t,o),te(t,t,(0,u.hZ)(e,e[0]-r[0],r[1]-e[1]))),t}}();function K(e,t,i){return P(e,t),e.scale=i,e}const Y=function(){const e=(0,d.vt)();return function(t,i,n,r,o,s){return P(t,i),isNaN(n)||0===n||(Q(e,o,i,s),t.scale=i.scale*n,t.rotation+=r,ee(e,e,t,s),te(t,t,(0,u.hZ)(e,e[0]-o[0],o[1]-e[1]))),t}}(),X=function(){const e=(0,d.vt)(),t=(0,d.vt)();return function(i,n,r,o,s,a,l){return N(t,a,l),(0,u.WQ)(e,s,t),o?Y(i,n,r,o,e,a):J(i,n,r,e,a)}}(),Q=function(){const e=(0,c.vt)();return function(t,i,n,r){return(0,u.l0)(t,i,function(e,t,i,n){return U(e,t,i,n),(0,l.B8)(e,e)}(e,n,r,1))}}(),ee=function(){const e=(0,c.vt)();return function(t,i,n,r){return(0,u.l0)(t,i,U(e,n,r,1))}}(),te=function(){const e=(0,d.vt)(),t=(0,c.vt)();return function(i,n,r){P(i,n);const o=L(n),s=i.targetGeometry;return(0,l.$0)(t,Z(n)),(0,l.hs)(t,t,(0,d.fA)(o,o)),(0,u.l0)(e,r,t),s.x+=e[0],s.y+=e[1],i}}()},28786:(e,t,i)=>{function n(e,t){return new Proxy({},{get:(i,n,r)=>function(){let i,r;for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const l=s[s.length-1];return function(e){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&("signal"in e||"transferList"in e||0===Object.keys(e).length)}(l)&&(i=l.signal,r=l.transferList,s.pop()),e.apply(t?"".concat(t,".").concat(n.toString()):n.toString(),s,{transferList:r,signal:i})}})}i.d(t,{L:()=>n})},28899:(e,t,i)=>{i.d(t,{s:()=>a});var n=i(86560),r=(i(3825),i(50076)),o=i(76460),s=i(90534);function a(e){if(!n.A.assetsPath)throw o.A.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new r.A("assets:path-not-set","config.assetsPath is not set");return(0,s.fj)(n.A.assetsPath,e)}},29101:(e,t,i)=>{function n(e){return(t,i)=>{t[i]=e}}i.d(t,{u:()=>n})},29584:(e,t,i)=>{i.d(t,{M:()=>p,R:()=>h});var n=i(18690),r=i(50076),o=i(76460),s=i(17879),a=i(49140),l=i(39314),c=i(95922);function u(e,t,i,n,r){var o;const s={};return null!==(o=t.write)&&void 0!==o&&null!==(o=o.writer)&&void 0!==o&&o.call(e,n,s,i,r),s}function d(e,t,i,l,c,u){if(null===l||void 0===l||!l.write)return!1;const d=(0,s.Jt)(e,i);if(!c&&l.write.overridePolicy){const t=l.write.overridePolicy.call(e,d,i,null!==u&&void 0!==u?u:void 0);void 0!==t&&(c=t)}if(c||(c=l.write),!c||!1===c.enabled)return!1;if(c.layerContainerTypes&&null!==u&&void 0!==u&&u.layerContainerType&&!c.layerContainerTypes.includes(u.layerContainerType))return!1;if((null===d&&!c.allowNull&&!c.writerEnsuresNonNull||void 0===d)&&c.isRequired){const t=new r.A("web-document-write:property-required","Missing value for required property '".concat(i,"' on '").concat(e.declaredClass,"'"),{propertyName:i,target:e});return t&&null!==u&&void 0!==u&&u.messages?u.messages.push(t):t&&!u&&o.A.getLogger("esri.core.accessorSupport.write").error(t.name,t.message),!1}return void 0!==d&&(!(null===d&&!c.allowNull&&!c.writerEnsuresNonNull)&&(!(!(c.alwaysWriteDefaults||t.store.multipleOriginsSupported&&t.store.originOf(i)!==a.Gr.DEFAULTS)&&function(e,t,i,r,o){const s=r.default;if(void 0===s)return!1;if(null!=r.defaultEquals)return r.defaultEquals(o);if("function"==typeof s){if(Array.isArray(o)){const r=s.call(e,t,null!==i&&void 0!==i?i:void 0);return(0,n.aI)(r,o)}return!1}return s===o}(e,i,u,l,d))&&!(!c.ignoreOrigin&&null!==u&&void 0!==u&&u.origin&&t.store.multipleOriginsSupported&&t.store.originOf(i)<(0,a.aB)(u.origin))))}function h(e,t,i,n){const r=(0,l.oY)(e),o=r.metadata,s=(0,c.k4)(o[t],n);return!!s&&d(e,r,t,s,i,n)}function p(e,t,i){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return(0,l.h1)(t,e.toJSON(i));const n=(0,l.oY)(e),r=n.metadata;for(const h in r){var o;const p=(0,c.k4)(r[h],i);if(!d(e,n,h,p,void 0,i))continue;const f=(0,s.Jt)(e,h),m=u(e,p,p.write&&"string"==typeof p.write.target?p.write.target:h,f,i);Object.keys(m).length>0&&(t=(0,l.h1)(t,m),null!==i&&void 0!==i&&null!==(o=i.resources)&&void 0!==o&&null!==(o=o.pendingOperations)&&void 0!==o&&o.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then((()=>(0,l.h1)(t,m,(()=>"replace-arrays"))))),(null===i||void 0===i?void 0:i.writtenProperties)&&i.writtenProperties.push({target:e,propName:h,oldOrigin:(0,a.in)(n.store.originOf(h)),newOrigin:i.origin}))}return t}},30015:(e,t,i)=>{i.d(t,{A:()=>a});var n,r=i(18690),o=i(4212);!function(e){const t=(e,t,i,n)=>{let r=t,o=t;const s=i>>>1,a=e[r-1];for(;o<=s;){o=r<<1,o<i&&n(e[o-1],e[o])<0&&++o;const t=e[o-1];if(n(t,a)<=0)break;e[r-1]=t,r=o}e[r-1]=a},i=(e,t)=>e<t?-1:e>t?1:0;e.sort=function(e,n,r,o){void 0===n&&(n=0),void 0===r&&(r=e.length),void 0===o&&(o=i);for(let i=r>>>1;i>n;i--)t(e,i,r,o);const s=n+1;for(let i=r-1;i>n;i--){const r=e[n];e[n]=e[i],e[i]=r,t(e,s,i,o)}},e.iterableSort=function*(e,n,r,o){void 0===n&&(n=0),void 0===r&&(r=e.length),void 0===o&&(o=i);for(let i=r>>>1;i>n;i--)t(e,i,r,o),yield;const s=n+1;for(let i=r-1;i>n;i--){const r=e[n];e[n]=e[i],e[i]=r,t(e,s,i,o),yield}}}(n||(n={}));const s=n;class a{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new r.vW,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>l(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const t=new Array;for(let i=0;i<this._length;i++){const n=this.data[i];e(n)&&t.push(n)}return t}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,t){const i=this.data.indexOf(e,t);return-1!==i&&i<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;for(let i=0;i<t;i++)this.data[this._length++]=e[i]}fill(e,t){for(let i=0;i<t;i++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,l(this)}pop(){if(0===this.length)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const t=(0,r.qh)(this.data,(0,o.zI)(e),this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex((0,r.qh)(this.data,(0,o.zI)(e),this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,i=arguments.length>2?arguments[2]:void 0;this.length=(0,r.mW)(this.data,e,this.length,t,this._hint,i),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){if(e>=this.length||t>=this.length||e===t)return;const i=this.data[e];this.data[e]=this.data[t],this.data[t]=i}sort(e){s.sort(this.data,0,this.length,e)}iterableSort(e){return s.iterableSort(this.data,0,this.length,e)}some(e,t){for(let i=0;i<this.length;++i)if(e.call(t,this.data[i],i,this.data))return!0;return!1}find(e,t){const{data:i,length:n}=this;for(let r=0;r<n;++r)if(e.call(t,i[r]))return i[r]}filterInPlace(e,t){let i=0;for(let n=0;n<this._length;++n){const r=this.data[n];e.call(t,r,n,this.data)&&(this.data[n]=this.data[i],this.data[i]=r,i++)}if(this._deallocator)for(let n=i;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=i,this._shrink(),this}forAll(e,t){const{data:i,length:n}=this;for(let r=0;r<n;++r)e.call(t,i[r],r,i)}forEach(e,t){this.data.slice(0,this.length).forEach(e,t)}map(e,t){const i=new Array(this.length);for(let n=0;n<this.length;++n)i[n]=e.call(t,this.data[n],n,this.data);return i}reduce(e,t){let i=t;for(let n=0;n<this.length;++n)i=e(i,this.data[n],n,this.data);return i}has(e){const t=this.length,i=this.data;for(let n=0;n<t;++n)if(i[n]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}}function l(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}},30068:(e,t,i)=>{i.r(t),i.d(t,{completeUserSettings:()=>c,createEmptyImageData:()=>o.xR,encode:()=>d,encodeData:()=>h,getFormatAndQuality:()=>g,getMaximumResolutionScale:()=>v,resampleHermite:()=>_,screenshotSuperSampleSettings:()=>w,toDataUrl:()=>y,toRenderSettings:()=>u});var n=i(89379),r=(i(81806),i(15941)),o=i(16770);const s=2048,a=1.5,l=8;function c(e,t){const{format:i,quality:n,rotation:o,disableDecorations:s}=e||{},a=b(e,t.padding),l=function(e,t){const i={x:0,y:0,width:t.width,height:t.height};if(null!==e&&void 0!==e&&e.area){null!=e.area.x&&(i.x=Math.floor(e.area.x)),null!=e.area.y&&(i.y=Math.floor(e.area.y));const n=null!=e.area.width?Math.floor(e.area.width):null,r=null!=e.area.height?Math.floor(e.area.height):null;if(i.width=t.width-i.x,i.height=t.height-i.y,null!=n&&null!=r)i.width=Math.min(i.width,n),i.height=Math.min(i.height,r);else if(null==n&&null!=r){const e=Math.min(i.width,n);i.height=e/i.width*i.height,i.width=e}else if(null!=n&&null==r){const e=Math.min(i.height,r);i.width=e/i.height*i.width,i.height=e}}return function(e,t){const i=Math.floor(Math.max(e.x,0)),n=Math.floor(Math.max(e.y,0)),r={x:i,y:n,width:Math.floor(Math.min(e.width,t.width-i)),height:Math.floor(Math.min(e.height,t.height-n))},o=r.width/r.height,s=e.width/e.height;if(s===o)return r;if(s>o){const e=Math.floor(r.width/s),t=r.height-e;return{x:r.x,y:Math.floor(r.y+t/2),width:r.width,height:e}}const a=Math.floor(r.height*s),l=r.width-a;return{x:Math.floor(r.x+l/2),y:r.y,width:a,height:r.height}}(function(e,t){if(null==(null===t||void 0===t?void 0:t.width)||null==t.height)return e;const i=t.width/t.height,n=e.width/e.height;if(n===i)return e;if(n<i){const t=Math.floor(e.height*i);return e.x-=(t-e.width)/2,e.width=t,e}const r=Math.floor(e.width/i);return e.y-=(r-e.height)/2,e.height=r,e}(i,e),t)}(e,{width:t.width-a.left-a.right,height:t.height-a.top-a.bottom}),{width:c,height:u}=function(e,t){if(!e)return t;const i=e.width,n=e.height;if(null!=i&&null!=n)return{width:Math.floor(i),height:Math.floor(n)};if(null==i&&null==n)return t;const r=t.width/t.height;return null==n?{width:Math.floor(i),height:Math.floor(i/r)}:{width:Math.floor(n*r),height:Math.floor(n)}}(e,l),d=A(i),h=T[d];return{format:d,quality:(0,r.qE)(null!=n?n:h,0,100),area:l,width:c,height:u,rotation:o,disableDecorations:!!s,ignoreBackground:!(null===e||void 0===e||!e.ignoreBackground),ignorePadding:!(null===e||void 0===e||!e.ignorePadding)}}function u(e,t){var i;const n=c(e,t),r=n.area,o=n.width/r.width,s=b(n,t.padding),a=s.left+s.right,l=s.top+s.bottom,u=t.width-a,d=t.height-l,h=Math.floor(u*o+a),p=Math.floor(d*o+l),f=null!==(i=null===e||void 0===e?void 0:e.layers)&&void 0!==i?i:[],m=n.ignoreBackground,y=n.ignorePadding;return{framebufferWidth:h,framebufferHeight:p,region:{x:Math.floor(r.x*o)+s.left,y:Math.floor(r.y*o)+s.top,width:n.width,height:n.height},format:n.format,quality:n.quality,rotation:n.rotation,pixelRatio:o,layers:f,disableDecorations:n.disableDecorations,ignoreBackground:m,ignorePadding:y,objectAndLayerIdColor:!1}}function d(e,t,i){const{ctx:n,canvas:r}=p(e,i),o=n.getImageData(0,0,e.width,e.height),s=y(r,t);return f(r),{dataUrl:s,data:o}}function h(e,t){const{ctx:i,canvas:n}=p(e,t),r=i.getImageData(0,0,e.width,e.height);return f(n),r}function p(e,t){const i=(null==m&&(m=document.createElement("canvas")),m);t.premultipliedAlpha&&function(e){const t=e.data,i=t.length;for(let n=0;n<i;n+=4){const e=t[n+3];if(255!==e&&e>0){const i=255/e;t[n]=t[n]*i,t[n+1]=t[n+1]*i,t[n+2]=t[n+2]*i}}}(e),i.width=e.width,i.height=e.height;const n=i.getContext("2d",{willReadFrequently:!0});return n.putImageData(e,0,0),t.flipY&&function(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}(n),{ctx:n,canvas:i}}function f(e){e.width=0,e.height=0}let m=null;function y(e,t){const i=M[t.format],n=t.quality/100;return e.toDataURL(i,n)}function g(e,t){const i=A(e),n=T[i];return{format:i,quality:(0,r.qE)(null!=t?t:n,0,100)}}function v(e,t){return t/Math.max(e[0],e[1])}function _(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.width-n,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.height-r,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const{data:l}=e,{width:c,height:u,data:d}=t,h=o/c,p=s/u,f=Math.ceil(h/2),m=Math.ceil(p/2),y=e.width;for(let g=0;g<u;g++)for(let e=0;e<c;e++){const t=4*(e+(a?u-g-1:g)*c);let o=0,s=0,v=0,_=0,w=0,b=0;const A=(g+.5)*p;for(let a=Math.floor(g*p);a<(g+1)*p;a++){const t=Math.abs(A-(a+.5))/m,c=(e+.5)*h,u=t*t;for(let d=Math.floor(e*h);d<(e+1)*h;d++){const e=Math.abs(c-(d+.5))/f,t=Math.sqrt(u+e*e);if(t>=1)continue;let h=2*t*t*t-3*t*t+1;const p=4*(n+d+(r+a)*y);b+=h*l[p+3],s+=h,!i&&l[p+3]<255&&(h=h*l[p+3]/255),v+=h*l[p],_+=h*l[p+1],w+=h*l[p+2],o+=h}}d[t]=v/o,d[t+1]=_/o,d[t+2]=w/o,d[t+3]=b/s}return t}function w(e,t,i){if(!t)return e;const{framebufferWidth:r,framebufferHeight:o,pixelRatio:c,region:u}=e,d=b(e,i),h=d.left+d.right,p=d.top+d.bottom,f=r-h,m=o-p,y=Math.min(l,Math.min((s-h)/f,(s-p)/m));return y<a?e:(0,n.A)((0,n.A)({},e),{},{framebufferWidth:Math.round(f*y)+h,framebufferHeight:Math.round(m*y)+p,pixelRatio:c*y,resample:{region:{x:Math.round((u.x-d.left)*y)+d.left,y:Math.round((u.y-d.top)*y)+d.top,width:Math.round(u.width*y),height:Math.round(u.height*y)},width:r,height:o}})}function b(e,t){return!t||null!==e&&void 0!==e&&e.ignorePadding?E:t}function A(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return S}}const M={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},S="png",T={png:100,jpg:98,jpeg:98},E={top:0,right:0,bottom:0,left:0}},30113:(e,t,i)=>{function n(e){return"string"==typeof e?document.getElementById(e):null!==e&&void 0!==e?e:null}function r(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}i.d(t,{$:()=>n,y:()=>r})},30363:(e,t,i)=>{i.d(t,{A:()=>h});var n,r=i(89379),o=i(35143),s=i(69539),a=i(91967),l=i(46053),c=(i(81806),i(76460),i(47249),i(85842)),u=i(1723);let d=n=class extends a.A{constructor(e){super(e),this.name=u.Tv,this.color=u.fT.clone(),this.haloColor=null,this.haloOpacity=u.Zs,this.fillOpacity=u.mA,this.shadowColor=u.xc.clone(),this.shadowOpacity=u.Ps,this.shadowDifference=u.d2,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity&&this.haloWidth===e.haloWidth&&this.haloBlur===e.haloBlur&&this.shadowColor.equals(e.shadowColor)&&this.shadowOpacity===e.shadowOpacity&&this.shadowDifference===e.shadowDifference}clone(){var e,t;return new n((0,r.A)((0,r.A)({},this),{},{color:this.color.clone(),haloColor:null===(e=this.haloColor)||void 0===e?void 0:e.clone(),shadowColor:null===(t=this.shadowColor)||void 0===t?void 0:t.clone()}))}assignFrom(e){var t;this.color=e.color.clone(),this.haloColor=null===(t=e.haloColor)||void 0===t?void 0:t.clone(),this.haloOpacity=e.haloOpacity,this.fillOpacity=e.fillOpacity,this.shadowColor=e.shadowColor.clone(),this.shadowDifference=e.shadowDifference,this.shadowOpacity=e.shadowOpacity,this.haloBlur=e.haloBlur,this.haloWidth=e.haloWidth}};(0,o._)([(0,l.MZ)({type:String,constructOnly:!0,nonNullable:!0})],d.prototype,"name",void 0),(0,o._)([(0,l.MZ)({type:s.A,nonNullable:!0})],d.prototype,"color",void 0),(0,o._)([(0,l.MZ)({type:s.A})],d.prototype,"haloColor",void 0),(0,o._)([(0,l.MZ)({nonNullable:!0})],d.prototype,"haloOpacity",void 0),(0,o._)([(0,l.MZ)({nonNullable:!0})],d.prototype,"fillOpacity",void 0),(0,o._)([(0,l.MZ)({type:s.A,nonNullable:!0})],d.prototype,"shadowColor",void 0),(0,o._)([(0,l.MZ)({nonNullable:!0})],d.prototype,"shadowOpacity",void 0),(0,o._)([(0,l.MZ)({nonNullable:!0})],d.prototype,"shadowDifference",void 0),(0,o._)([(0,l.MZ)({nonNullable:!0})],d.prototype,"haloWidth",void 0),(0,o._)([(0,l.MZ)({nonNullable:!0})],d.prototype,"haloBlur",void 0),d=n=(0,o._)([(0,c.$)("esri.views.support.HighlightOptions")],d);const h=d},30533:(e,t,i)=>{i.d(t,{OA:()=>n,WL:()=>o,u$:()=>r});const n={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},r=e=>function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return{_$litDirective$:e,values:i}};class o{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}},30697:(e,t,i)=>{i.d(t,{C:()=>a,D:()=>l,a:()=>c,c:()=>y,f:()=>h,g:()=>g,l:()=>p,s:()=>v});var n=i(39466),r=i(27698);const o="calcite-mode-auto",s="calcite-mode-dark",a={autoMode:o,darkMode:s,lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},l={filter:250,nextTick:0,resize:150,reposition:100},c=25;function u(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(s)||e.contains(o)&&t?"dark":"light",n=e=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:e}})),r=e=>{a!==e&&n(e),a=e};let a=i();n(a),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>r(e.matches?"dark":"light"))),new MutationObserver((()=>r(i()))).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const d=globalThis.calciteConfig,h=(null===d||void 0===d?void 0:d.focusTrapStack)||[],p=(null===d||void 0===d?void 0:d.logLevel)||"info",f="3.2.1";r.S$||("interactive"===document.readyState?u():document.addEventListener("DOMContentLoaded",(()=>u()),{once:!0})),function(){if(d&&d.version)return;console.info("Using Calcite Components ".concat(f," [Date: ").concat("2025-05-29",", Revision: ").concat("618973fec","]"));const e=d||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:f,writable:!1}),globalThis.calciteConfig=e}();const m=(0,n.le)({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.2.1/",hydratedAttribute:"calcite-hydrated"}),{customElement:y,getAssetPath:g,setAssetPath:v}=m},30726:(e,t,i)=>{function n(e,t){if(null==e)throw new Error(null!==t&&void 0!==t?t:"value is None")}function r(e){return null!==e&&void 0!==e&&e.destroy(),null}function o(e){return null!==e&&void 0!==e&&e.dispose(),null}function s(e){return null!==e&&void 0!==e&&e.remove(),null}function a(e){return null!==e&&void 0!==e&&e.abort(),null}function l(e){return null!==e&&void 0!==e&&e.release(),null}function c(e,t,i){return null!=e&&null!=t?null!=i?i(e,t):e.equals(t):e===t}function u(e,t){let i;return e.some(((e,n)=>(i=t(e,n),null!=i))),null!==i&&void 0!==i?i:void 0}i.d(t,{CM:()=>c,DC:()=>a,Gz:()=>l,Lw:()=>n,Pb:()=>u,WD:()=>o,pR:()=>r,xt:()=>s})},31608:(e,t,i)=>{i.d(t,{Ye:()=>d,gy:()=>u,yR:()=>h});var n=i(45802),r=i(76797),o=i(89189),s=i(66388),a=i(19247),l=i(65215),c=i(23701);const u=(0,n.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),d=(0,n.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),h={base:o.A,key:"type",typeMap:{extent:r.A,multipoint:s.A,point:a.A,polyline:c.A,polygon:l.A}}},31633:(e,t,i)=>{i.d(t,{Ao:()=>j,B5:()=>W,G9:()=>Z,GA:()=>U,Ij:()=>B,KX:()=>G,LA:()=>D,OU:()=>I,PQ:()=>S,Sk:()=>Q,TL:()=>k,UW:()=>T,_H:()=>H,b$:()=>ee,dk:()=>X,dy:()=>l,jM:()=>Y,k1:()=>F,m5:()=>x,mq:()=>q,oU:()=>M,t$:()=>b,tW:()=>C,vl:()=>L,wL:()=>E,wv:()=>N,x$:()=>O,x0:()=>P,x1:()=>J,y7:()=>R,yD:()=>p});i(81806);var n=i(45802),r=i(34111),o=i(14556),s=i(80963),a=i(85996);const l=39.37,c=o.$O.radius*Math.PI/200,u=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,d=a.A,h=/UNIT\[([^\]]+)]/i,p=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),f=(0,n.O)()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),m=e=>e*e,y=e=>e*e*e,g={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:m(.001)},"square-centimeters":{inBaseUnits:m(.01)},"square-decimeters":{inBaseUnits:m(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:m(1e3)},"square-inches":{inBaseUnits:m(.0254)},"square-feet":{inBaseUnits:m(.3048)},"square-yards":{inBaseUnits:m(.9144)},"square-miles":{inBaseUnits:m(1609.344)},"square-nautical-miles":{inBaseUnits:m(1852)},"square-us-feet":{inBaseUnits:m(1200/3937)},acres:{inBaseUnits:.0015625*m(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*y(.001)},"cubic-centimeters":{inBaseUnits:1e3*y(.01)},"cubic-decimeters":{inBaseUnits:1e3*y(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*y(1e3)},"cubic-inches":{inBaseUnits:1e3*y(.0254)},"cubic-feet":{inBaseUnits:1e3*y(.3048)},"cubic-yards":{inBaseUnits:1e3*y(.9144)},"cubic-miles":{inBaseUnits:1e3*y(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},v=(()=>{const e={};for(const t in g)for(const i in g[t].units)e[i]=t;return e})();const _=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],w=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function b(e){const t=v[e];if(!t)throw new Error("unknown type");return t}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t=t||b(e),g[t].baseUnit===e}function M(e,t,i){if(t===i)return e;const n=b(t);if(n!==b(i))throw new Error("incompatible units");const r=A(t,n)?e:function(e,t,i){return e*g[i].units[t].inBaseUnits}(e,t,n);return A(i,n)?r:function(e,t,i){return e/g[i].units[t].inBaseUnits}(r,i,n)}function S(e,t,i){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])&&(0,s.EA)(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const n=B(t);return n!==i&&(e=n?M(e,n,i):M(e*=U(t),"meters",i)),e}function T(e,t,i){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])&&(0,s.EA)(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const n=B(i);return t!==n&&(e=n?M(e,t,n):M(e,t,"meters")/U(i)),e}function E(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function x(e){return E(e)}function C(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function P(e,t){const i=M(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function O(e,t){const i=M(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function I(e,t){const i=M(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function R(e,t){const i=M(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function N(e,t){const i=M(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function k(e,t){const i=M(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function L(e,t,i){return M(e,t,"meters")/(i*Math.PI/180)}function D(e){return f.fromJSON(e.toLowerCase())||null}function Z(e){if(null!=e&&!(0,s.B3)(e))return 1;const t=U(e);return t>1e5?1:t}function F(e){return U(e)>=(0,r.tO)(e).metersPerDegree?"meters":B(e)}function U(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.$O.metersPerDegree;return null!==(t=j(e,!0))&&void 0!==t?t:i}function j(e){var t,i,n;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=null!==(t=null===e||void 0===e?void 0:e.wkid)&&void 0!==t?t:null,l=null!==(i=null!==(n=null===e||void 0===e?void 0:e.wkt2)&&void 0!==n?n:null===e||void 0===e?void 0:e.wkt)&&void 0!==i?i:null;let f=null;if(a){if((0,s.tl)(a))return o.sH.metersPerDegree;if((0,s.ZL)(a))return o.Sw.metersPerDegree;f=d.values[d[a]],!f&&r&&p.has(a)&&(f=c)}else l&&(J(l)?f=z(u.exec(l),f):$(l)&&(f=z(h.exec(l),f)));return f}function G(e){return(0,s.EA)(e)?1:U(e)}function z(e,t){return null!==e&&void 0!==e&&e[1]?V(e[1]):t}function V(e){return parseFloat(e.split(",")[1])}function B(e){var t,i,n;const r=null!==(t=null===e||void 0===e?void 0:e.wkid)&&void 0!==t?t:null,o=null!==(i=null!==(n=null===e||void 0===e?void 0:e.wkt2)&&void 0!==n?n:null===e||void 0===e?void 0:e.wkt)&&void 0!==i?i:null;let s=null;if(r)s=d.units[d[r]];else if(o){const e=J(o)?u:$(o)?h:null;if(e){const t=e.exec(o);(null===t||void 0===t?void 0:t[1])&&(s=function(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let i=null===t||void 0===t?void 0:t[1];if(!i||!D(i)){const t=V(e);i=null;const n=d.values;for(let e=0;e<n.length;++e)if(Math.abs(t-n[e])<K){i=d.units[e];break}}return i}(t[1]))}}return null!=s?D(s):null}function H(e){const t=B(e);return null!=t&&_.includes(t)?t:null}function q(e){const t=F(e);return null!=t&&_.includes(t)?t:null}function W(e){const t=B(e);return null==t?null:w.get(t)}function $(e){return/^GEOCCS/i.test(e)}function J(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const K=1e-7;function Y(e){const t=B(e);if(null==t)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const X=(0,n.O)()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),Q=(0,n.O)()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),ee=(0,n.O)()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"})},31671:(e,t,i)=>{i.d(t,{A:()=>h});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(6409)),a=i(85842),l=i(38582),c=i(73572),u=i(9994);let d=n=class extends l.A{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,t;return new n({edges:null===(e=this.edges)||void 0===e?void 0:e.clone(),enabled:this.enabled,material:null===(t=this.material)||void 0===t?void 0:t.clone(),castShadows:this.castShadows,size:this.size})}};(0,r._)([(0,s.e)({Extrude:"extrude"},{readOnly:!0})],d.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],d.prototype,"size",void 0),(0,r._)([(0,o.MZ)({type:u.N,json:{write:!0}})],d.prototype,"material",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0),(0,r._)([(0,o.MZ)(c.J)],d.prototype,"edges",void 0),d=n=(0,r._)([(0,a.$)("esri.symbols.ExtrudeSymbol3DLayer")],d);const h=d},31933:(e,t,i)=>{i.d(t,{BR:()=>m,CF:()=>f,Eq:()=>u,F2:()=>s,Ov:()=>d,Sv:()=>a,TU:()=>c,W_:()=>h,XX:()=>l,tk:()=>y,wI:()=>p,yZ:()=>o});var n=i(55171),r=i(3825);function o(e){return null!=e&&"object"==typeof e&&"type"in e&&"feature"===e.type}function s(e){return null!=e&&"object"==typeof e&&"type"in e&&"subtype-group"===e.type&&"sublayers"in e}function a(e){return"subtype-sublayer"===(null===e||void 0===e?void 0:e.type)}const l={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function c(e){const t=null===e||void 0===e?void 0:e.type;return"building-scene"===t||"integrated-mesh"===t||"point-cloud"===t||"scene"===t}function u(e){return"integrated-mesh"===e||"integrated-mesh-3dtiles"===e}function d(e){var t;return"feature"===(null===e||void 0===e?void 0:e.type)&&!e.url&&"memory"===(null===(t=e.source)||void 0===t?void 0:t.type)}function h(e){var t;const i=null===e||void 0===e?void 0:e.type;return("feature"===i||"subtype-group"===i||"oriented-imagery"===i)&&"feature-layer"===(null===e||void 0===e||null===(t=e.source)||void 0===t?void 0:t.type)}async function p(e,t){const i=null===n.id||void 0===n.id?void 0:n.id.findServerInfo(e);if(null!=(null===i||void 0===i?void 0:i.currentVersion))return i.owningSystemUrl||null;const o=e.toLowerCase().indexOf("/rest/services");if(-1===o)return null;const s="".concat(e.slice(0,o),"/rest/info"),a=null!=t?t.signal:null,{data:l}=await(0,r.A)(s,{query:{f:"json"},responseType:"json",signal:a});return(null===l||void 0===l?void 0:l.owningSystemUrl)||null}function f(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function m(e){return f(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function y(e){return!!function(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}},32173:(e,t,i)=>{i.d(t,{A:()=>c});var n,r=i(35143),o=(i(76460),i(81806),i(47249),i(50076),i(6409)),s=i(85842),a=i(44631);let l=n=class extends a.A{constructor(e){super(e),this.type="inherited"}clone(){return new n}};(0,r._)([(0,o.e)({inherited:"inherited"})],l.prototype,"type",void 0),l=n=(0,r._)([(0,s.$)("esri.layers.support.InheritedDomain")],l);const c=l},32634:(e,t,i)=>{i.d(t,{A:()=>n});class n{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;this.name=e,this._counter=0,this._samples=new Array(t)}push(e){null!=e&&(this._samples[++this._counter%this._samples.length]=e)}set(e){null!=e&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort(((e,t)=>e-t))[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce(((e,t)=>e+t),0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}},32809:(e,t,i)=>{i.d(t,{A:()=>Y});var n,r=i(35143),o=i(194),s=i(89379),a=i(69539),l=i(94643),c=i(3975),u=i(4212),d=i(50076),h=i(42553),p=i(53084),f=i(49304),m=i(27741),y=i(76460),g=i(30726),v=i(50346),_=i(46053),w=i(40565),b=i(85842),A=i(17707),M=(i(81806),i(47249),i(6409));let S=n=class extends h.A{constructor(e){super(e),this.type="none"}clone(){return new n({type:this.type})}};(0,r._)([(0,M.e)({none:"none",stayAbove:"stay-above"}),(0,_.MZ)({json:{write:{isRequired:!0}}})],S.prototype,"type",void 0),S=n=(0,r._)([(0,b.$)("esri.ground.NavigationConstraint")],S);const T=Symbol("GroundInstance");var E,x,C=i(2183);let P=x=class extends(h.A.JSONSupportMixin(f.A)){constructor(e){super(e),this[E]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new l.A;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"!==e.type&&"base-elevation"!==e.type&&y.A.getLogger(this).error("Layer '".concat(e.title,", id:").concat(e.id,"' of type '").concat(e.type,"' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported."))};this.addHandles([this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>(e=>{e.parent=null})(e.item)))])}initialize(){this.when().catch((e=>{(0,v.zf)(e)||y.A.getLogger(this).error("#load()","Failed to load ground",e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)(0,g.pR)(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=(0,s.A)({},e)).resourceInfo),e}get layers(){return this._get("layers")}set layers(e){this._set("layers",(0,c.V)(e,this._get("layers")))}writeLayers(e,t,i,n){const r=[];e?(n=(0,s.A)((0,s.A)({},n),{},{layerContainerType:"ground"}),e.forEach((e=>{var t;if("write"in e){const t={};(0,u.GB)(e)().write(t,n)&&r.push(t)}else(null===(t=n)||void 0===t?void 0:t.messages)&&n.messages.push(new d.A("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted in the ground"),{layer:e}))})),t.layers=r):t.layers=r}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,m.g)(this,(e=>{e(this.layers)}))}async queryElevation(e,t){await this.load({signal:null===t||void 0===t?void 0:t.signal});const{ElevationQuery:n}=await i.e(3489).then(i.bind(i,53489));(0,v.Te)(t);const r=new n,o=this.layers.filter(O).toArray();return r.queryAll(o,e,t)}async createElevationSampler(e,t){await this.load({signal:null===t||void 0===t?void 0:t.signal});const{ElevationQuery:n}=await i.e(3489).then(i.bind(i,53489));(0,v.Te)(t);const r=new n,o=this.layers.filter(O).toArray();return r.createSamplerAll(o,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:(0,p.o8)(this.surfaceColor),navigationConstraint:(0,p.o8)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new x({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,n){const r=(null===t||void 0===t?void 0:t.origin)||"web-scene",o=(null===t||void 0===t?void 0:t.portal)||null,s=(null===t||void 0===t?void 0:t.url)||null,{populateOperationalLayers:a}=await Promise.all([i.e(2620),i.e(6070)]).then(i.bind(i,60239));(0,v.Te)(n);const l=[];if(e.layers&&Array.isArray(e.layers)){const t={context:{origin:r,url:s,portal:o,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};l.push(a(this.layers,e.layers,t))}await Promise.allSettled(l)}};function O(e){return"elevation"===e.type||function(e){return e&&"createElevationSampler"in e}(e)}E=T,(0,r._)([(0,_.MZ)({json:{read:!1,write:{isRequired:!0}}})],P.prototype,"layers",null),(0,r._)([(0,A.K)("layers")],P.prototype,"writeLayers",null),(0,r._)([(0,_.MZ)({readOnly:!0})],P.prototype,"resourceInfo",void 0),(0,r._)([(0,_.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:w.jz,read:{reader:C.D,source:"transparency"},write:{writer:(e,t)=>{t.transparency=(0,C.p)(e)},target:"transparency"}}})],P.prototype,"opacity",void 0),(0,r._)([(0,_.MZ)({type:a.A,json:{type:[w.jz],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],P.prototype,"surfaceColor",void 0),(0,r._)([(0,_.MZ)({type:S,json:{write:!0}})],P.prototype,"navigationConstraint",void 0),P=x=(0,r._)([(0,b.$)("esri.Ground")],P);const I=P;var R=i(91967),N=i(73763),k=i(54099),L=i(21403),D=i(54901),Z=i(68134);const F=new WeakMap;function U(e){return!e.destroyed&&(F.has(e)||e.addHandles([(0,Z.wB)((()=>{const t=e.parent;return!(!t||!("type"in t))&&("catalog-dynamic-group"===t.type||U(t))}),(t=>F.set(e,t)),Z.pc),(0,D.hA)((()=>F.delete(e)))]),F.get(e))}var j=i(31933);function G(e){var t;return!(!function(e){return"object"==typeof e&&null!=e&&"loaded"in e&&!0===e.loaded&&"type"in e}(e)||null===(t=(0,j.BR)(e))||void 0===t||null===(t=t.operations)||void 0===t||!t.supportsEditing||"editingEnabled"in e&&!(0,j.tk)(e)||U(e))}var z=i(86560),V=i(54047);i(86300);const B=()=>y.A.getLogger("esri.support.basemapUtils");function H(e,t){var i;let n;if("string"==typeof e){const i=e in V.H,r=!i&&e.includes("/");if(!i&&!r){if(z.A.apiKey)B().warn("Unable to find basemap definition for: ".concat(e,". See available styles at https://developers.arcgis.com/rest/basemap-styles/"));else{const t=Object.entries(V.H).filter((e=>{let[t,i]=e;return i.classic||i.is3d})).map((e=>{let[t]=e;return'"'.concat(t,'"')})).sort().join(", ");B().warn("Unable to find basemap definition for: ".concat(e,". Try one of these: ").concat(t))}return null}t&&(n=t[e]),n||(n=i?o.default.fromId(e):new o.default({style:{id:e}}),t&&(t[e]=n))}else n=(0,w.dp)(o.default,e);return null!==(i=n)&&void 0!==i&&i.destroyed&&(B().warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}var q=i(10425);const W={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var $=i(71671),J=i(45730);let K=class extends((0,J.l)((0,$.Q)(k.A.EventedMixin(R.A)))){constructor(e){super(e),this.allLayers=new N.A({getCollections:()=>{var e,t,i;return[null===(e=this.basemap)||void 0===e?void 0:e.baseLayers,null===(t=this.ground)||void 0===t?void 0:t.layers,this.layers,null===(i=this.basemap)||void 0===i?void 0:i.referenceLayers]},getChildrenFunction:e=>"layers"in e?e.layers:null}),this.allTables=(0,q.Z)(this),this.basemap=null,this.editableLayers=new N.A({getCollections:()=>[this.allLayers],itemFilterFunction:G}),this.ground=new I,this._basemapCache={}}destroy(){(function(e){for(const t in e){const i=e[t];(0,g.pR)(i),delete e[t]}})(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=(0,g.pR)(this.basemap),(0,g.pR)(this.ground),this._set("ground",null)}castBasemap(e){return H(e,this._basemapCache)}castGround(e){const t=function(e){let t=null;"string"==typeof e?e in W?t=new I({resourceInfo:{data:{layers:[W[e]]}}}):y.A.getLogger("esri.support.groundUtils").warn("Unable to find ground definition for: ".concat(e,'. Try "world-elevation"')):t=(0,w.dp)(I,e);return t}(e);return null!==t&&void 0!==t?t:this._get("ground")}findLayerById(e){return this.allLayers.find((t=>t.id===e))}findTableById(e){return this.allTables.find((t=>t.id===e))}};(0,r._)([(0,_.MZ)({readOnly:!0,dependsOn:[]})],K.prototype,"allLayers",void 0),(0,r._)([(0,_.MZ)({readOnly:!0})],K.prototype,"allTables",void 0),(0,r._)([(0,_.MZ)({type:o.default,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],K.prototype,"basemap",void 0),(0,r._)([(0,L.w)("basemap")],K.prototype,"castBasemap",null),(0,r._)([(0,_.MZ)({readOnly:!0})],K.prototype,"editableLayers",void 0),(0,r._)([(0,_.MZ)({type:I,nonNullable:!0})],K.prototype,"ground",void 0),(0,r._)([(0,L.w)("ground")],K.prototype,"castGround",null),(0,r._)([(0,_.MZ)()],K.prototype,"undoRedo",void 0),K=(0,r._)([(0,b.$)("esri.Map")],K);const Y=K},32880:(e,t,i)=>{i.d(t,{_:()=>r});var n=i(93345);function r(e){switch(e){case n.pe.BYTE:case n.pe.UNSIGNED_BYTE:return 1;case n.pe.SHORT:case n.pe.UNSIGNED_SHORT:case n.pe.HALF_FLOAT:return 2;case n.pe.FLOAT:case n.pe.INT:case n.pe.UNSIGNED_INT:return 4}}},33019:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(35143),r=i(42553),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842));let a=class extends r.A{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};(0,n._)([(0,o.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],a.prototype,"type",void 0),a=(0,n._)([(0,s.$)("esri.symbols.patterns.LinePattern3D")],a);const l=a},33635:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(82284);function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(){o=function(e,t){return new i(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function i(e,n,o){var s=RegExp(e,n);return t.set(s,o||t.get(e)),r(s,i.prototype)}function s(e,i){var n=t.get(i);return Object.keys(n).reduce((function(t,i){var r=n[i];if("number"==typeof r)t[i]=e[r];else{for(var o=0;void 0===e[r[o]]&&o+1<r.length;)o++;t[i]=e[r[o]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(i,RegExp),i.prototype.exec=function(t){var i=e.exec.call(this,t);if(i){i.groups=s(i,this);var n=i.indices;n&&(n.groups=s(n,this))}return i},i.prototype[Symbol.replace]=function(i,r){if("string"==typeof r){var o=t.get(this);return e[Symbol.replace].call(this,i,r.replace(/\$<([^>]+)(>|$)/g,(function(e,t,i){if(""===i)return e;var n=o[t];return Array.isArray(n)?"$"+n.join("$"):"number"==typeof n?"$"+n:""})))}if("function"==typeof r){var a=this;return e[Symbol.replace].call(this,i,(function(){var e=arguments;return"object"!=(0,n.A)(e[e.length-1])&&(e=[].slice.call(e)).push(s(e,a)),r.apply(this,e)}))}return e[Symbol.replace].call(this,i,r)},o.apply(this,arguments)}},34038:(e,t,i)=>{var n;i.d(t,{Y:()=>n}),function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"}(n||(n={}))},34111:(e,t,i)=>{i.d(t,{FY:()=>a,LJ:()=>l,Ro:()=>c,fv:()=>s,jA:()=>f,tO:()=>h,xP:()=>m,y7:()=>p});var n=i(14556),r=i(80963);function o(e){return{wkt:'GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",'.concat(e.radius,',0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]')}}const s=o(n.$O),a=o(n.sH),l=o(n.Sw),c={wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",'.concat(n.$O.radius,',298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]')},u=a.wkt.toUpperCase(),d=l.wkt.toUpperCase();function h(e){if(null!=e&&(0,r.fn)(e)){var t;const i=e.wkid,o=null!==(t=e.wkt2)&&void 0!==t?t:e.wkt;if((0,r.tl)(i))return n.sH;const s=null===o||void 0===o?void 0:o.toUpperCase();if(o&&s===u)return n.sH;if((0,r.ZL)(i)||s&&s===d)return n.Sw}return n.$O}function p(e){return(0,r.tl)(e)?n.sH:(0,r.ZL)(e)?n.Sw:n.$O}function f(e){return(0,r.aI)(e,s)}function m(e){return f(e)||(0,r.aI)(e,a)||(0,r.aI)(e,l)}},34154:(e,t,i)=>{let n;async function r(){return null==n&&(n=Promise.all([i.e(8683),i.e(616)]).then(i.bind(i,43561)).then((e=>new e.WhereClauseCache(500,500)))),n}async function o(e,t){const i=await r(),n=i.get(e,t);if(null==n)throw i.getError(e,t);return n}function s(e,t){return e||(e=null),t||(t=null),"1=1"===e?null!==t&&void 0!==t?t:e:"1=1"===t?null!==e&&void 0!==e?e:t:e&&t?"(".concat(e,") AND (").concat(t,")"):null!==e&&void 0!==e?e:t}function a(e,t){return e||(e=null),t||(t=null),"1=1"===e||"1=1"===t||e===t?"1=1"===e?e:t:e&&t?"(".concat(e,") OR (").concat(t,")"):null!==e&&void 0!==e?e:t}function l(e,t){return 0===t.length?null:"".concat(e," IN (").concat(function(e){return e.map((e=>"string"==typeof e?function(e){return"'".concat(e.replaceAll("'","''"),"'")}(e):e)).join(",")}(t),")")}i.d(t,{GP:()=>o,IW:()=>a,Yp:()=>l,mA:()=>s})},34761:(e,t,i)=>{i.d(t,{$0:()=>w,$h:()=>I,B8:()=>u,C:()=>o,CV:()=>_,D_:()=>a,I0:()=>O,IL:()=>E,N9:()=>A,O7:()=>P,Qr:()=>g,Qw:()=>c,Tl:()=>h,Z8:()=>y,aI:()=>D,e$:()=>f,eL:()=>m,hM:()=>b,hZ:()=>s,hs:()=>p,kN:()=>v,l:()=>x,lw:()=>d,mg:()=>l,o1:()=>C,sC:()=>T,t2:()=>L,t5:()=>N,tZ:()=>F,ut:()=>Z,v3:()=>R});var n=i(9392),r=i(53494);function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function s(e,t,i,n,r,o,s,a,l,c,u,d,h,p,f,m,y){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e[9]=u,e[10]=d,e[11]=h,e[12]=p,e[13]=f,e[14]=m,e[15]=y,e}function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,t){if(e===t){const i=t[1],n=t[2],r=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=r,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function c(e,t){return u(e,t)||a(e),e}function u(e,t){const i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],m=t[13],y=t[14],g=t[15],v=i*a-n*s,_=i*l-r*s,w=i*c-o*s,b=n*l-r*a,A=n*c-o*a,M=r*c-o*l,S=u*m-d*f,T=u*y-h*f,E=u*g-p*f,x=d*y-h*m,C=d*g-p*m,P=h*g-p*y;let O=v*P-_*C+w*x+b*E-A*T+M*S;return O?(O=1/O,e[0]=(a*P-l*C+c*x)*O,e[1]=(r*C-n*P-o*x)*O,e[2]=(m*M-y*A+g*b)*O,e[3]=(h*A-d*M-p*b)*O,e[4]=(l*E-s*P-c*T)*O,e[5]=(i*P-r*E+o*T)*O,e[6]=(y*w-f*M-g*_)*O,e[7]=(u*M-h*w+p*_)*O,e[8]=(s*C-a*E+c*S)*O,e[9]=(n*E-i*C-o*S)*O,e[10]=(f*A-m*w+g*v)*O,e[11]=(d*w-u*A-p*v)*O,e[12]=(a*T-s*x-l*S)*O,e[13]=(i*x-n*T+r*S)*O,e[14]=(m*_-f*b-y*v)*O,e[15]=(u*b-d*_+h*v)*O,e):null}function d(e,t,i){const n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],p=t[10],f=t[11],m=t[12],y=t[13],g=t[14],v=t[15];let _=i[0],w=i[1],b=i[2],A=i[3];return e[0]=_*n+w*a+b*d+A*m,e[1]=_*r+w*l+b*h+A*y,e[2]=_*o+w*c+b*p+A*g,e[3]=_*s+w*u+b*f+A*v,_=i[4],w=i[5],b=i[6],A=i[7],e[4]=_*n+w*a+b*d+A*m,e[5]=_*r+w*l+b*h+A*y,e[6]=_*o+w*c+b*p+A*g,e[7]=_*s+w*u+b*f+A*v,_=i[8],w=i[9],b=i[10],A=i[11],e[8]=_*n+w*a+b*d+A*m,e[9]=_*r+w*l+b*h+A*y,e[10]=_*o+w*c+b*p+A*g,e[11]=_*s+w*u+b*f+A*v,_=i[12],w=i[13],b=i[14],A=i[15],e[12]=_*n+w*a+b*d+A*m,e[13]=_*r+w*l+b*h+A*y,e[14]=_*o+w*c+b*p+A*g,e[15]=_*s+w*u+b*f+A*v,e}function h(e,t,i){const n=i[0],r=i[1],o=i[2];if(t===e)e[12]=t[0]*n+t[4]*r+t[8]*o+t[12],e[13]=t[1]*n+t[5]*r+t[9]*o+t[13],e[14]=t[2]*n+t[6]*r+t[10]*o+t[14],e[15]=t[3]*n+t[7]*r+t[11]*o+t[15];else{const i=t[0],s=t[1],a=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7],p=t[8],f=t[9],m=t[10],y=t[11];e[0]=i,e[1]=s,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=d,e[7]=h,e[8]=p,e[9]=f,e[10]=m,e[11]=y,e[12]=i*n+c*r+p*o+t[12],e[13]=s*n+u*r+f*o+t[13],e[14]=a*n+d*r+m*o+t[14],e[15]=l*n+h*r+y*o+t[15]}return e}function p(e,t,i){const n=i[0],r=i[1],o=i[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function f(e,t,i,n){let s=n[0],a=n[1],l=n[2],c=Math.sqrt(s*s+a*a+l*l);if(c<=(0,r.FD)())return void o(e,t);c=1/c,s*=c,a*=c,l*=c;const u=Math.sin(i),d=Math.cos(i),h=1-d,p=t[0],f=t[1],m=t[2],y=t[3],g=t[4],v=t[5],_=t[6],w=t[7],b=t[8],A=t[9],M=t[10],S=t[11],T=s*s*h+d,E=a*s*h+l*u,x=l*s*h-a*u,C=s*a*h-l*u,P=a*a*h+d,O=l*a*h+s*u,I=s*l*h+a*u,R=a*l*h-s*u,N=l*l*h+d;e[0]=p*T+g*E+b*x,e[1]=f*T+v*E+A*x,e[2]=m*T+_*E+M*x,e[3]=y*T+w*E+S*x,e[4]=p*C+g*P+b*O,e[5]=f*C+v*P+A*O,e[6]=m*C+_*P+M*O,e[7]=y*C+w*P+S*O,e[8]=p*I+g*R+b*N,e[9]=f*I+v*R+A*N,e[10]=m*I+_*R+M*N,e[11]=y*I+w*R+S*N,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function m(e,t,i){const n=Math.sin(i),r=Math.cos(i),o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*r+c*n,e[5]=s*r+u*n,e[6]=a*r+d*n,e[7]=l*r+h*n,e[8]=c*r-o*n,e[9]=u*r-s*n,e[10]=d*r-a*n,e[11]=h*r-l*n,e}function y(e,t,i){const n=Math.sin(i),r=Math.cos(i),o=t[0],s=t[1],a=t[2],l=t[3],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r-c*n,e[1]=s*r-u*n,e[2]=a*r-d*n,e[3]=l*r-h*n,e[8]=o*n+c*r,e[9]=s*n+u*r,e[10]=a*n+d*r,e[11]=l*n+h*r,e}function g(e,t,i){const n=Math.sin(i),r=Math.cos(i),o=t[0],s=t[1],a=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r+c*n,e[1]=s*r+u*n,e[2]=a*r+d*n,e[3]=l*r+h*n,e[4]=c*r-o*n,e[5]=u*r-s*n,e[6]=d*r-a*n,e[7]=h*r-l*n,e}function v(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function _(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function w(e,t,i){if(0===t)return a(e);let n=i[0],o=i[1],s=i[2],l=Math.sqrt(n*n+o*o+s*s);if(l<=(0,r.FD)())return null;l=1/l,n*=l,o*=l,s*=l;const c=Math.sin(t),u=Math.cos(t),d=1-u;return e[0]=n*n*d+u,e[1]=o*n*d+s*c,e[2]=s*n*d-o*c,e[3]=0,e[4]=n*o*d-s*c,e[5]=o*o*d+u,e[6]=s*o*d+n*c,e[7]=0,e[8]=n*s*d+o*c,e[9]=o*s*d-n*c,e[10]=s*s*d+u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function b(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function A(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function M(e,t,i){const n=t[0],r=t[1],o=t[2],s=t[3],a=n+n,l=r+r,c=o+o,u=n*a,d=n*l,h=n*c,p=r*l,f=r*c,m=o*c,y=s*a,g=s*l,v=s*c;return e[0]=1-(p+m),e[1]=d+v,e[2]=h-g,e[3]=0,e[4]=d-v,e[5]=1-(u+m),e[6]=f+y,e[7]=0,e[8]=h+g,e[9]=f-y,e[10]=1-(u+p),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}const S=(0,n.vt)();function T(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function E(e,t){const i=t[0],n=t[1],r=t[2],o=t[4],s=t[5],a=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.sqrt(i*i+n*n+r*r),e[1]=Math.sqrt(o*o+s*s+a*a),e[2]=Math.sqrt(l*l+c*c+u*u),e}function x(e,t){const i=t[0]+t[5]+t[10];let n=0;return i>0?(n=2*Math.sqrt(i+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function C(e,t,i,n){const r=t[0],o=t[1],s=t[2],a=t[3],l=r+r,c=o+o,u=s+s,d=r*l,h=r*c,p=r*u,f=o*c,m=o*u,y=s*u,g=a*l,v=a*c,_=a*u,w=n[0],b=n[1],A=n[2];return e[0]=(1-(f+y))*w,e[1]=(h+_)*w,e[2]=(p-v)*w,e[3]=0,e[4]=(h-_)*b,e[5]=(1-(d+y))*b,e[6]=(m+g)*b,e[7]=0,e[8]=(p+v)*A,e[9]=(m-g)*A,e[10]=(1-(d+f))*A,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function P(e,t,i,n,r){const o=t[0],s=t[1],a=t[2],l=t[3],c=o+o,u=s+s,d=a+a,h=o*c,p=o*u,f=o*d,m=s*u,y=s*d,g=a*d,v=l*c,_=l*u,w=l*d,b=n[0],A=n[1],M=n[2],S=r[0],T=r[1],E=r[2],x=(1-(m+g))*b,C=(p+w)*b,P=(f-_)*b,O=(p-w)*A,I=(1-(h+g))*A,R=(y+v)*A,N=(f+_)*M,k=(y-v)*M,L=(1-(h+m))*M;return e[0]=x,e[1]=C,e[2]=P,e[3]=0,e[4]=O,e[5]=I,e[6]=R,e[7]=0,e[8]=N,e[9]=k,e[10]=L,e[11]=0,e[12]=i[0]+S-(x*S+O*T+N*E),e[13]=i[1]+T-(C*S+I*T+k*E),e[14]=i[2]+E-(P*S+R*T+L*E),e[15]=1,e}function O(e,t){const i=t[0],n=t[1],r=t[2],o=t[3],s=i+i,a=n+n,l=r+r,c=i*s,u=n*s,d=n*a,h=r*s,p=r*a,f=r*l,m=o*s,y=o*a,g=o*l;return e[0]=1-d-f,e[1]=u+g,e[2]=h-y,e[3]=0,e[4]=u-g,e[5]=1-c-f,e[6]=p+m,e[7]=0,e[8]=h+y,e[9]=p-m,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function I(e,t,i,n,r,o,s){const a=1/(i-t),l=1/(r-n),c=1/(o-s);return e[0]=2*o*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(i+t)*a,e[9]=(r+n)*l,e[10]=(s+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*c,e[15]=0,e}function R(e,t,i,n,r,o,s){const a=1/(t-i),l=1/(n-r),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+i)*a,e[13]=(r+n)*l,e[14]=(s+o)*c,e[15]=1,e}function N(e,t,i,n){const o=t[0],s=t[1],l=t[2];let c=o-i[0],u=s-i[1],d=l-i[2];const h=(0,r.FD)();if(Math.abs(c)<h&&Math.abs(u)<h&&Math.abs(d)<h)return void a(e);let p=1/Math.sqrt(c*c+u*u+d*d);c*=p,u*=p,d*=p;const f=n[0],m=n[1],y=n[2];let g=m*d-y*u,v=y*c-f*d,_=f*u-m*c;p=Math.sqrt(g*g+v*v+_*_),p?(p=1/p,g*=p,v*=p,_*=p):(g=0,v=0,_=0);let w=u*_-d*v,b=d*g-c*_,A=c*v-u*g;p=Math.sqrt(w*w+b*b+A*A),p?(p=1/p,w*=p,b*=p,A*=p):(w=0,b=0,A=0),e[0]=g,e[1]=w,e[2]=c,e[3]=0,e[4]=v,e[5]=b,e[6]=u,e[7]=0,e[8]=_,e[9]=A,e[10]=d,e[11]=0,e[12]=-(g*o+v*s+_*l),e[13]=-(w*o+b*s+A*l),e[14]=-(c*o+u*s+d*l),e[15]=1}function k(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function L(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function D(e,t){if(e===t)return!0;const i=e[0],n=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],p=e[10],f=e[11],m=e[12],y=e[13],g=e[14],v=e[15],_=t[0],w=t[1],b=t[2],A=t[3],M=t[4],S=t[5],T=t[6],E=t[7],x=t[8],C=t[9],P=t[10],O=t[11],I=t[12],R=t[13],N=t[14],k=t[15],L=(0,r.FD)();return Math.abs(i-_)<=L*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(n-w)<=L*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(o-b)<=L*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(s-A)<=L*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(a-M)<=L*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(l-S)<=L*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-T)<=L*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(u-E)<=L*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(d-x)<=L*Math.max(1,Math.abs(d),Math.abs(x))&&Math.abs(h-C)<=L*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(p-P)<=L*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(f-O)<=L*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(m-I)<=L*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(y-R)<=L*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(g-N)<=L*Math.max(1,Math.abs(g),Math.abs(N))&&Math.abs(v-k)<=L*Math.max(1,Math.abs(v),Math.abs(k))}function Z(e){const t=(0,r.FD)(),i=e[0],n=e[1],o=e[2],s=e[4],a=e[5],l=e[6],c=e[8],u=e[9],d=e[10];return Math.abs(1-(i*i+s*s+c*c))<=t&&Math.abs(1-(n*n+a*a+u*u))<=t&&Math.abs(1-(o*o+l*l+d*d))<=t}function F(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[8]&&0===e[9]&&1===e[10]}const U=d,j=k;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e},adjoint:function(e,t){const i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],m=t[13],y=t[14],g=t[15];return e[0]=a*(h*g-p*y)-d*(l*g-c*y)+m*(l*p-c*h),e[1]=-(n*(h*g-p*y)-d*(r*g-o*y)+m*(r*p-o*h)),e[2]=n*(l*g-c*y)-a*(r*g-o*y)+m*(r*c-o*l),e[3]=-(n*(l*p-c*h)-a*(r*p-o*h)+d*(r*c-o*l)),e[4]=-(s*(h*g-p*y)-u*(l*g-c*y)+f*(l*p-c*h)),e[5]=i*(h*g-p*y)-u*(r*g-o*y)+f*(r*p-o*h),e[6]=-(i*(l*g-c*y)-s*(r*g-o*y)+f*(r*c-o*l)),e[7]=i*(l*p-c*h)-s*(r*p-o*h)+u*(r*c-o*l),e[8]=s*(d*g-p*m)-u*(a*g-c*m)+f*(a*p-c*d),e[9]=-(i*(d*g-p*m)-u*(n*g-o*m)+f*(n*p-o*d)),e[10]=i*(a*g-c*m)-s*(n*g-o*m)+f*(n*c-o*a),e[11]=-(i*(a*p-c*d)-s*(n*p-o*d)+u*(n*c-o*a)),e[12]=-(s*(d*y-h*m)-u*(a*y-l*m)+f*(a*h-l*d)),e[13]=i*(d*y-h*m)-u*(n*y-r*m)+f*(n*h-r*d),e[14]=-(i*(a*y-l*m)-s*(n*y-r*m)+f*(n*l-r*a)),e[15]=i*(a*h-l*d)-s*(n*h-r*d)+u*(n*l-r*a),e},copy:o,determinant:function(e){const t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],f=e[13],m=e[14],y=e[15];return(t*s-i*o)*(d*y-h*m)-(t*a-n*o)*(u*y-h*f)+(t*l-r*o)*(u*m-d*f)+(i*a-n*s)*(c*y-h*p)-(i*l-r*s)*(c*m-d*p)+(n*l-r*a)*(c*f-u*p)},equals:D,exactEquals:L,frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)},fromQuat:O,fromQuat2:function(e,t){const i=S,n=-t[0],r=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=n*n+r*r+o*o+s*s;return d>0?(i[0]=2*(a*s+u*n+l*o-c*r)/d,i[1]=2*(l*s+u*r+c*n-a*o)/d,i[2]=2*(c*s+u*o+a*r-l*n)/d):(i[0]=2*(a*s+u*n+l*o-c*r),i[1]=2*(l*s+u*r+c*n-a*o),i[2]=2*(c*s+u*o+a*r-l*n)),M(e,t,i),e},fromRotation:w,fromRotationTranslation:M,fromRotationTranslationScale:C,fromRotationTranslationScaleOrigin:P,fromScaling:_,fromTranslation:v,fromXRotation:b,fromYRotation:function(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:A,frustum:I,getRotation:x,getScaling:E,getTranslation:T,hasIdentityRotation:F,identity:a,invert:u,invertOrIdentity:c,isOrthoNormal:Z,lookAt:N,mul:U,multiply:d,multiplyScalar:function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e},multiplyScalarAndAdd:function(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e[6]=t[6]+i[6]*n,e[7]=t[7]+i[7]*n,e[8]=t[8]+i[8]*n,e[9]=t[9]+i[9]*n,e[10]=t[10]+i[10]*n,e[11]=t[11]+i[11]*n,e[12]=t[12]+i[12]*n,e[13]=t[13]+i[13]*n,e[14]=t[14]+i[14]*n,e[15]=t[15]+i[15]*n,e},ortho:R,perspective:function(e,t,i,n,r){const o=1/Math.tan(t/2);let s;return e[0]=o/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(s=1/(n-r),e[10]=(r+n)*s,e[14]=2*r*n*s):(e[10]=-1,e[14]=-2*n),e},perspectiveFromFieldOfView:function(e,t,i,n){const r=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(s+a),c=2/(r+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(s-a)*l*.5,e[9]=(r-o)*c*.5,e[10]=n/(i-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*i/(i-n),e[15]=0,e},rotate:f,rotateX:m,rotateY:y,rotateZ:g,scale:p,set:s,str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},sub:j,subtract:k,targetTo:function(e,t,i,n){const r=t[0],o=t[1],s=t[2],a=n[0],l=n[1],c=n[2];let u=r-i[0],d=o-i[1],h=s-i[2],p=u*u+d*d+h*h;p>0&&(p=1/Math.sqrt(p),u*=p,d*=p,h*=p);let f=l*h-c*d,m=c*u-a*h,y=a*d-l*u;return p=f*f+m*m+y*y,p>0&&(p=1/Math.sqrt(p),f*=p,m*=p,y*=p),e[0]=f,e[1]=m,e[2]=y,e[3]=0,e[4]=d*y-h*m,e[5]=h*f-u*y,e[6]=u*m-d*f,e[7]=0,e[8]=u,e[9]=d,e[10]=h,e[11]=0,e[12]=r,e[13]=o,e[14]=s,e[15]=1,e},translate:h,transpose:l},Symbol.toStringTag,{value:"Module"}))},34870:(e,t,i)=>{i.d(t,{A:()=>h});var n=i(35143),r=i(45802),o=i(46053),s=(i(81806),i(76460),i(47249),i(6409)),a=i(85842),l=i(33019);var c;const u=(0,r.O)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let d=c=class extends l.A{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new c(e)}};(0,n._)([(0,o.MZ)({type:["style"],json:{write:{isRequired:!0}}})],d.prototype,"type",void 0),(0,n._)([(0,s.e)(u),(0,o.MZ)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"],json:{write:{isRequired:!0}}})],d.prototype,"style",void 0),d=c=(0,n._)([(0,a.$)("esri.symbols.patterns.LineStylePattern3D")],d);const h=d},34913:(e,t,i)=>{i.d(t,{A:()=>y});var n,r=i(35143),o=i(94643),s=i(53084),a=i(46053),l=(i(81806),i(76460),i(6409)),c=i(85842),u=i(22189),d=i(54347),h=i(78135);const p=o.A.ofType({base:null,key:"type",typeMap:{line:u.A,path:d.A}}),f=o.A.ofType({base:null,key:"type",typeMap:{line:u.A,path:d.A}});let m=n=class extends h.A{constructor(e){super(e),this.symbolLayers=new p,this.type="line-3d"}clone(){return new n({styleOrigin:(0,s.o8)(this.styleOrigin),symbolLayers:(0,s.o8)(this.symbolLayers),thumbnail:(0,s.o8)(this.thumbnail)})}static fromSimpleLineSymbol(e){return new n({symbolLayers:new o.A([u.A.fromSimpleLineSymbol(e)])})}};(0,r._)([(0,a.MZ)({type:p,json:{type:f}})],m.prototype,"symbolLayers",void 0),(0,r._)([(0,l.e)({LineSymbol3D:"line-3d"},{readOnly:!0})],m.prototype,"type",void 0),m=n=(0,r._)([(0,c.$)("esri.symbols.LineSymbol3D")],m);const y=m},35143:(e,t,i)=>{function n(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s}function r(e,t){return function(i,n){t(i,n,e)}}function o(e,t,i,n){function r(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):r(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())}))}function s(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t}i.d(t,{_:()=>n,a:()=>r,b:()=>s,c:()=>l,d:()=>o});var a="function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function l(e){function t(t){e.error=e.hasError?new a(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var i,n=0;return function r(){for(;i=e.stack.pop();)try{if(!i.async&&1===n)return n=0,e.stack.push(i),Promise.resolve().then(r);if(i.dispose){var o=i.dispose.call(i.value);if(i.async)return n|=2,Promise.resolve(o).then(r,(function(e){return t(e),r()}))}else n|=1}catch(s){t(s)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}},35176:(e,t,i)=>{i.d(t,{UF:()=>c,ao:()=>u,cY:()=>n,hd:()=>_,j1:()=>b,kn:()=>g,oK:()=>M});class n{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}const r=(e,t,i)=>(0,s(t).subscribe)((t=>{const n=t.some((t=>((e,t)=>{let i=e;for(;i;){if(i===t)return!0;if(!i.parentNode)return!1;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e,t.target)));n&&i()})),o={},s=e=>{const t=e.join(","),i=o[t];if(void 0!==i)return i;const n=new Set,r=new MutationObserver((e=>n.forEach((t=>t(e)))));globalThis.document&&r.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const s={subscribe:e=>(n.add(e),()=>{n.delete(e),0===n.size&&(r.disconnect(),o[t]=void 0)})};return o[t]=s,s},a=(e,t)=>{let i=e;for(;i;){var n,r,o,s;const e=null===(n=(r=i).closest)||void 0===n?void 0:n.call(r,t);if(e)return e;const a=null===(o=(s=i).getRootNode)||void 0===o?void 0:o.call(s);if(a===globalThis.document)return null;i=a.host}return null},l=(e,t,i)=>{var n;const r=a(e,"[".concat(t,"]"));return null!==(n=null===r||void 0===r?void 0:r.getAttribute(t))&&void 0!==n?n:i},c=function(e,t){try{for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return null===e||void 0===e?void 0:e.call(t,...n)}catch(o){console.error(o,e)}},u=async function(e,t){try{for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];const o=null===e||void 0===e?void 0:e.call(t,...n);return await o}catch(o){console.error(o,e)}},d="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),h=new Set(d),p="en",f={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},m={},y=async(e,t)=>{const i="".concat(t).concat(e,".json");try{const e=await fetch(i);if(e.ok)return await e.json()}catch(n){return console.error(n),{}}return e===p?{}:await y(p,t)},g=e=>{var t;const i=l(e,"lang",(null===(t=globalThis.navigator)||void 0===t?void 0:t.language)||p);return{lang:i,t9nLocale:v(i)}},v=e=>{var t;const[i,n]=e.split("-"),r=i.toLowerCase();let o=r;return n&&(o="".concat(r,"-").concat(n.toUpperCase())),o=null!==(t=f[o])&&void 0!==t?t:o,h.has(o)?o:n?v(r):p},_=(e,t,i,n)=>{let o;const s=()=>w(e,t(),n).then((e=>{var t;(null===(t=o)||void 0===t?void 0:t.lang)===e.lang&&o.t9nLocale===e.t9nLocale&&o.t9nStrings===e.t9nStrings||i(e),o=e})).catch(console.error);return queueMicrotask(s),r(e,["lang"],s)},w=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.localName.split("-").slice(1).join("-");const{lang:n,t9nLocale:r}=g(e),o="".concat(t,"/").concat(i,"/t9n"),s=null===i?{}:await async function(e,t){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r="".concat(t,"/").concat(n),o="".concat(r).concat(e,".json");return null!==(i=m[o])&&void 0!==i||(m[o]=y(e,r)),await m[o]}(r,o,"messages.");return{lang:n,t9nLocale:r,t9nStrings:s}},b=e=>e.replace(A,((e,t)=>"".concat(0===t?"":"-").concat(e.toLowerCase()))),A=/[A-Z]+(?![a-z])|[A-Z]/g,M=(e,t)=>{const i=t>S?T:t/E;let n=0;const r=setInterval((()=>{n+=i,n>=t&&(clearInterval(r),e())}),i);return r},S=4e3,T=2e3,E=4},36351:(e,t,i)=>{i.d(t,{A:()=>y});var n,r=i(89379),o=i(35143),s=i(91967),a=i(45802),l=i(53084),c=i(46053),u=(i(81806),i(76460),i(85842)),d=i(76797),h=i(13312),p=i(45417);const f=new a.J({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let m=n=class extends s.A{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new n({categories:this.categories?(0,l.o8)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e)));let n="";if(this.extent){const e=(0,p.Cv)(this.extent,h.A.WGS84);null!=e&&(n="".concat(e.xmin,",").concat(e.ymin,",").concat(e.xmax,",").concat(e.ymax))}let o=this.query;!this.disableExtraQuery&&e.extraQuery&&(o="("+o+")"+e.extraQuery);const s={categories:i,bbox:n,q:o,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map((e=>f.toJSON(e.trim()))).join(","),s.sortOrder=this.sortOrder),{query:(0,r.A)((0,r.A)({},t),s)}}};(0,o._)([(0,c.MZ)()],m.prototype,"categories",void 0),(0,o._)([(0,c.MZ)()],m.prototype,"disableExtraQuery",void 0),(0,o._)([(0,c.MZ)({type:d.A})],m.prototype,"extent",void 0),(0,o._)([(0,c.MZ)()],m.prototype,"filter",void 0),(0,o._)([(0,c.MZ)()],m.prototype,"num",void 0),(0,o._)([(0,c.MZ)()],m.prototype,"query",void 0),(0,o._)([(0,c.MZ)()],m.prototype,"sortField",void 0),(0,o._)([(0,c.MZ)()],m.prototype,"sortOrder",null),(0,o._)([(0,c.MZ)()],m.prototype,"start",void 0),m=n=(0,o._)([(0,u.$)("esri.portal.PortalQueryParams")],m);const y=m},36381:(e,t,i)=>{i.d(t,{A:()=>u});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(82052),l=i(48746);let c=n=class extends a.A{constructor(e){super(e),this.type="line-chart"}clone(){var e;return new n({altText:this.altText,title:this.title,caption:this.caption,value:null===(e=this.value)||void 0===e?void 0:e.clone()})}};(0,r._)([(0,o.MZ)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:l.U.write,isRequired:!0}}})],c.prototype,"type",void 0),c=n=(0,r._)([(0,s.$)("esri.popup.content.LineChartMediaInfo")],c);const u=c},36693:(e,t,i)=>{i.d(t,{L5:()=>r,N5:()=>s,n$:()=>o,qU:()=>n});const n="system",r="unknown",o="UTC",s=Intl.DateTimeFormat().resolvedOptions().timeZone},37363:(e,t,i)=>{i.d(t,{a:()=>o,o:()=>s});var n=i(94643),r=i(30363);function o(e){if(!e.highlights)return null;const t=e.highlights.findIndex((e=>"default"===e.name));return-1===t?null:e.highlights.items[t]}function s(e,t){if(!e.highlights){if(!t)return;e.highlights=new n.A([new r.A])}const i=e.highlights.findIndex((e=>"default"===e.name));t?e.highlights.items[i].assignFrom(t):(e.highlights.removeAt(i),0===e.highlights.length&&(e.highlights=null))}},37471:(e,t,i)=>{i.d(t,{A:()=>w});var n,r=i(35143),o=i(69539),s=i(94643),a=i(53084),l=i(46053),c=(i(81806),i(76460),i(6409)),u=i(85842),d=i(27796),h=i(47943),p=i(78135),f=i(21405),m=i(82041),y=i(92135),g=i(48670);const v=s.A.ofType({base:null,key:"type",typeMap:{icon:d.A,object:h.A,text:f.A}});let _=n=class extends p.A{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new v,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,m.LH)(this)}hasVisibleVerticalOffset(){return(0,m.Yq)(this)}clone(){return new n({verticalOffset:(0,a.o8)(this.verticalOffset),callout:(0,a.o8)(this.callout),styleOrigin:(0,a.o8)(this.styleOrigin),symbolLayers:(0,a.o8)(this.symbolLayers),thumbnail:(0,a.o8)(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new n({symbolLayers:new s.A([d.A.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new n({symbolLayers:new s.A([d.A.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var t;if("CIMPointSymbol"!==(null===(t=e.data)||void 0===t||null===(t=t.symbol)||void 0===t?void 0:t.type))return null;const i=e.data.symbol;return new n(null!==i&&void 0!==i&&i.callout?{symbolLayers:new s.A([d.A.fromCIMSymbol(e)]),callout:new y.A({size:.5,color:new o.A([0,0,0])}),verticalOffset:new g.A({screenLength:40})}:{symbolLayers:new s.A([d.A.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new n({symbolLayers:new s.A([f.A.fromTextSymbol(e)])})}};(0,r._)([(0,l.MZ)({type:g.A,json:{write:!0}})],_.prototype,"verticalOffset",void 0),(0,r._)([(0,l.MZ)(m.oG)],_.prototype,"callout",void 0),(0,r._)([(0,l.MZ)({type:v,json:{origins:{"web-scene":{write:!0}}}})],_.prototype,"symbolLayers",void 0),(0,r._)([(0,c.e)({PointSymbol3D:"point-3d"},{readOnly:!0})],_.prototype,"type",void 0),_=n=(0,r._)([(0,u.$)("esri.symbols.PointSymbol3D")],_);const w=_},37596:(e,t,i)=>{i.d(t,{G:()=>n});const n=Symbol("Accessor-beforeDestroy")},38042:(e,t,i)=>{i.d(t,{JK:()=>f,Ml:()=>_,Z0:()=>m,oQ:()=>g});i(33635);var n,r,o,s,a,l=i(54901);let c,u;const d=null!==(n=null===(r=globalThis.esriConfig)||void 0===r?void 0:r.locale)&&void 0!==n?n:null===(o=globalThis.dojoConfig)||void 0===o?void 0:o.locale,h=null===(s=globalThis.document)||void 0===s?void 0:s.documentElement;function p(){var e,t,i;const n=null===h||void 0===h?void 0:h.getAttribute("lang"),r=null===(e=globalThis.navigator)||void 0===e?void 0:e.language;return null!==(t=null!==(i=null!==d&&void 0!==d?d:n)&&void 0!==i?i:r)&&void 0!==t?t:"en"}function f(){return void 0===u&&(u=p()),u}function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f();const t=/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e);return null===t||void 0===t?void 0:t[1].toLowerCase()}const y=[];function g(e){return y.push(e),(0,l.hA)((()=>y.splice(y.indexOf(e),1)))}const v=[];function _(e){return v.push(e),(0,l.hA)((()=>v.splice(v.indexOf(e),1)))}function w(){const e=null!==c&&void 0!==c?c:p();u!==e&&([...v].forEach((t=>t(e))),u=e,[...y].forEach((t=>t(e))))}null!==(a=globalThis.addEventListener)&&void 0!==a&&a.call(globalThis,"languagechange",w),h&&new MutationObserver((()=>{w()})).observe(h,{attributeFilter:["lang"]})},38432:(e,t,i)=>{i.d(t,{x:()=>n});const n=new(i(45802).J)({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"})},38458:(e,t,i)=>{i.d(t,{A:()=>r});var n=i(26562);function r(e,t){return e.get((0,n.A)(e,t))}},38582:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(35143),r=i(42553),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(17707);let l=class extends r.A{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,t,i){e||(t[i]=e)}};(0,n._)([(0,o.MZ)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],l.prototype,"enabled",void 0),(0,n._)([(0,a.K)("enabled")],l.prototype,"writeEnabled",null),(0,n._)([(0,o.MZ)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],l.prototype,"type",void 0),l=(0,n._)([(0,s.$)("esri.symbols.Symbol3DLayer")],l);const c=l},38590:(e,t,i)=>{i.d(t,{H:()=>o,f:()=>r});var n=i(50076);function r(e){if(e&&"object"==typeof e&&"type"in e&&"mesh"===e.type)throw new n.A("Mesh geometries are not supported for this operation")}function o(e){e.forEach(r)}},38665:(e,t,i)=>{i.d(t,{A:()=>p});var n=i(35143),r=i(50076),o=i(42553),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842));let l=class extends o.A{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var e;const t=null===(e=this.portal)||void 0===e?void 0:e.restUrl;return t?"".concat(t,"/content/users/").concat(this.username,"/").concat(this.id):null}toJSON(){throw new r.A("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,n._)([(0,s.MZ)({type:Date})],l.prototype,"created",void 0),(0,n._)([(0,s.MZ)()],l.prototype,"id",void 0),(0,n._)([(0,s.MZ)()],l.prototype,"portal",void 0),(0,n._)([(0,s.MZ)()],l.prototype,"title",void 0),(0,n._)([(0,s.MZ)({readOnly:!0})],l.prototype,"url",null),(0,n._)([(0,s.MZ)()],l.prototype,"username",void 0),l=(0,n._)([(0,a.$)("esri.portal.PortalFolder")],l);const c=l;var u,d=i(20650);let h=u=class extends o.A{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl("".concat(e,"/info/").concat(t,"?f=json")):null}get userContentUrl(){var e;const t=null===(e=this.portal)||void 0===e?void 0:e.restUrl;return t?"".concat(t,"/content/users/").concat(this.username):null}get url(){var e;const t=null===(e=this.portal)||void 0===e?void 0:e.restUrl;return t?"".concat(t,"/community/users/").concat(this.username):null}addItem(e){const t=e&&e.item,i=null===e||void 0===e?void 0:e.data,n=null===e||void 0===e?void 0:e.folder,r={method:"post"};t&&(r.query=t.createPostQuery(),null!=i&&("string"==typeof i?r.query.text=i:"object"==typeof i&&(r.query.text=JSON.stringify(i))));let o=this.userContentUrl;return n&&(o+="/"+("string"==typeof n?n:n.id)),this.portal.request(o+"/addItem",r).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}async deleteItem(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const n=t?{permanentDelete:!0}:{};await this.portal.request(i+"/items/".concat(e.id,"/delete"),{method:"post",query:n}),e.id=null,e.portal=null}async deleteItems(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e.slice();const i=this.userContentUrl+"/deleteItems",n=[],o=e.map((e=>e.id));if(o.length){const s={method:"post",query:{items:o.join(","),permanentDelete:t}},a=await this.portal.request(i,s);for(const t of a.results){const i=e.find((e=>t.itemId===e.id)),o=t.success;let s=null;o?(i.id=null,i.portal=null):t.error&&(s=new r.A("portal:delete-item-failed",t.error.message,t.error)),n.push({item:i,success:o,error:s})}}return n}fetchFolders(){var e;return this.portal.request(null!==(e=this.userContentUrl)&&void 0!==e?e:"",{query:{num:1}}).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=c.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){var e;return this.portal.request(null!==(e=this.url)&&void 0!==e?e:"").then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=d.A.fromJSON(e);return t.portal=this.portal,t})):[],t}))}async fetchItems(e){var t;null!==e&&void 0!==e||(e={});let n=null!==(t=this.userContentUrl)&&void 0!==t?t:"";e.folder&&(n+="/"+e.folder.id);const{default:r}=await Promise.resolve().then(i.bind(i,70652)),o={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},s=await this.portal.request(n,{query:o});let a;return null!==s&&void 0!==s&&s.items?(a=s.items.map((e=>{const t=r.fromJSON(e);return t.portal=this.portal,t})),await Promise.all(a.map((e=>e.load()))),{items:a,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new d.A({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new r.A("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,n=t?{folderID:"string"==typeof t?t:t.id}:null;await this.portal.request(i+"/items/".concat(e.id,"/restore"),{method:"post",query:n})}toJSON(){throw new r.A("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new u({sourceJSON:e});return t.read(e),t}};(0,n._)([(0,s.MZ)()],h.prototype,"access",void 0),(0,n._)([(0,s.MZ)({type:Date})],h.prototype,"created",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"culture",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"description",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"email",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"favGroupId",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"fullName",void 0),(0,n._)([(0,s.MZ)({type:Date})],h.prototype,"modified",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"orgId",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"portal",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"preferredView",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"privileges",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"region",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"role",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"roleId",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"sourceJSON",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"thumbnail",void 0),(0,n._)([(0,s.MZ)({readOnly:!0})],h.prototype,"thumbnailUrl",null),(0,n._)([(0,s.MZ)()],h.prototype,"units",void 0),(0,n._)([(0,s.MZ)({readOnly:!0})],h.prototype,"userContentUrl",null),(0,n._)([(0,s.MZ)({readOnly:!0})],h.prototype,"url",null),(0,n._)([(0,s.MZ)()],h.prototype,"username",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"userLicenseTypeId",void 0),(0,n._)([(0,s.MZ)()],h.prototype,"userType",void 0),h=u=(0,n._)([(0,a.$)("esri.portal.PortalUser")],h);const p=h},39196:(e,t,i)=>{i.d(t,{ON:()=>r,U9:()=>s,u7:()=>o});var n=i(69539);const r=new n.A("white"),o=new n.A([255,255,255,0]);function s(e){return 0===e.r&&0===e.g&&0===e.b}},39299:(e,t,i)=>{var n;i.d(t,{v:()=>n}),function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"}(n||(n={}))},39314:(e,t,i)=>{i.d(t,{AH:()=>c,h1:()=>a,oY:()=>o,qg:()=>d,yh:()=>s});var n=i(54901),r=i(53084);function o(e){var t;return null!==(t=e.__accessor__)&&void 0!==t?t:null}function s(e,t){var i;return null!=(null===e||void 0===e||null===(i=e.metadata)||void 0===i?void 0:i[t])}function a(e,t,i){return l(e,t,i?{policy:i,path:""}:null)}function l(e,t,i){return t?Object.keys(t).reduce(((e,n)=>{const o=n;let s=null,a="merge";if(i&&(s=i.path?"".concat(i.path,".").concat(n):n,a=i.policy(s)),"replace"===a)return e[o]=t[o],e;if("replace-arrays"===a&&Array.isArray(e[o]))return e[o]=t[o],e;if(void 0===e[o])return e[o]=(0,r.o8)(t[o]),e;let c=e[o],u=t[o];if(c===u)return e;if(Array.isArray(u)||Array.isArray(e))c=c?Array.isArray(c)?e[o]=c.slice():e[o]=[c]:e[o]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach((e=>{c.includes(e)||c.push(e)})));else if(u&&"object"==typeof u)if(i){const t=i.path;i.path=s,e[o]=l(c,u,i),i.path=t}else e[o]=l(c,u,null);else e.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(e[o]=u);return e}),e||{}):e}function c(e){return Array.isArray(e)?e:e.split(".")}function u(e){return e.includes(",")?e.split(",").map((e=>e.trim())):[e.trim()]}function d(e,t,i,r){const o=function(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...u(i));return t}return u(e)}(t);if(1!==o.length){const t=o.map((t=>r(e,t,i)));return(0,n.vE)(t)}return r(e,o[0],i)}},39348:(e,t,i)=>{i.d(t,{V:()=>c});var n=i(76460),r=i(48611),o=i(88685),s=i(65256),a=i(50265);const l=()=>n.A.getLogger("esri.intl.substitute");function c(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{format:n={}}=i;return(0,o.HC)(e,(e=>function(e,t,i){var n;let o,s;const a=e.indexOf(":");if(-1===a?o=e.trim():(o=e.slice(0,a).trim(),s=e.slice(a+1).trim()),!o)return"";const l=(0,r.wc)(o,t);if(null==l)return"";const c=null!==(n=s?null===i||void 0===i?void 0:i[s]:null)&&void 0!==n?n:null===i||void 0===i?void 0:i[o];return c?u(l,c):s?d(l,s):h(l)}(e,t,n)))}function u(e,t){switch(t.type){case"date":return(0,s.Yq)(e,t.intlOptions);case"number":return(0,a.ZV)(e,t.intlOptions);default:return l().warn("missing format descriptor for key {key}"),h(e)}}function d(e,t){switch(t.toLowerCase()){case"dateformat":return(0,s.Yq)(e);case"numberformat":return(0,a.ZV)(e);default:return l().warn("inline format is unsupported since 4.12: ".concat(t)),/^(dateformat|datestring)/i.test(t)?(0,s.Yq)(e):/^numberformat/i.test(t)?(0,a.ZV)(e):h(e)}}function h(e){switch(typeof e){case"string":return e;case"number":return(0,a.ZV)(e);case"boolean":return""+e;default:return e instanceof Date?(0,s.Yq)(e):""}}},39356:(e,t,i)=>{i.d(t,{A:()=>w});var n,r=i(89379),o=i(35143),s=i(16868),a=i(69098),l=i(63241),c=i(42553),u=i(76460),d=i(68134),h=i(90632),p=i(46053),f=(i(81806),i(47249),i(85842)),m=i(19902),y=i(31608),g=i(94725);function v(e){if(null==e)return null;const t={};for(const i in e){const n=e[i];n&&(t[i]=n.toJSON())}return 0!==Object.keys(t).length?t:null}let _=n=class extends(a.A.ClonableMixin(c.A)){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:(0,h.c)(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&(0,l.eF)(u.A.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),"mesh"!==(null===e||void 0===e?void 0:e.type)&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new n({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&null!=i.defaultPopupTemplate)return i.defaultPopupTemplate}return null}getAttribute(e){var t;return null===(t=this.attributes)||void 0===t?void 0:t[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e,t;return{aggregateGeometries:v(this.aggregateGeometries),geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:c.A.isSerializable(this.attributes)?this.attributes.toJSON():(0,r.A)({},this.attributes),popupTemplate:null!==(e=null===(t=this.popupTemplate)||void 0===t?void 0:t.toJSON())&&void 0!==e?e:null}}notifyMeshTransformChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{geometry:t}=this;if("mesh"===(null===t||void 0===t?void 0:t.type)){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,n){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:e,oldValue:t,newValue:i};"origin-transform"===e&&(r.action=n),"attributes"===e&&(r.attributeName=n),this.layer.graphicChanged(r)}_watchMeshGeometryChanges(){this.addHandles([(0,d.z7)((()=>{var e,t;return"mesh"===(null===(e=this.geometry)||void 0===e?void 0:e.type)&&this.geometry.vertexSpace.origin?{localMatrix:null===(t=this.geometry.transform)||void 0===t?void 0:t.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0}),(e=>{let{localMatrix:t,origin:i}=e;this._lastMeshTransform.localMatrix===t&&this._lastMeshTransform.origin===i||(this._lastMeshTransform.localMatrix=t,this._lastMeshTransform.origin=i,this.notifyMeshTransformChanged())})),(0,d.z7)((()=>{var e;return"mesh"===(null===(e=this.geometry)||void 0===e?void 0:e.type)?{vertexAttributes:this.geometry.vertexAttributes}:void 0}),(()=>{var e;const t=this.geometry;"mesh"===(null===t||void 0===t?void 0:t.type)&&t.vertexSpace.origin?(this._lastMeshTransform.localMatrix=null===(e=t.transform)||void 0===e?void 0:e.localMatrix,this._lastMeshTransform.origin=t.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)}),{equals:(e,t)=>e===t,sync:!0})])}};(0,o._)([(0,p.MZ)({value:null,json:{read:function(e){if(!e)return null;const t={};for(const i in e){const n=(0,m.rS)(e[i]);n&&(t[i]=n)}return 0!==Object.keys(t).length?t:null}}})],_.prototype,"aggregateGeometries",null),(0,o._)([(0,p.MZ)({value:null})],_.prototype,"attributes",null),(0,o._)([(0,p.MZ)({value:null,types:y.yR,json:{read:m.rS}})],_.prototype,"geometry",null),(0,o._)([(0,p.MZ)({type:Boolean})],_.prototype,"isAggregate",void 0),(0,o._)([(0,p.MZ)({clonable:"reference"})],_.prototype,"layer",void 0),(0,o._)([(0,p.MZ)({clonable:"reference"})],_.prototype,"origin",void 0),(0,o._)([(0,p.MZ)({type:s.A})],_.prototype,"popupTemplate",void 0),(0,o._)([(0,p.MZ)({clonable:"reference"})],_.prototype,"sourceLayer",void 0),(0,o._)([(0,p.MZ)({value:null,types:g.Es})],_.prototype,"symbol",null),(0,o._)([(0,p.MZ)({clonable:!1,json:{read:!1,write:!1}})],_.prototype,"_version",void 0),(0,o._)([(0,p.MZ)({type:Boolean,value:!0})],_.prototype,"visible",null),_=n=(0,o._)([(0,f.$)("esri.Graphic")],_);const w=_},39466:(e,t,i)=>{i.d(t,{WF:()=>$,lh:()=>d.b,le:()=>Y,s6:()=>ee,CP:()=>X,zl:()=>Q,Bq:()=>te,pf:()=>ie});var n=i(89379),r=i(39790);function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:i):r.value}},s.apply(null,arguments)}var a=i(26562),l=i(55149),c=i(38458),u=i(24558);Event;Event;var d=i(86952),h=i(18789);h.W3,h.Ec;var p,f=i(35176);const m=e=>{let t=e;for(;t=null!==(i=t.parentNode)&&void 0!==i?i:t.host;){var i,n;if(null!==(n=t)&&void 0!==n&&null!==(n=n.constructor)&&void 0!==n&&n.lumina){var r,o;const i=t;var s;if(null===(r=i.manager)||void 0===r||!r.loadedCalled)(null!==(s=i.J)&&void 0!==s?s:i._offspring).push(e);return(null!==(o=i.I)&&void 0!==o?o:i._postLoad).promise}}return!1};const y={};function g(){}const v=Object.defineProperty,_=null!==(p=globalThis.HTMLElement)&&void 0!==p?p:g;var w=new WeakMap,b=new WeakMap,A=new WeakMap,M=new WeakSet;class S extends _{constructor(){var e;super(),(0,r.A)(this,M),(0,l.A)(this,w,void 0),(0,l.A)(this,b,void 0),(0,l.A)(this,A,void 0),(0,u.A)(b,this,{}),(0,u.A)(A,this,[]),this.I=new f.cY,this.H=new f.cY,this.J=[];const t=this,i=t.constructor;t._offspring=t.J,t._postLoad=t.I,null===(e=i.C)||void 0===e||e.forEach((e=>{Object.hasOwn(t,e)&&((0,c.A)(b,t)[e]=t[e],delete t[e])})),i.A?(0,a.A)(M,t,T).call(t,{a:i.A}):i.B.then((async e=>{var n,r;await i.K.p,(0,a.A)(M,t,T).call(t,await(null!==(n=null===(r=e.default)||void 0===r?void 0:r.then((e=>"function"===typeof e?{a:e}:e)))&&void 0!==n?n:e))})).catch((e=>{t.H.reject(e),setTimeout((()=>{throw e}))}))}static F(){for(const n of null!==(e=this.C)&&void 0!==e?e:[]){var e;v(this.prototype,n,{configurable:!0,enumerable:!0,get(){return(0,c.A)(b,this)[n]},set(e){(0,c.A)(b,this)[n]=e}})}for(const n of null!==(t=this.E)&&void 0!==t?t:[]){var t;v(this.prototype,n,{async value(){(0,c.A)(w,this)||await this.H.promise;const e=(0,c.A)(w,this);return await e[n](...arguments)},configurable:!0})}for(const n of null!==(i=this.D)&&void 0!==i?i:[]){var i;v(this.prototype,n,{value(){return(0,c.A)(w,this)[n](...arguments)},configurable:!0})}}get manager(){var e;return null===(e=(0,c.A)(w,this))||void 0===e?void 0:e.manager}attributeChangedCallback(e,t,i){var n;null===(n=(0,c.A)(w,this))||void 0===n||n.attributeChangedCallback(e,t,i),(0,c.A)(w,this)||(0,c.A)(A,this).push(e)}connectedCallback(){var e,t;(0,c.A)(w,this)?null===(e=(t=(0,c.A)(w,this)).connectedCallback)||void 0===e||e.call(t):queueMicrotask((()=>this.G=m(this)))}disconnectedCallback(){var e,t;null===(e=(0,c.A)(w,this))||void 0===e||null===(t=e.disconnectedCallback)||void 0===t||t.call(e)}async componentOnReady(){return await this.H.promise,this}addController(){}requestUpdate(){var e;null===(e=(0,c.A)(w,this))||void 0===e||e.requestUpdate()}}function T(e){const t=this.constructor,i=t.L,n=(0,c.A)(b,this),r=Object.values(e).find((e=>e.L===i));const o="".concat(i,"--lazy");let s=r;for(;s&&!Object.hasOwn(s,"lumina");)s=Object.getPrototypeOf(s);x(s);!t.A&&(t.A=r,customElements.define(o,r)),r.N=this;const a=document.createElement(o);r.N=void 0,(0,u.A)(w,this,a),(0,u.A)(b,this,a),(0,c.A)(A,this).forEach((e=>a.attributeChangedCallback(e,null,this.getAttribute(e)))),Object.entries(n).forEach(E,a);const l=this.isConnected;var d;(l||this.G)&&(null===(d=a.connectedCallback)||void 0===d||d.call(a),l||a.disconnectedCallback())}function E(e){let[t,i]=e;this[t]=i}S.lumina=!0;const x=e=>{const t=e.prototype,i=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(e,t){i.setAttribute.call(this.el,e,t)},t.removeAttribute=function(e){i.removeAttribute.call(this.el,e)},v(t,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))};var C=i(27698);var P=i(28531),O=i(30533);const I=(0,O.u$)(class extends O.WL{constructor(e){var t;if(super(e),e.type!==O.OA.ATTRIBUTE||"class"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,t){let[i]=t;if(void 0===this.st){this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in i){var n;i[e]&&(null===(n=this.nt)||void 0===n||!n.has(e))&&this.st.add(e)}return this.render(i)}const r=e.element.classList;for(const s of this.st)s in i||(r.remove(s),this.st.delete(s));for(const s in i){var o;const e=!!i[s];e===this.st.has(s)||(null===(o=this.nt)||void 0===o?void 0:o.has(s))||(e?(r.add(s),this.st.add(s)):(r.remove(s),this.st.delete(s)))}return P.c0}}),R="important",N=" !"+R,k=(0,O.u$)(class extends O.WL{constructor(e){var t;if(super(e),e.type!==O.OA.ATTRIBUTE||"style"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,i)=>{const n=e[i];return null==n?t:t+"".concat(i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(n,";")}),"")}update(e,t){let[i]=t;const{style:n}=e.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(i)),this.render(i);for(const r of this.ft)null==i[r]&&(this.ft.delete(r),r.includes("-")?n.removeProperty(r):n[r]=null);for(const r in i){const e=i[r];if(null!=e){this.ft.add(r);const t="string"==typeof e&&e.endsWith(N);r.includes("-")||t?n.setProperty(r,t?e.slice(0,-11):e,t?R:""):n[r]=e}}return P.c0}});var L;i(90953);var D=new WeakMap,Z=new WeakMap,F=new WeakMap;class U extends d.G{constructor(e){super(e),(0,l.A)(this,D,void 0),(0,l.A)(this,Z,void 0),(0,l.A)(this,F,void 0),this.destroyed=!1,this.R=!1,this.V=C.s6,this.T=[],(0,u.A)(F,this,new WeakMap),(0,u.A)(Z,this,e),this.exports=void 0,this.hasDestroy=G in e&&"function"===typeof e.destroy,C.WF.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const t=e.el.localName;throw e.el.remove(),new Error("The ".concat(t," component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ").concat(G," prop."))}void 0!==(0,c.A)(D,this)&&clearTimeout((0,c.A)(D,this)),(0,d.k)();for(const t of e.M)"triggerConnected"in t?t.triggerConnected():(0,f.UF)(t.hostConnected,t)},hostDisconnected:()=>{for(const t of e.M)"triggerDisconnected"in t?t.triggerDisconnected():(0,f.UF)(t.hostDisconnected,t);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const t of e.M)"triggerUpdate"in t?t.triggerUpdate(this.Q):(0,f.UF)(t.hostUpdate,t,this.Q)},hostUpdated:()=>{for(const t of e.M)"triggerUpdated"in t?t.triggerUpdated(this.Q):(0,f.UF)(t.hostUpdated,t,this.Q);this.Q=void 0}}),queueMicrotask((()=>this.R=!0)),(0,d.s)(e)}async destroy(){if(!this.destroyed){(0,c.A)(Z,this).el.isConnected&&(this.hasDestroy=!1,(0,c.A)(Z,this).el.remove()),(0,u.A)(D,this,void 0),this.destroyed=!0;for(const e of(0,c.A)(Z,this).M)"triggerDestroy"in e?e.triggerDestroy():(0,f.UF)(e.hostDestroy,e);(0,c.A)(Z,this).M.splice(0)}}U(){if(void 0!==(0,c.A)(D,this)&&clearTimeout((0,c.A)(D,this)),!(0,c.A)(Z,this).el.isConnected&&!(0,c.A)(Z,this).autoDestroyDisabled){const e=()=>{(0,c.A)(Z,this).destroy()};(0,u.A)(D,this,(0,f.oK)(e,j))}}S(e,t){const i=this.T;this.V=C.s6,this.T=[],i.forEach((i=>i(e,t)))}W(e,t){("object"===typeof t&&null!==t||"function"===typeof t)&&(0,c.A)(F,this).set(t,e)}X(e){return"object"===typeof e&&null!==e||"function"===typeof e?(0,c.A)(F,this).get(e):void 0}}let j=1e3;const G="autoDestroyDisabled";var z=new WeakMap,V=new WeakMap,B=new WeakMap,H=new WeakMap,q=new WeakMap,W=new WeakSet;class $ extends C.WF{constructor(){var e,t,i;super(),(0,r.A)(this,W),(0,l.A)(this,z,void 0),(0,l.A)(this,V,void 0),(0,l.A)(this,B,void 0),(0,l.A)(this,H,void 0),(0,l.A)(this,q,void 0),this.M=[],this.manager=new U(this);const n=this,o=n.constructor,s=o.N,a=o.K.o,d=$.prototype.shouldUpdate;(0,u.A)(H,n,null!==(e=null===s||void 0===s?void 0:s.H)&&void 0!==e?e:new f.cY),n.I=null!==(t=null===s||void 0===s?void 0:s.I)&&void 0!==t?t:new f.cY,n.J=null!==(i=null===s||void 0===s?void 0:s.J)&&void 0!==i?i:[],n._offspring=n.J,n._postLoad=n.I,n.el=null!==s&&void 0!==s?s:n,(0,u.A)(B,n,n.enableUpdating),n.enableUpdating=g,n.shouldUpdate!==d&&((0,u.A)(V,n,n.shouldUpdate),n.shouldUpdate=d),a&&((0,u.A)(z,n,new Map),o.elementProperties.forEach(((e,t)=>(0,c.A)(z,n).set(t,a())))),C.S$&&n.el.setAttribute(o.K.hydratedAttribute,"")}static finalizeStyles(e){var t;const i=super.finalizeStyles(e),n=this.shadowRootOptions===y;return void 0===(null===(t=this.K)||void 0===t?void 0:t.commonStyles)||n?i:[this.K.commonStyles,...i]}static createProperty(e,t){var i;const r="number"===typeof t?t:Array.isArray(t)?t[0]:0,o=Array.isArray(t)?t[1]:void 0,s=null!==(i=null===o||void 0===o?void 0:o.hasChanged)&&void 0!==i?i:C.Ec,a=(0,n.A)((0,n.A)({attribute:!!(1&r&&"string"===typeof e)&&(0,f.j1)(e),reflect:!!(2&r),type:4&r?Boolean:8&r?Number:void 0,state:!!(16&r),readOnly:!!(32&r),noAccessor:!!(64&r),c:!1},o),{},{hasChanged(e,t){const i=s(e,t);return a.c=i,i}});super.createProperty(e,a)}static getPropertyDescriptor(e,t,i){const r=this.K,o=super.getPropertyDescriptor(e,t,i);return i.d=o,(0,n.A)((0,n.A)({},o),{},{get(){var t,i;return null===(t=r.t)||void 0===t||t.call(r,(0,c.A)(z,this).get(e)),null===(i=o.get)||void 0===i?void 0:i.call(this)},set(t){const n=this.manager;if(i.readOnly&&!d.a&&(n.R||n.connectedCalled))throw Error('Cannot assign to read-only property "'.concat(e,'" of ').concat(this.el.localName,'. Trying to assign "').concat(t,'"'));var r;(o.set.call(this,null!==t&&void 0!==t?t:void 0),i.c)&&(null===(r=(0,c.A)(z,this))||void 0===r||null===(r=r.get(e))||void 0===r||r.notify());n.T.length>0&&(null===n||void 0===n||n.S(e,t))}})}connectedCallback(){var e,t;if(this.el.hasAttribute("defer-hydration"))return;const i=null===(e=(t=this.constructor.K).c)||void 0===e?void 0:e.call(t,(()=>this.requestUpdate()));(0,u.A)(q,this,i);const n=!this.manager.connectedCalled;super.connectedCallback(),n?queueMicrotask((()=>(0,a.A)(W,this,K).call(this).catch((e=>{(0,c.A)(H,this).reject(e),setTimeout((()=>{throw e}))})))):i&&this.requestUpdate()}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=(0,c.A)(q,this))||void 0===e||e.destroy(),(0,u.A)(q,this,void 0)}createRenderRoot(){const e=this.el.shadowRoot,t=this.constructor,i=t.shadowRootOptions,n=null!==e&&void 0!==e?e:i===y?this.el:this.el.attachShadow(i);if(e)return C.WF.prototype.createRenderRoot.call(this),e;if(this.isConnected){const e=n.getRootNode();e.adoptedStyleSheets=[...e.adoptedStyleSheets,...t.elementStyles.map((e=>"styleSheet"in e?e.styleSheet:e))]}return n}shouldUpdate(e){var t,i;return this.manager.Q=e,null===(t=null===(i=(0,c.A)(V,this))||void 0===i?void 0:i.call(this,e))||void 0===t||t}update(e){(0,c.A)(q,this)?(0,a.A)(W,this,J).call(this,e):super.update(e)}listen(e,t,i){var n;const r=null!==(n=null===t||void 0===t?void 0:t.bind(this))&&void 0!==n?n:t;this.manager.onLifecycle((()=>(this.el.addEventListener(e,r,i),()=>this.el.removeEventListener(e,r,i))))}listenOn(e,t,i,n){var r;const o=null!==(r=null===i||void 0===i?void 0:i.bind(this))&&void 0!==r?r:i;this.manager.onLifecycle((()=>(e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n))))}async componentOnReady(){return await(0,c.A)(H,this).promise,this}addController(e){var t;(this.M.push(e),!(d.c in e)&&this.renderRoot&&this.el.isConnected)&&(null===(t=e.hostConnected)||void 0===t||t.call(e))}removeController(e){var t;this.M.splice(this.M.indexOf(e),1),null===(t=e.controllerRemoved)||void 0===t||t.call(e)}}function J(e){try{(0,c.A)(q,this).clear(),this.constructor.K.r((0,c.A)(q,this),(()=>function(e,t,i,n){var r=s(o(1&n?e.prototype:e),t,i);return 2&n&&"function"==typeof r?function(e){return r.apply(i,e)}:r}(L.prototype,"update",this,2)([e])))}catch(t){throw(0,c.A)(q,this).clear(),t}}async function K(){var e,t,i;const n=null!==(e=this.el.G)&&void 0!==e?e:m(this.el);n&&await n;const r=[];for(const s of this.M)"triggerLoad"in s?r.push(s.triggerLoad()):r.push((0,f.ao)(s.hostLoad,s));await Promise.all(r),await(null===(t=this.load)||void 0===t?void 0:t.call(this)),this.manager.hasDestroy&&this.manager.onUpdate((e=>e.has(G)&&this.manager.U())),(0,c.A)(B,this).call(this,!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const o=this.J.filter((e=>{var t;return!(null!==(t=e.manager)&&void 0!==t&&t.loadedCalled)}));o.length&&await Promise.allSettled(o.map((async e=>await e.componentOnReady()))),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const s of this.M)"triggerLoaded"in s?s.triggerLoaded():(0,f.UF)(s.hostLoaded,s);null===(i=this.loaded)||void 0===i||i.call(this),(0,c.A)(H,this).resolve()}(L=$).lumina=!0;const Y=e=>{let t;const i=e=>{var i;t=new URL(e,(null===(i=globalThis.location)||void 0===i?void 0:i.href)||void 0).href},r=(0,n.A)((0,n.A)({},e),{},{getAssetPath(e){var i;const n=new URL(e,t);return n.origin!==(null===(i=globalThis.location)||void 0===i?void 0:i.origin)?n.href:n.pathname},setAssetPath:i,customElement(e,t){t.K=r,t.L=e,customElements.get(e)||customElements.define(e,t)}});return i(e.defaultAssetPath),r},X=e=>"object"===typeof e&&null!=e?I(e):e,Q=e=>"object"===typeof e&&null!=e?k(e):e;const ee=P.s6;function te(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i)}const ie={toAttribute:e=>!0===e?"":!1===e?null:e}},39790:(e,t,i)=>{i.d(t,{A:()=>r});var n=i(8195);function r(e,t){(0,n.A)(e,t),t.add(e)}},40181:(e,t,i)=>{i.d(t,{A:()=>f});var n=i(80963),r=i(93453);function o(e,t){return[e,t]}function s(e,t,i){return e[0]=t,e[1]=i,e}const a=new r.A("0/0/0/0");class l{static create(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=(0,n.Vp)(e.spatialReference),a=t.origin||o(e.origin.x,e.origin.y),c=o(e.size[0]*t.resolution,e.size[1]*t.resolution),u=o(-1/0,-1/0),d=o(1/0,1/0),h=o(1/0,1/0);null!=i&&(s(u,Math.max(0,Math.floor((i.xmin-a[0])/c[0])),Math.max(0,Math.floor((a[1]-i.ymax)/c[1]))),s(d,Math.max(0,Math.floor((i.xmax-a[0])/c[0])),Math.max(0,Math.floor((a[1]-i.ymin)/c[1]))),s(h,d[0]-u[0]+1,d[1]-u[1]+1));const{cols:p,rows:f}=t;let m,y,g,v;return!i&&p&&f&&(s(u,p[0],f[0]),s(d,p[1],f[1]),s(h,p[1]-p[0]+1,f[1]-f[0]+1)),e.isWrappable?(m=o(Math.ceil(Math.round((r.valid[1]-r.valid[0])/t.resolution)/e.size[0]),h[1]),y=!0,g=r.origin,v=r.valid):(m=h,y=!1),new l(t.level,t.resolution,t.scale,a,u,d,h,c,m,y,g,v)}constructor(e,t,i,n,r,o,s,a,l,c,u,d){this.level=e,this.resolution=t,this.scale=i,this.origin=n,this.first=r,this.last=o,this.size=s,this.norm=a,this.worldSize=l,this.wrap=c,this._spatialReferenceOrigin=u,this._spatialReferenceValid=d}normalizeCol(e){if(!this.wrap)return e;const t=this.worldSize[0];return e<0?t-1-Math.abs((e+1)%t):e%t}normalizeKey(e){if(!this.wrap)return;const t=this.worldSize[0],i=e.col;i<0?(e.col=i+t,e.world-=1):i>=t&&(e.col=i-t,e.world+=1)}denormalizeCol(e,t){return this.wrap?this.worldSize[0]*t+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){const t=this.origin[0]+e*this.norm[0],i=this._spatialReferenceOrigin,n=this._spatialReferenceValid;return this.wrap&&i&&n?t===i[0]?n[0]:this.origin[0]===i[0]&&e===this.worldSize[0]?n[1]:t:t}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.set(t);const n=i?a.col:this.denormalizeCol(a.col,a.world),r=a.row;return function(e,t,i,n,r){e[0]=t,e[1]=i,e[2]=n,e[3]=r}(e,this.getXForColumn(n),this.getYForRow(r+1),this.getXForColumn(n+1),this.getYForRow(r)),e}getTileCoords(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.set(t);const n=i?a.col:this.denormalizeCol(a.col,a.world);return Array.isArray(e)?s(e,this.getXForColumn(n),this.getYForRow(a.row)):(e.x=this.getXForColumn(n),e.y=this.getYForRow(a.row)),e}}var c=i(18798);class u{constructor(e,t,i){this.row=e,this.colFrom=t,this.colTo=i}}const d=new r.A("0/0/0/0");class h{static create(e,t){e[1]>t[1]&&([e,t]=[t,e]);const[i,n]=e,[r,o]=t,s=r-i,a=o-n,l=0!==a?s/a:0,c=(Math.ceil(n)-n)*l,u=(Math.floor(n)-n)*l;return new h(i,Math.floor(n),Math.ceil(o),l,s<0?c:u,s<0?u:c,s<0?r:i,s<0?i:r)}constructor(e,t,i,n,r,o,s,a){this.x=e,this.ymin=t,this.ymax=i,this.invM=n,this.leftAdjust=r,this.rightAdjust=o,this.leftBound=s,this.rightBound=a}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const p=[[0,0],[0,0],[0,0],[0,0]];class f{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.lods[0].level,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.lods[e.lods.length-1].level;this.tileInfo=e,this.fullExtent=t,this.scales=[],this._infoByScale={},this._infoByLevel={};const r=e.lods.filter((e=>e.level>=i&&e.level<=n));this.minScale=r[0].scale,this.maxScale=r[r.length-1].scale;const o=this._lodInfos=r.map((i=>l.create(e,i,t)));r.forEach(((e,t)=>{this._infoByLevel[e.level]=o[t],this._infoByScale[e.scale]=o[t],this.scales[t]=e.scale}),this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel["number"==typeof e?e:e.level]}getTileBounds(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d.set(t);const n=this._infoByLevel[d.level];return n?n.getTileBounds(e,d,i):e}getTileCoords(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d.set(t);const n=this._infoByLevel[d.level];return n?n.getTileCoords(e,d,i):e}getTileCoverage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:192,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"closest";if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const n="closest"===i?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),r=c.A.pool.acquire(n),o=this._wrap;let s,a,l,d=1/0,f=-1/0;const m=r.spans;p[0][0]=p[0][1]=p[1][1]=p[3][0]=-t,p[1][0]=p[2][0]=e.size[0]+t,p[2][1]=p[3][1]=e.size[1]+t;for(const c of p)e.toMap(c,c),c[0]=n.getColumnForX(c[0]),c[1]=n.getRowForY(c[1]);const y=[];let g=3;for(let c=0;c<4;c++){if(p[c][1]===p[g][1]){g=c;continue}const e=h.create(p[c],p[g]);d=Math.min(e.ymin,d),f=Math.max(e.ymax,f),void 0===y[e.ymin]&&(y[e.ymin]=[]),y[e.ymin].push(e),g=c}if(null==d||null==f||f-d>100)return null;let v=[];for(s=d;s<f;){null!=y[s]&&(v=v.concat(y[s])),a=1/0,l=-1/0;for(let e=v.length-1;e>=0;e--){const t=v[e];a=Math.min(a,t.getLeftCol()),l=Math.max(l,t.getRightCol())}if(a=Math.floor(a),l=Math.floor(l),s>=n.first[1]&&s<=n.last[1])if(o)if(n.size[0]<n.worldSize[0]){const e=Math.floor(l/n.worldSize[0]);for(let t=Math.floor(a/n.worldSize[0]);t<=e;t++)m.push(new u(s,Math.max(n.getFirstColumnForWorld(t),a),Math.min(n.getLastColumnForWorld(t),l)))}else m.push(new u(s,a,l));else a>n.last[0]||l<n.first[0]||(a=Math.max(a,n.first[0]),l=Math.min(l,n.last[0]),m.push(new u(s,a,l)));s+=1;for(let e=v.length-1;e>=0;e--){const t=v[e];t.ymax>=s?t.incrRow():v.splice(e,1)}}return r}getTileParentId(e){d.set(e);const t=this._infoByLevel[d.level],i=this._lodInfos.indexOf(t)-1;return i<0?null:(this._getTileIdAtLOD(d,this._lodInfos[i],d),d.id)}getTileResolution(e){const t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1}getTileScale(e){const t=this._infoByLevel[e.level];return t?t.scale:-1}intersects(e,t){d.set(t);const i=this._infoByLevel[d.level],n=e.lodInfo;if(n.resolution>i.resolution){this._getTileIdAtLOD(d,n,d);const t=n.denormalizeCol(d.col,d.world);for(const i of e.spans)if(i.row===d.row&&i.colFrom<=t&&i.colTo>=t)return!0}if(n.resolution<i.resolution){const[t,r,o,s]=e.spans.reduce(((e,t)=>(e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e)),[1/0,-1/0,1/0,-1/0]),a=i.denormalizeCol(d.col,d.world),l=n.getColumnForX(i.getXForColumn(a)),c=n.getRowForY(i.getYForRow(d.row)),u=n.getColumnForX(i.getXForColumn(a+1))-1,h=n.getRowForY(i.getYForRow(d.row+1))-1;return!(l>s||u<o||c>r||h<t)}const r=n.denormalizeCol(d.col,d.world);return e.spans.some((e=>e.row===d.row&&e.colFrom<=r&&e.colTo>=r))}normalizeBounds(e,t,i){if(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._wrap){const t=(0,n.Vp)(this.tileInfo.spatialReference),r=-i*(t.valid[1]-t.valid[0]);e[0]+=r,e[2]+=r}return e}getSmallestInfoForScale(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(let i=1;i<t.length-1;i++)if(e>t[i]+1e-6)return this._infoByScale[t[i-1]];return this._infoByScale[t[t.length-1]]}getClosestInfoForScale(e){const t=this.scales;return this._infoByScale[e]||(e=t.reduce(((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t),t[0])),this._infoByScale[e]}scaleToLevel(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let i=t.length-1;i>=0;i--)if(e<t[i])return i===t.length-1?this._infoByScale[t[t.length-1]].level:this._infoByScale[t[i]].level+(t[i]-e)/(t[i]-t[i+1]);return this._infoByScale[t[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}zoomToScale(e){return this.tileInfo.zoomToScale(e)}_getTileIdAtLOD(e,t,i){const n=this._infoByLevel[i.level];return e.set(i),t.resolution<n.resolution?null:(t.resolution===n.resolution||(e.level=t.level,e.col=Math.floor(i.col*n.resolution/t.resolution+.01),e.row=Math.floor(i.row*n.resolution/t.resolution+.01)),e)}}},40565:(e,t,i)=>{i.d(t,{EK:()=>x,GB:()=>c,GX:()=>l,MB:()=>C,Nd:()=>k,PZ:()=>v,Qp:()=>h,Uv:()=>I,Vr:()=>u,Zu:()=>N,_e:()=>T,aq:()=>P,dp:()=>b,e6:()=>E,eC:()=>M,gK:()=>R,jz:()=>O,wB:()=>A});i(81806);var n=i(76460),r=i(87663);const o=()=>n.A.getLogger("esri.core.accessorSupport.ensureTypes");function s(e){return null==e?e:new Date(e)}function a(e){return null==e?e:!!e}function l(e){return null==e?e:e.toString()}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?e:(e=parseFloat(e),isNaN(e)?t:e)}function u(e){return null==e?e:Math.round(parseFloat(e))}function d(e){return null}function h(e,t){return i=>{let n=e(i);return null!=t.step&&(n=Math.round(n/t.step)*t.step),null!=t.min&&(n=Math.max(t.min,n)),null!=t.max&&(n=Math.min(t.max,n)),n}}function p(e){return(null===e||void 0===e?void 0:e.constructor)&&void 0!==e.constructor.__accessorMetadata__}function f(e,t){return null!=t&&e&&!(t instanceof e)}function m(e){return e&&"isCollection"in e}function y(e){return null!==e&&void 0!==e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function g(e,t){return!!p(t)&&(o().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+_(e)+"'"),!0)}function v(e,t){return null==t?t:m(e)?function(e,t){if(null===t||void 0===t||!t.constructor||!m(t.constructor))return g(e,t)?t:new e(t);const i=y(e.prototype.itemType),n=y(t.constructor.prototype.itemType);return i?n?i===n?t:i.prototype.isPrototypeOf(n.prototype)?new e(t):(g(e,t),t):new e(t):t}(e,t):f(e,t)?g(e,t)?t:new e(t):t}function _(e){var t;return(null===e||void 0===e||null===(t=e.prototype)||void 0===t?void 0:t.declaredClass)||"unknown"}const w=new WeakMap;function b(e,t){const i=function(e){switch(e){case Number:return e=>c(e);case O:return u;case Boolean:return a;case String:return l;case Date:return s;case I:return d;default:return(0,r.tE)(w,e,(()=>v.bind(null,e)))}}(e);return 1===arguments.length?i:i(t)}function A(e,t,i){return 1===arguments.length?A.bind(null,e):t?Array.isArray(t)?t.map((t=>e(t,i))):[e(t,i)]:t}function M(e,t){return 1===arguments.length?A((t=>b(e,t))):A((t=>b(e,t)),t)}function S(e,t,i){return 0!==t&&Array.isArray(i)?i.map((i=>S(e,t-1,i))):e(i)}function T(e,t,i){if(2===arguments.length)return i=>T(e,t,i);if(!i)return i;i=S(e,t,i);let n=t,r=i;for(;n>0&&Array.isArray(r);)n--,r=r[0];if(void 0!==r)for(let o=0;o<n;o++)i=[i];return i}function E(e,t,i){return 2===arguments.length?T((t=>b(e,t)),t):T((t=>b(e,t)),t,i)}function x(e){return!!Array.isArray(e)&&!e.some((t=>{const i=typeof t;return!("string"===i||"number"===i||"function"===i&&e.length>1)}))}function C(e,t){if(2===arguments.length)return C(e).call(null,t);const i=new Set,n=e.filter((e=>"function"!=typeof e)),r=e.filter((e=>"function"==typeof e));for(const o of e)"string"!=typeof o&&"number"!=typeof o||i.add(o);let s=null,a=null;return(e,t)=>{if(null==e)return e;const l=typeof e,c="string"===l||"number"===l;return c&&(i.has(e)||r.some((e=>"string"===l&&e===String||"number"===l&&e===Number)))||"object"===l&&r.some((t=>!f(e,t)))?e:(c&&n.length?(s||(s=n.map((e=>"string"==typeof e?"'".concat(e,"'"):"".concat(e))).join(", ")),o().error("Accessor#set","'".concat(e,"' is not a valid value for this property, only the following values are valid: ").concat(s))):"object"==typeof e&&r.length?(a||(a=r.map((e=>_(e))).join(", ")),o().error("Accessor#set","'".concat(e,"' is not a valid value for this property, value must be one of ").concat(a))):o().error("Accessor#set","'".concat(e,"' is not a valid value for this property")),t&&(t.valid=!1),null)}}function P(e,t){if(2===arguments.length)return P(e).call(null,t);const i={},n=[],r=[];for(const o in e.typeMap){const t=e.typeMap[o];i[o]=b(t),n.push(_(t)),r.push(o)}const s=()=>"'".concat(n.join("', '"),"'"),a=()=>"'".concat(r.join("', '"),"'"),l="string"==typeof e.key?t=>t[e.key]:e.key;return t=>{if(e.base&&!f(e.base,t))return t;if(null==t)return t;const n=l(t)||e.defaultKeyValue,r=i[n];if(!r)return o().error("Accessor#set","Invalid property value, value needs to be one of ".concat(s(),", or a plain object that can autocast (having .type = ").concat(a(),")")),null;if(!f(e.typeMap[n],t))return t;if("string"==typeof e.key&&!p(t)){const i={};for(const n in t)n!==e.key&&(i[n]=t[n]);return r(i)}return r(t)}}class O{}class I{}const R={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function N(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function k(e){switch(e.type){case"native":return b(e.value);case"array":return A(k(e.value));case"one-of":return function(e){let t=null;return(i,n)=>D(i,e)?i:(null==t&&(t=L(e)),o().error("Accessor#set","Invalid property value, value needs to be of type ".concat(t)),n&&(n.valid=!1),null)}(e);default:return null}}function L(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case O:return"integer";case Date:return"date";case I:return"null";default:return _(e.value)}case"array":return"array of ".concat(L(e.value));case"one-of":{const t=e.values.map((e=>L(e)));return"one of ".concat(t.slice(0,-1)," or ").concat(t[t.length-1])}}return"unknown"}function D(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case O:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e;case I:return null===e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((e=>!D(e,t.value)));case"one-of":return t.values.some((t=>D(e,t)))}}},40585:(e,t,i)=>{i.d(t,{A:()=>h});var n,r=i(35143),o=i(45802),s=i(42553),a=i(46053),l=(i(81806),i(76460),i(47249),i(6409)),c=i(85842),u=i(17542);let d=n=class extends s.A{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){var e;return new n({fieldName:this.fieldName,format:null===(e=this.format)||void 0===e?void 0:e.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"fieldName",void 0),(0,r._)([(0,a.MZ)({type:u.A,json:{write:!0}})],d.prototype,"format",void 0),(0,r._)([(0,a.MZ)({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],d.prototype,"isEditable",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"label",void 0),(0,r._)([(0,l.e)(new o.J({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],d.prototype,"stringFieldOption",void 0),(0,r._)([(0,a.MZ)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],d.prototype,"statisticType",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"tooltip",void 0),(0,r._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"visible",void 0),d=n=(0,r._)([(0,c.$)("esri.popup.FieldInfo")],d);const h=d},40836:(e,t,i)=>{i.d(t,{T:()=>s});var n=i(54901),r=i(18690);class o{constructor(e,t){this._observers=e,this._observer=t}remove(){(0,r.TF)(this._observers,this._observer)}}class s{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return a;null==this._observers&&(this._observers=[]);const t=this._observers;let i=!1,n=!1;const r=t.length;for(let o=0;o<r;++o){const r=t[o];if(r.destroyed)n=!0;else if(r===e){i=!0;break}}return i||(t.push(e),n&&this._removeDestroyedObservers()),new o(t,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||0===e.length)return;const t=e.length;let i=0;for(let n=0;n<t;++n){for(;n+i<t&&e[n+i].destroyed;)++i;if(i>0){if(!(n+i<t))break;e[n]=e[n+i]}}e.length=t-i}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(null!=e){for(const t of e)t.onCommitted();this._observers=null}}}const a=(0,n.hA)()},41036:(e,t,i)=>{i.d(t,{i:()=>n,p:()=>o});const n=(0,i(81806).A)("mac")?"Meta":"Control",r=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),o=e=>r.has(e)},41210:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(35143),r=i(42553),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842));let a=class extends r.A{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],a.prototype,"altText",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],a.prototype,"caption",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],a.prototype,"title",void 0),(0,n._)([(0,o.MZ)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=(0,n._)([(0,s.$)("esri.popup.content.mixins.MediaInfo")],a);const l=a},41289:(e,t,i)=>{function n(e,t){for(const i of e.values())if(t(i))return!0;return!1}function r(e,t){if(!t)return e;for(const i of t)null!=i&&e.add(i);return e}function o(e,t){return null!=t&&e.add(t),e}function s(e,t){const i=new Set;return r(i,e),r(i,t),i}function a(e,t){const i=new Set;for(const n of t)e.has(n)&&i.add(n);return i}function l(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function c(e,t){if(null==e&&null==t)return!0;if(null==e||null==t||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function u(e,t){const i=new Set(e);for(const n of t)i.delete(n);return i}function d(e,t){return u(s(e,t),a(e,t))}i.d(t,{BT:()=>d,E$:()=>a,FB:()=>r,KC:()=>s,Yy:()=>l,aI:()=>c,bw:()=>n,iv:()=>u,kb:()=>o})},42286:()=>{},42294:(e,t,i)=>{i.d(t,{BI:()=>L,DC:()=>p,ES:()=>N,Ej:()=>M,Hq:()=>m,Ie:()=>R,Jf:()=>y,Jt:()=>k,KG:()=>T,Ne:()=>P,RF:()=>h,Rz:()=>c,Uc:()=>S,VL:()=>v,_F:()=>b,aI:()=>F,cY:()=>E,fA:()=>a,fT:()=>Z,gE:()=>u,gX:()=>A,hZ:()=>I,hs:()=>x,iT:()=>f,is:()=>D,pg:()=>C,qv:()=>U,uJ:()=>w,vI:()=>O,vQ:()=>g,vY:()=>l,v_:()=>j,vt:()=>s,w1:()=>d,yr:()=>_});var n=i(76797),r=i(2413),o=i(44815);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return[e[0],e[1],e[2],e[3],e[4],e[5]]}function a(e,t,i,n,r,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:s();return a[0]=e,a[1]=t,a[2]=i,a[3]=n,a[4]=r,a[5]=o,a}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return c(e,0,e.length/3,t)}function c(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s();return I(n,U),m(n,e,t,i),n}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.jh)(24);const[i,n,r,s,a,l]=e;return t[0]=i,t[1]=n,t[2]=r,t[3]=i,t[4]=n,t[5]=l,t[6]=i,t[7]=a,t[8]=r,t[9]=i,t[10]=a,t[11]=l,t[12]=s,t[13]=n,t[14]=r,t[15]=s,t[16]=n,t[17]=l,t[18]=s,t[19]=a,t[20]=r,t[21]=s,t[22]=a,t[23]=l,t}function d(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new n.A(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function h(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function p(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function f(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function m(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length/3,r=e[0],o=e[1],s=e[2],a=e[3],l=e[4],c=e[5];for(let u=0;u<n;u++)r=Math.min(r,t[i+3*u]),o=Math.min(o,t[i+3*u+1]),s=Math.min(s,t[i+3*u+2]),a=Math.max(a,t[i+3*u]),l=Math.max(l,t[i+3*u+1]),c=Math.max(c,t[i+3*u+2]);e[0]=r,e[1]=o,e[2]=s,e[3]=a,e[4]=l,e[5]=c}function y(e,t,i){const n=t.length;let r=e[0],o=e[1],s=e[2],a=e[3],l=e[4],c=e[5];if(i)for(let u=0;u<n;u++){const e=t[u];r=Math.min(r,e[0]),o=Math.min(o,e[1]),s=Math.min(s,e[2]),a=Math.max(a,e[0]),l=Math.max(l,e[1]),c=Math.max(c,e[2])}else for(let u=0;u<n;u++){const e=t[u];r=Math.min(r,e[0]),o=Math.min(o,e[1]),a=Math.max(a,e[0]),l=Math.max(l,e[1])}e[0]=r,e[1]=o,e[2]=s,e[3]=a,e[4]=l,e[5]=c}function g(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function v(e){return e[0]>=e[3]?0:e[3]-e[0]}function _(e){return e[1]>=e[4]?0:e[4]-e[1]}function w(e){return e[2]>=e[5]?0:e[5]-e[2]}function b(e){const t=v(e),i=w(e),n=_(e);return Math.sqrt(t*t+i*i+n*n)}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return t[0]=e[0]+v(e)/2,t[1]=e[1]+_(e)/2,t[2]=e[2]+w(e)/2,t}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return t[0]=v(e),t[1]=_(e),t[2]=w(e),t}function S(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function T(e,t){return null==t||function(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}(e,t)}function E(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e;return r[0]=e[0]+t,r[1]=e[1]+i,r[2]=e[2]+n,r[3]=e[3]+t,r[4]=e[4]+i,r[5]=e[5]+n,r}function x(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const n=e[0]+v(e)/2,r=e[1]+_(e)/2,o=e[2]+w(e)/2;return i[0]=n+(e[0]-n)*t,i[1]=r+(e[1]-r)*t,i[2]=o+(e[2]-o)*t,i[3]=n+(e[3]-n)*t,i[4]=r+(e[4]-r)*t,i[5]=o+(e[5]-o)*t,i}function C(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function P(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function O(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function I(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function R(e){return e?I(e,U):s(U)}function N(e,t){return t||(t=(0,r.vt)()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function k(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function L(e,t,i,n,r){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=n,e[4]=r,e[5]=Number.POSITIVE_INFINITY,e}function D(e){return 6===e.length}function Z(e){return 0===v(e)&&0===_(e)&&0===w(e)}function F(e,t,i){if(null==e||null==t)return e===t;if(!D(e)||!D(t))return!1;if(i){for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const U=[1/0,1/0,1/0,-1/0,-1/0,-1/0],j=[0,0,0,0,0,0];s()},42458:(e,t,i)=>{i.d(t,{t:()=>c});var n=i(93014),r=i(77943),o=i(52185),s=i(6026),a=i(15847),l=i(3831),c=(0,n.gu)({chartName:"ScatterChart",GraphicalChild:r.X,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:o.W},{axisType:"yAxis",AxisComp:s.h},{axisType:"zAxis",AxisComp:a.K}],formatAxisMap:l.pr})},42553:(e,t,i)=>{i.d(t,{A:()=>g});var n=i(35143),r=i(91967),o=i(53084),s=i(49140);class a{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const t=new a;return this._values.forEach(((i,n)=>{e&&e.has(n)||t.set(n,(0,o.o8)(i.value),i.origin)})),t}get(e,t){t=this._normalizeOrigin(t);const i=this._values.get(e);return null==t||(null===i||void 0===i?void 0:i.origin)===t?null===i||void 0===i?void 0:i.value:void 0}originOf(e){var t,i;return null!==(t=null===(i=this._values.get(e))||void 0===i?void 0:i.origin)&&void 0!==t?t:s.Gr.USER}keys(e){e=this._normalizeOrigin(e);const t=[...this._values.keys()];return null==e?t:t.filter((t=>{var i;return(null===(i=this._values.get(t))||void 0===i?void 0:i.origin)===e}))}set(e,t,i){if((i=this._normalizeOrigin(i))===s.Gr.DEFAULTS){const t=this._values.get(e);if(null!=(null===t||void 0===t?void 0:t.origin)&&t.origin>i)return}this._values.set(e,new l(t,i))}delete(e,t){var i;null!=(t=this._normalizeOrigin(t))&&(null===(i=this._values.get(e))||void 0===i?void 0:i.origin)!==t||this._values.delete(e)}has(e,t){var i;return null!=(t=this._normalizeOrigin(t))?(null===(i=this._values.get(e))||void 0===i?void 0:i.origin)===t:this._values.has(e)}forEach(e){this._values.forEach(((t,i)=>{let{value:n}=t;return e(n,i)}))}_normalizeOrigin(e){if(null!=e)return e===s.Gr.DEFAULTS?e:s.Gr.USER}}class l{constructor(e,t){this.value=e,this.origin=t}}var c=i(60351),u=i(6527),d=i(39314),h=i(29584),p=i(85842);const f=e=>{let t=class extends e{constructor(){super(...arguments);const e=(0,d.oY)(this),t=e.store,i=new a;e.store=i,(0,c.k)(e,t,i)}read(e,t){(0,u.L)(this,e,t)}write(e,t){return(0,h.M)(this,null!==e&&void 0!==e?e:{},t)}toJSON(e){return this.write({},e)}static fromJSON(e,t){return m.call(this,e,t)}};return t=(0,n._)([(0,p.$)("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function m(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}let y=class extends(f(r.A)){};y=(0,n._)([(0,p.$)("esri.core.JSONSupport")],y),function(e){e.JSONSupportMixin=f,e.isSerializable=function(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}}(y||(y={}));const g=y},43295:(e,t,i)=>{i.d(t,{O:()=>s,p:()=>o});var n=i(11352);const r=e=>parseFloat(e)/100;function o(e,t,i){const n="string"==typeof e.left?r(e.left)*t:e.left,o="string"==typeof e.right?r(e.right)*t:e.right,s="string"==typeof e.top?r(e.top)*i:e.top,a="string"==typeof e.bottom?r(e.bottom)*i:e.bottom,l=s;return{xmin:n,xmax:Math.max(t-o,n),ymin:l,ymax:Math.max(i-a,s)}}function s(e,t,i,r){switch(t.type){case"rect":{const{width:n,height:r}=e,{xmin:s,xmax:a,ymin:l,ymax:c}=o(t,n,r),{x:u,y:d}=i;return u>s&&u<a&&d>l&&d<c}case"path":return 0===t.path.length||!Array.isArray(t.path[0][0])||(0,n.t1)(t.path,[i.x,i.y]);case"geometry":return null==t.geometry||("polygon"===t.geometry.type?(0,n.m3)(t.geometry,r):(0,n.qz)(t.geometry,r))}}},44081:(e,t,i)=>{i.d(t,{LF:()=>a,M9:()=>l,zu:()=>c});var n=i(50076),r=i(48611),o=i(7847),s=i(58503);function a(e,t,i){try{return function(e){if(!e||0===e.length)return null;if(function(e){const t=e[0];return!!t&&"scale"in t}(e)){const t=[];for(const i of e)t.push({scale:i.scale,value:c(i.value)});return t}return c(e)}(e)}catch(r){var n;null===i||void 0===i||null===(n=i.messages)||void 0===n||n.push(r)}return null}function l(e,t,i,n){try{const n=function(e){const t=(0,o.q)(e);return t?(0,s.dw)(t)?t.map((e=>e.toJSON())):t.map((e=>{let{scale:t,effects:i}=e;return{scale:t,value:i.map((e=>e.toJSON()))}})):null}(e);(0,r.sM)(i,n,t)}catch(l){n.messages&&n.messages.push(l)}}function c(e){if(null===e||void 0===e||!e.length)return"";const t=[];for(const i of e){let e=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":e=[u(i,"amount")];break;case"blur":e=[u(i,"radius","pt")];break;case"hue-rotate":e=[u(i,"angle","deg")];break;case"drop-shadow":e=[u(i,"xoffset","pt"),u(i,"yoffset","pt"),u(i,"blurRadius","pt"),d(i,"color")];break;case"bloom":e=[u(i,"strength"),u(i,"radius","pt"),u(i,"threshold")]}const n="".concat(i.type,"(").concat(e.filter(Boolean).join(" "),")");(0,o.q)(n),t.push(n)}return t.join(" ")}function u(e,t,i){if(null==e[t])throw new n.A("effect:missing-parameter","Missing parameter '".concat(t,"' in ").concat(e.type," effect"),{effect:e});return i?e[t]+i:""+e[t]}function d(e,t){if(null==e[t])throw new n.A("effect:missing-parameter","Missing parameter '".concat(t,"' in ").concat(e.type," effect"),{effect:e});const i=e[t];return"rgba(".concat(i[0]||0,", ").concat(i[1]||0,", ").concat(i[2]||0,", ").concat(i[3]/255||0,")")}},44135:(e,t,i)=>{i.d(t,{A:()=>y});var n,r=i(35143),o=i(45802),s=i(42553),a=i(46053),l=i(40565),c=(i(81806),i(47249),i(6409)),u=i(28379),d=i(85842),h=i(76866),p=i(6127);const f=new o.J({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let m=n=class extends s.A{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,t){var i,n;let{description:r}=t,o=null;try{o=r?JSON.parse(r):null}catch(s){}return null!==(i=null===(n=o)||void 0===n?void 0:n.value)&&void 0!==i?i:null}readValueType(e,t){let{description:i}=t,n=null;try{n=i?JSON.parse(i):null}catch(r){}return n?f.fromJSON(n.fieldValueType):null}clone(){var e,t;return new n({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:null!==(e=null===(t=this.domain)||void 0===t?void 0:t.clone())&&void 0!==e?e:null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],m.prototype,"alias",void 0),(0,r._)([(0,a.MZ)({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,"defaultValue",void 0),(0,r._)([(0,a.MZ)()],m.prototype,"description",void 0),(0,r._)([(0,u.w)("description")],m.prototype,"readDescription",null),(0,r._)([(0,a.MZ)({types:h.gK,json:{read:{reader:h.rS},write:!0}})],m.prototype,"domain",void 0),(0,r._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],m.prototype,"editable",void 0),(0,r._)([(0,a.MZ)({type:l.jz,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],m.prototype,"length",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,r._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],m.prototype,"nullable",void 0),(0,r._)([(0,c.e)(p.m)],m.prototype,"type",void 0),(0,r._)([(0,a.MZ)()],m.prototype,"valueType",void 0),(0,r._)([(0,u.w)("valueType",["description"])],m.prototype,"readValueType",null),(0,r._)([(0,a.MZ)({type:Boolean,json:{read:!1}})],m.prototype,"visible",void 0),m=n=(0,r._)([(0,d.$)("esri.layers.support.Field")],m);const y=m},44631:(e,t,i)=>{i.d(t,{A:()=>d});var n=i(35143),r=i(45802),o=i(42553),s=i(46053),a=(i(81806),i(76460),i(47249),i(6409)),l=i(85842);const c=new r.J({inherited:"inherited",codedValue:"coded-value",range:"range"});let u=class extends o.A{constructor(e){super(e),this.name=null,this.type=null}};(0,n._)([(0,s.MZ)({type:String,json:{write:!0}})],u.prototype,"name",void 0),(0,n._)([(0,a.e)(c),(0,s.MZ)({json:{write:{isRequired:!0}}})],u.prototype,"type",void 0),u=(0,n._)([(0,l.$)("esri.layers.support.Domain")],u);const d=u},44815:(e,t,i)=>{i.d(t,{jh:()=>r,l5:()=>s,xm:()=>o});var n=i(78393);function r(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e<=n.y9?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function o(e){return((0,n.iu)(e)?e.byteLength/8:e.length)<=n.y9?Array.from(e):new Float64Array(e)}function s(e,t,i){return Array.isArray(e)?e.slice(t,t+i):e.subarray(t,t+i)}},45012:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(54901),r=(i(81806),i(50346)),o=i(59649),s=i(15303),a=i(28786),l=i(59989);class c{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new o.A}destroy(){this.close()}get closed(){var e;return!(null!==(e=this._clients)&&void 0!==e&&e.length)}open(e,t){return new Promise(((i,n)=>{let o=!0;const s=e=>{(0,r.Te)(t.signal),o&&(o=!1,e())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let a=0;a<e.length;++a){const o=e[a];(0,r.$X)(o)?this._clientPromises[a]=o.then((e=>(this._clients[a]=new l.A(e,t,this._ongoingJobsQueue),s(i),this._clients[a])),(()=>(s(n),null))):(this._clients[a]=new l.A(o,t,this._ongoingJobsQueue),this._clientPromises[a]=Promise.resolve(this._clients[a]),s(i))}}))}broadcast(e,t,i){const n=new Array(this._clientPromises.length);for(let r=0;r<this._clientPromises.length;++r){const o=this._clientPromises[r];n[r]=o.then((n=>null===n||void 0===n?void 0:n.invoke(e,t,i)))}return n}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject((0,r.NK)("Worker closing, aborting job calling '".concat(e.methodName,"'")));for(const t of this._clientPromises)t.then((e=>null===e||void 0===e?void 0:e.close()));this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,(0,s.h)(this)}invoke(e,t,i){return this.apply(e,[t],i)}apply(e,t,i){const n=(0,r.Tw)();this._ongoingJobsQueue.push({methodName:e,data:t,invokeOptions:i,resolver:n});for(let r=0;r<this._clientPromises.length;r++){const e=this._clients[r];e?e.jobAdded():this._clientPromises[r].then((e=>null===e||void 0===e?void 0:e.jobAdded()))}return n.promise}createInvokeProxy(e){return(0,a.L)(this,e)}on(e,t){return Promise.all(this._clientPromises).then((()=>(0,n.vE)(this._clients.map((i=>i.on(e,t))))))}openPorts(){return new Promise((e=>{const t=new Array(this._clientPromises.length);let i=t.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then((r=>{r&&(t[n]=r.openPort()),0==--i&&e(t)}))}))}get test(){}}},45180:(e,t,i)=>{i.d(t,{Ci:()=>s,HQ:()=>r,XK:()=>o,aY:()=>n});const n=1,r=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],s=256},45308:(e,t,i)=>{i.r(t),i.d(t,{projectBuffer:()=>r});var n=i(482);function r(e,t,i,r,o,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.floor(e.length/3);const l=(0,n.jd)(t,o);if(null==l)return!1;if(l===n.pO){if(e===r&&i===s)return!0;const t=i+3*a;for(let n=i,o=s;n<t;n++,o++)r[o]=e[n];return!0}const c=i+3*a;for(let n=i,u=s;n<c;n+=3,u+=3)l(e,n,r,u);return!0}},45417:(e,t,i)=>{i.d(t,{Cv:()=>g,Gh:()=>w,ci:()=>b,je:()=>v,jg:()=>h,tD:()=>_,y7:()=>y});var n=i(53084),r=i(38590),o=i(13312),s=i(14556),a=i(80963);const l=57.29577951308232,c=.017453292519943;function u(e){return e*l}function d(e){return e*c}function h(e){return Math.PI/2-2*Math.atan(Math.exp(-e/s.$O.radius))}function p(e){return null!=e.wkid||null!=e.wkt}const f=[0,0];function m(e,t,i,n,r){const o=e,s=r;if(s.spatialReference=i,"x"in o&&"x"in s)[s.x,s.y]=t(o.x,o.y,f,n);else if("xmin"in o&&"xmin"in s)[s.xmin,s.ymin]=t(o.xmin,o.ymin,f,n),[s.xmax,s.ymax]=t(o.xmax,o.ymax,f,n);else if("paths"in o&&"paths"in s||"rings"in o&&"rings"in s){const e="paths"in o?o.paths:o.rings,i=[];let r;for(let o=0;o<e.length;o++){const s=e[o];r=[],i.push(r);for(let e=0;e<s.length;e++)r.push(t(s[e][0],s[e][1],[0,0],n)),s[e].length>2&&r[e].push(s[e][2]),s[e].length>3&&r[e].push(s[e][3])}"paths"in s?s.paths=i:s.rings=i}else if("points"in o&&"points"in s){const e=o.points,i=[];for(let r=0;r<e.length;r++)i[r]=t(e[r][0],e[r][1],[0,0],n),e[r].length>2&&i[r].push(e[r][2]),e[r].length>3&&i[r].push(e[r][3]);s.points=i}return r}function y(e,t){const i=e&&(p(e)?e:e.spatialReference),n=t&&(p(t)?t:t.spatialReference);return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!i||!n)&&(!!(0,a.aI)(n,i)||(0,a.K8)(n)&&(0,a.oT)(i)||(0,a.K8)(i)&&(0,a.oT)(n))}function g(e,t){if(null==e)return null;const i=e.spatialReference,r=t&&(p(t)?t:t.spatialReference);return y(i,r)?(0,a.aI)(i,r)?(0,n.o8)(e):(0,a.K8)(r)?m(e,v,o.A.WebMercator,!1,(0,n.o8)(e)):(0,a.oT)(r)?m(e,_,o.A.WGS84,!1,(0,n.o8)(e)):null:null}function v(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=d(t);return i[0]=d(e)*s.$O.radius,i[1]=s.$O.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),i}function _(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e===a.Mc[0])i[0]=-180;else if(e===a.Mc[1])i[0]=180;else{const t=u(e/s.$O.radius);i[0]=n?t:t-360*Math.floor((t+180)/360)}return i[1]=u(Math.PI/2-2*Math.atan(Math.exp(-t/s.$O.radius))),i}function w(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,n.o8)(e);return(0,r.f)(e),(0,r.f)(i),m(e,v,o.A.WebMercator,t,i)}function b(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,n.o8)(e);return(0,r.f)(e),(0,r.f)(i),m(e,_,o.A.WGS84,t,i)}},45730:(e,t,i)=>{i.d(t,{l:()=>d});var n=i(35143),r=i(94643),o=i(3975),s=i(76460),a=i(46053),l=(i(81806),i(47249),i(85842));const c=new Set(["feature","subtype-group"]);function u(e,t,i){if(e)for(let n=0,r=e.length;n<r;n++){const r=e.at(n);if(r[t]===i)return r;if("group"===(null===r||void 0===r?void 0:r.type)){const e=u(r.tables,t,i);if(e)return e}}}const d=e=>{let t=class extends e{constructor(){super(...arguments),this.tables=new r.A,this.addHandles([this.tables.on("after-add",(e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,c.has(t.type)||s.A.getLogger(this).error("Layer 'title:".concat(t.title,", id:").concat(t.id,"' of type '").concat(t.type,"' is not supported as a table and will therefore be ignored."))})),this.tables.on("after-remove",(e=>{e.item.parent=null}))])}destroy(){const e=this.tables.toArray();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",(0,o.V)(e,this._get("tables")))}findTableById(e){return u(this.tables,"id",e)}findTableByUid(e){return u(this.tables,"uid",e)}};return(0,n._)([(0,a.MZ)()],t.prototype,"tables",null),t=(0,n._)([(0,l.$)("esri.support.TablesMixin")],t),t}},45802:(e,t,i)=>{i.d(t,{J:()=>o,O:()=>a});var n=i(89379),r=i(48611);class o{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreUnknown:!1,useNumericKeys:!1};this._jsonToAPI=e,this._options=t,this.apiValues=[],this.jsonValues=[],this._apiToJSON=function(e){const t={};for(const i in e)t[e[i]]=i;return t}(e),this.apiValues=s(this._apiToJSON),this.jsonValues=s(this._jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,t,i)=>{const n=this.toJSON(e);void 0!==n&&(0,r.sM)(i,n,t)},this.write.isJSONMapWriter=!0}toJSON(e){if(null==e)return null;if(this._apiToJSON.hasOwnProperty(e)){const t=this._apiToJSON[e];return this._options.useNumericKeys?+t:t}return this._options.ignoreUnknown?null:e}fromJSON(e){return null!=e&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}}function s(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function a(){return function(e,t){return new o(e,(0,n.A)({ignoreUnknown:!0},t))}}},46053:(e,t,i)=>{i.d(t,{MZ:()=>l,rM:()=>c});var n=i(76460),r=i(40565),o=i(17879),s=i(19258),a=i(8819);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t,i)=>{if(t===Function.prototype)throw new Error("Inappropriate use of @property() on a static field: ".concat(t.name,".").concat(i,". Accessor does not support static properties."));const l=Object.getOwnPropertyDescriptor(t,i),c=(0,s.z4)(t,i);l&&(l.get||l.set?(c.get=l.get||c.get,c.set=l.set||c.set):"value"in l&&("value"in e&&n.A.getLogger("esri.core.accessorSupport.decorators.property").warn('@property() will redefine the value of "'.concat(i,'" on "').concat(t.constructor.name,'" already defined in the metadata'),e),c.value=e.value=l.value)),null!=e.readOnly&&(c.readOnly=e.readOnly);const u=e.aliasOf;if(u){const e="string"==typeof u?u:u.source,t="string"==typeof u?null:!0===u.overridable;let n;c.dependsOn=[e],c.get=function(){let t=(0,o.Jt)(this,e);if("function"==typeof t){n||(n=e.split(".").slice(0,-1).join("."));const i=(0,o.Jt)(this,n);i&&(t=t.bind(i))}return t},c.readOnly||(c.set=t?function(e){this._override(i,e)}:function(t){(0,a.h)(this,e,t)})}const d=e.type,h=e.types;if(!c.cast){let t;d?t=function(e){let t=0,i=e;if((0,r.Zu)(e))return(0,r.Nd)(e);for(;Array.isArray(i)&&1===i.length&&"string"!=typeof i[0]&&"number"!=typeof i[0];)i=i[0],t++;const n=i;if((0,r.EK)(n))return 0===t?(0,r.MB)(n):(0,r._e)((0,r.MB)(n),t);if(1===t)return(0,r.eC)(n);if(t>1)return(0,r.e6)(n,t);const o=e;return o.from?o.from:(0,r.dp)(o)}(d):h&&(t=Array.isArray(h)?(0,r.wB)((0,r.aq)(h[0])):(0,r.aq)(h)),e.cast=function(e,t){if(e||t)return e?t?(i,n)=>t(e(i,n),n):e:t}(e.cast,t)}(0,s.CX)(c,e),e.range&&(c.cast=(0,r.Qp)(c.cast,e.range))}}function c(e,t,i){const n=(0,s.z4)(e,i);n.json||(n.json={});let r=n.json;return void 0!==t&&(r.origins||(r.origins={}),r.origins[t]||(r.origins[t]={}),r=r.origins[t]),r}},46405:(e,t,i)=>{i.d(t,{lY:()=>d,mT:()=>h});var n,r=i(88685),o=i(64920),s=i(24241);!function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"}(n||(n={}));const a={[n.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};class l extends Error{constructor(e,t){super((0,r.HC)(a[e],t)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,l)}}function c(e,t,i){return e<t?e-t:e>i?e-i:0}function u(e,t,i){return e<t?t:e>i?i:e}class d{constructor(e){this._date=e,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7?arguments[7]:void 0;if(isNaN(e)||isNaN(t)||isNaN(i)||isNaN(n)||isNaN(r)||isNaN(o)||isNaN(a))return null;const p=s.c9.local(e,t).daysInMonth;let f=s.c9.fromObject({day:u(i,1,p),year:e,month:u(t,1,12),hour:u(n,0,23),minute:u(r,0,59),second:u(o,0,59),millisecond:u(a,0,999)},{zone:h(l)});return f=f.plus({months:c(t,1,12),days:c(i,1,p),hours:c(n,0,23),minutes:c(r,0,59),seconds:c(o,0,59),milliseconds:c(a,0,999)}),new d(f)}static get systemTimeZoneCanonicalName(){var e;return null!==(e=Intl.DateTimeFormat().resolvedOptions().timeZone)&&void 0!==e?e:"system"}static arcadeDateAndZoneToArcadeDate(e,t){const i=h(t);return e.isUnknownTimeZone||i===o.GB.instance?d.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,i):new d(e._date.setZone(i))}static dateJSToArcadeDate(e){return new d(s.c9.fromJSDate(e,{zone:"system"}))}static dateJSAndZoneToArcadeDate(e){const t=h(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"system");return new d(s.c9.fromJSDate(e,{zone:t}))}static unknownEpochToArcadeDate(e){return new d(s.c9.fromMillis(e,{zone:o.GB.instance}))}static unknownDateJSToArcadeDate(e){return new d(s.c9.fromMillis(e.getTime(),{zone:o.GB.instance}))}static epochToArcadeDate(e){const t=h(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"system");return new d(s.c9.fromMillis(e,{zone:t}))}static dateTimeToArcadeDate(e){return new d(e)}clone(){return new d(this._date)}changeTimeZone(e){const t=h(e);return d.dateTimeToArcadeDate(this._date.setZone(t))}static dateTimeAndZoneToArcadeDate(e,t){const i=h(t);return e.zone===o.GB.instance||i===o.GB.instance?d.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,i):new d(e.setZone(i))}static nowToArcadeDate(e){const t=h(e);return new d(s.c9.fromJSDate(new Date,{zone:t}))}static nowUTCToArcadeDate(){return new d(s.c9.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===d.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===o.GB.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";const e=this.zone;return"fixed"===e.type?0===e.fixed?"UTC":e.formatOffset(0,"short"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new d(this._date.plus(e))}diff(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds";return this._date.diff(e._date,t)[t]}toISODate(){return this._date.toISODate()}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(e,t){return this._date.toISOTime({suppressMilliseconds:e,includeOffset:t&&!this.isUnknownTimeZone})}toFormat(e,t){return this.isUnknownTimeZone&&(e=e.replaceAll("Z","")),this._date.toFormat(e,t)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return"timestamp '".concat(this.toSQLValue(),"'")}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new d(this._date.toUTC())}toLocal(){return new d(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(e){if(!e)return null;const t=s.c9.fromISO(e,{setZone:!0});return new d(t)}}function h(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e instanceof s.bo)return e;if("system"===e.toLowerCase())return"system";if("utc"===e.toLowerCase())return"UTC";if("unknown"===e.toLowerCase())return o.GB.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const t=s.mQ.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(t)return t}const i=s.oh.create(e);if(!i.isValid){if(t)throw new l(n.TimeZoneNotRecognized);return null}return i}},46813:(e,t,i)=>{i.d(t,{A:()=>p});var n,r=i(35143),o=i(45802),s=i(42553),a=i(53084),l=i(46053),c=(i(81806),i(76460),i(85842)),u=i(76797);const d=new o.J({upperLeft:"upper-left",lowerLeft:"lower-left"});let h=n=class extends s.A{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new n((0,a.o8)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,r._)([(0,l.MZ)({type:u.A,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],h.prototype,"extent",void 0),(0,r._)([(0,l.MZ)({type:["view","edit"],json:{write:!0}})],h.prototype,"mode",void 0),(0,r._)([(0,l.MZ)({type:String,json:{read:d.read,write:d.write}})],h.prototype,"originPosition",void 0),(0,r._)([(0,l.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],h.prototype,"tolerance",void 0),h=n=(0,r._)([(0,c.$)("esri.rest.support.QuantizationParameters")],h);const p=h},47249:(e,t,i)=>{i.d(t,{A:()=>n});class n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._seed=e}set seed(e){this._seed=null!==e&&void 0!==e?e:Math.random()*n._m}getInt(){return this._seed=(n._a*this._seed+n._c)%n._m,this._seed}getFloat(){return this.getInt()/(n._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(e,t){const i=t-e;return e+this.getInt()/n._m*i}}n._m=2147483647,n._a=48271,n._c=0},47437:(e,t,i)=>{i.d(t,{$E:()=>s,py:()=>o,qG:()=>a});const n=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,r={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function o(e){const t=null===e||void 0===e?void 0:e.match(n);if(!t)return null;const[,i,o,s]=t;if(!i)return null;let a=null,l=null,c=null;const{devext:u,qaext:d,www:h}=r;if(o)if(a=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:l,portalHostname:c}=u);break;case"qa":({customBaseUrl:l,portalHostname:c}=d);break;default:return null}else({customBaseUrl:l,portalHostname:c}=h);else switch(i.toLowerCase()){case"devext":({customBaseUrl:l,portalHostname:c}=u);break;case"qaext":({customBaseUrl:l,portalHostname:c}=d);break;case"www":({customBaseUrl:l,portalHostname:c}=h);break;default:return null}return{customBaseUrl:l,isPortal:!1,portalHostname:c,urlKey:a}}function s(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function a(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,n=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):n.test(e)&&(e=e.replace(n,"https://qaext.arcgis.com")),e}},47675:(e,t,i)=>{i.d(t,{E:()=>h,r:()=>p});var n,r=i(35143),o=i(45802),s=i(42553),a=i(46053),l=(i(81806),i(76460),i(47249),i(6409)),c=i(85842),u=i(79453);const d=(0,o.O)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let h=n=class extends s.A{clone(){return new n({href:this.href,primitive:this.primitive})}};(0,r._)([(0,a.MZ)({type:String,json:{read:u.r,write:u.w}})],h.prototype,"href",void 0),(0,r._)([(0,l.e)(d)],h.prototype,"primitive",void 0),h=n=(0,r._)([(0,c.$)("esri.symbols.support.ObjectSymbol3DLayerResource")],h);const p="sphere"},47700:(e,t,i)=>{i.d(t,{Hu:()=>a,jI:()=>f,zy:()=>u});i(81806);var n,r=i(50076),o=i(91605),s=i(13096);function a(e,t,i){const s=u(e),a=t,c=l(s,a,i);if(s){const t=o.A.deriveUnitFromSR(s,e.spatialReference).heightUnit;if(!i&&t!==s.heightUnit){const e=new r.A("layerview:unmatched-height-unit","The vertical units of the layer must match the horizontal units (".concat(t,")"),{horizontalUnit:t});return new r.A("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:s,error:e})}}if(!function(e){return"heightModelInfo"in e&&null!=e.heightModelInfo||null!=e.spatialReference||!p(e)}(e)||c===n.Unsupported)return new r.A("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:s});switch(c){case n.Units:{const e=(null===s||void 0===s?void 0:s.heightUnit)||"unknown",t=(null===a||void 0===a?void 0:a.heightUnit)||"unknown",i=new r.A("layerview:incompatible-height-unit","The vertical units of the layer (".concat(e,") must match the vertical units of the scene (").concat(t,")"),{layerUnit:e,sceneUnit:t});return new r.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:s,sceneHeightModelInfo:a,error:i})}case n.HeightModel:{const e=(null===s||void 0===s?void 0:s.heightModel)||"unknown",t=(null===a||void 0===a?void 0:a.heightModel)||"unknown",i=new r.A("layerview:incompatible-height-model","The height model of the layer (".concat(e,") must match the height model of the scene (").concat(t,")"),{layerHeightModel:e,sceneHeightModel:t});return new r.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:s,sceneHeightModelInfo:a,error:i})}case n.CRS:{const e=(null===s||void 0===s?void 0:s.vertCRS)||"unknown",t=(null===a||void 0===a?void 0:a.vertCRS)||"unknown",i=new r.A("layerview:incompatible-vertical-datum","The vertical datum of the layer (".concat(e,") must match the vertical datum of the scene (").concat(t,")"),{layerDatum:e,sceneDatum:t});return new r.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:s,sceneHeightModelInfo:a,error:i})}}return null}function l(e,t,i){if(!c(e)||!c(t))return n.Unsupported;if(null==e||null==t)return n.Ok;if(!i&&e.heightUnit!==t.heightUnit)return n.Units;if(e.heightModel!==t.heightModel)return n.HeightModel;switch(e.heightModel){case"gravity-related-height":return n.Ok;case"ellipsoidal":return e.vertCRS===t.vertCRS?n.Ok:n.CRS;default:return n.Unsupported}}function c(e){return null==e||null!=e.heightModel&&null!=e.heightUnit}function u(e){var t;if("integrated-mesh-3dtiles"===e.type)return null;const i=e.url?(0,s.qg)(e.url):void 0;return(null!=(null===(t=e.spatialReference)||void 0===t?void 0:t.vcsWkid)||null==i||"ImageServer"!==i.serverType)&&d(e)&&e.heightModelInfo?e.heightModelInfo:p(e)?o.A.deriveUnitFromSR(y,e.spatialReference):null}function d(e){return"heightModelInfo"in e}function h(e){if("unknown"===e.type||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function p(e){return h(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):m(e)}function f(e){return null!=e.layers||m(e)||h(e)||d(e)}function m(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}!function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"}(n||(n={}));const y=new o.A({heightModel:"gravity-related-height"})},47943:(e,t,i)=>{i.d(t,{A:()=>m});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(6409)),a=i(85842),l=i(38582),c=i(47675),u=i(91967);let d=n=class extends u.A{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new n({x:this.x,y:this.y,z:this.z})}};(0,r._)([(0,o.MZ)({type:Number})],d.prototype,"x",void 0),(0,r._)([(0,o.MZ)({type:Number})],d.prototype,"y",void 0),(0,r._)([(0,o.MZ)({type:Number})],d.prototype,"z",void 0),d=n=(0,r._)([(0,a.$)("esri.symbols.support.Symbol3DAnchorPosition3D")],d);var h,p=i(9994);let f=h=class extends l.A{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,i,n;return new h({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:null===(e=this.anchorPosition)||void 0===e?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:null!==(t=null===(i=this.material)||void 0===i?void 0:i.clone())&&void 0!==t?t:null,castShadows:this.castShadows,resource:null===(n=this.resource)||void 0===n?void 0:n.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,r._)([(0,o.MZ)({type:p.N,json:{write:!0}})],f.prototype,"material",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],f.prototype,"castShadows",void 0),(0,r._)([(0,o.MZ)({type:c.E,json:{write:!0}})],f.prototype,"resource",void 0),(0,r._)([(0,s.e)({Object:"object"},{readOnly:!0})],f.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],f.prototype,"width",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],f.prototype,"height",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],f.prototype,"depth",void 0),(0,r._)([(0,s.e)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],f.prototype,"anchor",void 0),(0,r._)([(0,o.MZ)({type:d,json:{type:[Number],read:{reader:e=>new d({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],f.prototype,"anchorPosition",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],f.prototype,"heading",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],f.prototype,"tilt",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],f.prototype,"roll",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],f.prototype,"isPrimitive",null),f=h=(0,r._)([(0,a.$)("esri.symbols.ObjectSymbol3DLayer")],f);const m=f},48313:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(35143),r=i(46053),o=(i(81806),i(76460),i(47249),i(85842)),s=i(7246),a=i(25900);let l=class extends a.A{constructor(e){super(e),this.outline=null,this.type=null}hash(){var e;return"".concat(this.type,".").concat(null===(e=this.outline)||void 0===e?void 0:e.hash())}};(0,n._)([(0,r.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":s.A}},json:{default:null,write:!0}})],l.prototype,"outline",void 0),(0,n._)([(0,r.MZ)({type:["simple-fill","picture-fill"],readOnly:!0})],l.prototype,"type",void 0),l=(0,n._)([(0,o.$)("esri.symbols.FillSymbol")],l);const c=l},48396:(e,t,i)=>{i.d(t,{F:()=>a});var n=i(26452);let r;r=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let o=(e,t)=>{let i=e;return t.forEach((e=>{i=i&&i.children?r(i.children,(t=>t.domNode===e)):void 0})),i},s=(e,t,i)=>{let n=function(n){i("domEvent",n);let r=t(),s=((e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i})(n.currentTarget,r.domNode);s.reverse();let a,l=o(r.getLastRender(),s);return e.scheduleRender(),l&&(a=l.properties["on".concat(n.type)].apply(l.properties.bind||this,arguments)),i("domEventProcessed",n),a};return(e,t,i,r)=>n},a=e=>{let t,i,r=(0,n.R)(e),o=r.performanceLogger,a=!0,l=!1,c=[],u=[],d=(e,i,n)=>{let a;r.eventHandlerInterceptor=s(t,(()=>a),o),a=e(i,n(),r),c.push(a),u.push(n)},h=()=>{if(i=void 0,a){a=!1,o("renderStart",void 0);for(let e=0;e<c.length;e++){let t=u[e]();o("rendered",void 0),c[e].update(t),o("patched",void 0)}o("renderDone",void 0),a=!0}};return t={renderNow:h,scheduleRender:()=>{i||l||(i=requestAnimationFrame(h))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(e,t)=>{d(n.t.append,e,t)},insertBefore:(e,t)=>{d(n.t.insertBefore,e,t)},merge:(e,t)=>{d(n.t.merge,e,t)},replace:(e,t)=>{d(n.t.replace,e,t)},detach:e=>{for(let t=0;t<u.length;t++)if(u[t]===e)return u.splice(t,1),c.splice(t,1)[0];throw new Error("renderFunction was not found")}},t}},48611:(e,t,i)=>{i.d(t,{$N:()=>r,i8:()=>a,sM:()=>s,wc:()=>o});var n=i(53084);function r(e,t){return c(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}function o(e,t){if(null!=t)return t[e]||l(e.split("."),!1,t)}function s(e,t,i){const n=e.split("."),r=n.pop(),o=l(n,!0,i);o&&r&&(o[r]=t)}function a(e,t){if(null==e&&null==t)return!1;if(null==e)return!0;if(null==t)return!0;if("object"==typeof e){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let t=0;t<e.length;t++)if(a(e[t],i[t]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(a(e[i],t[i]))return!0;return!1}return e!==t}function l(e,t,i){let n=i;for(const r of e){if(null==n)return;if(!(r in n)){if(!t)return;n[r]={}}n=n[r]}return n}function c(e,t,i){return t?Object.keys(t).reduce(((e,r)=>{let o=e[r],s=t[r];return o===s?e:void 0===o?(e[r]=(0,n.o8)(s),e):(Array.isArray(s)||Array.isArray(e)?(o=o?Array.isArray(o)?e[r]=o.slice():e[r]=[o]:e[r]=[],s&&(Array.isArray(s)||(s=[s]),i?s.forEach((e=>{o.includes(e)||o.push(e)})):e[r]=s.slice())):s&&"object"==typeof s?e[r]=c(o,s,i):e.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(e[r]=s),e)}),e||{}):e}},48670:(e,t,i)=>{i.d(t,{A:()=>d});var n,r=i(89379),o=i(35143),s=i(42553),a=i(46053),l=(i(81806),i(76460),i(47249),i(85842)),c=i(85192);let u=n=class extends s.A{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new n({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,o._)([(0,a.MZ)((0,r.A)((0,r.A)({},c.p),{},{json:{write:{isRequired:!0}}}))],u.prototype,"screenLength",void 0),(0,o._)([(0,a.MZ)({type:Number,nonNullable:!0,json:{write:!0,default:0}})],u.prototype,"minWorldLength",void 0),(0,o._)([(0,a.MZ)({type:Number,json:{write:!0}})],u.prototype,"maxWorldLength",void 0),u=n=(0,o._)([(0,l.$)("esri.symbols.support.Symbol3DVerticalOffset")],u);const d=u},48746:(e,t,i)=>{i.d(t,{U:()=>n});const n=(0,i(45802).O)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},49140:(e,t,i)=>{var n;i.d(t,{AU:()=>r,Gr:()=>n,OL:()=>s,aB:()=>o,in:()=>a}),function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"}(n||(n={}));const r=n.USER+1;function o(e){switch(e){case"defaults":return n.DEFAULTS;case"service":return n.SERVICE;case"portal-item":return n.PORTAL_ITEM;case"web-scene":return n.WEB_SCENE;case"web-map":return n.WEB_MAP;case"link-chart":return n.LINK_CHART;case"user":return n.USER;default:return null}}function s(e){switch(e){case n.DEFAULTS:return"defaults";case n.SERVICE:return"service";case n.PORTAL_ITEM:return"portal-item";case n.WEB_SCENE:return"web-scene";case n.WEB_MAP:return"web-map";case n.LINK_CHART:return"link-chart";case n.USER:return"user"}}function a(e){return s(e)}},49281:(e,t,i)=>{i.d(t,{Df:()=>c,fm:()=>u,mJ:()=>l});var n=i(54901),r=i(99486),o=i(94151);let s=!1;const a=[];function l(e,t){let i=new o.r((function n(){if(!i||l)return;if(s)return void d(n);const o=a;i.clear(),s=!0,l=!0,a=(0,r.a)(i,e),l=!1,s=!1,t(a,o),h()})),a=null,l=!1;return l=!0,a=(0,r.a)(i,e),l=!1,(0,n.hA)((function(){i&&(i.destroy(),i=null,a=null)}))}function c(e,t){let i=new o.r((function(){t(s,a)})),s=null;function a(){return i?(i.clear(),s=(0,r.a)(i,e),s):null}return a(),(0,n.hA)((function(){i&&(i.destroy(),i=null),s=null}))}function u(e,t){let i=!1,a=!1;const l=!(null===t||void 0===t||!t.sync);let c=new o.r((()=>{i||a||(a=!0,l?u():queueMicrotask(u))}));function u(){a=!1,c&&!i&&(s?d(u):(c.clear(),s=!0,i=!0,(0,r.a)(c,e),i=!1,s=!1,h()))}return i=!0,(0,r.a)(c,e),i=!1,(0,n.hA)((function(){c&&(c.destroy(),c=null)}))}function d(e){a.includes(e)||a.unshift(e)}function h(){for(;a.length;)a.pop()()}},49304:(e,t,i)=>{i.d(t,{A:()=>f});var n=i(35143),r=i(50076),o=i(30726),s=i(91291),a=i(50346),l=i(62754),c=i(46053),u=i(85842);const d="loaded",h=e=>{let t=class extends e{constructor(){super(...arguments),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=i=>{const n=new Promise(((e,t)=>{const n=(0,a.NY)(i,t);this.destroyed&&t(new r.A("load:instance-destroyed","Instance of '".concat(this.declaredClass||this.constructor.name,"' is already destroyed"),{instance:this})),this.when(e,t).finally((()=>{n&&n.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const e=this._loadController=new AbortController;t({signal:e.signal})}return e(),n}}))),this.when((()=>{this._set("loadStatus",d),this._loadController=null}),(e=>{this._set("loadStatus","failed"),this._set("loadError",e),this._loadController=null}))}destroy(){this._loadController&&(this._loadController=(0,o.DC)(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===d}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var e;return this.isFulfilled()||(this._set("loadError",new r.A("load:cancelled","Cancelled")),null!==(e=this._loadController)&&void 0!==e&&e.abort(),this._promiseProps.abort()),this}};return(0,n._)([(0,c.MZ)({readOnly:!0})],t.prototype,"loaded",null),(0,n._)([(0,c.MZ)({readOnly:!0})],t.prototype,"loadError",void 0),(0,n._)([(0,c.MZ)({clonable:!1})],t.prototype,"loadStatus",void 0),(0,n._)([(0,c.MZ)({type:[l.A],readOnly:!0})],t.prototype,"loadWarnings",null),t=(0,n._)([(0,u.$)("esri.core.Loadable")],t),t};let p=class extends(h(s.A)){};p=(0,n._)([(0,u.$)("esri.core.Loadable")],p),function(e){e.LoadableMixin=h,e.isLoadable=function(e){return!(!e||!e.load)}}(p||(p={}));const f=p},49723:(e,t,i)=>{i.d(t,{AG:()=>a,lk:()=>r,vD:()=>s,yS:()=>o});const n="randomUUID"in crypto;function r(){if(n)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function o(){return"{".concat(r().toUpperCase(),"}")}function s(){return"{".concat(r(),"}")}function a(e){const t=e.toUpperCase();return"{"!==e[0]?"{".concat(t,"}"):t}},50037:(e,t,i)=>{i.d(t,{A:()=>u});var n,r=i(35143),o=i(91967),s=i(5632),a=i(46053),l=(i(81806),i(76460),i(47249),i(85842));let c=n=class extends(s.A.IdentifiableMixin(o.A)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new n({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,r._)([(0,a.MZ)()],c.prototype,"active",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"className",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"disabled",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"icon",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"id",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"indicator",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"title",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"type",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"visible",void 0),c=n=(0,r._)([(0,l.$)("esri.support.actions.ActionBase")],c);const u=c},50076:(e,t,i)=>{i.d(t,{A:()=>s});var n=i(53084),r=i(76460),o=i(83113);class s extends o.A{constructor(e,t,i){super(e,t,i)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return(0,n.o8)(t)}catch(s){return"[object]"}})))}}catch(e){throw r.A.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new s(e.name,e.message,e.details)}}s.prototype.type="error"},50176:(e,t,i)=>{i.d(t,{p:()=>r});var n=i(54901);const r=function(e){return{setTimeout:(t,i)=>{const r=e.setTimeout(t,i);return(0,n.hA)((()=>e.clearTimeout(r)))}}}(globalThis)},50265:(e,t,i)=>{i.d(t,{$J:()=>u,ZV:()=>c,yx:()=>l});var n=i(38042);const r={ar:"ar-u-nu-latn"};let o=new WeakMap,s={};function a(e){const t=e||s;if(!o.has(t)){const i=(0,n.JK)(),s=r[(0,n.JK)()]||i;o.set(t,new Intl.NumberFormat(s,e))}return o.get(t)}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function c(e,t){return Object.is(e,-0)&&(e=0),a(t).format(e)}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,n.JK)();if(!e)return null;let i=d.get(t);if(!i){var r,o;const e=a().formatToParts(12345.6),n=[...a({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(n.map(((e,t)=>[e,t]))),l=new RegExp("[".concat(null===(r=e.find((e=>"group"===e.type)))||void 0===r?void 0:r.value,"]"),"g"),c=new RegExp("[".concat(null===(o=e.find((e=>"decimal"===e.type)))||void 0===o?void 0:o.value,"]")),u=new RegExp("[".concat(n.join(""),"]"),"g"),h=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,p=/[-\u2212\u2013\u2014\u2015]/g;i=e=>{if(""===(e=e.trim().replaceAll(l,"").replace(c,".").replace(u,(e=>String(s.get(e)))).replaceAll(h,"").replaceAll(p,"-")))return null;const t=Number(e);return isNaN(t)?null:t},d.set(t,i)}return i(e)}(0,n.Ml)((()=>{o=new WeakMap,s={}}));const d=new Map},50346:(e,t,i)=>{i.d(t,{$X:()=>T,G4:()=>d,Lx:()=>_,Mq:()=>u,NK:()=>l,NO:()=>P,NY:()=>m,Ol:()=>b,Pl:()=>A,QP:()=>h,QZ:()=>v,Te:()=>c,Tw:()=>C,YL:()=>S,jH:()=>p,nA:()=>w,qr:()=>y,sg:()=>x,u7:()=>f,wR:()=>M,z7:()=>E,zf:()=>g});var n=i(89379),r=i(50176),o=i(50076),s=i(79053),a=(i(76460),i(30726));function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Aborted";return new o.A("AbortError",e)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Aborted";if(d(e))throw l(t)}function u(e){var t;return e instanceof AbortSignal?e:null!==(t=null===e||void 0===e?void 0:e.signal)&&void 0!==t?t:void 0}function d(e){const t=u(e);return null!=t&&t.aborted}function h(e){if(g(e))throw e}function p(e){if(!g(e))throw e}function f(e,t){const i=u(e);if(null!=i){if(!i.aborted)return(0,s.Oo)(i,"abort",(()=>t()));t()}}function m(e,t){const i=u(e);if(null!=i)return c(i),(0,s.Oo)(i,"abort",(()=>t(l())))}function y(e,t){return null==u(t)?e:new Promise(((i,n)=>{let r=f(t,(()=>n(l())));const o=()=>{r=(0,a.xt)(r)};e.then(o,o),e.then(i,n)}))}function g(e){return"AbortError"===(null===e||void 0===e?void 0:e.name)}async function v(e){try{return await e}catch(t){if(!g(t))throw t;return}}async function _(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e),i=t.map((t=>e[t])),n=await _(i),r={};return t.map(((e,t)=>r[e]=n[t])),r}const t=e;return Promise.allSettled(t).then((e=>Array.from(t,((t,i)=>{const n=e[i];return"fulfilled"===n.status?{promise:t,value:n.value}:{promise:t,error:n.reason}}))))}async function w(e){return(await Promise.allSettled(e)).filter((e=>"fulfilled"===e.status)).map((e=>e.value))}async function b(e){return(await Promise.allSettled(e)).filter((e=>"rejected"===e.status)).map((e=>e.reason))}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;const n=new AbortController;return f(i,(()=>n.abort())),new Promise(((i,r)=>{let o=setTimeout((()=>{o=0,i(t)}),e);f(n,(()=>{o&&(clearTimeout(o),r(l()))}))}))}function M(e,t,i,n){const r=i&&"abort"in i?i:null;null!=n||r||(n=i);let s=setTimeout((()=>{s=0,null===r||void 0===r||r.abort()}),t);const a=()=>n||new o.A("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then((e=>{if(0===s)throw a();return clearTimeout(s),e}),(e=>{throw clearTimeout(s),0===s?a():e}))}function S(e,t){const i=new AbortController,r=setTimeout((()=>i.abort()),t);return f(e,(()=>{i.abort(),clearTimeout(r)})),(0,n.A)((0,n.A)({},e),{},{signal:i.signal})}function T(e){return e&&"function"==typeof e.then}function E(e){return T(e)?e:Promise.resolve(e)}function x(e){let t,i,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=null;const a=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];if(t){i=u,r&&r.reject(l()),r=C();const e=r.promise;if(s){const e=s;s=null,e.abort()}return e}if(n=r||C(),r=null,o>0){const i=new AbortController;t=E(e(...u,i.signal));const n=t;A(o).then((()=>{t===n&&(r?i.abort():s=i)}))}else t=1,t=E(e(...u));const h=()=>{const e=i;i=n=t=s=null,null!=e&&a(...e)},p=t,f=n;return p.then(h,h),p.then(f.resolve,f.reject),f.promise};return a}function C(){let e,t;const i=new Promise(((i,n)=>{e=i,t=n})),n=t=>{e(t)};return n.resolve=t=>e(t),n.reject=e=>t(e),n.timeout=(e,t)=>r.p.setTimeout((()=>n.reject(t)),e),n.promise=i,n}async function P(e){await Promise.resolve(),c(e)}},50654:(e,t,i)=>{i.d(t,{A:()=>u});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(6409)),a=i(85842),l=i(44631);let c=n=class extends l.A{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new n({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,r._)([(0,o.MZ)({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return null===(i=t.range)||void 0===i?void 0:i[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]},isRequired:!0}}})],c.prototype,"maxValue",void 0),(0,r._)([(0,o.MZ)({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return null===(i=t.range)||void 0===i?void 0:i[0]}},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]},isRequired:!0}}})],c.prototype,"minValue",void 0),(0,r._)([(0,s.e)({range:"range"})],c.prototype,"type",void 0),c=n=(0,r._)([(0,a.$)("esri.layers.support.RangeDomain")],c);const u=c},51317:(e,t,i)=>{i.d(t,{A:()=>p});var n,r=i(35143),o=i(69539),s=i(53084),a=i(46053),l=i(40565),c=i(6409),u=i(85842),d=i(38582);let h=n=class extends d.A{constructor(e){super(e),this.color=f.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new n({color:(0,s.o8)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,r._)([(0,a.MZ)({type:o.A,nonNullable:!0,json:{type:[l.jz],write:(e,t,i)=>t[i]=e.toArray(o.A.AlphaMode.UNLESS_OPAQUE),default:()=>f.clone(),defaultEquals:e=>e.toCss(!0)===f.toCss(!0)}})],h.prototype,"color",void 0),(0,r._)([(0,c.e)({Water:"water"},{readOnly:!0})],h.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],h.prototype,"waterbodySize",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0,default:null}})],h.prototype,"waveDirection",void 0),(0,r._)([(0,a.MZ)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],h.prototype,"waveStrength",void 0),h=n=(0,r._)([(0,u.$)("esri.symbols.WaterSymbol3DLayer")],h);const p=h,f=new o.A([0,119,190])},52022:(e,t,i)=>{i.d(t,{A:()=>p});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(41210),l=i(42553);let c=n=class extends l.A{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new n({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],c.prototype,"linkURL",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:{isRequired:!0}}})],c.prototype,"sourceURL",void 0),c=n=(0,r._)([(0,s.$)("esri.popup.content.support.ImageMediaInfoValue")],c);const u=c;var d;let h=d=class extends a.A{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var e;return new d({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:null===(e=this.value)||void 0===e?void 0:e.clone()})}};(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],h.prototype,"refreshInterval",void 0),(0,r._)([(0,o.MZ)({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],h.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:u,json:{write:{isRequired:!0}}})],h.prototype,"value",void 0),h=d=(0,r._)([(0,s.$)("esri.popup.content.ImageMediaInfo")],h);const p=h},52394:(e,t,i)=>{i.d(t,{$m:()=>C,NO:()=>x,_:()=>_,md:()=>E,mg:()=>w});var n=i(77944),r=i(32634),o=i(30015),s=i(50346),a=i(91417);class l{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}}class c{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let u=0,d=0;const h={time:(0,a.l5)(0),deltaTime:(0,a.l5)(0),elapsedFrameTime:(0,a.l5)(0),frameDuration:(0,a.l5)(0)},p=["prepare","preRender","render","postRender","update","finish"],f=[],m=new o.A;class y{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,g()}}function g(){null==b&&(u=performance.now(),b=requestAnimationFrame(A))}const v={frameTasks:m,willDispatch:!1,clearFrameTasks:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m.forAll((e=>{e.removed=!0})),e&&S()},dispatch:T,executeFrameTasks:function(e){const t=(0,a.l5)(e-u);u=e;const i=d>0?d:1e3/60,n=Math.max(0,t-i);h.time=e,h.frameDuration=(0,a.l5)(i-n);for(let r=0;r<p.length;r++){const i=performance.now(),n=p[r];m.forAll((i=>{var o;i.paused||i.removed||(0===r&&i.ticks++,i.phases[n]&&(h.elapsedFrameTime=(0,a.l5)(performance.now()-e),h.deltaTime=0===i.ticks?(0,a.l5)(0):t,null===(o=i.phases[n])||void 0===o||o.call(i,h)))})),P[r].push(performance.now()-i)}S(),O.push(performance.now()-e)},reschedule:function(){null!=b&&(cancelAnimationFrame(b),b=requestAnimationFrame(A))}};function _(e){const t=new c(e);return f.push(t),v.willDispatch||(v.willDispatch=!0,(0,n.d)(T)),t}function w(e){const t=new l(e);return m.push(t),g(),new y(t)}let b=null;function A(){const e=performance.now();b=null;const t=m.some((e=>!e.paused&&!e.removed));b=t?requestAnimationFrame(A):null,v.executeFrameTasks(e)}const M=new o.A;function S(){m.forAll((e=>{e.removed&&M.push(e)})),m.removeUnorderedMany(M.data,M.length),M.clear()}function T(){for(;f.length;){const e=f.shift();e.isActive&&e.callback()}v.willDispatch=!1}function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;const i=(0,s.Tw)(),r=()=>{(0,s.G4)(t)?i.reject((0,s.NK)()):0===e?i():(--e,(0,n.d)((()=>r())))};return r(),i.promise}function x(e){return E(1,e)}async function C(e){await x(e),await new Promise((t=>requestAnimationFrame((()=>{(null===e||void 0===e?void 0:e.aborted)||t()}))))}const P=p.map((e=>new r.A(e))),O=new r.A("total")},53084:(e,t,i)=>{i.d(t,{Nb:()=>l,TU:()=>a,aI:()=>p,gh:()=>f,o8:()=>s,oy:()=>o});var n=i(18690),r=i(78393);function o(e,t){let i;if(t)for(i in e)e.hasOwnProperty(i)&&(void 0===e[i]?delete e[i]:e[i]instanceof Object&&o(e[i],!0));else for(i in e)e.hasOwnProperty(i)&&void 0===e[i]&&delete e[i];return e}function s(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;const t=h(e);if(null!=t)return t;if(l(e))return e.clone();if(c(e))return e.map(s);if(u(e))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const n of Object.getOwnPropertyNames(e))i[n]=s(e[n]);return i}function a(e){if(!e||"object"!=typeof e||"function"==typeof e||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=h(e);if(null!=t)return t;if(c(e)){let t=!0;const i=e.map((e=>{const i=a(e);return null!=e&&null==i&&(t=!1),i}));return t?i:null}if(l(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(u(e))return null;const i=new(0,Object.getPrototypeOf(e).constructor);for(const n of Object.getOwnPropertyNames(e)){const t=e[n],r=a(t);if(null!=t&&null==r)return null;i[n]=r}return i}function l(e){return"function"==typeof e.clone}function c(e){return"function"==typeof e.map&&"function"==typeof e.forEach}function u(e){return"function"==typeof e.notifyChange&&"function"==typeof e.watch}function d(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function h(e){if((0,r.dz)(e)||(0,r.mg)(e)||(0,r.UR)(e)||(0,r.IY)(e)||(0,r.jq)(e)||(0,r._G)(e)||(0,r.XJ)(e)||(0,r.vZ)(e)||(0,r.aI)(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,n]of e)t.set(i,s(n));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(s(i));return t}return null}function p(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(null===e||void 0===e?void 0:e.getTime)&&"function"==typeof(null===t||void 0===t?void 0:t.getTime)&&e.getTime()===t.getTime()||!1}function f(e,t){return e===t||(null==e||"string"==typeof e?e===t:"number"==typeof e?e===t||"number"==typeof t&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&(0,n.aI)(e,t):e instanceof Set?t instanceof Set&&function(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}(e,t):e instanceof Map?t instanceof Map&&function(e,t){if(e.size!==t.size)return!1;for(const[i,n]of e){const e=t.get(i);if(e!==n||void 0===e&&!t.has(i))return!1}return!0}(e,t):!!d(e)&&d(t)&&function(e,t){if(null===e||null===t)return!1;const i=Object.keys(e);if(null===t||Object.keys(t).length!==i.length)return!1;for(const n of i)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}(e,t))}},53249:(e,t,i)=>{i.d(t,{K:()=>n});class n{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),(e=>e.includes("Brush"))(e)&&this.record("Esri.FirstDraw"),performance.mark("Esri.".concat(e,".Start")))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark("Esri.".concat(e,".End")))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark("Esri.".concat(e)))}}},53430:(e,t,i)=>{i.d(t,{A6:()=>D,Ah:()=>ue,Bz:()=>B,CJ:()=>ve,DB:()=>w,Dx:()=>T,Im:()=>H,JL:()=>xe,Kl:()=>Ee,NO:()=>P,OG:()=>fe,OH:()=>de,R$:()=>V,R3:()=>oe,RP:()=>O,WA:()=>se,WX:()=>ge,Xz:()=>pe,_b:()=>$,_w:()=>b,d:()=>I,eX:()=>L,f:()=>k,hL:()=>M,hW:()=>S,lD:()=>W,mB:()=>x,nw:()=>Ce,o:()=>N,rS:()=>p,rq:()=>A,sv:()=>v,te:()=>he,uo:()=>Te,vE:()=>le,yM:()=>ae,yp:()=>y,zD:()=>ce});var n=i(50076),r=i(48611),o=i(41289),s=i(34154),a=i(15142),l=i(24107),c=i(98976),u=i(85632);const d=/^([0-9_])/,h=/[^a-z0-9_\u0080-\uffff]+/gi;function p(e){return null==e?null:e.trim().replaceAll(h,"_").replace(d,"F$1")||null}const f=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],m=["field","normalizationField"];function y(e,t){if(null!=e&&null!=t)for(const i of Array.isArray(e)?e:[e])if(g(f,i,t),"visualVariables"in i&&i.visualVariables)for(const e of i.visualVariables)g(m,e,t)}function g(e,t,i){if(e)for(const n of e){const e=(0,r.wc)(n,t),o=e&&"function"!=typeof e&&i.get(e);o&&(0,r.sM)(n,o.name,t)}}function v(e,t){var i;if(null!=e&&null!==t&&void 0!==t&&null!==(i=t.fields)&&void 0!==i&&i.length)if("startField"in e){var n,r;const i=t.get(e.startField),o=t.get(e.endField);e.startField=null!==(n=null===i||void 0===i?void 0:i.name)&&void 0!==n?n:null,e.endField=null!==(r=null===o||void 0===o?void 0:o.name)&&void 0!==r?r:null}else{var o,s;const i=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=null!==(o=null===i||void 0===i?void 0:i.name)&&void 0!==o?o:null,e.endTimeField=null!==(s=null===n||void 0===n?void 0:n.name)&&void 0!==s?s:null}}const _=new Set;function w(e,t){return e&&t?(_.clear(),b(_,e,t),Array.from(_).sort()):[]}function b(e,t,i){var n;if(i)if(null!==t&&void 0!==t&&null!==(n=t.fields)&&void 0!==n&&n.length)if(i.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of i)A(e,t,r);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const t of i)null!=t&&e.add(t)}}function A(e,t,i){if("string"==typeof i)if(t){const n=t.get(i);n&&e.add(n.name)}else e.add(i)}function M(e,t){var i;return null==t||null==e?[]:t.includes("*")?(null!==(i=e.fields)&&void 0!==i?i:[]).map((e=>e.name)):t}function S(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!t||!e)return[];if(t.includes("*"))return["*"];const n=w(e,t);return n.length/e.fields.length>=i?["*"]:n}async function T(e,t,i){if(!i)return;let n;const r=(0,l.o)(i);if(r)n=[r];else{var o;const{arcadeUtils:e}=await(0,c.lw)();n=e.extractFieldNames(i,null===t||void 0===t||null===(o=t.fields)||void 0===o?void 0:o.map((e=>e.name)))}for(const s of n)A(e,t,s)}async function E(e,t,i){if(i&&"1=1"!==i){const r=await(0,s.GP)(i,t);if(!r.isStandardized)throw new n.A("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});b(e,t,r.fieldNames)}}function x(e){let{displayField:t,fields:i}=e;return t||(null!==i&&void 0!==i&&i.length?C(i,"name-or-title")||C(i,"unique-identifier")||C(i,"type-or-category")||function(e){for(const t of e){if(null===t||void 0===t||!t.name)continue;const e=t.name.toLowerCase();if(e.includes("name")||e.includes("title"))return t.name}return null}(i):null)}function C(e,t){for(const i of e)if(null!==i&&void 0!==i&&i.valueType&&i.valueType===t)return i.name;return null}async function P(e,t){var i;if(!t)return;const n=null===(i=t.elevationInfo)||void 0===i?void 0:i.featureExpressionInfo;return n?n.collectRequiredFields(e,t.fieldsIndex):void 0}async function O(e,t,i){if(!t||!i||!("fields"in i))return;const n=[],r=i.popupTemplate;n.push(R(e,t,r)),i.fields&&n.push(...i.fields.map((async i=>function(e,t,i){i.onStatisticExpression?T(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}(e,t.fieldsIndex,i)))),await Promise.all(n)}async function I(e,t){var i,n,r;const{fieldsIndex:o,trackInfo:s}=t;if(!t||!s||!o)return;const a=[null===(i=s.latestObservations.renderer)||void 0===i?void 0:i.collectRequiredFields(e,o),null===(n=s.previousObservations.renderer)||void 0===n?void 0:n.collectRequiredFields(e,o),null===(r=s.trackLines.renderer)||void 0===r?void 0:r.collectRequiredFields(e,o)];s.popupTemplate&&a.push(R(e,t,s.popupTemplate));for(const l of[s.latestObservations.labelingInfo,s.previousObservations.labelingInfo,s.trackLines.labelingInfo])if(l)for(const t of l)a.push(q(e,o,t));await Promise.all(a)}async function R(e,t,i){const n=[];(null===i||void 0===i?void 0:i.expressionInfos)&&n.push(...i.expressionInfos.map((i=>T(e,t.fieldsIndex,i.expression))));const r=null===i||void 0===i?void 0:i.content;if(Array.isArray(r))for(const o of r)"expression"===o.type&&o.expressionInfo&&n.push(T(e,t.fieldsIndex,o.expressionInfo.expression));await Promise.all(n)}async function N(e,t,i){t&&(t.timeInfo&&null!==i&&void 0!==i&&i.timeExtent&&b(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&b(e,t.fieldsIndex,[t.floorInfo.floorField]),null!=(null===i||void 0===i?void 0:i.where)&&await E(e,t.fieldsIndex,i.where))}async function k(e,t,i){t&&i&&await Promise.all(i.map((i=>async function(e,t,i){t&&i&&(i.valueExpression?await T(e,t.fieldsIndex,i.valueExpression):i.field&&A(e,t.fieldsIndex,i.field))}(e,t,i))))}function L(e){return e?w(e.fieldsIndex,G(e)):[]}async function D(e,t,i){if(!t||!i)return;const n=t.fieldsIndex;await Promise.all(i.filters.map((t=>E(e,n,t.where))))}const Z=new Set(["oid","global-id","guid"]),F=new Set(["oid","global-id"]),U=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function j(e){const t=new Set;z(e).forEach((e=>t.add(e))),function(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?w(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}(e).forEach((e=>t.add(e.toLowerCase())));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach((e=>t.add(e.toLowerCase()))),Object.values(i.transformFieldRoles).forEach((e=>t.add(e.toLowerCase())))),Array.from(t)}function G(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:n,editDateField:r,editorField:o}=t;return[i,n,r,o].filter(Boolean)}function z(e){return G(e).map((e=>e.toLowerCase()))}function V(e,t){var i,n;return e.editable&&!Z.has(e.type)&&!z(t).includes(null!==(i=null===(n=e.name)||void 0===n?void 0:n.toLowerCase())&&void 0!==i?i:"")}function B(e,t){var i,n;const r=null!==(i=null===(n=e.name)||void 0===n?void 0:n.toLowerCase())&&void 0!==i?i:"";return!(null!=(null===t||void 0===t?void 0:t.objectIdField)&&r===t.objectIdField.toLowerCase()||null!=(null===t||void 0===t?void 0:t.globalIdField)&&r===t.globalIdField.toLowerCase()||j(t).includes(r)||F.has(e.type)||U.some((e=>e.test(r))))}async function H(e,t){const{labelingInfo:i,fieldsIndex:n}=t;(null===i||void 0===i?void 0:i.length)&&await Promise.all(i.map((t=>q(e,n,t))))}async function q(e,t,i){if(!i)return;const n=i.getLabelExpression(),r=i.where;if("arcade"===n.type)await T(e,t,n.expression);else{const i=n.expression.match(/{[^}]*}/g);i&&i.forEach((i=>{A(e,t,i.slice(1,-1))}))}await E(e,t,r)}function W(e){const t=e.defaultValue;return void 0!==t&&Q(e,t)?t:e.nullable?null:void 0}function $(e){const t="string"==typeof e?{type:e}:e;return ae(t)?255:"esriFieldTypeDate"===t.type||"date"===t.type?8:void 0}function J(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function K(e){return null===e||J(e)}function Y(e){return null===e||Number.isInteger(e)}function X(){return!0}function Q(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?Y:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?K:J;break;case"string":case"esriFieldTypeString":i=e.nullable?u.CO:u.Kg;break;default:i=X}return 1===arguments.length?i:i(t)}const ee=["integer","small-integer","big-integer"],te=["single","double"],ie=new Set([...ee,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]),ne=new Set([...te,"esriFieldTypeSingle","esriFieldTypeDouble"]),re=(0,o.KC)(ie,ne);function oe(e){return null!=e&&ie.has(e.type)}function se(e){return null!=e&&re.has(e.type)}function ae(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function le(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function ce(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function ue(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function de(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}function he(e){return null!=e&&("oid"===e.type||"esriFieldTypeOID"===e.type)}function pe(e){return null!=e&&("global-id"===e.type||"esriFieldTypeGlobalID"===e.type)}function fe(e,t){return null===ve(e,t)}var me,ye;function ge(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function ve(e,t){return null==e||e.nullable&&null===t?null:Q(e,t)?se(e)&&!function(e,t){const i="string"==typeof e?_e(e):e;if(!i)return!1;const n=i.min,r=i.max;return i.isInteger?Number.isInteger(t)&&t>=n&&t<=r:t>=n&&t<=r}(e.type,Number(t))?me.OUT_OF_RANGE:null:ye.INVALID_TYPE}function _e(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return we;case"esriFieldTypeInteger":case"integer":return be;case"esriFieldTypeBigInteger":case"big-integer":return Ae;case"esriFieldTypeSingle":case"single":return Me;case"esriFieldTypeDouble":case"double":return Se}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(me||(me={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(ye||(ye={}));const we={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},be={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Ae={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Me={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},Se={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Te(e,t,i){switch(e){case a.Mh.INVALID_CODED_VALUE:return"Value ".concat(i," is not in the coded domain - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case a.Mh.VALUE_OUT_OF_RANGE:return"Value ".concat(i," is out of the range of valid values - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case ye.INVALID_TYPE:return"Value ".concat(i," is not a valid value for the field type - field: ").concat(t.name,", type: ").concat(t.type,", nullable: ").concat(t.nullable);case me.OUT_OF_RANGE:{const{min:e,max:n}=_e(t.type);return"Value ".concat(i," is out of range for the number type - field: ").concat(t.name,", type: ").concat(t.type,", value range is ").concat(e," to ").concat(n)}}}function Ee(e,t){return!function(e,t,i){if(null===t||void 0===t||!t.attributes||!e){if(null!=i)for(const t of null!==e&&void 0!==e?e:[])i.add(t);return!0}const n=new Set(Object.keys(t.attributes));let r=!1;for(const o of e)if(!n.has(o)){if(r=!0,null==i)break;i.add(o)}return r}(e,t,null)}function xe(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some((t=>e.toLowerCase().startsWith(t)))}function Ce(e){const t=null===e||void 0===e?void 0:e.match(/{[^}]+}/g);return t?t.map((e=>e.slice(1,-1).split(":")[0].trim())):[]}},53494:(e,t,i)=>{i.d(t,{DF:()=>l,FD:()=>r,Ov:()=>o,ct:()=>c});let n=1e-6;function r(){return n}const o=Math.random,s=Math.PI/180,a=180/Math.PI;function l(e){return e*s}function c(e){return e*a}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:o,equals:function(e,t){return Math.abs(e-t)<=n*Math.max(1,Math.abs(e),Math.abs(t))},getEpsilon:r,setEpsilon:function(e){n=e},toDegree:c,toRadian:l},Symbol.toStringTag,{value:"Module"}))},53539:(e,t,i)=>{i.d(t,{A:()=>c});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(56362);let l=n=class extends a.A{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new n({text:this.text})}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"text",void 0),(0,r._)([(0,o.MZ)({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],l.prototype,"type",void 0),l=n=(0,r._)([(0,s.$)("esri.popup.content.TextContent")],l);const c=l},53986:(e,t,i)=>{function n(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;i[n]=e[n]}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],-1===t.indexOf(i)&&{}.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}i.d(t,{A:()=>n})},54047:(e,t,i)=>{i.d(t,{H:()=>a,q:()=>s});var n=i(89379),r=i(28899),o=i(63860);async function s(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,i=await(0,o.ud)("esri/t9n/basemaps");return i[e]||i[t]}const a={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return(0,n.A)((0,n.A)({},this["dark-gray-vector"]),{},{id:"dark-gray"})},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return(0,n.A)((0,n.A)({},this["gray-vector"]),{},{id:"gray"})},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return(0,n.A)((0,n.A)({},this["streets-vector"]),{},{id:"streets"})},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return(0,n.A)((0,n.A)({},this["topo-vector"]),{},{id:"topo"})},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}}},54099:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(35143),r=i(91967),o=i(54901),s=i(85842);class a{constructor(){this._emitter=new a.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._target=e,this._listenersMap=null}clear(){var e;null!==(e=this._listenersMap)&&void 0!==e&&e.clear(),this._listenersMap=null}destroy(){this.clear()}emit(e,t){var i;let n=null===(i=this._listenersMap)||void 0===i?void 0:i.get(e);if(!n)return!1;const r=this._target||this;let o=!1;for(const s of n.slice()){const e="deref"in s?s.deref():s;e?null===e||void 0===e||e.call(r,t):o=!0}return o&&(n=n.filter((e=>!("deref"in e)||null!=e.deref())),this._listenersMap.set(e,n)),n.length>0}on(e,t){var i;if(Array.isArray(e)){const i=e.map((e=>this.on(e,t)));return(0,o.vE)(i)}if(e.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");null!==(i=this._listenersMap)&&void 0!==i||(this._listenersMap=new Map);const n=this._listenersMap.get(e)||[];return n.push(t),this._listenersMap.set(e,n),(0,o.hA)((()=>{var i,n;const r=null===(i=this._listenersMap)||void 0===i?void 0:i.get(e),o=null!==(n=null===r||void 0===r?void 0:r.indexOf(t))&&void 0!==n?n:-1;o>=0&&r.splice(o,1)}))}once(e,t){const i=this.on(e,(e=>{i.remove();const n="deref"in t?t.deref():t;null===n||void 0===n||n.call(null,e)}));return i}hasEventListener(e){var t;const i=null===(t=this._listenersMap)||void 0===t?void 0:t.get(e);return null!=i&&i.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let i=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return i=(0,n._)([(0,s.$)("esri.core.Evented")],i),i};let i=class extends r.A{constructor(){super(...arguments),this._emitter=new a.EventEmitter(this)}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};i=(0,n._)([(0,s.$)("esri.core.Evented.EventedAccessor")],i),e.EventedAccessor=i}(a)},54347:(e,t,i)=>{i.d(t,{A:()=>p});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(6409)),a=i(28379),l=i(85842),c=i(38582),u=i(9994),d=i(72733);let h=n=class extends c.A{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return null!=e?e:null==t.height&&null!=t.size?t.size:void 0}readHeight(e,t){return null!=e?e:null==t.width&&null!=t.size?t.size:void 0}clone(){return new n({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,r._)([(0,o.MZ)({type:u.N,json:{write:!0}})],h.prototype,"material",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],h.prototype,"castShadows",void 0),(0,r._)([(0,s.e)({Path:"path"},{readOnly:!0})],h.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:["circle","quad"],json:{write:!0,default:"circle"}})],h.prototype,"profile",void 0),(0,r._)([(0,o.MZ)({type:d.e,json:{write:!0,default:"miter"}})],h.prototype,"join",void 0),(0,r._)([(0,o.MZ)({type:d.Nv,json:{write:!0,default:"butt"}})],h.prototype,"cap",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],h.prototype,"width",void 0),(0,r._)([(0,a.w)("width",["width","size","height"])],h.prototype,"readWidth",null),(0,r._)([(0,o.MZ)({type:Number,json:{write:!0}})],h.prototype,"height",void 0),(0,r._)([(0,a.w)("height",["height","size","width"])],h.prototype,"readHeight",null),(0,r._)([(0,o.MZ)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],h.prototype,"anchor",void 0),(0,r._)([(0,o.MZ)({type:["heading","all"],json:{write:!0,default:"all"}})],h.prototype,"profileRotation",void 0),h=n=(0,r._)([(0,l.$)("esri.symbols.PathSymbol3DLayer")],h);const p=h},54715:(e,t,i)=>{i.d(t,{s:()=>o});var n=i(81806),r=i(91417);function o(){const e=(0,n.A)("mapview-essential-goto-duration");return null==e?e:(0,r.l5)(e)}},54761:(e,t,i)=>{i.d(t,{K:()=>a,w:()=>l});var n=i(83008),r=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},o=function(e,t){for(var i=0,n=e.length;i<n;i++){var s=e[i];Array.isArray(s)?o(s,t):null!=s&&!1!==s&&(s.hasOwnProperty("vnodeSelector")||(s=r(s)),t.push(s))}},s=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(1===i.length&&"string"==typeof i[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var r=[];return o(i,r),{vnodeSelector:e,properties:t||void 0,children:r,text:void 0,domNode:null}};function a(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return"function"!=typeof e||(0,n.b)(e)?s(e,null!==t&&void 0!==t?t:null,...r):e(t,...r)}function l(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t}},54901:(e,t,i)=>{i.d(t,{DQ:()=>u,a0:()=>o,a2:()=>l,ei:()=>s,hA:()=>r,rE:()=>c,vE:()=>a});const n={remove:()=>{}};function r(e){return e?{remove(){e&&(e(),e=void 0)}}:n}function o(e){e.forEach((e=>null===e||void 0===e?void 0:e.remove()))}function s(e){o(e),e.length=0}function a(e){return r((()=>o(e)))}function l(e){return r((()=>{var t;return null===(t=e())||void 0===t?void 0:t.remove()}))}function c(e){return r((()=>null===e||void 0===e?void 0:e.abort()))}function u(e){return r(null!=e?()=>e.destroy():void 0)}},54994:(e,t,i)=>{i.d(t,{Dl:()=>a,jV:()=>s,lF:()=>l});var n=i(89379),r=(i(86560),i(55171),i(53084)),o=i(90534);i(90924);function s(e,t){return t?(0,n.A)((0,n.A)({},t),{},{query:(0,n.A)((0,n.A)({},null!==e&&void 0!==e?e:{}),t.query)}):{query:e}}function a(e){return"string"==typeof e?(0,o.An)(e):(0,r.o8)(e)}function l(e,t,i){const n={};for(const r in e){if("declaredClass"===r)continue;const o=e[r];if(null!=o&&"function"!=typeof o)if(Array.isArray(o))n[r]=o.map((e=>l(e)));else if("object"==typeof o)if(o.toJSON){const e=o.toJSON(null===i||void 0===i?void 0:i[r]);n[r]=t?e:JSON.stringify(e)}else n[r]=t?o:JSON.stringify(o);else n[r]=o}return n}},55149:(e,t,i)=>{i.d(t,{A:()=>r});var n=i(8195);function r(e,t,i){(0,n.A)(e,t),t.set(e,i)}},55171:(e,t,i)=>{i.d(t,{Aq:()=>u,Y3:()=>d,id:()=>l,ol:()=>c,rE:()=>a});var n,r,o=i(81806),s=i(90534);null!==(n=Symbol.dispose)&&void 0!==n||(Symbol.dispose=Symbol("Symbol.dispose")),null!==(r=Symbol.asyncDispose)&&void 0!==r||(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const a="4.32";let l,c=a;function u(e){l=e}function d(e){var t;const i=null===(t=l)||void 0===t?void 0:t.findCredential(e);return null!==i&&void 0!==i&&i.token?(0,s.rs)(e,"token",i.token):e}c="4.32.10",(0,o.A)("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),(0,o.A)("host-webworker")},56362:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(35143),r=i(42553),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842));let a=class extends r.A{constructor(e){super(e),this.type=null}};(0,n._)([(0,o.MZ)({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=(0,n._)([(0,s.$)("esri.popup.content.Content")],a);const l=a},57308:(e,t,i)=>{i.d(t,{e:()=>m,o:()=>v});var n=i(35143),r=i(91967),o=(i(81806),i(76460)),s=i(59649),a=i(46053),l=(i(47249),i(85842)),c=i(41036),u=i(89196);class d extends u.l{constructor(e){super(!0),this._onChange=e,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",(e=>this._update(e.data)))}_update(e){const t="touch"===e.native.pointerType?"touch":"mouse",{x:i,y:n}=e;t===this._value&&this._x===i&&this._y===n||(this._value=t,this._x=i,this._y=n,this._onChange(t,i,n))}}var h=i(75540);class p extends u.l{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=(0,h.v)(!1),this._onPointerAdd=e=>{let{data:t}=e;"touch"===t.pointerType&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=e=>{let{data:t}=e;"touch"===t.pointerType&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}}var f=i(5890);let m=class extends r.A{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=c.i,this._latestPointerType="mouse",this._propertiesPool=new f.M({latestPointerLocation:_},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some((e=>e.handler.hasPendingInputs))}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.INTERNAL;if(this._nameToGroup[e])return;if(0===t.length)return;const n={name:e,handlers:t.map((e=>({handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:i,eventCallback:null,uninstallCallback:null})))};this._nameToGroup[e]=n;for(let r=n.handlers.length-1;r>=0;r--){const e=n.handlers[r];this._handlers.push(e),e.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(t,i,n,r,o)=>{this._emitInputEvent(e.priorityIndex+1,t,i,n,o,r)},setPointerCapture:(t,i)=>{this._setPointerCapture(n,e,t,i)},setEventCallback:t=>{e.eventCallback=t},setUninstallCallback:t=>{e.uninstallCallback=t},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach((e=>{var t;e.removed=!0,null===(t=e.uninstallCallback)||void 0===t||t.call(e)})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):o.A.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return void 0!==this._nameToGroup[e]}isModifierKeyDown(e){return this._activeKeyModifiers.has(e)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,t=new Set;this._handlersPriority=[];for(let i=this._handlers.length-1;i>=0;i--){const e=this._handlers[i];e.priorityIndex=i,this._handlersPriority.push(e)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let i=this._handlersPriority.length-1;i>=0;i--){const n=this._handlersPriority[i];n.priorityIndex=i;let r=n.handler.hasSideEffects;if(!r)for(const t of n.handler.outgoingEventTypes)if(e.has(t)){r=!0;break}if(r)for(const i of n.handler.incomingEventMatches){e.add(i.eventType);for(const e of i.keyModifiers)(0,c.p)(e)||t.add(e)}n.active=r}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,t,i){this._latestPointerType=e;const n=this._get("latestPointerLocation");if(null==n||n.x!==t||n.y!==i){const e=this._propertiesPool.get("latestPointerLocation");e.x=t,e.y=i,this._set("latestPointerLocation",e)}}_onEventReceived(e,t){if("pointer-capture-lost"===e){const e=t;this._pointerCaptures.delete(e.native.pointerId)}this._updateKeyModifiers(e,t);const i=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,n=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,i,n)}_updateKeyModifiers(e,t){if(!t)return;let i=!1;const n=()=>{i||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),i=!0)},r=(e,t)=>{t&&!this._activeKeyModifiers.has(e)?(n(),this._activeKeyModifiers.add(e)):!t&&this._activeKeyModifiers.has(e)&&(n(),this._activeKeyModifiers.delete(e))};if("key-down"===e||"key-up"===e){const i=t.key;this._keyModifiers.has(i)&&r(i,"key-down"===e)}const o=t.native;r("Alt",!(null===o||void 0===o||!o.altKey)),r("Control",!(null===o||void 0===o||!o.ctrlKey)),r("Ctrl",!(null===o||void 0===o||!o.ctrlKey)),r("Shift",!(null===o||void 0===o||!o.shiftKey)),r("Meta",!(null===o||void 0===o||!o.metaKey)),r("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new d(((e,t,i)=>this._setLatestPointer(e,t,i))),this._multiTouchHandler=new p,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],v.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,v.INTERNAL)}_setPointerCapture(e,t,i,n){const r=e.name+"-"+t.priorityIndex,o=this._pointerCaptures.get(i.pointerId)||new Set;this._pointerCaptures.set(i.pointerId,o),n?(o.add(r),1===o.size&&this.eventSource&&this.eventSource.setPointerCapture(i,!0)):o.has(r)&&(o.delete(r),0===o.size&&(this._pointerCaptures.delete(i.pointerId),this.eventSource&&this.eventSource.setPointerCapture(i,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter((e=>!e.removed)),this.updateDependencies()}_emitInputEventFromSource(e,t,i,n){this._emitInputEvent(0,e,t,i,n)}_emitInputEvent(e,t,i,n,r,o){const s=void 0!==n?n:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=void 0!==r&&r,l={event:new y(t,i,s,o||this._activeKeyModifiers,a),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(l):this._doNewPropagation(l)}_doNewPropagation(e){this._currentPropagation={events:new s.A,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){this._paused=!1;const e=this._currentPropagation;if(e){for(;e.events.length>0;){var t;const{event:r,priorityIndex:o}=e.events.pop(),s=null===(t=r.data)||void 0===t?void 0:t.eventId;if(null==s||!this._stoppedPropagationEventIds.has(s))for(e.currentHandler=this._handlersPriority[o];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{var i,n;if(e.currentHandler.active&&!r.shouldStopPropagation()&&null!==(i=(n=e.currentHandler).eventCallback)&&void 0!==i&&i.call(n,r),r.shouldStopPropagation()){null!=s&&this._stoppedPropagationEventIds.add(s);break}if(r.shouldPausePropagation((()=>this._continuePropagation())))return void this._pausePropagation({event:r,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const t=new s.A;t.push(e);const i=this._currentPropagation;if(i){for(;i.events.length;)t.push(i.events.pop());i.events=t,i.currentHandler=null,this._paused=!0}}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const i of e.handler.incomingEventMatches)for(const e of t.handler.incomingEventMatches){if(i.eventType!==e.eventType)continue;const t=i.keyModifiers.filter((t=>e.keyModifiers.includes(t)));if(t.length===i.keyModifiers.length!==(t.length===e.keyModifiers.length))return i.keyModifiers.length>e.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const i of e){let e=0;for(;e<t.length&&this._compareHandlerPriority(i,t[e])>=0;)e++;t.splice(e,0,i)}return t}get debug(){const e=e=>{const t=this._setPointerCapture;this._setPointerCapture=()=>{},e(),this._setPointerCapture=t};return{injectEvent:(t,i)=>{e((()=>this._onEventReceived(t,i)))},disablePointerCapture:e}}};(0,n._)([(0,a.MZ)({readOnly:!0})],m.prototype,"hasPendingInputs",null),(0,n._)([(0,a.MZ)({constructOnly:!0})],m.prototype,"eventSource",void 0),(0,n._)([(0,a.MZ)({constructOnly:!0})],m.prototype,"recognizers",void 0),(0,n._)([(0,a.MZ)()],m.prototype,"_latestPointerType",void 0),(0,n._)([(0,a.MZ)()],m.prototype,"latestPointerType",null),(0,n._)([(0,a.MZ)()],m.prototype,"multiTouchActive",null),(0,n._)([(0,a.MZ)({readOnly:!0})],m.prototype,"latestPointerLocation",void 0),(0,n._)([(0,a.MZ)()],m.prototype,"_paused",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],m.prototype,"updating",null),m=(0,n._)([(0,l.$)("esri.views.input.InputManager")],m);class y{constructor(e,t,i,n,r){this.type=e,this.data=t,this.timestamp=i,this.modifiers=n,this.cancelable=r,this._propagationState=g.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=g.STOPPED}shouldStopPropagation(){return!!(this._propagationState&g.STOPPED)}async(e){this._propagationState|=g.PAUSED;const t=(e,t)=>{this._propagationState&=~g.PAUSED;const i=this._resumeCallback;if(this._resumeCallback=null,i&&i(),t)throw e;return e};return("function"==typeof e?e():e).then((e=>t(e,!1)),(e=>t(e,!0)))}shouldPausePropagation(e){return!!(this._propagationState&g.PAUSED)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}}var g;!function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"}(g||(g={}));const v={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};const _=class{}},58503:(e,t,i)=>{i.d(t,{O9:()=>o,dw:()=>s,mj:()=>r});var n=i(93103);function r(e,t){const i=e.length>t.length?e:t;return(e.length>t.length?t:e).every(((e,t)=>e.type===i[t].type))}function o(e,t){const i=e.length>t.length?e:t,r=e.length>t.length?t:e;for(let o=r.length;o<i.length;o++)r.push((0,n.sK)(i[o]))}function s(e){const t=e[0];return!!t&&"type"in t}},59056:(e,t,i)=>{function n(e){const t=atob(e),i=new Uint8Array(t.length);for(let n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i.buffer}function r(e){const t=new Uint8Array(e);let i="";for(let n=0;n<t.length;n++)i+=String.fromCharCode(t[n]);return btoa(i)}i.d(t,{M:()=>n,Y:()=>r})},59097:(e,t,i)=>{i.d(t,{Ao:()=>s,KQ:()=>a,Tg:()=>o});var n=i(18690),r=i(3454);function o(e){return!!e&&null!=r.j[e]}function s(e){return 1/(r.j[e]||1)}const a=function(){const e=Object.keys(r.j);return(0,n.TF)(e,"decimal-degrees"),e.sort(),e}()},59187:(e,t,i)=>{i.d(t,{A:()=>p});var n,r=i(35143),o=i(42553),s=i(18288),a=i(46053),l=(i(81806),i(76460),i(47249),i(28379)),c=i(85842),u=i(17707),d=i(36693);let h=n=class extends o.A{static get allTime(){return f}static get empty(){return m}static fromArray(e){return new n({start:null!=e[0]?new Date(e[0]):e[0],end:null!=e[1]?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){var i;t.end=null!==(i=null===e||void 0===e?void 0:e.getTime())&&void 0!==i?i:null}get isAllTime(){return this.equals(n.allTime)}get isEmpty(){return this.equals(n.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){var i;t.start=null!==(i=null===e||void 0===e?void 0:e.getTime())&&void 0!==i?i:null}clone(){return new n({end:this.end,start:this.start})}equals(e){var t,i,n,r,o,s,a,l;if(!e)return!1;const c=null!==(t=null===(i=this.start)||void 0===i?void 0:i.getTime())&&void 0!==t?t:this.start,u=null!==(n=null===(r=this.end)||void 0===r?void 0:r.getTime())&&void 0!==n?n:this.end,d=null!==(o=null===(s=e.start)||void 0===s?void 0:s.getTime())&&void 0!==o?o:e.start,h=null!==(a=null===(l=e.end)||void 0===l?void 0:l.getTime())&&void 0!==a?a:e.end;return c===d&&u===h}expandTo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.qU;if(this.isEmpty||this.isAllTime)return this.clone();let i=this.start;i&&(i=(0,s.lL)(i,e,t));let r=this.end;if(r){const i=(0,s.lL)(r,e,t);r=r.getTime()===i.getTime()?i:(0,s.S1)(i,1,e,t)}return new n({start:i,end:r})}intersection(e){var t,i,r,o,s,a,l,c;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return n.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const u=null!==(t=null===(i=this.start)||void 0===i?void 0:i.getTime())&&void 0!==t?t:-1/0,d=null!==(r=null===(o=this.end)||void 0===o?void 0:o.getTime())&&void 0!==r?r:1/0,h=null!==(s=null===(a=e.start)||void 0===a?void 0:a.getTime())&&void 0!==s?s:-1/0,p=null!==(l=null===(c=e.end)||void 0===c?void 0:c.getTime())&&void 0!==l?l:1/0;let f,m;return h>=u&&h<=d?f=h:u>=h&&u<=p&&(f=u),d>=h&&d<=p?m=d:p>=u&&p<=d&&(m=p),null==f||null==m||isNaN(f)||isNaN(m)?n.empty:new n({start:f===-1/0?null:new Date(f),end:m===1/0?null:new Date(m)})}offset(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.qU;if(this.isEmpty||this.isAllTime)return this.clone();const r=new n,{start:o,end:a}=this;return null!=o&&(r.start=(0,s.S1)(o,e,t,i)),null!=a&&(r.end=(0,s.S1)(a,e,t,i)),r}toArray(){var e,t,i,n;return this.isEmpty?[void 0,void 0]:[null!==(e=null===(t=this.start)||void 0===t?void 0:t.getTime())&&void 0!==e?e:null,null!==(i=null===(n=this.end)||void 0===n?void 0:n.getTime())&&void 0!==i?i:null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return f.clone();const t=null!=this.start&&null!=e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=null!=this.end&&null!=e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new n({start:t,end:i})}};(0,r._)([(0,a.MZ)({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"end",void 0),(0,r._)([(0,l.w)("end")],h.prototype,"readEnd",null),(0,r._)([(0,u.K)("end")],h.prototype,"writeEnd",null),(0,r._)([(0,a.MZ)({readOnly:!0,json:{read:!1}})],h.prototype,"isAllTime",null),(0,r._)([(0,a.MZ)({readOnly:!0,json:{read:!1}})],h.prototype,"isEmpty",null),(0,r._)([(0,a.MZ)({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"start",void 0),(0,r._)([(0,l.w)("start")],h.prototype,"readStart",null),(0,r._)([(0,u.K)("start")],h.prototype,"writeStart",null),h=n=(0,r._)([(0,c.$)("esri.time.TimeExtent")],h);const p=h,f=new h,m=new h({start:void 0,end:void 0})},59422:(e,t,i)=>{function n(){return new Float32Array(2)}function r(e,t){const i=new Float32Array(2);return i[0]=e,i[1]=t,i}function o(){return n()}function s(){return r(1,1)}function a(){return r(1,0)}function l(){return r(0,1)}i.d(t,{Un:()=>u,fA:()=>r,uY:()=>c,vt:()=>n});const c=o(),u=s(),d=a(),h=l();Object.freeze(Object.defineProperty({__proto__:null,ONES:u,UNIT_X:d,UNIT_Y:h,ZEROS:c,clone:function(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t},create:n,createView:function(e,t){return new Float32Array(e,t,2)},fromValues:r,ones:s,unitX:a,unitY:l,zeros:o},Symbol.toStringTag,{value:"Module"}))},59649:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(99486),r=i(99702);class o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.values().next().value;this._peeker=e,this._observable=new r.I,this._items=new Set}get length(){return(0,n.gc)(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0===this.length)return;let e;for(e of this._items);return e}peek(){if(0!==this.length)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return(0,n.gc)(this._observable),this._items.has(e)}pop(){if(0===this.length)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(0===this.length)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const t=this.length;return this._items.forEach((t=>{e(t)||this._items.delete(t)})),t!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){(0,n.gc)(this._observable),yield*this._items}}},59752:(e,t,i)=>{i.d(t,{Bb:()=>x,W6:()=>n,mj:()=>g,nu:()=>C});var n,r=i(88321),o=(i(81806),i(76460)),s=i(30726),a=i(32634),l=i(30015),c=i(50346),u=i(68134),d=i(75540),h=i(91417),p=i(84031),f=i(5551),m=i(98476),y=i(22856);function g(){return new T.Scheduler}!function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e.MAPVIEW_FETCH_QUEUE="mapview fetch queue",e.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",e.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",e[e.NONE=0]="NONE",e[e.TEST_PRIO=1]="TEST_PRIO"}(n||(n={}));const v=new Map([[n.RESOURCE_CONTROLLER_IMMEDIATE,0],[n.RESOURCE_CONTROLLER,4],[n.SLIDE,0],[n.STREAM_DATA_LOADER,0],[n.ELEVATION_QUERY,0],[n.TERRAIN_SURFACE,1],[n.SURFACE_GEOMETRY_UPDATES,1],[n.LOD_RENDERER,2],[n.GRAPHICS_CORE,2],[n.I3S_CONTROLLER,2],[n.POINT_CLOUD_LAYER,2],[n.FEATURE_TILE_FETCHER,2],[n.CLOUDS_GENERATOR,2],[n.OVERLAY,4],[n.STAGE,4],[n.GRAPHICS_DECONFLICTOR,4],[n.FILTER_VISIBILITY,4],[n.SCALE_VISIBILITY,4],[n.FRUSTUM_VISIBILITY,4],[n.POINT_OF_INTEREST_FREQUENT,6],[n.POINT_OF_INTEREST_INFREQUENT,30],[n.LABELER,8],[n.FEATURE_QUERY_ENGINE,8],[n.FEATURE_TILE_TREE,16],[n.FEATURE_TILE_TREE_ACTIVE,0],[n.ELEVATION_ALIGNMENT,12],[n.ELEVATION_ALIGNMENT_SCENE,14],[n.TEXT_TEXTURE_ATLAS,12],[n.TEXTURE_UNLOAD,12],[n.LINE_OF_SIGHT_TOOL,16],[n.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[n.SNAPPING,0],[n.SHADOW_ACCUMULATOR,30],[n.MAPVIEW_FETCH_QUEUE,0],[n.MAPVIEW_LAYERVIEW_UPDATE,2],[n.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,0]]);function _(e){return v.has(e)?v.get(e):"number"==typeof e?e:1}const w=(0,h.l5)(6.5),b=(0,h.l5)(1),A=(0,h.l5)(30),M=(0,h.l5)(1e3/30),S=(0,h.l5)(100);var T,E;!function(e){e.Scheduler=class{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some((e=>e.needsUpdate))}constructor(){this._updating=(0,d.v)(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new a.A("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new i,this._state=m.M.INTERACTING,this._tasks=new l.A,this._runQueue=new l.A,this._load=0,this._idleStateCallbacks=new l.A,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,u.wB)((()=>f.A.SCHEDULER_LOG_SLOW_TASKS),(e=>this._debug=e),u.Vh);for(const e of Object.keys(n))this.performanceInfo.tasks.set(n[e],new a.A(n[e]))}destroy(){this._tasks.toArray().forEach((e=>e.remove())),this._tasks.clear(),(0,s.xt)(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(e){this._updatingChanged(),e&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask((()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())})))}registerTask(e,i){const n=new t(this,e,i);return this._tasks.push(n),this._updatingChanged(),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new a.A(e)),n}registerIdleStateCallbacks(e,t){const i={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(i),this.state===m.M.IDLE&&this._idleUpdatesStartFired&&i.idleBegin();const n=this;return{remove:()=>this._removeIdleStateCallbacks(i),set idleBegin(e){n._idleUpdatesStartFired&&(i.idleEnd(),n._state===m.M.IDLE&&e()),i.idleBegin=e},set idleEnd(e){i.idleEnd=e}}}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,this.state!==m.M.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((e=>e.idleEnd()))))}get state(){return this._state}frame(e){this._startFrameTaskTimes();const t=this._updateBudget(e);if(t){const e=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-e)}else this._recordFrameTaskTimes(0);return t}_updateBudget(e){this._test&&(this._test.usedBudget=0),++this._frameNumber;let t=w,i=e.frameDuration,n=b;switch(this.state){case m.M.IDLE:t=(0,h.l5)(0),i=(0,h.l5)(Math.max(S,e.frameDuration)),n=A;break;case m.M.INTERACTING:i=(0,h.l5)(Math.max(M,e.frameDuration));case m.M.ANIMATING:}return i=(0,h.l5)(i-e.elapsedFrameTime-t),this.state!==m.M.IDLE&&i<b&&!this._forceTask?(this._forceTask=!0,!1):(i=(0,h.l5)(Math.max(i,n)),this._budget.reset(i,this.state),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case m.M.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((e=>e.idleBegin()))),this._runIdle();break;case m.M.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset((0,h.l5)(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e),this._updatingChanged()}_updateTask(e){this._tasks.forAll((t=>{t.name===e&&t.setPriority(e)}))}_getState(e){if(this._runQueue.some((t=>t.name===e)))return E.SCHEDULED;let t=E.IDLE;return this._tasks.forAll((i=>{i.name===e&&i.needsUpdate&&(i.schedulePriority<=1?t=E.READY:t!==E.READY&&(t=E.WAITING))})),t}_getRuntime(e){let t=0;return this._tasks.forAll((i=>{i.name===e&&(t+=i.runtime)})),t}_resetRuntimes(){this._tasks.forAll((e=>e.runtime=0))}_getRunning(){const e=new Map;if(this._tasks.forAll((t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;let t="";return e.forEach(((e,i)=>{t+=e>1?" ".concat(e,"x ").concat(i):" ".concat(i)})),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce(((e,t)=>t.needsUpdate?++e:e),0);this._load=.9*this._load+e*(1-.9)}_schedule(){for(this._runQueue.filterInPlace((e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1))),this._tasks.forAll((e=>{0===e.basePriority&&e.needsUpdate&&!this._runQueue.includes(e)&&e.blockFrame!==this._frameNumber&&this._runQueue.unshift(e)}));0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forAll((i=>{i.needsUpdate&&0!==i.schedulePriority&&0!==i.basePriority&&i.blockFrame!==this._frameNumber&&(e=!0,t=Math.max(t,i.basePriority),1===i.schedulePriority?(i.schedulePriority=0,this._runQueue.push(i)):--i.schedulePriority)})),!e)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do{for(;this._runQueue.length>0;){const t=this._budget.now(),i=this._runQueue.pop();this._budget.resetProgress();try{i.task.runTask(this._budget)===y.G&&(i.blockFrame=this._frameNumber)}catch(e){o.A.getLogger("esri.views.support.Scheduler").error('Exception in task "'.concat(i.name,'"'),e),i.blockFrame=this._frameNumber}!this._budget.hasProgressed&&i.blockFrame!==this._frameNumber&&i.needsUpdate&&(i.name,n.I3S_CONTROLLER,i.blockFrame=this._frameNumber),i.schedulePriority=i.basePriority;const r=this._budget.now()-t;if(i.runtime+=r,this._frameTaskTimes.set(i.priority,this._frameTaskTimes.get(i.priority)+r),this._budget.remaining<=0)return void this._updatingChanged()}}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const e of Object.keys(n))this._frameTaskTimes.set(n[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach(((e,t)=>this.performanceInfo.tasks.get(t).push(e))),this.performanceInfo.total.push(e)}get test(){return this._test}};class t{get task(){return this._task.value}get updating(){return this._queue.running}constructor(e,t,i){this._scheduler=e,this.name=t,this.blockFrame=0,this.runtime=0,this._queue=new p.T,this._handles=new r.A,this._basePriority=_(t),this.schedulePriority=this._basePriority,this._task=(0,d.v)(null!=i?i:this._queue),this._handles.add((0,u.z7)((()=>this.task.running),(t=>e.taskRunningChanged(t))))}remove(){this.processQueue(x),this._scheduler.removeTask(this),this.schedule=C.schedule,this.reschedule=C.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){if(this.name===e)return;this.name=e;const t=_(e);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=t),this._basePriority=t}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.updating||this.task.running}schedule(e,t,i){return this._queue.push(e,t,i)}reschedule(e,t,i){return this._queue.unshift(e,t,i)}processQueue(e){return this._queue.runTask(e)}}class i{constructor(){this._begin="undefined"!=typeof performance?performance.now():0,this._budget=0,this._state=m.M.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e,t){this._begin=this.now(),this._budget=e,this._state=t,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=i}(T||(T={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(E||(E={}));const x=(()=>{const e=new T.Budget;return e.enabled=!1,e})();const C=new class{remove(){}processQueue(){}schedule(e,t,i){try{if((0,c.G4)(t)){const e=(0,c.NK)();return i?Promise.resolve(i(e)):Promise.reject(e)}return(0,c.z7)(e(x))}catch(n){return Promise.reject(n)}}reschedule(e,t,i){return this.schedule(e,t,i)}}},59989:(e,t,i)=>{i.d(t,{A:()=>w});var n=i(55171),r=i(50076),o=i(79053),s=i(54901),a=i(30726),l=i(50346),c=i(28786);const u={statsWorker:()=>Promise.all([i.e(2003),i.e(1835),i.e(4092)]).then(i.bind(i,81835)),geometryEngineWorker:()=>Promise.all([i.e(2612),i.e(4911)]).then(i.bind(i,49729)),arcadeGeometryOperatorsWorker:()=>i.e(9957).then(i.bind(i,89957)),CSVSourceWorker:()=>Promise.all([i.e(8618),i.e(5169),i.e(8683),i.e(2003),i.e(8094),i.e(6e3),i.e(5511)]).then(i.bind(i,12914)),EdgeProcessingWorker:()=>Promise.all([i.e(8105),i.e(2259),i.e(5015)]).then(i.bind(i,50698)),ElevationSamplerWorker:()=>Promise.all([i.e(8105),i.e(6343)]).then(i.bind(i,98357)),FeatureServiceSnappingSourceWorker:()=>Promise.all([i.e(8618),i.e(5169),i.e(8683),i.e(2003),i.e(9122),i.e(8094),i.e(6e3),i.e(3824)]).then(i.bind(i,6650)),GeoJSONSourceWorker:()=>Promise.all([i.e(8618),i.e(5169),i.e(8683),i.e(2003),i.e(8094),i.e(6e3),i.e(8323)]).then(i.bind(i,29184)),LercWorker:()=>i.e(1533).then(i.bind(i,31533)),MemorySourceWorker:()=>Promise.all([i.e(8618),i.e(5169),i.e(8683),i.e(2003),i.e(8094),i.e(6e3),i.e(5384)]).then(i.bind(i,35454)),PBFDecoderWorker:()=>Promise.all([i.e(8618),i.e(9122),i.e(7218)]).then(i.bind(i,20904)),FeaturePipelineWorker:()=>Promise.all([i.e(4648),i.e(8618),i.e(4797),i.e(5169),i.e(324),i.e(401),i.e(947),i.e(8683),i.e(2003),i.e(9122),i.e(6535),i.e(8094),i.e(6220),i.e(4402),i.e(7560),i.e(6799),i.e(7420),i.e(7629)]).then(i.bind(i,9848)),PointCloudWorker:()=>Promise.all([i.e(9592),i.e(554)]).then(i.bind(i,94116)),RasterWorker:()=>Promise.all([i.e(3092),i.e(9844),i.e(6964),i.e(1633),i.e(1772)]).then(i.bind(i,5294)),SceneLayerSnappingSourceWorker:()=>Promise.all([i.e(8105),i.e(1729),i.e(4536),i.e(2259),i.e(1610)]).then(i.bind(i,51264)),SceneLayerWorker:()=>Promise.all([i.e(1729),i.e(9592),i.e(809),i.e(9905),i.e(3415)]).then(i.bind(i,16801)),WFSSourceWorker:()=>Promise.all([i.e(8618),i.e(5169),i.e(8683),i.e(2003),i.e(8094),i.e(6e3),i.e(1316),i.e(8938)]).then(i.bind(i,22665)),WorkerTileHandler:()=>Promise.all([i.e(324),i.e(5995),i.e(6456)]).then(i.bind(i,69574)),Lyr3DWorker:()=>i.e(1014).then(i.bind(i,1014)),Feature3DPipelineWorker:()=>Promise.all([i.e(8618),i.e(5169),i.e(8683),i.e(2003),i.e(9122),i.e(8105),i.e(8094),i.e(1729),i.e(9592),i.e(2763),i.e(4536),i.e(5131),i.e(1811),i.e(3802),i.e(1891),i.e(3392),i.e(7505)]).then(i.bind(i,19326)),TextureCompressionWorker:()=>i.e(9854).then(i.bind(i,19854))};var d=i(88943),h=i(80483);const{CLOSE:p,ABORT:f,INVOKE:m,RESPONSE:y,OPEN_PORT:g,ON:v}=d.Go;class _{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===d.Go.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class w{static connect(e,t){const i=new MessageChannel;let n;n="function"==typeof e?new e:"default"in e&&"function"==typeof e.default?new e.default:e;const r=new w(i.port1,{channel:i,client:n,schedule:t});return"object"==typeof n&&"remoteClient"in n&&(n.remoteClient=r),w.clients.set(r,n),i.port2}static loadWorker(e){const t=u[e];return t?t():Promise.resolve(null)}constructor(e,t,i){this._port=e,this._jobQueue=i,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new _((e=>this._onInvokeMessage(e))),this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,this._schedule=t.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:p}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,i){return this.apply(e,[t],i)}apply(e,t,i){const n=null===i||void 0===i?void 0:i.signal,o=null===i||void 0===i?void 0:i.transferList;if(!this._port)return Promise.reject(new r.A(d.T,"Cannot call invoke('".concat(e,"'), port is closed"),{methodName:e,data:t}));const s=(0,d.Jc)();return new Promise(((i,r)=>{if((0,l.G4)(n))return this._processWork(),void r((0,l.NK)());const c=(0,l.u7)(n,(()=>{const e=this._outJobs.get(s);e&&(this._outJobs.delete(s),this._processWork(),(0,a.xt)(e.abortHandle),this._post({type:f,jobId:s}),r((0,l.NK)()))})),u={resolve:i,reject:r,abortHandle:c,debugInfo:e};this._outJobs.set(s,u),this._post({type:m,jobId:s,methodName:e,abortable:null!=n},t,o)}))}createInvokeProxy(e){return(0,c.L)(this,e)}on(e,t){const i=new MessageChannel;function n(e){t(e.data)}return this._port.postMessage({type:d.Go.ON,eventType:e,port:i.port2},[i.port2]),i.port1.addEventListener("message",n),i.port1.start(),(0,s.hA)((()=>{i.port1.postMessage({type:d.Go.CLOSE}),i.port1.close(),i.port1.removeEventListener("message",n)}))}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:g,port:e.port2}),e.port1}_processWork(){var e;if(this._outJobs.size>=2)return;const t=null===(e=this._jobQueue)||void 0===e?void 0:e.pop();if(!t)return;const{methodName:i,data:n,invokeOptions:r,resolver:o}=t;this.apply(i,n,r).then((e=>o.resolve(e))).catch((e=>o.reject(e)))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{(0,a.xt)(e.abortHandle),e.reject((0,l.NK)("Worker closing, aborting job calling '".concat(e.debugInfo,"'")))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(e){null!=this._schedule?this._schedule((()=>this._processMessage(e,!0))):this._processMessage(e,!1)}_processMessage(e,t){const i=(0,d.VI)(e);if(i)switch(i.type){case y:this._onResponseMessage(i);break;case m:t?this._onInvokeMessage(i):this._invokeQueue.push(i);break;case f:this._onAbortMessage(i);break;case p:this._onCloseMessage();break;case g:this._onOpenPortMessage(i);break;case v:this._onOnMessage(i)}}_onAbortMessage(e){const t=this._inJobs,i=e.jobId,n=t.get(i);this._invokeQueue.push(e),n&&(n.controller&&n.controller.abort(),t.delete(i))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&w.clients.get(this)===e&&e.destroy(),w.clients.delete(this),(null===e||void 0===e?void 0:e.remoteClient)&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:t,jobId:i,data:n=[],abortable:r}=e,o=r?new AbortController:null,s=this._inJobs;let a,c=this._client,u=c[t];try{if(!u&&t&&t.includes(".")){const e=t.split(".");for(let t=0;t<e.length-1;t++)c=c[e[t]],u=c[e[t+1]]}if("function"!=typeof u)throw new TypeError("".concat(t," is not a function"));n.push({client:this,signal:o?o.signal:null}),a=u.apply(c,n)}catch(h){return void this._post({type:y,jobId:i,error:(0,d.mF)(h)})}(0,l.$X)(a)?(s.set(i,{controller:o,promise:a}),a.then((e=>{s.has(i)&&(s.delete(i),this._post({type:y,jobId:i},e))}),(e=>{s.has(i)&&(s.delete(i),(0,l.zf)(e)||this._post({type:y,jobId:i,error:(0,d.mF)(e||{message:"Error encountered at method ".concat(t)})}))}))):this._post({type:y,jobId:i},a)}_onOpenPortMessage(e){new w(e.port,{client:this._client})}_onOnMessage(e){const{port:t}=e,i=this._client.on(e.eventType,(e=>{t.postMessage(e)})),n=(0,o.on)(e.port,"message",(e=>{const r=(0,d.VI)(e);(null===r||void 0===r?void 0:r.type)===d.Go.CLOSE&&(n.remove(),i.remove(),t.close())}))}_onResponseMessage(e){const{jobId:t,error:i,data:n}=e,o=this._outJobs;if(!o.has(t))return;const s=o.get(t);o.delete(t),this._processWork(),(0,a.xt)(s.abortHandle),i?s.reject(r.A.fromJSON(JSON.parse(i))):s.resolve(n)}_post(e,t,i){return(0,d.u1)(this._port,e,t,i)}}w.kernelInfo={buildDate:h.$,fullVersion:n.ol,revision:h.u},w.clients=new Map},60351:(e,t,i)=>{i.d(t,{k:()=>r});var n=i(49140);function r(e,t,i){t.keys().forEach((e=>{i.set(e,t.get(e),n.Gr.DEFAULTS)}));const r=e.metadata;Object.keys(r).forEach((t=>{e.internalGet(t)&&i.set(t,e.internalGet(t),n.Gr.DEFAULTS)}))}},60749:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(35143),r=i(42553),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842));let a=class extends r.A{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};(0,n._)([(0,o.MZ)({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],a.prototype,"type",void 0),(0,n._)([(0,o.MZ)({readOnly:!0})],a.prototype,"visible",void 0),a=(0,n._)([(0,s.$)("esri.symbols.callouts.Callout3D")],a);const l=a},61196:(e,t,i)=>{function n(e,t,i,n,o){r(e,t,i||0,n||e.length-1,o||s)}function r(e,t,i,n,s){for(;n>i;){if(n-i>600){var a=n-i+1,l=t-i+1,c=Math.log(a),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1);r(e,t,Math.max(i,Math.floor(t-l*u/a+d)),Math.min(n,Math.floor(t+(a-l)*u/a+d)),s)}var h=e[t],p=i,f=n;for(o(e,i,t),s(e[n],h)>0&&o(e,i,n);p<f;){for(o(e,p,f),p++,f--;s(e[p],h)<0;)p++;for(;s(e[f],h)>0;)f--}0===s(e[i],h)?o(e,i,f):o(e,++f,n),f<=t&&(i=f+1),t<=f&&(n=f-1)}}function o(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function s(e,t){return e<t?-1:e>t?1:0}i.d(t,{q:()=>n})},61425:(e,t,i)=>{i.d(t,{A:()=>h});var n,r=i(35143),o=i(42553),s=i(76931),a=i(46053),l=i(21403),c=(i(81806),i(47249),i(85842)),u=i(27790);let d=n=class extends o.A{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return(0,s.cr)(e)}clone(){return new n({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return"".concat(this.decoration,".").concat(this.family,".").concat(this.size,".").concat(this.style,".").concat(this.weight)}};(0,r._)([(0,a.MZ)({type:u.h9,json:{default:"none",write:!0}})],d.prototype,"decoration",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"family",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],d.prototype,"size",void 0),(0,r._)([(0,l.w)("size")],d.prototype,"castSize",null),(0,r._)([(0,a.MZ)({type:u._R,json:{default:"normal",write:!0}})],d.prototype,"style",void 0),(0,r._)([(0,a.MZ)({type:u.NM,json:{default:"normal",write:!0}})],d.prototype,"weight",void 0),d=n=(0,r._)([(0,c.$)("esri.symbols.Font")],d);const h=d},61551:(e,t,i)=>{var n,r,o,s,a,l,c,u,d;i.d(t,{Be:()=>a,Gn:()=>o,RI:()=>c,S5:()=>r,ch:()=>u,uC:()=>d}),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"}(n||(n={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(r||(r={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(o||(o={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(s||(s={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(a||(a={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(l||(l={})),function(e){e[e.All=0]="All",e[e.Highlight=1]="Highlight",e[e.InsideEffect=2]="InsideEffect",e[e.OutsideEffect=3]="OutsideEffect"}(c||(c={})),function(e){e[e.BATCHING=0]="BATCHING",e[e.STRICT_ORDER=1]="STRICT_ORDER",e[e.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(u||(u={})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT"}(d||(d={}))},61619:(e,t,i)=>{function n(e,t,i,n){const r=3*e,o=3*(i-e)-r,s=1-r-o,a=3*t,l=3*(n-t)-a,c=1-a-l;function u(e){return((s*e+o)*e+r)*e}function d(e){return(3*s*e+2*o)*e+r}return function(e){return function(e){return((c*e+l)*e+a)*e}(function(e,t){let i,n,r,o,s,a;for(r=e,a=0;a<8;a++){if(o=u(r)-e,Math.abs(o)<t)return r;if(s=d(r),Math.abs(s)<1e-6)break;r-=o/s}if(i=0,n=1,r=e,r<i)return i;if(r>n)return n;for(;i<n;){if(o=u(r),Math.abs(o-e)<t)return r;e>o?i=r:n=r,r=.5*(n-i)+i}return r}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-6))}}i.d(t,{Z0:()=>r,gb:()=>n});const r={};r.ease=n(.25,.1,.25,1),r.linear=n(0,0,1,1),r.easeIn=r["ease-in"]=n(.42,0,1,1),r.easeOut=r["ease-out"]=n(0,0,.58,1),r.easeInOut=r["ease-in-out"]=n(.42,0,.58,1)},61678:(e,t,i)=>{i.d(t,{Xc:()=>c,Y2:()=>u,en:()=>l});var n=i(50076),r=i(81806),o=i(76460);const s=()=>o.A.getLogger("esri.views.webgl.checkWebGLError");const a=!!(0,r.A)("enable-feature:webgl-debug");function l(){return a}function c(){return a}function u(e){if(l()){const t=e.getError();if(t){const i=function(e,t){switch(t){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}(e,t),r=(new Error).stack;s().error(new n.A("webgl-error","WebGL error occurred",{message:i,stack:r}))}}}},62571:(e,t,i)=>{i.d(t,{x:()=>n,z:()=>r});const n=["begin","end","begin-end"],r=["arrow","circle","square","diamond","cross","x"]},62754:(e,t,i)=>{i.d(t,{A:()=>r});var n=i(83113);class r extends n.A{constructor(e,t,i){super(e,t,i)}}r.prototype.type="warning"},63241:(e,t,i)=>{i.d(t,{Lx:()=>l,eF:()=>c,eO:()=>a,io:()=>u});var n=i(89379),r=i(81806);const o=new WeakMap;function s(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n="\ud83d\uded1 DEPRECATED - ".concat(t);if(!i)return void e.warn(n);let r=o.get(e);r||(r=new Set,o.set(e,r)),r.has(t)||(r.add(t),e.warn(n))}function a(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,r.A)("esri-deprecation-warnings")){const{moduleName:n}=i;u(e,"Function: ".concat((n?n+"::":"")+t+"()"),i)}}function l(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,r.A)("esri-deprecation-warnings")){const{moduleName:n}=i;u(e,"Property: ".concat((n?n+"::":"")+t),i)}}function c(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,r.A)("esri-deprecation-warnings")&&u(e,"Multiple argument constructor: ".concat(t),(0,n.A)({warnOnce:!0,replacement:"new ".concat(t,"({ <your properties here> })")},i))}function u(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,r.A)("esri-deprecation-warnings")){const{replacement:n,version:r,see:o,warnOnce:a}=i;let l=t;if(n&&(l+="\n\t\ud83d\udee0\ufe0f Replacement: ".concat(n)),r&&(l+="\n\t\u2699\ufe0f Version: ".concat(r)),o)if(Array.isArray(o)){l+="\n\t\ud83d\udd17 See for more details:";for(const e of o)l+="\n\t\t".concat(e)}else l+="\n\t\ud83d\udd17 See ".concat(o," for more details.");s(e,l,a)}}},63582:(e,t,i)=>{function n(e){return(t,i)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}i.d(t,{G:()=>n})},63584:(e,t,i)=>{i.d(t,{Eq:()=>p,L4:()=>d,Pr:()=>w,QA:()=>g,Qu:()=>_,dJ:()=>h,r3:()=>y,vT:()=>v});var n=i(89379),r=i(31633),o=i(5095),s=i(61551),a=i(93345);const l={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:a.MT.EQUAL,mask:255,op:{fail:a.eA.KEEP,zFail:a.eA.KEEP,zPass:a.eA.REPLACE}}}},c={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},u=(0,n.A)((0,n.A)({},l),{},{color:{write:[!0,!0,!0,!0],blendMode:"delete"}});function d(e,t){let{pixelRatio:i,state:n,displayLevel:o,requiredLevel:s}=e;const a=1/2**(o-t.key.level),l=1/2**(s-t.key.level);return{displayMat3:n.displayMat3,displayViewMat3:n.displayViewMat3,displayViewScreenMat3:t.transforms.displayViewScreenMat3,viewMat3:n.viewMat3,tileMat3:t.transforms.tileMat3,displayZoomFactor:a,requiredZoomFactor:l,tileOffset:[t.x,t.y],currentScale:n.scale,currentZoom:o,metersPerSRUnit:(0,r.GA)(n.spatialReference),rotation:n.rotation,pixelRatio:i}}function h(e){var t;return"highlight"===(null===(t=e.passOptions)||void 0===t?void 0:t.type)}function p(e){var t;return"hittest"===(null===(t=e.passOptions)||void 0===t?void 0:t.type)}function f(e){if(!p(e))return null;const{position:t,distance:i,smallSymbolDistance:n,smallSymbolSizeThreshold:r}=e.passOptions;return{position:t,distance:i,smallSymbolDistance:n,smallSymbolSizeThreshold:r}}function m(e){if(!h(e))return null;const{activeReasons:t,highlightAll:i}=e.passOptions;return{activeReasons:t,highlightAll:i?1:0}}function y(e,t,i){const n={};for(const r in i)i[r]instanceof Function?n[r]=i[r](e,t):n[r]=i[r];return n}function g(e,t){const{attributeView:i,context:n}=e;return{storage:i.getUniforms(n),view:d(e,t),hittestRequest:f(e),highlight:m(e)}}function v(e){return{inside:e.selection===s.RI.InsideEffect,outside:e.selection===s.RI.OutsideEffect}}function _(e){return p(e)?c:h(e)&&"clear"===e.passOptions.stepType?u:l}function w(e){const{row:t,col:i}=e.key,n=i*o.CQ,r=t*o.CQ;return{tileOffsetFromLocalOrigin:[n%o.YV,r%o.YV],maxIntsToLocalOrigin:[Math.floor(n/o.YV),Math.floor(r/o.YV)]}}},63733:(e,t,i)=>{i.d(t,{A:()=>p});var n=i(35143),r=i(46053),o=(i(81806),i(76460),i(47249),i(85842)),s=i(5364),a=i(25515),l=i(65624),c=i(5682),u=i(64519),d=i(731);let h=class extends((0,l.dM)((0,c.j)(a.A))){constructor(e){super(e),this.elevationInfo=null,this.graphics=new u.Y,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,t){return super.on(e,t)}graphicChanged(e){this.emit("graphic-update",e)}};(0,n._)([(0,r.MZ)({type:d.A})],h.prototype,"elevationInfo",void 0),(0,n._)([(0,r.MZ)((0,s.C)(u.Y,"graphics"))],h.prototype,"graphics",void 0),(0,n._)([(0,r.MZ)({type:["show","hide"]})],h.prototype,"listMode",void 0),(0,n._)([(0,r.MZ)()],h.prototype,"screenSizePerspectiveEnabled",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],h.prototype,"type",void 0),(0,n._)([(0,r.MZ)({constructOnly:!0})],h.prototype,"internal",void 0),h=(0,n._)([(0,o.$)("esri.layers.GraphicsLayer")],h);const p=h},63860:(e,t,i)=>{i.d(t,{ao:()=>p,ud:()=>f,xO:()=>m});var n=i(50076),r=i(54901),o=i(50346),s=i(38042);const a=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,l={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function c(e){if(function(e){return e in l}(e)){const t=l[e];return!0===t?e:t}return null}const u=[],d=new Map;function h(e){for(const t of d.keys())y(e.pattern,t)&&d.delete(t)}function p(e){return u.includes(e)||(h(e),u.unshift(e)),(0,r.hA)((()=>{const t=u.indexOf(e);t>-1&&(u.splice(t,1),h(e))}))}async function f(e){const t=(0,s.JK)();d.has(e)||d.set(e,async function(e,t){const i=[];for(const n of u)if(y(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(r){i.push(r)}if(i.length)throw new n.A("intl:message-bundle-error",'Errors occurred while loading "'.concat(e,'"'),{errors:i});throw new n.A("intl:no-message-bundle-loader",'No loader found for message bundle "'.concat(e,'"'))}(e,t));const i=d.get(e);return i&&await g.add(i),i}function m(e){var t;if(!a.test(e))return null;const i=a.exec(e);if(null===i)return null;const[,n,r]=i;return null!==(t=c(n+(r?"-"+r.toUpperCase():"")))&&void 0!==t?t:c(n)}function y(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}(0,s.Ml)((()=>{d.clear()}));const g=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,o.Tw)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},63885:(e,t,i)=>{i.d(t,{TP:()=>l,_f:()=>o,eh:()=>r,uw:()=>c});var n=i(14556);const r=Math.PI/180,o=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,s=n.$O.radius,a=n.$O.eccentricitySquared,l={a1:s*a,a2:s*a*s*a,a3:s*a*a/2,a4:s*a*s*a*2.5,a5:s*a+s*a*a/2,a6:1-a},c={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:n.$O.radius,f:n.$O.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:n.Sw.radius,f:n.Sw.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:n.sH.radius,f:n.sH.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:n.sH.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},63919:(e,t,i)=>{i.d(t,{$0:()=>g,B8:()=>l,D_:()=>s,Ge:()=>w,I0:()=>v,KC:()=>c,Oe:()=>m,Tl:()=>h,a4:()=>u,dR:()=>_,e$:()=>p,hZ:()=>o,hs:()=>f,kN:()=>y,lw:()=>d,mg:()=>a,z0:()=>r});var n=i(53494);function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function o(e,t,i,n,r,o,s,a,l,c){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function a(e,t){if(e===t){const i=t[1],n=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=n,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function l(e,t){const i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=u*s-a*c,h=-u*o+a*l,p=c*o-s*l;let f=i*d+n*h+r*p;return f?(f=1/f,e[0]=d*f,e[1]=(-u*n+r*c)*f,e[2]=(a*n-r*s)*f,e[3]=h*f,e[4]=(u*i-r*l)*f,e[5]=(-a*i+r*o)*f,e[6]=p*f,e[7]=(-c*i+n*l)*f,e[8]=(s*i-n*o)*f,e):null}function c(e,t){const i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8];return e[0]=s*u-a*c,e[1]=r*c-n*u,e[2]=n*a-r*s,e[3]=a*l-o*u,e[4]=i*u-r*l,e[5]=r*o-i*a,e[6]=o*c-s*l,e[7]=n*l-i*c,e[8]=i*s-n*o,e}function u(e){const t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*(c*o-s*l)+i*(-c*r+s*a)+n*(l*r-o*a)}function d(e,t,i){const n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=i[0],p=i[1],f=i[2],m=i[3],y=i[4],g=i[5],v=i[6],_=i[7],w=i[8];return e[0]=h*n+p*s+f*c,e[1]=h*r+p*a+f*u,e[2]=h*o+p*l+f*d,e[3]=m*n+y*s+g*c,e[4]=m*r+y*a+g*u,e[5]=m*o+y*l+g*d,e[6]=v*n+_*s+w*c,e[7]=v*r+_*a+w*u,e[8]=v*o+_*l+w*d,e}function h(e,t,i){const n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=i[0],p=i[1];return e[0]=n,e[1]=r,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e[6]=h*n+p*s+c,e[7]=h*r+p*a+u,e[8]=h*o+p*l+d,e}function p(e,t,i){const n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=Math.sin(i),p=Math.cos(i);return e[0]=p*n+h*s,e[1]=p*r+h*a,e[2]=p*o+h*l,e[3]=p*s-h*n,e[4]=p*a-h*r,e[5]=p*l-h*o,e[6]=c,e[7]=u,e[8]=d,e}function f(e,t,i){const n=i[0],r=i[1],o=i[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=o*t[6],e[7]=o*t[7],e[8]=o*t[8],e}function m(e,t,i){const n=i[0],r=i[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e}function y(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function g(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=0,e[3]=-i,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function v(e,t){const i=t[0],n=t[1],r=t[2],o=t[3],s=i+i,a=n+n,l=r+r,c=i*s,u=n*s,d=n*a,h=r*s,p=r*a,f=r*l,m=o*s,y=o*a,g=o*l;return e[0]=1-d-f,e[3]=u-g,e[6]=h+y,e[1]=u+g,e[4]=1-c-f,e[7]=p-m,e[2]=h-y,e[5]=p+m,e[8]=1-c-d,e}function _(e,t){const i=t[0],n=t[1],r=t[2],o=t[4],s=t[5],a=t[6],l=t[8],c=t[9],u=t[10],d=u*s-a*c,h=-u*o+a*l,p=c*o-s*l,f=i*d+n*h+r*p;if(!f)return null;const m=1/f;return e[0]=d*m,e[1]=(-u*n+r*c)*m,e[2]=(a*n-r*s)*m,e[3]=h*m,e[4]=(u*i-r*l)*m,e[5]=(-a*i+r*o)*m,e[6]=p*m,e[7]=(-c*i+n*l)*m,e[8]=(s*i-n*o)*m,e}function w(e,t){const i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],m=t[13],y=t[14],g=t[15],v=i*a-n*s,_=i*l-r*s,w=i*c-o*s,b=n*l-r*a,A=n*c-o*a,M=r*c-o*l,S=u*m-d*f,T=u*y-h*f,E=u*g-p*f,x=d*y-h*m,C=d*g-p*m,P=h*g-p*y;let O=v*P-_*C+w*x+b*E-A*T+M*S;return O?(O=1/O,e[0]=(a*P-l*C+c*x)*O,e[1]=(l*E-s*P-c*T)*O,e[2]=(s*C-a*E+c*S)*O,e[3]=(r*C-n*P-o*x)*O,e[4]=(i*P-r*E+o*T)*O,e[5]=(n*E-i*C-o*S)*O,e[6]=(m*M-y*A+g*b)*O,e[7]=(y*w-f*M-g*_)*O,e[8]=(f*A-m*w+g*v)*O,e):null}function b(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}const A=d,M=b;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e},adjoint:c,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},determinant:u,equals:function(e,t){const i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=t[0],p=t[1],f=t[2],m=t[3],y=t[4],g=t[5],v=t[6],_=t[7],w=t[8],b=(0,n.FD)();return Math.abs(i-h)<=b*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(r-p)<=b*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-f)<=b*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-m)<=b*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(a-y)<=b*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(l-g)<=b*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-v)<=b*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(u-_)<=b*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(d-w)<=b*Math.max(1,Math.abs(d),Math.abs(w))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)},fromMat2d:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},fromMat4:r,fromQuat:v,fromRotation:g,fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromTranslation:y,identity:s,invert:l,isOrthoNormal:function(e){const t=(0,n.FD)(),i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8];return Math.abs(1-(i*i+s*s+c*c))<=t&&Math.abs(1-(r*r+a*a+u*u))<=t&&Math.abs(1-(o*o+l*l+d*d))<=t},mul:A,multiply:d,multiplyScalar:function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e},multiplyScalarAndAdd:function(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e[6]=t[6]+i[6]*n,e[7]=t[7]+i[7]*n,e[8]=t[8]+i[8]*n,e},normalFromMat4:w,normalFromMat4Legacy:_,projection:function(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},rotate:p,scale:f,scaleByVec2:m,set:o,str:function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},sub:M,subtract:b,translate:h,transpose:a},Symbol.toStringTag,{value:"Module"}))},64362:(e,t,i)=>{i.d(t,{A:()=>c});var n,r=i(35143),o=i(42553),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842));let l=n=class extends o.A{constructor(e){super(e),this.field=null,this.order=null}clone(){return new n({field:this.field,order:this.order})}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"field",void 0),(0,r._)([(0,s.MZ)({type:["asc","desc"],json:{write:!0}})],l.prototype,"order",void 0),l=n=(0,r._)([(0,a.$)("esri.popup.support.RelatedRecordsInfoFieldOrder")],l);const c=l},64465:(e,t,i)=>{var n;i.d(t,{RT:()=>n}),function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"}(n||(n={}))},64519:(e,t,i)=>{i.d(t,{Y:()=>c});var n=i(35143),r=i(39356),o=(i(76460),i(40565)),s=(i(81806),i(47249),i(50076),i(29101)),a=i(85842),l=i(5364);let c=class extends l.X{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};(0,n._)([(0,s.u)({Type:r.A,ensureType:(0,o.dp)(r.A)})],c.prototype,"itemType",void 0),c=(0,n._)([(0,a.$)("esri.support.GraphicsCollection")],c)},64681:(e,t,i)=>{i.d(t,{A:()=>o});let n=0;class r{static fromGE(e){const t=new r;return t._wkt=e.wkt,t._wkid=e.wkid,t._isInverse=e.isInverse,t}constructor(e){this.uid=n++,e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=n++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=n++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=n++}getInverse(){const e=new r;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}class o{static cacheKey(e,t){var i,n,r,o,s,a,l,c,u,d,h,p;return[null!==(i=null===(n=e.wkid)||void 0===n?void 0:n.toString())&&void 0!==i?i:"-1",null!==(r=null===(o=e.wkt)||void 0===o?void 0:o.toString())&&void 0!==r?r:"",null!==(s=null===(a=e.wkt2)||void 0===a?void 0:a.toString())&&void 0!==s?s:"",null!==(l=null===(c=t.wkid)||void 0===c?void 0:c.toString())&&void 0!==l?l:"-1",null!==(u=null===(d=t.wkt)||void 0===d?void 0:d.toString())&&void 0!==u?u:"",null!==(h=null===(p=t.wkt2)||void 0===p?void 0:p.toString())&&void 0!==h?h:""].join()}static fromGE(e){const t=new o;let i="";for(const n of e.steps){const e=r.fromGE(n);t.steps.push(e),i+=e.uid.toString()+","}return t._cachedProjection={},t._gtlistentry=null,t._chain=i,t}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,null!==e&&void 0!==e&&e.steps)for(const t of e.steps)t instanceof r?this.steps.push(t):this.steps.push(new r({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}getInverse(){const e=new o;e.steps=[];for(let t=this.steps.length-1;t>=0;t--){const i=this.steps[t];e.steps.push(i.getInverse())}return e}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(e,t,i){this._cachedProjection[o.cacheKey(e,t)]=i}getCachedGeTransformation(e,t){let i="";for(const r of this.steps)i+=r.uid.toString()+",";i!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=i);const n=this._cachedProjection[o.cacheKey(e,t)];return void 0===n?null:n}}},64867:(e,t,i)=>{function n(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{hasM:n,hasZ:r}=e;Array.isArray(t)?4!==t.length||n||r?3===t.length&&i&&!n?(r=!0,n=!1):3===t.length&&n&&r&&(n=!1,r=!1):(n=!0,r=!0):(r=!r&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!r||t.hasZ)),e.hasZ=r,e.hasM=n}i.d(t,{h:()=>n})},64920:(e,t,i)=>{i.d(t,{GB:()=>r,Qo:()=>s,Y4:()=>o});var n=i(24241);class r{}function o(e){return e instanceof n.bo?e===r.instance:"unknown"===(null===e||void 0===e?void 0:e.toString().toLowerCase())}function s(e){return o(e)?r.instance:e}r.instance=new n.oh("Etc/UTC")},64921:(e,t,i)=>{var n;i.d(t,{w:()=>n}),function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"}(n||(n={}))},65215:(e,t,i)=>{i.d(t,{A:()=>S});var n,r=i(89379),o=i(35143),s=i(18690),a=i(53084),l=i(46053),c=(i(81806),i(76460),i(85842)),u=i(17707),d=i(76797),h=i(89189),p=i(19247),f=i(13312),m=i(205),y=i(11352),g=i(5262),v=i(27084),_=i(65658),w=i(45417),b=i(64867);function A(e){return!Array.isArray(e[0])}let M=n=class extends h.A{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:i}=e;let r=!1,o=!1;for(const n of t)n.hasZ&&(r=!0),n.hasM&&(o=!0);const s={rings:t.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(r&&e.hasZ){const i=e.zmin+.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(i)}if(o&&e.hasM){const i=e.mmin+.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(i)}return t})),spatialReference:i};return r&&(s.hasZ=!0),o&&(s.hasM=!0),new n(s)}constructor(e){super(function(e){var t;if(!e)return;let{rings:i,hasM:n,hasZ:o,spatialReference:s}=e;switch(null!==i&&void 0!==i||(i=[]),function(e){var t;return"number"==typeof(null===(t=e[0])||void 0===t?void 0:t[0])}(i)&&(i=[i]),null===(t=i[0])||void 0===t||null===(t=t[0])||void 0===t?void 0:t.length){case 4:null!==o&&void 0!==o||(o=!0),null!==n&&void 0!==n||(n=!0);break;case 3:null!==o&&void 0!==o||(o=!0!==n),null!==n&&void 0!==n||(n=!o);break;default:null!==o&&void 0!==o||(o=!1),null!==n&&void 0!==n||(n=!1)}return null!==s&&void 0!==s||(s=f.A.WGS84),(0,r.A)((0,r.A)({},e),{},{hasM:n,hasZ:o,rings:i,spatialReference:s})}(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=(0,m.l8)(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new p.A;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=(0,a.o8)(e)}get extent(){const e=(0,v.v)(this),{spatialReference:t}=this;return e?new d.A((0,r.A)((0,r.A)({},e),{},{spatialReference:t})):null}get isSelfIntersecting(){return(0,_.A3)(this.rings)}writeRings(e,t){t.rings=(0,a.o8)(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(A(e)){const n=[];for(let t=0,i=e.length;t<i;t++)n[t]=e[t].toArray();t[i]=n}else t[i]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new n;return e.spatialReference=this.spatialReference,e.rings=(0,a.o8)(this.rings),e.curveRings=(0,a.o8)(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,i=e.spatialReference;if(null!=t!=(null!=i))return!1;if(null!=t&&null!=i&&!t.equals(i))return!1;if(this.rings.length!==e.rings.length)return!1;const n=(e,t)=>{let[i,n,r,o]=e,[s,a,l,c]=t;return i===s&&n===a&&(null==r&&null==l||r===l)&&(null==o&&null==c||o===c)};for(let r=0;r<this.rings.length;r++){const t=this.rings[r],i=e.rings[r];if(!(0,s.aI)(t,i,n))return!1}return!0}contains(e){if(!e)return!1;const t=(0,w.Cv)(e,this.spatialReference);return(0,y.m3)(this,null!=t?t:e)}isClockwise(e){const t=A(e)?e.map((e=>this.hasZ?this.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])):e;return(0,g.$3)(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],n=this.hasZ,r=this.hasM;return n&&!r?new p.A(i[0],i[1],i[2],void 0,this.spatialReference):r&&!n?new p.A(i[0],i[1],void 0,i[2],this.spatialReference):n&&r?new p.A(i[0],i[1],i[2],i[3],this.spatialReference):new p.A(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?((0,b.h)(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new p.A(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,n=t.map((e=>new p.A(e,i)));return this.notifyChange("rings"),n}setPoint(e,t,i){return this._validateInputs(e,t)?((0,b.h)(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||e<0||e>=this.rings.length)return!1;if(null!=t){const n=this.rings[e];if(i&&(t<0||t>n.length))return!1;if(!i&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};(0,o._)([(0,l.MZ)({readOnly:!0})],M.prototype,"cache",null),(0,o._)([(0,l.MZ)({readOnly:!0})],M.prototype,"centroid",null),(0,o._)([(0,l.MZ)({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],M.prototype,"curveRings",void 0),(0,o._)([(0,u.K)("curveRings")],M.prototype,"writeCurveRings",null),(0,o._)([(0,l.MZ)({readOnly:!0})],M.prototype,"extent",null),(0,o._)([(0,l.MZ)({readOnly:!0})],M.prototype,"isSelfIntersecting",null),(0,o._)([(0,l.MZ)({type:[[[Number]]],json:{write:{isRequired:!0}}})],M.prototype,"rings",void 0),(0,o._)([(0,u.K)("rings")],M.prototype,"writeRings",null),M=n=(0,o._)([(0,c.$)("esri.geometry.Polygon")],M);const S=M;M.prototype.toJSON.isDefaultToJSON=!0},65256:(e,t,i)=>{i.d(t,{Ey:()=>P,F8:()=>C,J2:()=>T,Yq:()=>E,_v:()=>b,iS:()=>x,wj:()=>O});var n=i(89379),r=i(45802),o=i(38042),s=i(36693),a=(i(67478),i(24241));const l={year:void 0,month:void 0,day:void 0,weekday:void 0},c={hour:void 0,minute:void 0,second:void 0},u={timeZone:s.n$},d={year:"numeric",month:"numeric",day:"numeric"},h={year:"numeric",month:"long",day:"numeric"},p={year:"numeric",month:"short",day:"numeric"},f={year:"numeric",month:"long",weekday:"long",day:"numeric"},m={hour:"numeric",minute:"numeric"},y=(0,n.A)((0,n.A)({},m),{},{second:"numeric"}),g={hourCycle:"h23"},v=(0,n.A)((0,n.A)({},m),g),_=(0,n.A)((0,n.A)({},y),g),w={"short-date":d,"short-date-short-time":(0,n.A)((0,n.A)({},d),m),"short-date-short-time-24":(0,n.A)((0,n.A)({},d),v),"short-date-long-time":(0,n.A)((0,n.A)({},d),y),"short-date-long-time-24":(0,n.A)((0,n.A)({},d),_),"short-date-le":d,"short-date-le-short-time":(0,n.A)((0,n.A)({},d),m),"short-date-le-short-time-24":(0,n.A)((0,n.A)({},d),v),"short-date-le-long-time":(0,n.A)((0,n.A)({},d),y),"short-date-le-long-time-24":(0,n.A)((0,n.A)({},d),_),"long-month-day-year":h,"long-month-day-year-short-time":(0,n.A)((0,n.A)({},h),m),"long-month-day-year-short-time-24":(0,n.A)((0,n.A)({},h),v),"long-month-day-year-long-time":(0,n.A)((0,n.A)({},h),y),"long-month-day-year-long-time-24":(0,n.A)((0,n.A)({},h),_),"day-short-month-year":p,"day-short-month-year-short-time":(0,n.A)((0,n.A)({},p),m),"day-short-month-year-short-time-24":(0,n.A)((0,n.A)({},p),v),"day-short-month-year-long-time":(0,n.A)((0,n.A)({},p),y),"day-short-month-year-long-time-24":(0,n.A)((0,n.A)({},p),_),"long-date":f,"long-date-short-time":(0,n.A)((0,n.A)({},f),m),"long-date-short-time-24":(0,n.A)((0,n.A)({},f),v),"long-date-long-time":(0,n.A)((0,n.A)({},f),y),"long-date-long-time-24":(0,n.A)((0,n.A)({},f),_),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":m,"long-time":y},b=(0,r.O)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),A={ar:"ar-u-nu-latn-ca-gregory"};let M=new WeakMap;const S=w["short-date-short-time"];function T(e){return w[e]}function E(e){return function(e){let t=M.get(e);if(!t){var i;const r=(0,o.JK)(),a=A[r]||r,l=O(null!==(i=e.timeZone)&&void 0!==i?i:s.qU),c=(0,n.A)((0,n.A)({},e),{},{timeZone:l});t=new Intl.DateTimeFormat(a,c),M.set(e,t)}return t}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:S).format(e)}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return E(new Date(e),(0,n.A)((0,n.A)((0,n.A)({},t),u),c))}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return E(new Date("1970-01-01T".concat(e,"Z")),(0,n.A)((0,n.A)((0,n.A)({},t),u),l))}function P(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;if(i.timeZone)return E(new Date(e),i);const r=a.c9.fromISO(e,{setZone:!0}),l=(0,o.JK)(),c=null!==(t=A[l])&&void 0!==t?t:l,u=0===r.offset?s.n$:i.timeZone,d=(0,n.A)((0,n.A)({},i),{},{timeZone:u});return r.toLocaleString(d,{locale:c})}function O(e){switch(e){case s.qU:return s.N5;case s.L5:return s.n$;default:return e}}(0,o.Ml)((()=>{M=new WeakMap}))},65308:(e,t,i)=>{i.d(t,{A:()=>I});var n=i(89379),r=i(35143),o=i(86560),s=i(55171),a=i(3825),l=i(50076),c=i(42553),u=i(49304),d=i(30726),h=i(50346),p=i(46053),f=i(40565),m=(i(81806),i(47249),i(28379)),y=i(85842),g=i(76797),v=i(38042);let _;var w=i(20650),b=i(36351),A=i(91967);i(76460);let M=class extends A.A{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,r._)([(0,p.MZ)()],M.prototype,"nextQueryParams",void 0),(0,r._)([(0,p.MZ)()],M.prototype,"queryParams",void 0),(0,r._)([(0,p.MZ)()],M.prototype,"results",void 0),(0,r._)([(0,p.MZ)()],M.prototype,"total",void 0),M=(0,r._)([(0,y.$)("esri.portal.PortalQueryResult")],M);const S=M;var T,E=i(38665),x=i(90924);let C;const P={PortalGroup:()=>Promise.resolve({default:w.A}),PortalItem:()=>Promise.resolve().then(i.bind(i,70652)),PortalUser:()=>Promise.resolve({default:E.A})};let O=T=class extends(c.A.JSONSupportMixin(u.A)){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=o.A.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){R.unregister(this),this.defaultBasemap=(0,d.pR)(this.defaultBasemap),this.defaultDevBasemap=(0,d.pR)(this.defaultDevBasemap),this.defaultVectorBasemap=(0,d.pR)(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=(0,d.xt)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)o.A.request.trustedServers.includes(t)||o.A.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var e;const t=!(null===(e=this.user)||void 0===e?void 0:e.orgId)||this.canSearchPublic;return this.id&&!t?" AND orgid:".concat(this.id):null}get hasAPIKey(){return(0,x.Jn)(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?"".concat(this.url,"/home/item.html"):null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=E.A.fromJSON(e),t.portal=this),t}load(e){const t=Promise.resolve().then(i.bind(i,194)).then((t=>{let{default:i}=t;(0,h.Te)(e),C=i})).then((()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e))).then((e=>{if(!this.hasAPIKey&&s.id){var t;const e=s.id;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==T.AUTH_MODE_AUTO&&this.authMode!==T.AUTH_MODE_NO_PROMPT||(null!==(t=this._esriIdCredentialCreateHandle)&&void 0!==t&&t.remove(),this._esriIdCredentialCreateHandle=e.on("credential-create",function(e){const t=s.id;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch((()=>{}))}}(new WeakRef(this))),R.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Promise.all([i.e(7375),i.e(8733),i.e(2356),i.e(3875)]).then(i.bind(i,43875))).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if(!0===(null===t||void 0===t?void 0:t.include3d)&&!1!==this.use3dBasemaps){const n=await this._fetchBasemaps3D(e,t);i.unshift(...n)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||"none"===this.default3DBasemapQuery)return null;const t=new b.A;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const i=(await this.queryItems(t,e)).results.find((e=>"Web Scene"===e.type));return i?new C({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):(0,h.G4)(e)?Promise.reject((0,h.NK)()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then((e=>e.classificationSchema)):null}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new b.A({num:100,sortField:"title"});if(null!==t&&void 0!==t&&t.length){const n=[];for(const e of t)n.push('(title:"'.concat(e.title,'" AND owner:').concat(e.owner,")"));return i.query=n.join(" OR "),this.queryGroups(i,e).then((e=>e.results))}return(0,h.G4)(e)?Promise.reject((0,h.NK)()):Promise.resolve([])}fetchRegions(e){var t;const i=(null===(t=this.user)||void 0===t?void 0:t.culture)||this.culture||(0,v.JK)();return this.request(this.restUrl+"/portals/regions",(0,n.A)((0,n.A)({},e),{},{query:{culture:i}}))}fetchSettings(e){var t;const i=(null===(t=this.user)||void 0===t?void 0:t.culture)||this.culture||(0,v.JK)();return this.request(this.restUrl+"/portals/self/settings",(0,n.A)((0,n.A)({},e),{},{query:{culture:i}}))}static getDefault(){return function(e){return _&&!_.destroyed||(_=e()),_}((()=>new T))}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.authMode,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;const r=this.restUrl+"/portals/self",o=(0,n.A)({authMode:e,query:{culture:(0,v.JK)().toLowerCase()},withCredentials:!0},i);return"auto"===o.authMode&&(o.authMode="no-prompt"),t&&(o.query.default=!0),this.request(r,o)}queryPortal(e,t,i,r){const o=(0,f.dp)(b.A,t),s=t=>this.request(this.restUrl+e,(0,n.A)((0,n.A)({},o.toRequestOptions(this)),r)).then((e=>{const i=o.clone();return i.start=e.nextStart,new S({nextQueryParams:i,queryParams:o,total:e.total,results:T._resultsToTypedArray(t,{portal:this},e,r)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>((0,h.QP)(t),e)))));return i&&P[i]?P[i]().then((e=>{let{default:t}=e;return(0,h.Te)(r),s(t)})):s()}signIn(){if(this.hasAPIKey)return this.load().then((()=>{if(!this.user)throw new l.A("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")}));if(this.authMode===T.AUTH_MODE_ANONYMOUS||this.authMode===T.AUTH_MODE_NO_PROMPT&&!s.id)return Promise.reject(new l.A("portal:invalid-auth-mode",'Current "authMode"\' is "'.concat(this.authMode,'"')));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return s.id?s.id.getCredential(this.restUrl,{prompt:this.authMode!==T.AUTH_MODE_NO_PROMPT}).then((t=>e(t))):e(this.credential)}normalizeUrl(e){var t;const i=null===(t=this.credential)||void 0===t?void 0:t.token;return this._normalizeSSL(i?e+(e.includes("?")?"&":"?")+"token="+i:e)}requestToTypedArray(e,t,i){return this.request(e,t).then((e=>{const t=T._resultsToTypedArray(i,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(0,n.A)({f:"json"},t.query),{authMode:r=(this.authMode===T.AUTH_MODE_ANONYMOUS||this.authMode===T.AUTH_MODE_NO_PROMPT?this.authMode:"auto"),body:o=null,cacheBust:s=!1,method:l="auto",responseType:c="json",signal:u}=t,d={authMode:r,body:o,cacheBust:s,method:l,query:i,responseType:c,timeout:0,signal:u};return t.withCredentials&&(d.withCredentials=!0),(0,a.A)(this._normalizeSSL(e),d).then((e=>e.data))}toJSON(){throw new l.A("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new T({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new l.A("portal:service-not-found",'The `helperServices` do not include an entry named "'.concat(e,'"'));return t}async _fetchBasemaps(e,t){const i=new b.A;i.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const n=await this.queryGroups(i,t);if(!n.total)return[];const r=n.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=r.sortField||"name",i.sortOrder=r.sortOrder||"desc";const o=await r.queryItems(i,t);return o.total?o.results.filter((e=>"Web Map"===e.type)).map((e=>new C({portalItem:e}))):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];if(this.hasAPIKey)return[];const n=new b.A({query:i,disableExtraQuery:!0}),r=await this.queryGroups(n,t);if(!r.total)return[];const o=r.results[0];n.num=100,n.query='type:"Web Scene"',n.sortField=o.sortField||"name",n.sortOrder=o.sortOrder||"desc";const s=await o.queryItems(n,t);return s.total?s.results.filter((e=>"Web Scene"===e.type)).map((e=>new C({portalItem:e}))):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=C.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,n){let r;if(i){const o=null!=n?n.signal:null;r=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(r=r.map((i=>{const n=Object.assign(e?e.fromJSON(i):i,t);return"function"==typeof n.load&&n.load(o),n})))}else r=[];return r}};O.AUTH_MODE_ANONYMOUS="anonymous",O.AUTH_MODE_AUTO="auto",O.AUTH_MODE_IMMEDIATE="immediate",O.AUTH_MODE_NO_PROMPT="no-prompt",(0,r._)([(0,p.MZ)()],O.prototype,"access",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"allSSL",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"authMode",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"authorizedCrossOriginDomains",void 0),(0,r._)([(0,m.w)("authorizedCrossOriginDomains")],O.prototype,"readAuthorizedCrossOriginDomains",null),(0,r._)([(0,p.MZ)()],O.prototype,"basemapGalleryGroupQuery",void 0),(0,r._)([(0,p.MZ)({json:{name:"3DBasemapGalleryGroupQuery"}})],O.prototype,"basemapGalleryGroupQuery3D",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"bingKey",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"canListApps",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"canListData",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"canListPreProvisionedItems",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"canProvisionDirectPurchase",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"canSearchPublic",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"canShareBingPublic",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"canSharePublic",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"canSignInArcGIS",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"canSignInIDP",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"colorSetsGroupQuery",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"commentsEnabled",void 0),(0,r._)([(0,p.MZ)({type:Date})],O.prototype,"created",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"credential",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"culture",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"currentVersion",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"customBaseUrl",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"default3DBasemapQuery",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"defaultBasemap",void 0),(0,r._)([(0,m.w)("defaultBasemap")],O.prototype,"readDefaultBasemap",null),(0,r._)([(0,p.MZ)()],O.prototype,"defaultDevBasemap",void 0),(0,r._)([(0,m.w)("defaultDevBasemap")],O.prototype,"readDefaultDevBasemap",null),(0,r._)([(0,p.MZ)({type:g.A})],O.prototype,"defaultExtent",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"defaultVectorBasemap",void 0),(0,r._)([(0,m.w)("defaultVectorBasemap")],O.prototype,"readDefaultVectorBasemap",null),(0,r._)([(0,p.MZ)()],O.prototype,"description",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"devBasemapGalleryGroupQuery",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"eueiEnabled",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],O.prototype,"extraQuery",null),(0,r._)([(0,p.MZ)()],O.prototype,"featuredGroups",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"featuredItemsGroupQuery",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"galleryTemplatesGroupQuery",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"layoutGroupQuery",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"livingAtlasGroupQuery",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],O.prototype,"hasAPIKey",null),(0,r._)([(0,p.MZ)()],O.prototype,"hasCategorySchema",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"hasClassificationSchema",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"helpBase",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"helperServices",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"helpMap",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"homePageFeaturedContent",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"homePageFeaturedContentCount",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"httpPort",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"httpsPort",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"id",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"ipCntryCode",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],O.prototype,"isOrganization",null),(0,r._)([(0,p.MZ)()],O.prototype,"isPortal",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"isReadOnly",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],O.prototype,"itemPageUrl",null),(0,r._)([(0,p.MZ)()],O.prototype,"layerTemplatesGroupQuery",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"maxTokenExpirationMinutes",void 0),(0,r._)([(0,p.MZ)({type:Date})],O.prototype,"modified",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"name",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"portalHostname",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"portalMode",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"portalProperties",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"region",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"recycleBinEnabled",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],O.prototype,"restUrl",null),(0,r._)([(0,p.MZ)()],O.prototype,"rotatorPanels",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"showHomePageDescription",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"sourceJSON",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"staticImagesUrl",void 0),(0,r._)([(0,p.MZ)({json:{name:"2DStylesGroupQuery"}})],O.prototype,"stylesGroupQuery2d",void 0),(0,r._)([(0,p.MZ)({json:{name:"stylesGroupQuery"}})],O.prototype,"stylesGroupQuery3d",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"supportsHostedServices",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"symbolSetsGroupQuery",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"templatesGroupQuery",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"thumbnail",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],O.prototype,"thumbnailUrl",null),(0,r._)([(0,p.MZ)()],O.prototype,"units",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"url",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"urlKey",void 0),(0,r._)([(0,m.w)("urlKey")],O.prototype,"readUrlKey",null),(0,r._)([(0,p.MZ)()],O.prototype,"user",void 0),(0,r._)([(0,m.w)("user")],O.prototype,"readUser",null),(0,r._)([(0,p.MZ)()],O.prototype,"use3dBasemaps",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"useDefault3dBasemap",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"useStandardizedQuery",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"useVectorBasemaps",void 0),(0,r._)([(0,p.MZ)()],O.prototype,"vectorBasemapGalleryGroupQuery",void 0),O=T=(0,r._)([(0,y.$)("esri.portal.Portal")],O);const I=O,R=new FinalizationRegistry((e=>{e.remove()}))},65391:(e,t,i)=>{i.d(t,{B$:()=>f,LJ:()=>m,Pj:()=>v,Rg:()=>h,Yz:()=>y,z8:()=>p});var n=i(2413);function r(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function o(e){return void 0!==e.points}function s(e){return void 0!==e.x&&void 0!==e.y}function a(e){return void 0!==e.paths}function l(e){return void 0!==e.rings}function c(e){return function(t,i){return null==t?i:null==i?t:e(t,i)}}const u=c(Math.min),d=c(Math.max);function h(e,t){return a(t)?y(e,t.paths,!1,!1):l(t)?y(e,t.rings,!1,!1):o(t)?v(e,t.points,!1,!1,!1,!1):r(t)?g(e,t):(s(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function p(e){let t,i,r,o;for(e.reset(),t=r=1/0,i=o=-1/0;e.nextPath();){const n=f(e);t=Math.min(n[0],t),r=Math.min(n[1],r),i=Math.max(n[2],i),o=Math.max(n[3],o)}return(0,n.vt)([t,r,i,o])}function f(e){let t,i,r,o;for(t=r=1/0,i=o=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),i=Math.max(e.x,i),o=Math.max(e.y,o);return(0,n.vt)([t,r,i,o])}function m(e,t){return a(t)?y(e,t.paths,!0,!1):l(t)?y(e,t.rings,!0,!1):o(t)?v(e,t.points,!0,!1,!0,!1):r(t)?g(e,t,!0,!1,!0,!1):(s(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function y(e,t,i,n){const r=i?3:2;if(!t.length||!t[0].length)return null;let o,s,a,l,[c,h]=t[0][0],[p,f]=t[0][0];for(let m=0;m<t.length;m++){const e=t[m];for(let t=0;t<e.length;t++){const m=e[t],[y,g]=m;if(c=u(c,y),h=u(h,g),p=d(p,y),f=d(f,g),i&&m.length>2){const e=m[2];o=u(o,e),s=d(s,e)}if(n&&m.length>r){const e=m[r];a=u(o,e),l=d(s,e)}}}return i?n?(e[0]=c,e[1]=h,e[2]=o,e[3]=a,e[4]=p,e[5]=f,e[6]=s,e[7]=l,e.length=8,e):(e[0]=c,e[1]=h,e[2]=o,e[3]=p,e[4]=f,e[5]=s,e.length=6,e):n?(e[0]=c,e[1]=h,e[2]=a,e[3]=p,e[4]=f,e[5]=l,e.length=6,e):(e[0]=c,e[1]=h,e[2]=p,e[3]=f,e.length=4,e)}function g(e,t,i,n,r,o){const s=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let u=t.zmin,d=t.zmax,h=t.mmin,p=t.mmax;return r?(u=u||0,d=d||0,o?(h=h||0,p=p||0,e[0]=s,e[1]=l,e[2]=u,e[3]=h,e[4]=a,e[5]=c,e[6]=d,e[7]=p,e):(e[0]=s,e[1]=l,e[2]=u,e[3]=a,e[4]=c,e[5]=d,e)):o?(h=h||0,p=p||0,e[0]=s,e[1]=l,e[2]=h,e[3]=a,e[4]=c,e[5]=p,e):(e[0]=s,e[1]=l,e[2]=a,e[3]=c,e)}function v(e,t,i,n,r,o){const s=i?3:2,a=n&&o,l=i&&r;if(!t.length||!t[0].length)return null;let c,h,p,f,[m,y]=t[0],[g,v]=t[0];for(let _=0;_<t.length;_++){const e=t[_],[i,n]=e;if(m=u(m,i),y=u(y,n),g=d(g,i),v=d(v,n),l&&e.length>2){const t=e[2];c=u(c,t),h=d(h,t)}if(a&&e.length>s){const t=e[s];p=u(c,t),f=d(h,t)}}return r?(c=c||0,h=h||0,o?(p=p||0,f=f||0,e[0]=m,e[1]=y,e[2]=c,e[3]=p,e[4]=g,e[5]=v,e[6]=h,e[7]=f,e):(e[0]=m,e[1]=y,e[2]=c,e[3]=g,e[4]=v,e[5]=h,e)):o?(p=p||0,f=f||0,e[0]=m,e[1]=y,e[2]=p,e[3]=g,e[4]=v,e[5]=f,e):(e[0]=m,e[1]=y,e[2]=g,e[3]=v,e)}},65624:(e,t,i)=>{i.d(t,{LF:()=>u,dM:()=>d,sU:()=>l});var n=i(35143),r=i(46053),o=(i(81806),i(76460),i(47249),i(85842)),s=i(80979),a=i(44081);const l={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:s.K}},"portal-item":{read:!0,write:{layerContainerTypes:s.K}}}}},c={read:{reader:a.LF},write:{allowNull:!0,writer:a.M9,layerContainerTypes:s.K}},u={json:{read:!1,write:!1,origins:{"web-map":c,"portal-item":c}}},d=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,n._)([(0,r.MZ)(l)],t.prototype,"blendMode",void 0),(0,n._)([(0,r.MZ)(u)],t.prototype,"effect",void 0),t=(0,n._)([(0,o.$)("esri.layers.mixins.BlendLayer")],t),t}},65658:(e,t,i)=>{i.d(t,{A3:()=>y,Ql:()=>v,fA:()=>p,xB:()=>o,xK:()=>_});var n=i(11352);function r(e,t){return(0,n.qz)(e,t)}function o(e,t){const i=e.hasZ&&t.hasZ;let n,r,o;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(r=t.ymin,e.ymax<r)return!1}else if(r=e.ymin,t.ymax<r)return!1;if(i&&t.hasZ)if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1;return!0}function s(e,t){const{points:i,hasZ:r}=t,o=r?n.F8:n.CW;for(const n of i)if(o(e,n))return!0;return!1}const a=[0,0],l=[0,0],c=[0,0],u=[0,0],d=[a,l,c,u],h=[[c,a],[a,l],[l,u],[u,c]];function p(e,t){return function(e,t){a[0]=e.xmin,a[1]=e.ymax,l[0]=e.xmax,l[1]=e.ymax,c[0]=e.xmin,c[1]=e.ymin,u[0]=e.xmax,u[1]=e.ymin;for(const i of d)if((0,n.t1)(t,i))return!0;for(const i of t){if(!i.length)continue;let t=i[0];if((0,n.CW)(e,t))return!0;for(let r=1;r<i.length;r++){const o=i[r];if((0,n.CW)(e,o)||g(t,o,h))return!0;t=o}}return!1}(e,t.rings)}function f(e,t){a[0]=e.xmin,a[1]=e.ymax,l[0]=e.xmax,l[1]=e.ymax,c[0]=e.xmin,c[1]=e.ymin,u[0]=e.xmax,u[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let t=r[0];if((0,n.CW)(e,t))return!0;for(let i=1;i<r.length;i++){const o=r[i];if((0,n.CW)(e,o)||g(t,o,h))return!0;t=o}}return!1}const m=[0,0];function y(e){for(let t=0;t<e.length;t++){const i=e[t];for(let r=0;r<i.length-1;r++){const n=i[r],o=i[r+1];for(let i=t+1;i<e.length;i++)for(let t=0;t<e[i].length-1;t++){const r=e[i][t],s=e[i][t+1];if(v(n,o,r,s,m)&&!(m[0]===n[0]&&m[1]===n[1]||m[0]===r[0]&&m[1]===r[1]||m[0]===o[0]&&m[1]===o[1]||m[0]===s[0]&&m[1]===s[1]))return!0}}const n=i.length;if(!(n<=4))for(let e=0;e<n-3;e++){let t=n-1;0===e&&(t=n-2);const r=i[e],o=i[e+1];for(let n=e+2;n<t;n++){const e=i[n],t=i[n+1];if(v(r,o,e,t,m)&&!(m[0]===r[0]&&m[1]===r[1]||m[0]===e[0]&&m[1]===e[1]||m[0]===o[0]&&m[1]===o[1]||m[0]===t[0]&&m[1]===t[1]))return!0}}}return!1}function g(e,t,i){for(let n=0;n<i.length;n++)if(v(e,t,i[n][0],i[n][1]))return!0;return!1}function v(e,t,i,n,r){const[o,s]=e,[a,l]=t,[c,u]=i,[d,h]=n,p=d-c,f=o-c,m=a-o,y=h-u,g=s-u,v=l-s,_=y*m-p*v;if(0===_)return!1;const w=(p*g-y*f)/_,b=(m*g-v*f)/_;return w>=0&&w<=1&&b>=0&&b<=1&&(r&&(r[0]=o+w*(a-o),r[1]=s+w*(l-s)),!0)}function _(e){switch(e){case"esriGeometryEnvelope":case"extent":return o;case"esriGeometryMultipoint":case"multipoint":return s;case"esriGeometryPoint":case"point":return r;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return p;case"esriGeometryPolyline":case"polyline":return f}}},66267:(e,t,i)=>{i.d(t,{A:()=>c});var n,r=i(35143),o=i(42553),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842));let l=n=class extends o.A{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new n({title:this.title,expression:this.expression})}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"title",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"expression",void 0),(0,r._)([(0,s.MZ)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"returnType",void 0),l=n=(0,r._)([(0,a.$)("esri.popup.ElementExpressionInfo")],l);const c=l},66388:(e,t,i)=>{i.d(t,{A:()=>m});var n,r=i(35143),o=i(53084),s=i(46053),a=(i(81806),i(76460),i(85842)),l=i(17707),c=i(76797),u=i(89189),d=i(19247),h=i(64867);function p(e){return(t,i)=>null==t?i:null==i?t:e(t,i)}let f=n=class extends u.A{constructor(){super(...arguments),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var i;if(!e&&!t)return{};const n={};Array.isArray(e)?(n.points=e,n.spatialReference=t):function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?n.spatialReference=e:(e.points&&(n.points=e.points),e.spatialReference&&(n.spatialReference=e.spatialReference),e.hasZ&&(n.hasZ=e.hasZ),e.hasM&&(n.hasM=e.hasM));const r=null===(i=n.points)||void 0===i?void 0:i[0];return r&&(void 0===n.hasZ&&void 0===n.hasM?(n.hasZ=r.length>2,n.hasM=!1):void 0===n.hasZ?n.hasZ=r.length>3:void 0===n.hasM&&(n.hasM=r.length>3)),n}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new c.A,i=this.hasZ,n=this.hasM,r=i?3:2,o=e[0],s=p(Math.min),a=p(Math.max);let l,u,d,h,[f,m]=o,[y,g]=o;for(let c=0,p=e.length;c<p;c++){const t=e[c],[o,p]=t;if(f=s(f,o),m=s(m,p),y=a(y,o),g=a(g,p),i&&t.length>2){const e=t[2];l=s(l,e),d=a(d,e)}if(n&&t.length>r){const e=t[r];u=s(u,e),h=a(h,e)}}return t.xmin=f,t.ymin=m,t.xmax=y,t.ymax=g,t.spatialReference=this.spatialReference,i?(t.zmin=l,t.zmax=d):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=u,t.mmax=h):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=(0,o.o8)(this.points)}addPoint(e){return(0,h.h)(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:(0,o.o8)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new n(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(i.z=t[2],n=3),this.hasM&&(i.m=t[n]),new d.A(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new d.A(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?((0,h.h)(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return null!=e&&e>=0&&e<this.points.length}};(0,r._)([(0,s.MZ)({readOnly:!0})],f.prototype,"cache",null),(0,r._)([(0,s.MZ)()],f.prototype,"extent",null),(0,r._)([(0,s.MZ)({type:[[Number]],json:{write:{isRequired:!0}}})],f.prototype,"points",void 0),(0,r._)([(0,l.K)("points")],f.prototype,"writePoints",null),f=n=(0,r._)([(0,a.$)("esri.geometry.Multipoint")],f),f.prototype.toJSON.isDefaultToJSON=!0;const m=f},66422:(e,t,i)=>{function n(e,t){let{timeZone:i,timeExtent:n}=t;return{$view:{scale:e,timeZone:i,timeProperties:{currentStart:null===n||void 0===n?void 0:n.start,currentEnd:null===n||void 0===n?void 0:n.end}}}}i.d(t,{N:()=>n})},67478:(e,t,i)=>{i.d(t,{ZS:()=>l,hv:()=>c,wr:()=>u,P6:()=>a});var n=i(36693);const r=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);var o=i(24241);const s="shortOffset";function a(e){return{json:{read:{source:e,reader:(t,i)=>i[e]?l(i[e]):null},write:!!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&{allowNull:!0,writer(t,i){i[e]=t?function(e){return{timeZoneIANA:e}}(t):null}}}}}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.qU;return e?function(e){return"timeZoneIANA"in e}(e)?e.timeZoneIANA:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.qU;if(!e||!r.has(e.timeZone))return t;const i=r.get(e.timeZone);return function(e){return e.startsWith("UTC")}(e.timeZone)||e.respectsDaylightSaving?i:function(e){const t=o.c9.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return 0===i?"Etc/UTC":"Etc/GMT".concat(o.mQ.instance(-i).formatOffset(0,"narrow"))}(i)}(e,t):t}function c(e,t,i,r,o){if(t&&"date"===o)return{timeZone:n.n$,timeZoneName:void 0};const a=r.timeStyle||r.hour,l=i===n.L5;return{timeZone:l?"timestamp-offset"===o?void 0:null!==e&&void 0!==e?e:n.n$:i,timeZoneName:l&&a?s:void 0}}function u(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map((e=>e.toLowerCase())));return e===n.qU||e===n.L5||t.has(e.toLowerCase())||i.has(e.toLowerCase())}},67993:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(99486),r=i(99702);class o{constructor(e){this._observable=new r.I,this._map=new Map(e)}get size(){return(0,n.gc)(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const t=this._map.delete(e);return t&&this._observable.notify(),t}entries(){return(0,n.gc)(this._observable),this._map.entries()}forEach(e,t){(0,n.gc)(this._observable),this._map.forEach(((i,n)=>e.call(t,i,n,this)),t)}get(e){return(0,n.gc)(this._observable),this._map.get(e)}has(e){return(0,n.gc)(this._observable),this._map.has(e)}keys(){return(0,n.gc)(this._observable),this._map.keys()}set(e,t){return this._map.set(e,t),this._observable.notify(),this}values(){return(0,n.gc)(this._observable),this._map.values()}[Symbol.iterator](){return(0,n.gc)(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}},68134:(e,t,i)=>{i.d(t,{C1:()=>v,C_:()=>f,OH:()=>w,Vh:()=>b,lZ:()=>_,on:()=>p,pc:()=>A,wB:()=>u,z7:()=>d});var n=i(98773),r=i(94643),o=i(79053),s=i(54901),a=i(30726),l=i(50346),c=i(68452);i(49281);function u(e,t){return h(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},y)}function d(e,t){return h(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},g)}function h(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,r=null;const o=i.once?(e,i)=>{n(e)&&((0,a.xt)(r),t(e,i))}:(e,i)=>{n(e)&&t(e,i)};if(r=(0,c.Cn)(e,o,i.sync,i.equals),i.initial){const t=e();o(t,t)}return r}function p(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=null,l=null,c=null;function d(){var e;r&&l&&(l.remove(),null!==(e=n.onListenerRemove)&&void 0!==e&&e.call(n,r),r=null,l=null)}function h(e){n.once&&n.once&&(0,a.xt)(c),i(e)}const p=u(e,((e,i)=>{var s;d(),(0,o.wb)(e)&&(r=e,l=(0,o.on)(e,t,h),null===(s=n.onListenerAdd)||void 0===s||s.call(n,e))}),{sync:n.sync,initial:!0});return c=(0,s.hA)((()=>{p.remove(),d()})),c}function f(e,t){return m(e,g,t)}function m(e,t,i){if((0,l.G4)(i))return Promise.reject((0,l.NK)());const n=e();if(null!==t&&void 0!==t&&t(n))return Promise.resolve(n);let r=null;function o(){r=(0,a.xt)(r)}return new Promise(((n,a)=>{r=(0,s.vE)([(0,l.u7)(i,(()=>{o(),a((0,l.NK)())})),h(e,(e=>{o(),n(e)}),{sync:!1,once:!0},null!==t&&void 0!==t?t:y)])}))}function y(e){return!0}function g(e){return!!e}function v(e,t){let i=!1;const n=u(e,((e,n)=>{i||t(e,n)}),arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return{remove(){n.remove()},pause(){i=!0},resume(){i=!1}}}function _(e,t){const i=new r.A,o=function(e,t){const i=new r.A,n=p(e,"after-splice",(e=>{let{added:n,start:r,deleteCount:o}=e;const s=i.splice(r,o);for(const t of s)t.remove();if(null!==n&&void 0!==n&&n.length){const e=n.map(t);i.addMany(e,r)}}),{sync:!0,onListenerRemove:()=>i.drain((e=>e.remove())),onListenerAdd:e=>i.addMany(e.items.map(t))});return i.addHandles(n),i}(e,(e=>(0,n.UT)((async i=>{const n=await t(e,i);if((0,l.G4)(i))throw n.remove(),(0,l.NK)();return n})))),a=()=>null,c=async e=>{const t=await e.promise,n=o.indexOf(e);n<0||i.splice(n,1,t)};i.addMany(o.items.map(a));for(const n of o)(0,l.QZ)(c(n));const u=o.on("after-splice",(e=>{let{added:t,start:n,deleteCount:r}=e;const o=i.splice(n,r);for(const i of o)null===i||void 0===i||i.remove();if(null!==t&&void 0!==t&&t.length){i.addMany(t.map(a),n);for(const e of t)(0,l.QZ)(c(e))}}));return i.addHandles([(0,s.DQ)(o),u]),i}const w={sync:!0},b={initial:!0},A={sync:!0,initial:!0}},68452:(e,t,i)=>{i.d(t,{Cn:()=>x,Gs:()=>C,iS:()=>b,rs:()=>T,wB:()=>E});var n,r=i(11373),o=i(54901),s=i(53084),a=i(92154),l=i(52394),c=i(41289),u=i(90632),d=i(17879),h=i(39299),p=i(49281),f=i(39314);!function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"}(n||(n={}));class m{constructor(){this.uid=(0,u.c)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,t,i,r,o){return this.pool.acquire(n.Untracked,e,t,i,r,o,s.aI)}static acquireTracked(e,t,i,r){return this.pool.acquire(n.Tracked,e,t,i,null,null,r)}notify(e,t){this.type===n.Untracked?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t,void 0,void 0)}acquire(e,t,i,n,r,o,s){this.uid=(0,u.c)(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=i,this.getValue=n,this.target=r,this.path=o,this.equals=s}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,u.c)(),this.removed=!0}}m.pool=new a.P(m);const y=new r.A,g=new Set;let v;function _(e){g.delete(e),g.add(e),v||(v=(0,l._)(A))}function w(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function b(e){for(const t of g.values())t.target===e&&(t.removed=!0)}function A(){let e=10;for(;v&&e--;){v=null;const e=M(),t=y.acquire();for(const i of e){const e=i.uid;w(i),e===i.uid&&i.removed&&t.push(i)}for(const i of g)i.removed&&(t.push(i),g.delete(i));for(const i of t)m.pool.release(i);y.release(t),y.release(e),S.forEach((e=>e()))}}function M(){const e=y.acquire();e.length=g.size;let t=0;for(const i of g)e[t]=i,++t;return g.clear(),e}const S=new Set;function T(e){return S.add(e),(0,o.hA)((()=>S.delete(e)))}function E(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.__accessor__&&e.__accessor__.lifecycle!==h.v.DESTROYED?n?function(e,t,i){const n=(0,f.qg)(e,t,i,((e,t,i)=>{let r=!1;return(0,p.mJ)((()=>(0,d.RP)(e,t)),((o,a)=>{e.__accessor__.lifecycle!==h.v.DESTROYED?r||(r=!0,(0,s.aI)(a,o)||i.call(e,o,a,t,e),r=!1):n.remove()}))}));return n}(e,t,i):function(e,t,i){let n=(0,f.qg)(e,t,i,((e,t,i)=>{let r,s,a=(0,p.Df)((()=>(0,d.RP)(e,t)),((o,a)=>{var l;(null===(l=e.__accessor__)||void 0===l?void 0:l.lifecycle)===h.v.DESTROYED||r&&r.uid!==s?n.remove():(r||(r=m.acquireUntracked(o,i,a,e,t),s=r.uid),_(r))}));return(0,o.hA)((()=>{a.remove(),r&&(r.uid!==s||r.removed||(r.removed=!0,_(r)),r=null),n=a=null}))}));return n}(e,t,i):(0,o.hA)()}function x(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.gh;return i?function(e,t,i){let n=!1;return(0,p.mJ)(e,((e,r)=>{n||(n=!0,i(r,e)||t(e,r),n=!1)}))}(e,t,n):function(e,t,i){let n,r,s=(0,p.Df)(e,((e,o)=>{n&&n.uid!==r?s.remove():(n||(n=m.acquireTracked(e,t,o,i),r=n.uid),_(n))}));return(0,o.hA)((()=>{s.remove(),n&&(n.uid!==r||n.removed||(n.removed=!0,_(n)),n=null),s=null}))}(e,t,n)}function C(e){return(0,c.bw)(g,(t=>t.oldValue===e))}},68905:(e,t,i)=>{i.d(t,{A:()=>h});var n,r=i(35143),o=i(69539),s=i(42553),a=i(53084),l=i(46053),c=(i(81806),i(76460),i(85842)),u=i(85192);let d=n=class extends s.A{constructor(e){super(e),this.color=new o.A("white")}clone(){return new n({color:(0,a.o8)(this.color)})}};(0,r._)([(0,l.MZ)((0,u.E)({colorRequiredOnWrite:!0}))],d.prototype,"color",void 0),d=n=(0,r._)([(0,c.$)("esri.symbols.callouts.LineCallout3DBorder")],d);const h=d},69098:(e,t,i)=>{i.d(t,{A:()=>h});var n=i(35143),r=i(91967),o=(i(81806),i(53084)),s=(i(76460),i(30726)),a=i(49140),l=i(39314),c=i(85842);const u=e=>{let t=class extends e{clone(){const e=(0,l.oY)(this);(0,s.Lw)(e,"unable to clone instance of non-accessor class");const t=e.metadata,i=e.store,n={},r=new Map;for(const s in t){const e=t[s],l=null===i||void 0===i?void 0:i.originOf(s),c=e.clonable;if(e.readOnly||!1===c||l!==a.Gr.USER&&l!==a.Gr.DEFAULTS&&l!==a.Gr.WEB_MAP&&l!==a.Gr.WEB_SCENE)continue;const u=this[s];let d=null;d="function"==typeof c?c(u):"reference"===c?u:(0,o.TU)(u),null!=u&&null==d||(l===a.Gr.DEFAULTS?r.set(s,d):n[s]=d)}const c=new(0,Object.getPrototypeOf(this).constructor)(n);if(r.size){var u;const e=null===(u=(0,l.oY)(c))||void 0===u?void 0:u.store;if(e)for(const[t,i]of r)e.set(t,i,a.Gr.DEFAULTS)}return c}};return t=(0,n._)([(0,c.$)("esri.core.Clonable")],t),t};let d=class extends(u(r.A)){};d=(0,n._)([(0,c.$)("esri.core.Clonable")],d),function(e){e.ClonableMixin=u}(d||(d={}));const h=d},69539:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(99746),r=i(15941),o=i(40565);function s(e){return(0,r.qE)((0,o.Vr)(e),0,255)}function a(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}function l(e,t){const i=e.toString(16).padStart(2,"0");return t?i.slice(0,1):i}class c{static blendColors(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new c;return n.r=Math.round(e.r+(t.r-e.r)*i),n.g=Math.round(e.g+(t.g-e.g)*i),n.b=Math.round(e.b+(t.b-e.b)*i),n.a=e.a+(t.a-e.a)*i,n._sanitize()}static fromRgb(e,t){const i=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(i){const e=i[2].split(/\s*,\s*/),r=i[1];if("rgb"===r&&3===e.length||"rgba"===r&&4===e.length){const i=e[0];if("%"===i.charAt(i.length-1)){const i=e.map((e=>2.56*parseFloat(e)));return 4===e.length&&(i[3]=parseFloat(e[3])),c.fromArray(i,t)}return c.fromArray(e.map((e=>parseFloat(e))),t)}if("hsl"===r&&3===e.length||"hsla"===r&&4===e.length)return c.fromArray((0,n.z$)(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])),t)}return null}static fromHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c;if("#"!==e[0]||isNaN(Number("0x".concat(e.slice(1)))))return null;switch(e.length){case 4:case 5:{const i=parseInt(e.slice(1,2),16),n=parseInt(e.slice(2,3),16),r=parseInt(e.slice(3,4),16),o=5===e.length?15:parseInt(e.slice(4),16);return c.fromArray([i+16*i,n+16*n,r+16*r,(o+16*o)/255],t)}case 7:case 9:{const i=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16),o=7===e.length?255:parseInt(e.slice(7),16);return c.fromArray([i,n,r,o/255],t)}default:return null}}static fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c;return t._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(t.a)&&(t.a=1),t._sanitize()}static fromString(e,t){const i=(0,n.V6)(e)?(0,n.TS)(e):null;return i&&c.fromArray(i,t)||c.fromRgb(e,t)||c.fromHex(e,t)}static fromJSON(e){var t;return null!=e?new c([e[0],e[1],e[2],(null!==(t=e[3])&&void 0!==t?t:255)/255]):void 0}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(e){var t,i,n,r;return"string"==typeof e?c.fromString(e,this):Array.isArray(e)?c.fromArray(e,this):(this._set(null!==(t=e.r)&&void 0!==t?t:0,null!==(i=e.g)&&void 0!==i?i:0,null!==(n=e.b)&&void 0!==n?n:0,null!==(r=e.a)&&void 0!==r?r:1),e instanceof c||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){var t,i;const n=null!==(t=null===e||void 0===e?void 0:e.capitalize)&&void 0!==t&&t,r=null!==(i=null===e||void 0===e?void 0:e.digits)&&void 0!==i?i:6,o=3===r||4===r,s=4===r||8===r,a="#".concat(l(this.r,o)).concat(l(this.g,o)).concat(l(this.b,o)).concat(s?l(Math.round(255*this.a),o):"");return n?a.toUpperCase():a}toCss(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.r+", "+this.g+", "+this.b;return e?"rgba(".concat(t,", ").concat(this.a,")"):"rgb(".concat(t,")")}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.AlphaMode.ALWAYS;const t=s(this.r),i=s(this.g),n=s(this.b);return e===c.AlphaMode.ALWAYS||1!==this.a?[t,i,n,s(255*this.a)]:[t,i,n]}clone(){return new c(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Math.round(a(this.r,0,255)),this.g=Math.round(a(this.g,0,255)),this.b=Math.round(a(this.b,0,255)),this.a=a(this.a,0,1),this}_set(e,t,i,n){this.r=e,this.g=t,this.b=i,this.a=n}}c.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(c)},70652:(e,t,i)=>{i.r(t),i.d(t,{default:()=>O});var n=i(89379),r=i(35143),o=i(28899),s=i(50076),a=i(42553),l=i(53084),c=i(49304),u=i(90534),d=i(46053),h=i(40565),p=i(28379),f=i(85842),m=i(76797),y=i(65308),g=i(91967),v=i(76460),_=i(21403);i(81806),i(47249);let w=class extends g.A{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return null!==e&&void 0!==e&&e.portalItem&&e.path?(0,n.A)((0,n.A)({},e),{},{path:b(e.path,e.portalItem)}):e}set path(e){null!=e&&(0,u.oP)(e)?v.A.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return b(e,this.portalItem)}get url(){return this.portalItem&&this.path?"".concat(this.portalItem.itemUrl,"/resources/").concat(this.path):null}get cdnUrl(){return this.portalItem&&this.path?"".concat(this.portalItem.itemCdnUrl,"/resources/").concat(this.path):null}get itemRelativeUrl(){return this.portalItem&&this.path?"./resources/".concat(this.path):null}fetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=arguments.length>1?arguments[1]:void 0;const i=this.cdnUrl;if(null==i)throw new s.A("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(i,{responseType:e,query:{token:this.portalItem.apiKey,_ts:null!==t&&void 0!==t&&t.cacheBust?Date.now():null},signal:null===t||void 0===t?void 0:t.signal})}async update(e,t){const{addOrUpdateResources:n}=await i.e(3106).then(i.bind(i,33106));return await n(this.portalItem,[{resource:this,content:e,compress:null===t||void 0===t?void 0:t.compress,access:null===t||void 0===t?void 0:t.access}],"update",t),this}hasPath(){return null!=this.path}};function b(e,t){var i;return null==e?e:(e=e.replace(/^\/+/,""),null!=t&&(0,u.oP)(e)&&(e=(0,u.V1)(e,t.itemUrl)),null===(i=e)||void 0===i?void 0:i.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}(0,r._)([(0,d.MZ)()],w.prototype,"portalItem",void 0),(0,r._)([(0,d.MZ)({type:String,value:null})],w.prototype,"path",null),(0,r._)([(0,_.w)("path")],w.prototype,"_castPath",null),(0,r._)([(0,d.MZ)({type:String,readOnly:!0})],w.prototype,"url",null),(0,r._)([(0,d.MZ)({type:String,readOnly:!0})],w.prototype,"cdnUrl",null),(0,r._)([(0,d.MZ)({type:String,readOnly:!0})],w.prototype,"itemRelativeUrl",null),w=(0,r._)([(0,f.$)("esri.portal.PortalItemResource")],w);const A=w;let M=class extends g.A{constructor(e){super(e),this.created=null,this.rating=null}};(0,r._)([(0,d.MZ)({type:Date})],M.prototype,"created",void 0),(0,r._)([(0,d.MZ)()],M.prototype,"rating",void 0),M=(0,r._)([(0,f.$)("esri.portal.PortalRating")],M);const S=M;var T,E=i(79453);const x=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),C=new Set(["KML","GeoJson","CSV"]);let P=T=class extends(a.A.JSONSupportMixin(c.A)){static from(e){return(0,h.PZ)(T,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return"Feature Service"===e||"Feature Collection"===e?i=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":"Image Service"===e?i=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?i="Scene Layer":"Video Service"===e?i="Video Layer":"Scene Package"===e?i="Scene Layer Package":"Stream Service"===e?i="Feature Layer":"Geoprocessing Service"===e?i=t.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===e?i="GeoEnrichment Service":"Geocoding Service"===e?i="Locator":"Microsoft Powerpoint"===e?i="Microsoft PowerPoint":"GeoJson"===e?i="GeoJSON":"Globe Service"===e?i="Globe Layer":"Vector Tile Service"===e?i="Tile Layer":"netCDF"===e?i="NetCDF":"Map Service"===e?i=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":null!==e&&void 0!==e&&e.toLowerCase().includes("add in")?i=e.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===e?i="Big Data File Share":"Compact Tile Package"===e?i="Tile Package (tpkx)":"Raster function template"===e?i="Raster Function Template":"OGCFeatureServer"===e?i="OGC Feature Layer":"web mapping application"===e&&t.includes("configurableApp")?i="Instant App":"Insights Page"===e?i="Insights Report":"Excalibur Imagery Project"===e?i="Excalibur Project":"3DTiles Service"===e?i="3D tiles layer":"3DTiles Package"===e&&(i="3D tiles package"),i}readExtent(e){return e&&e.length?new m.A(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var e;const t=(null===(e=this.type)||void 0===e?void 0:e.toLowerCase())||"",i=this.typeKeywords||[];let n,r=!1,s=!1,a=!1,l=!1,c=!1,u=!1,d=!1,h=!1;return t.indexOf("service")>0||"feature collection"===t||"kml"===t||"wms"===t||"wmts"===t||"wfs"===t?(r=i.includes("Hosted Service"),"feature service"===t||"feature collection"===t||"kml"===t||"wfs"===t?(s=i.includes("Table"),a=i.includes("Route Layer"),l=i.includes("Markup"),c=i.includes("Spatiotemporal"),u=i.includes("UtilityNetwork"),n=c&&s?"spatiotemporaltable":s?"table":a?"routelayer":l?"markup":c?"spatiotemporal":u?"utilitynetwork":r?"featureshosted":"features"):"map service"===t||"wms"===t||"wmts"===t?(c=i.includes("Spatiotemporal"),d=i.includes("Relational"),n=c||d?"mapimages":r||i.includes("Tiled")||"wmts"===t?"maptiles":"mapimages"):n="scene service"===t?i.includes("Line")?"sceneweblayerline":i.includes("3DObject")?"sceneweblayermultipatch":i.includes("Point")?"sceneweblayerpoint":i.includes("IntegratedMesh")?"sceneweblayermesh":i.includes("PointCloud")?"sceneweblayerpointcloud":i.includes("Polygon")?"sceneweblayerpolygon":i.includes("Building")?"sceneweblayerbuilding":i.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===t?i.includes("Elevation 3D Layer")?"elevationlayer":i.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===t?"streamlayer":"vector tile service"===t?"vectortile":"datastore catalog service"===t?"datastorecollection":"geocoding service"===t?"geocodeservice":"video service"===t?i.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===t?i.includes("Web Tool")?"tool":"layers":"geodata service"===t?"geodataservice":"3dtiles service"===t?i.includes("3DObject")?"3dobjecttileslayer":i.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):"web map"===t||"cityengine web scene"===t?n="maps":"web scene"===t?n=i.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===t&&i.includes("configurableApp")?n="instantapps":"web mapping application"===t||"mobile application"===t||"application"===t||"operation view"===t||"desktop application"===t?n="apps":"map document"===t||"map package"===t||"published map"===t||"scene document"===t||"globe document"===t||"basemap package"===t||"mobile basemap package"===t||"mobile map package"===t||"project package"===t||"project template"===t||"pro map"===t||"layout"===t||"layer"===t&&i.includes("ArcGIS Pro")||"explorer map"===t&&i.indexOf("Explorer Document")?n="mapsgray":"service definition"===t||"shapefile"===t||"cad drawing"===t||"geojson"===t||"netcdf"===t||"administrative report"===t?n="datafiles":"360 vr experience"===t?n="360vr":"explorer add in"===t||"desktop add in"===t||"windows viewer add in"===t||"windows viewer configuration"===t?n="appsgray":"arcgis pro add in"===t||"arcgis pro configuration"===t?n="addindesktop":"pdf"===t?n="pdf":"microsoft word"===t?n="word":"microsoft excel"===t?n="excel":"microsoft powerpoint"===t?n="ppt":"rule package"===t||"file geodatabase"===t||"sqlite geodatabase"===t||"csv collection"===t||"kml collection"===t||"windows mobile package"===t||"map template"===t||"desktop application template"===t||"gml"===t||"arcpad package"===t||"code sample"===t||"document link"===t||"earth configuration"===t||"operations dashboard add in"===t||"rules package"===t||"workflow manager package"===t||"explorer map"===t&&i.includes("Explorer Mapping Application")||i.includes("Document")?n="datafilesgray":"network analysis service"===t||"geoprocessing service"===t||"geodata service"===t||"geometry service"===t||"geoprocessing package"===t||"locator package"===t||"geoprocessing sample"===t||"workflow manager service"===t?n="toolsgray":"layer"===t||"layer package"===t||"explorer layer"===t?n="layersgray":"analysis model"===t?n="analysismodel":"scene package"===t?n="scenepackage":"3dtiles package"===t?n="3dtileslayerpackage":"3dtiles service"===t?n="3dtileslayer":"mobile scene package"===t?n="mobilescenepackage":"tile package"===t||"compact tile package"===t?n="tilepackage":"task file"===t?n="taskfile":"report template"===t?n="report-template":"statistical data collection"===t?n="statisticaldatacollection":"insights workbook"===t?n="workbook":"insights model"===t?n="insightsmodel":"insights page"===t?n="insightspage":"insights theme"===t?n="insightstheme":"hub initiative"===t?n="hubinitiative":"hub page"===t?n="hubpage":"hub site application"===t?n="hubsite":"hub event"===t?n="hubevent":"hub project"===t?n="hubproject":"relational database connection"===t?n="relationaldatabaseconnection":"big data file share"===t?n="datastorecollection":"image collection"===t?n="imagecollection":"desktop style"===t?n="desktopstyle":"style"===t?n=i.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===t?n="dashboard":"raster function template"===t?n="rasterprocessingtemplate":"vector tile package"===t?n="vectortilepackage":"ortho mapping project"===t?n="orthomappingproject":"ortho mapping template"===t?n="orthomappingtemplate":"solution"===t?n="solutions":"geopackage"===t?n="geopackage":"deep learning package"===t?n="deeplearningpackage":"real time analytic"===t?n="realtimeanalytics":"reality mapping project"===t?n="realitymappingproject":"big data analytic"===t?n="bigdataanalytics":"feed"===t?n="feed":"excalibur imagery project"===t?n="excaliburimageryproject":"notebook"===t?n="notebook":"storymap"===t?n="storymap":"survey123 add in"===t?n="survey123addin":"mission"===t?n="mission":"mission report"===t?n="missionreport":"mission template"===t?n="missiontemplate":"quickcapture project"===t?n="quickcaptureproject":"pro report"===t?n="proreport":"pro report template"===t?n="proreporttemplate":"urban model"===t?n="urbanmodel":"urban project"===t?n="urbanproject":"web experience"===t?n="experiencebuilder":"web experience template"===t?n="webexperiencetemplate":"experience builder widget"===t?n="experiencebuilderwidget":"experience builder widget package"===t?n="experiencebuilderwidgetpackage":"workflow"===t?n="workflow":"kernel gateway connection"===t?n="kernelgatewayconnection":"insights script"===t?n="insightsscript":"hub initiative template"===t?n="hubinitiativetemplate":"storymap theme"===t?n="storymaptheme":"knowledge graph"===t?n="knowledgegraph":"knowledge graph layer"===t?n="knowledgegraphlayer":"knowledge studio project"===t?n="knowledgestudio":"native application"===t?n="nativeapp":"native application installer"===t?n="nativeappinstaller":"web link chart"===t?n="linkchart":"knowledge graph web investigation"===t?n="investigation":"ogcfeatureserver"===t?n="features":"pro presentation"===t?n="propresentation":"pro project"===t?n="proproject":"insights workbook package"===t?n="insightsworkbookpackage":"apache parquet"===t?n="apacheparquet":"notebook code snippet library"===t?n="notebookcodesnippets":"suitability model"===t?n="suitabilitymodel":"esri classifier definition"===t?n="classifierdefinition":"esri classification schema"===t?n="classificationschema":"insights data engineering workbook"===t?n="dataengineeringworkbook":"insights data engineering model"===t?n="dataengineeringmodel":"deep learning studio project"===t?n="deeplearningproject":"discussion"===t?n="discussion":"allsource project"===t?n="allsourceproject":"api key"===t?n="apikey":"data pipeline"===t?n="datapipelines":"group layer"===t?(h=i.includes("Map"),n=h?"layergroup2d":"layergroup"):n="media layer"===t?"onlinemedialayer":"form"===t?i.includes("Survey123")?"survey":"datafilesgray":"csv"===t?"csv":"image"===t?"image":"maps",n?(0,o.s)("esri/images/portal/"+n+"16.png"):null}get isLayer(){return null!=this.type&&x.has(this.type)}get itemCdnUrl(){return(0,E.a)(this.itemUrl)}get itemPageUrl(){var e;const t=null===(e=this.portal)||void 0===e?void 0:e.itemPageUrl;return t&&this.id?"".concat(t,"?id=").concat(this.id):null}get itemUrl(){var e;const t=null===(e=this.portal)||void 0===e?void 0:e.restUrl;return t&&this.id?"".concat(t,"/content/items/").concat(this.id):null}get thumbnailUrl(){var e,t;const i=this.itemUrl,n=this.thumbnail;return i&&n&&null!==(e=null===(t=this.portal)||void 0===t?void 0:t.normalizeUrl("".concat(i,"/info/").concat(n,"?f=json")))&&void 0!==e?e:null}get userItemUrl(){var e,t;const i=null===(e=this.portal)||void 0===e?void 0:e.restUrl;if(!i)return null;const n=this.owner||(null===(t=this.portal)||void 0===t||null===(t=t.user)||void 0===t?void 0:t.username);return n?"".concat(i,"/content/users/").concat(this.ownerFolder?"".concat(n,"/").concat(this.ownerFolder):n,"/items/").concat(this.id):null}load(e){var t;const i=null!==(t=this.portal)&&void 0!==t?t:this.portal=y.A.getDefault(),n=i.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?i.request(this.itemUrl,{signal:null!=e?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(n),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}},i=e instanceof S?e.rating:e;return null==i||isNaN(i)||"number"!=typeof e||(t.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new S({rating:i,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,l.o8)(this.applicationProxies),avgRating:this.avgRating,categories:(0,l.o8)(this.categories),classification:(0,l.o8)(this.classification),created:(0,l.o8)(this.created),culture:this.culture,description:this.description,extent:(0,l.o8)(this.extent),groupCategories:(0,l.o8)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,l.o8)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,l.o8)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,l.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,l.o8)(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new T({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const i of["tags","typeKeywords","categories"]){var t;e[i]=null===(t=e[i])||void 0===t?void 0:t.join(", ")}for(const i of["extent","classification"]){const t=e[i];t&&(e[i]=JSON.stringify(t))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=arguments.length>1?arguments[1]:void 0;return this.portal.request(this.itemUrl+"/data",(0,n.A)((0,n.A)({responseType:e},t),{},{query:{token:this.apiKey}}))}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",(0,n.A)({query:{token:this.apiKey}},e));return null!=t.rating?(t.created=new Date(t.created),new S(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",(0,n.A)({query:(0,n.A)((0,n.A)({},e),{},{token:this.apiKey})},t),T)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}reload(){var e;return this.portal.request(null!==(e=this.itemUrl)&&void 0!==e?e:"",{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=null===e||void 0===e?void 0:e.data,i={method:"post"};i.query=this.createPostQuery();for(const e in i.query)null===i.query[e]&&(i.query[e]="");return i.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?i.query.text=t:"object"==typeof t&&(i.query.text=JSON.stringify(t))),this.portal.request("".concat(this.userItemUrl,"/update"),i).then((()=>this.reload()))})):Promise.reject(new s.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new s.A("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:i}=this;await t.signIn();const{copyResources:n,folder:r,tags:o,title:a}=e||{},l={method:"post",query:{copyPrivateResources:"all"===n,folder:"string"==typeof r?r:null===r||void 0===r?void 0:r.id,includeResources:!!n,tags:null===o||void 0===o?void 0:o.join(","),title:a}},{itemId:c}=await t.request("".concat(i,"/copy"),l);return new T({id:c,portal:t})}updateThumbnail(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e.thumbnail,i=e.filename,n={method:"post"};if("string"==typeof t)(0,u.DB)(t)?n.query={data:t}:n.query={url:(0,u.s2)(t)},null!=i&&(n.query.filename=i);else{const e=new FormData;null!=i?e.append("file",t,i):e.append("file",t),n.body=e}return this.portal.request("".concat(this.userItemUrl,"/updateThumbnail"),n).then((()=>this.reload()))})):Promise.reject(new s.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const{fetchResources:n}=await i.e(3106).then(i.bind(i,33106));return n(this,e,t)}async addResource(e,t,n){const{addOrUpdateResources:r}=await i.e(3106).then(i.bind(i,33106));return e.portalItem=this,await r(this,[{resource:e,content:t,compress:null===n||void 0===n?void 0:n.compress,access:null===n||void 0===n?void 0:n.access}],"add",n),e}async removeResource(e,t){const{removeResource:n}=await i.e(3106).then(i.bind(i,33106));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new s.A("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return n(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await i.e(3106).then(i.bind(i,33106));return t(this,e)}resourceFromPath(e){return new A({portalItem:this,path:e})}toJSON(){var e,t;const i=this.extent,n={accessInformation:this.accessInformation,categories:(0,l.o8)(this.categories),classification:(0,l.o8)(this.classification),created:null===(e=this.created)||void 0===e?void 0:e.getTime(),description:this.description,extent:i&&[[i.xmin,i.ymin],[i.xmax,i.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:null===(t=this.modified)||void 0===t?void 0:t.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,l.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,l.o8)(this.typeKeywords),url:this.url};return(0,l.oy)(n)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new T({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};(0,r._)([(0,d.MZ)({type:["private","shared","org","public"]})],P.prototype,"access",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"accessInformation",void 0),(0,r._)([(0,d.MZ)({type:String})],P.prototype,"apiKey",void 0),(0,r._)([(0,d.MZ)({json:{read:{source:"appProxies"}}})],P.prototype,"applicationProxies",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"avgRating",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"categories",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"classification",void 0),(0,r._)([(0,d.MZ)({type:Date})],P.prototype,"created",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"culture",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"description",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"displayName",null),(0,r._)([(0,d.MZ)({type:m.A})],P.prototype,"extent",void 0),(0,r._)([(0,p.w)("extent")],P.prototype,"readExtent",null),(0,r._)([(0,d.MZ)()],P.prototype,"groupCategories",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"iconUrl",null),(0,r._)([(0,d.MZ)()],P.prototype,"id",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"isLayer",null),(0,r._)([(0,d.MZ)({type:Boolean,readOnly:!0})],P.prototype,"isOrgItem",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"itemControl",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"itemPageUrl",null),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"itemUrl",null),(0,r._)([(0,d.MZ)()],P.prototype,"licenseInfo",void 0),(0,r._)([(0,d.MZ)({type:Date})],P.prototype,"modified",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"name",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"numComments",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"numRatings",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"numViews",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"owner",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"ownerFolder",void 0),(0,r._)([(0,d.MZ)({type:y.A})],P.prototype,"portal",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"screenshots",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"size",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"snippet",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"sourceJSON",void 0),(0,r._)([(0,d.MZ)({type:String})],P.prototype,"sourceUrl",void 0),(0,r._)([(0,d.MZ)({type:String})],P.prototype,"spatialReference",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"tags",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"thumbnail",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"thumbnailUrl",null),(0,r._)([(0,d.MZ)()],P.prototype,"title",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"type",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"typeKeywords",void 0),(0,r._)([(0,d.MZ)({type:String,json:{read(e,t){if(C.has(t.type)){var i;const t=null===(i=this.portal)||void 0===i?void 0:i.restUrl;e||(e=t&&this.id?"".concat(t,"/content/items/").concat(this.id,"/data"):null)}return e}}})],P.prototype,"url",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"userItemUrl",null),P=T=(0,r._)([(0,f.$)("esri.portal.PortalItem")],P);const O=P},70885:(e,t,i)=>{i.d(t,{Rt:()=>o,mY:()=>a});var n=i(28531);const{I:r}=n.ge,o=e=>void 0===e.strings,s={},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return e._$AH=t}},71671:(e,t,i)=>{i.d(t,{Q:()=>h});var n=i(35143),r=i(94643),o=i(3975),s=i(76460),a=i(50346),l=i(46053),c=(i(81806),i(47249),i(85842)),u=i(25515);function d(e,t,i){let n,r;if(e)for(let a=0,l=e.length;a<l;a++){var o,s;if(n=e.at(a),(null===(o=n)||void 0===o?void 0:o[t])===i)return n;if("group"===(null===(s=n)||void 0===s?void 0:s.type)&&(r=d(n.layers,t,i),r))return r}}const h=e=>{let t=class extends e{constructor(){super(...arguments),this.layers=new r.A;const e=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||s.A.getLogger(this).error("Layer 'title:".concat(e.title,", id:").concat(e.id,"' of type '").concat(e.type,"' is not supported as an operational layer and will therefore be ignored."))},t=e=>{e.parent=null,this.layerRemoved(e)};this.addHandles([this.layers.on("before-add",(e=>{if(e.item===this)return e.preventDefault(),void s.A.getLogger(this).error("#add()","Cannot add layer to itself.");(e=>{e.parent&&"remove"in e.parent&&e.parent.remove(e)})(e.item)})),this.layers.on("after-add",(t=>e(t.item))),this.layers.on("after-remove",(e=>t(e.item)))])}destroy(){const e=this.layers.toArray();for(const t of e)t.destroy();this.layers.destroy()}set layers(e){this._set("layers",(0,o.V)(e,this._get("layers")))}add(e,t){const i=this.layers;if(t=i.getNextIndex(t),e instanceof u.A){const n=e;n.parent===this?this.reorder(n,t):i.add(n,t)}else(0,a.$X)(e)?e.then((e=>{this.destroyed||this.add(e,t)})):s.A.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,t){const i=this.layers;let n=i.getNextIndex(t);e.slice().forEach((e=>{e.parent!==this?(i.add(e,n),n+=1):this.reorder(e,n)}))}findLayerById(e){return d(this.layers,"id",e)}findLayerByUid(e){return d(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}};return(0,n._)([(0,l.MZ)()],t.prototype,"layers",null),t=(0,n._)([(0,c.$)("esri.support.LayersMixin")],t),t}},71706:(e,t,i)=>{i.d(t,{A:()=>u});var n=i(35143),r=i(76931),o=i(46053),s=i(40565),a=(i(81806),i(47249),i(85842)),l=i(25900);let c=class extends l.A{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return"".concat(this.type,".").concat(this.angle,".").concat(this.size,".").concat(this.xoffset,".").concat(this.yoffset)}};(0,n._)([(0,o.MZ)({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],c.prototype,"angle",void 0),(0,n._)([(0,o.MZ)({type:["simple-marker","picture-marker"],readOnly:!0})],c.prototype,"type",void 0),(0,n._)([(0,o.MZ)({type:Number,cast:r.cr,json:{write:!0}})],c.prototype,"xoffset",void 0),(0,n._)([(0,o.MZ)({type:Number,cast:r.cr,json:{write:!0}})],c.prototype,"yoffset",void 0),(0,n._)([(0,o.MZ)({cast:e=>"auto"===e?e:(0,s.GB)((0,r.cr)(e)),json:{write:!0}})],c.prototype,"size",void 0),c=(0,n._)([(0,a.$)("esri.symbols.MarkerSymbol")],c);const u=c},71838:(e,t,i)=>{i.d(t,{V:()=>o,X:()=>r});var n=i(19902);function r(e){return{geometryType:(0,n.$B)(e[0]),geometries:e.map((e=>e.toJSON()))}}function o(e,t,i){const r=(0,n.xD)(t);return e.map((e=>{const t=r.fromJSON(e);return t.spatialReference=i,t}))}},72599:(e,t,i)=>{i.d(t,{A:()=>h});var n,r=i(35143),o=i(53084),s=i(46053),a=(i(81806),i(76460),i(6409)),l=i(85842),c=i(92115),u=i(44631);let d=n=class extends u.A{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some((e=>(String(e.code)===i&&(t=e.name),!!t)))}return t}clone(){return new n({codedValues:(0,o.o8)(this.codedValues),name:this.name})}};(0,r._)([(0,s.MZ)({type:[c.H],json:{write:{isRequired:!0}}})],d.prototype,"codedValues",void 0),(0,r._)([(0,a.e)({codedValue:"coded-value"})],d.prototype,"type",void 0),d=n=(0,r._)([(0,l.$)("esri.layers.support.CodedValueDomain")],d);const h=d},72733:(e,t,i)=>{i.d(t,{Bb:()=>o,Fq:()=>c,M4:()=>u,Nv:()=>d,e:()=>h});i(81806);var n=i(9392),r=i(42294);function o(e,t){let{isPrimitive:i,width:r,depth:o,height:s}=t;const a=i?10:1;if(null==r&&null==s&&null==o)return[a*e[0],a*e[1],a*e[2]];const l=(0,n.fA)(r,o,s);let c;for(let n=0;n<3;n++){const t=l[n];if(null!=t){c=t/e[n];break}}for(let n=0;n<3;n++)null==l[n]&&(l[n]=e[n]*c);return l}const s=(0,r.fA)(-.5,-.5,-.5,.5,.5,.5),a=(0,r.fA)(-.5,-.5,0,.5,.5,1),l=(0,r.fA)(-.5,-.5,0,.5,.5,.5);function c(e){switch(e){case"sphere":case"cube":case"diamond":return s;case"cylinder":case"cone":case"inverted-cone":return a;case"tetrahedron":return l;default:return}}const u=["butt","square","round"],d=[...u,"none"],h=["miter","bevel","round"]},72745:(e,t,i)=>{function n(){return[0,0]}function r(e){return[e[0],e[1]]}function o(e,t){return[e,t]}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];const i=Math.min(2,e.length);for(let n=0;n<i;++n)t[n]=e[n];return t}function a(){return[0,0]}function l(){return o(1,1)}function c(){return o(1,0)}function u(){return o(0,1)}i.d(t,{Cw:()=>p,JP:()=>f,Un:()=>h,ci:()=>s,fA:()=>o,o8:()=>r,uY:()=>d,vt:()=>n});const d=[0,0],h=l(),p=c(),f=u();Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_X:p,UNIT_Y:f,ZEROS:d,clone:r,create:n,createView:function(e,t){return new Float64Array(e,t,2)},freeze:function(e,t){return[e,t]},fromArray:s,fromValues:o,ones:l,unitX:c,unitY:u,zeros:a},Symbol.toStringTag,{value:"Module"}))},73319:(e,t,i)=>{i.d(t,{D:()=>r,x:()=>n});const n=Symbol("widget"),r=Symbol("widget-test-data")},73471:(e,t,i)=>{i.d(t,{A:()=>c});var n,r=i(35143),o=(i(76460),i(81806),i(47249),i(50076),i(6409)),s=i(85842),a=i(27842);let l=n=class extends a.A{constructor(e){super(e),this.type="solid"}clone(){return new n(this.cloneProperties())}};(0,r._)([(0,o.e)({solid:"solid"},{readOnly:!0})],l.prototype,"type",void 0),l=n=(0,r._)([(0,s.$)("esri.symbols.edges.SolidEdges3D")],l);const c=l},73548:(e,t,i)=>{i.d(t,{j7:()=>s,kS:()=>l,kd:()=>a,r8:()=>c});var n=i(23701),r=i(13312),o=i(19902);const s={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new n.A({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:r.A.WebMercator}),minus180Line:new n.A({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:r.A.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new n.A({paths:[[[180,-180],[180,180]]],spatialReference:r.A.WGS84}),minus180Line:new n.A({paths:[[[-180,-180],[-180,180]]],spatialReference:r.A.WGS84})}};function a(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){const i=c(e);for(const n of i)for(const e of n)e[0]+=t;return e}function c(e){return(0,o.Bi)(e)?e.rings:e.paths}},73572:(e,t,i)=>{i.d(t,{J:()=>d});var n,r=i(27842),o=i(35143),s=(i(76460),i(81806),i(47249),i(50076),i(6409)),a=i(85842);let l=n=class extends r.A{constructor(e){super(e),this.type="sketch"}clone(){return new n(this.cloneProperties())}};(0,o._)([(0,s.e)({sketch:"sketch"},{readOnly:!0})],l.prototype,"type",void 0),l=n=(0,o._)([(0,a.$)("esri.symbols.edges.SketchEdges3D")],l);const c=l;var u=i(73471);const d={types:{key:"type",base:r.A,typeMap:{solid:u.A,sketch:c}},json:{write:!0}}},73582:(e,t,i)=>{i.d(t,{hr:()=>r,ie:()=>c,uC:()=>a,wf:()=>l});var n=i(15941);class r{constructor(e,t){this.min=e,this.max=t,this.range=t-e}normalize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o(this.range,this.min,this.max,e,t,i)}clamp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,n.qE)(e-t,this.min,this.max)+t}monotonic(e,t,i){return e<t?t:t+s(this.range,e-t,i)}minimalMonotonic(e,t,i){return o(this.range,e,e+this.range,t,i)}center(e,t,i){return t=this.monotonic(e,t,i),this.normalize((e+t)/2,i)}diff(e,t,i){return this.monotonic(e,t,i)-e}shortestSignedDiff(e,t){e=this.normalize(e);const i=(t=this.normalize(t))-e,n=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(i)<Math.abs(n)?i:n}contains(e,t,i){return t=this.minimalMonotonic(e,t),(i=this.minimalMonotonic(e,i))>e&&i<t}}function o(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(n-=r)<t?n+=s(e,t-n):n>i&&(n-=s(e,n-i)),o&&n===i&&(n=t),n+r}function s(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.ceil((t-i)/e)*e+i}const a=new r(0,2*Math.PI),l=new r(-Math.PI,Math.PI),c=new r(0,360)},73763:(e,t,i)=>{i.d(t,{A:()=>u});var n=i(35143),r=i(94643),o=i(68134),s=i(46053),a=i(85842),l=i(49281);let c=class extends r.A{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles((0,l.fm)((()=>this._refresh()),o.OH))}destroy(){this.getCollections=null}_refresh(){const e=null!=this.getCollections?this.getCollections():null;if(null==e)return void this.removeAll();let t=0;for(const i of e)null!=i&&(t=this._processCollection(t,i));this.splice(t,this.length)}_createNewInstance(e){return new r.A(e)}_processCollection(e,t){var i;if(!t)return e;const n=null!==(i=this.itemFilterFunction)&&void 0!==i?i:e=>!!e;for(const r of t)if(r){if(n(r)){const t=this.indexOf(r,e);t>=0?t!==e&&this.reorder(r,e):this.add(r,e),++e}if(this.getChildrenFunction){const t=this.getChildrenFunction(r);if(Array.isArray(t))for(const i of t)e=this._processCollection(e,i);else e=this._processCollection(e,t)}}return e}};(0,n._)([(0,s.MZ)()],c.prototype,"getCollections",void 0),(0,n._)([(0,s.MZ)()],c.prototype,"getChildrenFunction",void 0),(0,n._)([(0,s.MZ)()],c.prototype,"itemFilterFunction",void 0),c=(0,n._)([(0,a.$)("esri.core.CollectionFlattener")],c);const u=c},74343:(e,t,i)=>{i.d(t,{A:()=>M});var n,r=i(35143),o=i(94643),s=i(63241),a=i(53084),l=i(76460),c=i(68134),u=i(46053),d=(i(81806),i(6409)),h=i(85842),p=i(31671),f=i(84847),m=i(27796),y=i(22189),g=i(47943),v=i(78135),_=i(21405),w=i(51317);const b=o.A.ofType({base:null,key:"type",typeMap:{extrude:p.A,fill:f.A,icon:m.A,line:y.A,object:g.A,text:_.A,water:w.A}});let A=n=class extends v.A{constructor(e){super(e),this.symbolLayers=new b,this.type="polygon-3d"}initialize(){const e=e=>{"line"===e.type&&(0,s.io)(l.A.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),"text"===e.type&&(0,s.io)(l.A.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles((0,c.on)((()=>this.symbolLayers),"after-add",(t=>{let{item:i}=t;return e(i)}),c.OH))}clone(){return new n({styleOrigin:(0,a.o8)(this.styleOrigin),symbolLayers:(0,a.o8)(this.symbolLayers),thumbnail:(0,a.o8)(this.thumbnail)})}static fromJSON(e){const t=new n;if(t.read(e),2===t.symbolLayers.length&&"fill"===t.symbolLayers.at(0).type&&"line"===t.symbolLayers.at(1).type){var i;const n=t.symbolLayers.at(0),r=t.symbolLayers.at(1);!r.enabled||null!==(i=e.symbolLayers)&&void 0!==i&&i[1]&&!1===e.symbolLayers[1].enable||(n.outline={size:r.size,color:null!=r.material?r.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new n({symbolLayers:new o.A([f.A.fromSimpleFillSymbol(e)])})}};(0,r._)([(0,u.MZ)({type:b,json:{write:!0}})],A.prototype,"symbolLayers",void 0),(0,r._)([(0,d.e)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],A.prototype,"type",void 0),A=n=(0,r._)([(0,h.$)("esri.symbols.PolygonSymbol3D")],A);const M=A},75540:(e,t,i)=>{i.d(t,{v:()=>a});var n=i(53084),r=i(99486),o=i(99702);class s{constructor(e,t){this._observable=new o.I,this._value=e,this._equalityFunction=t}get value(){return(0,r.gc)(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.gh;return new s(e,t)}},75900:(e,t,i)=>{i.d(t,{A:()=>u});var n=i(35143),r=i(69098),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(56362),l=i(6362);let c=class extends(r.A.ClonableMixin(a.A)){constructor(e){super(e),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,n._)([(0,o.MZ)({type:["auto","preview","list"],json:{write:!0}})],c.prototype,"displayType",void 0),(0,n._)([(0,o.MZ)({type:[l.A],json:{write:!0}})],c.prototype,"orderByFields",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],c.prototype,"title",void 0),(0,n._)([(0,o.MZ)({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],c.prototype,"type",void 0),c=(0,n._)([(0,s.$)("esri.popup.content.AttachmentsContent")],c);const u=c},76097:(e,t,i)=>{i.d(t,{R:()=>n});class n{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){var e;null!==(e=this.accessed)&&void 0!==e&&e.clear(),this.clear()}onAccessed(e){null!=this._observer&&e!==this._observer&&(null==this.accessed&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){null!=this._observer&&(this.clear(),null!=this.accessed&&(null==this._handles&&(this._handles=[]),this.accessed.forEach((e=>{this._handles.push(e.observe(this._observer))})),this.accessed.clear()))}clear(){if(null!=this._handles){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}}},76099:(e,t,i)=>{i.d(t,{Ly:()=>me,N_:()=>ge,OU:()=>Ae,V8:()=>ye,W5:()=>be,Z6:()=>Me,cA:()=>ve});var n=function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)},r={exports:{}},o={},s={exports:{}},a={};function l(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var c=/javascript\s*\:/gim;a.whiteList=l(),a.getDefaultWhiteList=l,a.onAttr=function(e,t,i){},a.onIgnoreAttr=function(e,t,i){},a.safeAttrValue=function(e,t){return c.test(t)?"":t};var u={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var n,r;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,r=e.length;n<r;n++)t.call(i,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},d=u;var h=function(e,t){";"!==(e=d.trimRight(e))[e.length-1]&&(e+=";");var i=e.length,n=!1,r=0,o=0,s="";function a(){if(!n){var i=d.trim(e.slice(r,o)),a=i.indexOf(":");if(-1!==a){var l=d.trim(i.slice(0,a)),c=d.trim(i.slice(a+1));if(l){var u=t(r,s.length,l,c,i);u&&(s+=u+"; ")}}}r=o+1}for(;o<i;o++){var l=e[o];if("/"===l&&"*"===e[o+1]){var c=e.indexOf("*/",o+2);if(-1===c)break;r=(o=c+1)+1,n=!1}else"("===l?n=!0:")"===l?n=!1:";"===l?n||a():"\n"===l&&a()}return d.trim(s)},p=a,f=h;function m(e){return void 0===e||null===e}function y(e){(e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{})).whiteList=e.whiteList||p.whiteList,e.onAttr=e.onAttr||p.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||p.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||p.safeAttrValue,this.options=e}y.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,i=t.whiteList,n=t.onAttr,r=t.onIgnoreAttr,o=t.safeAttrValue;return f(e,(function(e,t,s,a,l){var c=i[s],u=!1;if(!0===c?u=c:"function"===typeof c?u=c(a):c instanceof RegExp&&(u=c.test(a)),!0!==u&&(u=!1),a=o(s,a)){var d,h={position:t,sourcePosition:e,source:l,isWhite:u};return u?m(d=n(s,a,h))?s+":"+a:d:m(d=r(s,a,h))?void 0:d}}))};var g=y;!function(e,t){var i=a,n=g;for(var r in(t=e.exports=function(e,t){return new n(t).process(e)}).FilterCSS=n,i)t[r]=i[r]}(s,s.exports);var v=s.exports,_={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var n,r;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,r=e.length;n<r;n++)t.call(i,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},w=v.FilterCSS,b=v.getDefaultWhiteList,A=_;function M(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var S=new w;function T(e){return e.replace(E,"&lt;").replace(x,"&gt;")}var E=/</g,x=/>/g,C=/"/g,P=/&quot;/g,O=/&#([a-zA-Z0-9]*);?/gim,I=/&colon;?/gim,R=/&newline;?/gim,N=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,k=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,L=/u\s*r\s*l\s*\(.*/gi;function D(e){return e.replace(C,"&quot;")}function Z(e){return e.replace(P,'"')}function F(e){return e.replace(O,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function U(e){return e.replace(I,":").replace(R," ")}function j(e){for(var t="",i=0,n=e.length;i<n;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return A.trim(t)}function G(e){return e=j(e=U(e=F(e=Z(e))))}function z(e){return e=T(e=D(e))}o.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},o.getDefaultWhiteList=M,o.onTag=function(e,t,i){},o.onIgnoreTag=function(e,t,i){},o.onTagAttr=function(e,t,i){},o.onIgnoreTagAttr=function(e,t,i){},o.safeAttrValue=function(e,t,i,n){if(i=G(i),"href"===t||"src"===t){if("#"===(i=A.trim(i)))return"#";if("http://"!==i.substr(0,7)&&"https://"!==i.substr(0,8)&&"mailto:"!==i.substr(0,7)&&"tel:"!==i.substr(0,4)&&"data:image/"!==i.substr(0,11)&&"ftp://"!==i.substr(0,6)&&"./"!==i.substr(0,2)&&"../"!==i.substr(0,3)&&"#"!==i[0]&&"/"!==i[0])return""}else if("background"===t){if(N.lastIndex=0,N.test(i))return""}else if("style"===t){if(k.lastIndex=0,k.test(i))return"";if(L.lastIndex=0,L.test(i)&&(N.lastIndex=0,N.test(i)))return"";!1!==n&&(i=(n=n||S).process(i))}return i=z(i)},o.escapeHtml=T,o.escapeQuote=D,o.unescapeQuote=Z,o.escapeHtmlEntities=F,o.escapeDangerHtml5Entities=U,o.clearNonPrintableCharacter=j,o.friendlyAttrValue=G,o.escapeAttrValue=z,o.onIgnoreTagStripAll=function(){return""},o.StripTagBody=function(e,t){"function"!==typeof t&&(t=function(){});var i=!Array.isArray(e),n=[],r=!1;return{onIgnoreTag:function(o,s,a){if(function(t){return!!i||-1!==A.indexOf(e,t)}(o)){if(a.isClosing){var l="[/removed]",c=a.position+10;return n.push([!1!==r?r:a.position,c]),r=!1,l}return r||(r=a.position),"[removed]"}return t(o,s,a)},remove:function(e){var t="",i=0;return A.forEach(n,(function(n){t+=e.slice(i,n[0]),i=n[1]})),t+=e.slice(i)}}},o.stripCommentTag=function(e){for(var t="",i=0;i<e.length;){var n=e.indexOf("\x3c!--",i);if(-1===n){t+=e.slice(i);break}t+=e.slice(i,n);var r=e.indexOf("--\x3e",n);if(-1===r)break;i=r+3}return t},o.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},o.cssFilter=S,o.getDefaultCSSWhiteList=b;var V={},B=_;function H(e){var t,i=B.spaceIndex(e);return t=-1===i?e.slice(1,-1):e.slice(1,i+1),"/"===(t=B.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function q(e){return"</"===e.slice(0,2)}var W=/[^a-zA-Z0-9\\_:.-]/gim;function $(e,t){for(;t<e.length;t++){var i=e[t];if(" "!==i)return"="===i?t:-1}}function J(e,t){for(;t<e.length;t++){var i=e[t];if(" "!==i)return"'"===i||'"'===i?t:-1}}function K(e,t){for(;t>0;t--){var i=e[t];if(" "!==i)return"="===i?t:-1}}function Y(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}V.parseTag=function(e,t,i){var n="",r=0,o=!1,s=!1,a=0,l=e.length,c="",u="";e:for(a=0;a<l;a++){var d=e.charAt(a);if(!1===o){if("<"===d){o=a;continue}}else if(!1===s){if("<"===d){n+=i(e.slice(r,a)),o=a,r=a;continue}if(">"===d){n+=i(e.slice(r,o)),c=H(u=e.slice(o,a+1)),n+=t(o,n.length,c,u,q(u)),r=a+1,o=!1;continue}if('"'===d||"'"===d)for(var h=1,p=e.charAt(a-h);""===p.trim()||"="===p;){if("="===p){s=d;continue e}p=e.charAt(a-++h)}}else if(d===s){s=!1;continue}}return r<e.length&&(n+=i(e.substr(r))),n},V.parseAttr=function(e,t){var i=0,n=0,r=[],o=!1,s=e.length;function a(e,i){if(!((e=(e=B.trim(e)).replace(W,"").toLowerCase()).length<1)){var n=t(e,i||"");n&&r.push(n)}}for(var l=0;l<s;l++){var c,u=e.charAt(l);if(!1!==o||"="!==u)if(!1===o||l!==n)if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(c=$(e,l))){a(B.trim(e.slice(i,l))),o=!1,i=l+1;continue}l=c-1;continue}if(-1===(c=K(e,l-1))){a(o,Y(B.trim(e.slice(i,l)))),o=!1,i=l+1;continue}}else;else{if(-1===(c=e.indexOf(u,l+1)))break;a(o,B.trim(e.slice(n+1,c))),o=!1,i=(l=c)+1}else o=e.slice(i,l),i=l+1,n='"'===e.charAt(i)||"'"===e.charAt(i)?i:J(e,l+1)}return i<e.length&&(!1===o?a(e.slice(i)):a(o,Y(B.trim(e.slice(i))))),B.trim(r.join(" "))};var X=v.FilterCSS,Q=o,ee=V,te=ee.parseTag,ie=ee.parseAttr,ne=_;function re(e){return void 0===e||null===e}function oe(e){(e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Q.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map((function(e){return e.toLowerCase()})):t[i.toLowerCase()]=e[i];return t}(e.whiteList||e.allowList):e.whiteList=Q.whiteList,e.onTag=e.onTag||Q.onTag,e.onTagAttr=e.onTagAttr||Q.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Q.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Q.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Q.safeAttrValue,e.escapeHtml=e.escapeHtml||Q.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new X(e.css))}oe.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,i=t.whiteList,n=t.onTag,r=t.onIgnoreTag,o=t.onTagAttr,s=t.onIgnoreTagAttr,a=t.safeAttrValue,l=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=Q.stripBlankChar(e)),t.allowCommentTag||(e=Q.stripCommentTag(e));var u=!1;t.stripIgnoreTagBody&&(u=Q.StripTagBody(t.stripIgnoreTagBody,r),r=u.onIgnoreTag);var d=te(e,(function(e,t,u,d,h){var p={sourcePosition:e,position:t,isClosing:h,isWhite:Object.prototype.hasOwnProperty.call(i,u)},f=n(u,d,p);if(!re(f))return f;if(p.isWhite){if(p.isClosing)return"</"+u+">";var m=function(e){var t=ne.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var i="/"===(e=ne.trim(e.slice(t+1,-1)))[e.length-1];return i&&(e=ne.trim(e.slice(0,-1))),{html:e,closing:i}}(d),y=i[u],g=ie(m.html,(function(e,t){var i=-1!==ne.indexOf(y,e),n=o(u,e,t,i);return re(n)?i?(t=a(u,e,t,c))?e+'="'+t+'"':e:re(n=s(u,e,t,i))?void 0:n:n}));return d="<"+u,g&&(d+=" "+g),m.closing&&(d+=" /"),d+=">"}return re(f=r(u,d,p))?l(d):f}),l);return u&&(d=u.remove(d)),d};var se=oe;!function(e,t){var i=o,n=V,r=se;function s(e,t){return new r(t).process(e)}(t=e.exports=s).filterXSS=s,t.FilterXSS=r,function(){for(var e in i)t[e]=i[e];for(var r in n)t[r]=n[r]}(),"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(r,r.exports);var ae=r.exports,le=function(){function e(e,t){var i,r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=n(n({},ae.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,i,n){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?r.sanitizeUrl(i):ae.safeAttrValue(e,t,i,n)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},e&&!t?i=e:e&&t?((i=Object.create(this.arcgisFilterOptions)).css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach((function(t){if("whiteList"===t)i.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,e.whiteList||{}]);else if("css"===t){var n=e.css.whiteList;null!=n&&e.css instanceof Object&&Object.keys(n).forEach((function(e){return i.css.whiteList[e]=n[e]}))}else i[t]=e[t]}))):((i=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,i.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=i,this._xssFilter=new ae.FilterXSS(i)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&"undefined"===typeof e)return;return null}},e.prototype.sanitizeUrl=function(e,t){var i=(null!==t&&void 0!==t?t:{}).isProtocolRequired,n=void 0===i||i,r=this._trim(e.substring(0,e.indexOf(":"))),o="/"===e,s=/^#/.test(e),a=r&&this.allowedProtocols.indexOf(r.toLowerCase())>-1;return o||s||a?ae.escapeAttrValue(e):r||n?"":ae.escapeAttrValue("https://".concat(e))},e.prototype.sanitizeHTMLAttribute=function(e,t,i,n){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,i,n):ae.safeAttrValue(e,t,i,n)},e.prototype.validate=function(e,t){void 0===t&&(t={});var i=this.sanitize(e,t);return{isValid:e===i,sanitized:i}},e.prototype.encodeHTML=function(e){var t=this;return String(e).replace(/[&<>"'\/]/g,(function(e){return t._entityMap[e]}))},e.prototype.encodeAttrValue=function(e){var t=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,(function(i,n){return t.test(i)?i:"&#x".concat(Number(e.charCodeAt(n)).toString(16),";")}))},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(i){Array.isArray(e[i])&&Array.isArray(t[i])?t[i]=t[i].concat(e[i]):t[i]=e[i]}))})),t},e.prototype._iterateOverObject=function(e,t){var i=this;void 0===t&&(t={});try{var n=!1,r=void 0;if(Array.isArray(e))r=e.reduce((function(e,r){var o=i.validate(r,t);return o.isValid?e.concat([r]):(n=!0,e.concat([o.sanitized]))}),[]);else{if(!function(e){if("object"!==typeof e||null===e)return!1;if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e)){if(t.allowUndefined&&"undefined"===typeof e)return;return null}r=Object.keys(e).reduce((function(r,o){var s=e[o],a=i.validate(s,t);return a.isValid?r[o]=s:(n=!0,r[o]=a.sanitized),r}),{})}return n?r:e}catch(o){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}(),ce=i(11373),ue=i(54901),de=(i(81806),i(76460),i(50346)),he=i(68134),pe=i(52394),fe=i(14656);function me(){const e=ce.A.acquire();for(let i=0;i<arguments.length;i++){const t=i<0||arguments.length<=i?void 0:arguments[i],n=typeof t;if("string"===n)e.push(t);else if(Array.isArray(t))e.push.apply(e,t);else if("object"===n)for(const i in t)t[i]&&e.push(i)}const t=e.join(" ");return ce.A.release(e),t}(()=>{const e=new Map,t=new ResizeObserver((t=>{(0,fe.Sh)();for(const n of t){var i;null===(i=e.get(n.target))||void 0===i||i(n)}})),i=(i,n,r)=>(e.set(i,n),t.observe(i,r),(0,ue.hA)((()=>{t.unobserve(i),e.delete(i)})))})();function ye(e){const t=null===e||void 0===e?void 0:e.closest("[dir]");return null!==t&&t instanceof HTMLElement&&"rtl"===t.dir||"rtl"===document.dir}function ge(e){this[e.getAttribute("data-node-ref")]=null}function ve(e){this[e.getAttribute("data-node-ref")]=e}const _e=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce(((e,t)=>(e[t]=[],e)),{}),we=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],be=new le({whiteList:_e,onTagAttr:(e,t,i)=>{const n="".concat(t,'="').concat(i,'"');if(we.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Ae(e){return"Enter"===e||" "===e}async function Me(e,t){await(0,pe.$m)((0,de.Mq)(t));const i="function"==typeof e?e():e;i&&("setFocus"in i&&"function"==typeof i.setFocus?await i.setFocus():i instanceof HTMLElement&&i.focus())}},76192:(e,t,i)=>{i.d(t,{A:()=>c});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(50037);let l=n=class extends a.A{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new n({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,r._)([(0,o.MZ)()],l.prototype,"image",void 0),(0,r._)([(0,o.MZ)()],l.prototype,"value",void 0),l=n=(0,r._)([(0,s.$)("esri.support.actions.ActionToggle")],l);const c=l},76312:(e,t,i)=>{i.d(t,{Sx:()=>a,c8:()=>d,m3:()=>f,ql:()=>u,tz:()=>h,xW:()=>p});var n=i(86560),r=i(81806),o=i(50346),s=i(90534);function a(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return new Promise(((s,a)=>{if((0,o.G4)(n))return void a(l());let c=()=>{h(),a(new Error("Unable to load ".concat(t)))},u=()=>{const t=e;h(),s(t)},d=()=>{if(!e)return;const t=e;h(),t.src="",a(l())};const h=()=>{(0,r.A)("esri-image-decode")||(e.removeEventListener("error",c),e.removeEventListener("load",u)),c=null,u=null,e=null,null!=n&&n.removeEventListener("abort",d),d=null,i&&URL.revokeObjectURL(t)};null!=n&&n.addEventListener("abort",d),(0,r.A)("esri-image-decode")?e.decode().then(u,c):(e.addEventListener("error",c),e.addEventListener("load",u))}))}function l(){try{return new DOMException("Aborted","AbortError")}catch(e){const t=new Error;return t.name="AbortError",t}}const c="Timeout exceeded";function u(){return new Error(c)}function d(e){return"object"==typeof e&&!!e&&"message"in e&&e.message===c}function h(e){n.A.request.crossOriginNoCorsDomains||(n.A.request.crossOriginNoCorsDomains={});const t=n.A.request.crossOriginNoCorsDomains;for(let n of e){var i,r,o;n=n.toLowerCase(),/^https?:\/\//.test(n)?t[null!==(i=(0,s.$z)(n))&&void 0!==i?i:""]=0:(t[null!==(r=(0,s.$z)("http://"+n))&&void 0!==r?r:""]=0,t[null!==(o=(0,s.$z)("https://"+n))&&void 0!==o?o:""]=0)}}function p(e){const t=n.A.request.crossOriginNoCorsDomains;if(t){let i=(0,s.$z)(e);if(i)return i=i.toLowerCase(),!(0,s.FX)(i,(0,s.Xq)())&&t[i]<Date.now()-36e5}return!1}async function f(e){var t;const i=(0,s.An)(e);e=i.path,"json"===(null===(t=i.query)||void 0===t?void 0:t.f)&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch(a){}const r=n.A.request.crossOriginNoCorsDomains,o=(0,s.$z)(e);r&&o&&(r[o.toLowerCase()]=Date.now())}},76336:(e,t,i)=>{var n,r,o;i.d(t,{PK:()=>n,SJ:()=>o,p7:()=>r}),function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"}(n||(n={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(r||(r={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(o||(o={}))},76460:(e,t,i)=>{i.d(t,{A:()=>s});var n=i(86560),r=(i(81806),i(88685));const o={info:0,warn:1,error:2,none:3};class s{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,s._loggers.set(this.module,this);const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=s.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._log("error","always",...t)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._log("warn","always",...t)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._log("info","always",...t)}errorOnce(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._log("error","once",...t)}warnOnce(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._log("warn","once",...t)}infoOnce(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._log("info","once",...t)}errorOncePerTick(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._log("error","oncePerTick",...t)}warnOncePerTick(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._log("warn","oncePerTick",...t)}infoOncePerTick(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(e){return e="string"!=typeof e?e.declaredClass:e,s._loggers.get(e)||new s({module:e})}_log(e,t){if(this._matchLevel(e)){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if("always"!==t&&!s._throttlingDisabled){const i=function(){const e=(e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]";for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return(0,r.Wm)(JSON.stringify(i,e))}(o),n=this._loggedMessages[e].get(i);if("once"===t&&null!=n||"oncePerTick"===t&&n&&n>=s._tickCounter)return;this._loggedMessages[e].set(i,s._tickCounter),s._scheduleTickCounterIncrement()}for(const t of n.A.log.interceptors)if(t(e,this.module,...o))return;this._inheritedWriter()(e,this.module,...o)}}_parentWithMember(e,t){let i=this;for(;null!=i;){const t=i[e];if(null!=t)return t;i=i.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",a)}_matchLevel(e){const t=n.A.log.level||"warn";return o[this._parentWithMember("level",t)]<=o[e]}static _scheduleTickCounterIncrement(){s._tickCounterScheduled||(s._tickCounterScheduled=!0,Promise.resolve().then((()=>{s._tickCounter++,s._tickCounterScheduled=!1})))}}function a(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];console[e]("[".concat(t,"]"),...n)}s._loggers=new Map,s._tickCounter=0,s._tickCounterScheduled=!1,s._throttlingDisabled=!1},76589:(e,t,i)=>{i.d(t,{i:()=>m,r:()=>y});var n,r=i(35143),o=i(45802),s=i(42553),a=i(90534),l=i(46053),c=(i(81806),i(76460),i(47249),i(6409)),u=i(28379),d=i(85842),h=i(17707),p=i(79453);const f=(0,o.O)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let m=n=class extends s.A{constructor(e){super(e)}readHref(e,t,i){return e?(0,p.f)(e,i):t.dataURI}writeHref(e,t,i,n){e&&((0,a.DB)(e)?t.dataURI=e:(t.href=(0,p.t)(e,n),(0,a.oP)(t.href)&&(t.href=(0,a.S8)(t.href))))}clone(){return new n({href:this.href,primitive:this.primitive})}};(0,r._)([(0,l.MZ)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],m.prototype,"href",void 0),(0,r._)([(0,u.w)("href")],m.prototype,"readHref",null),(0,r._)([(0,h.K)("href",{href:{type:String},dataURI:{type:String}})],m.prototype,"writeHref",null),(0,r._)([(0,c.e)(f)],m.prototype,"primitive",void 0),m=n=(0,r._)([(0,d.$)("esri.symbols.support.IconSymbol3DLayerResource")],m);const y="circle"},76797:(e,t,i)=>{i.d(t,{A:()=>v});var n,r=i(35143),o=i(88685),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842)),l=i(89189),c=i(19247),u=i(13312),d=i(11352),h=i(65658),p=i(80963),f=i(45417);function m(e,t,i){return null==t?i:null==i?t:e(t,i)}let y=n=class extends l.A{constructor(){super(...arguments),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,n,r){return function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof e?(e.spatialReference=null==e.spatialReference?u.A.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:n,spatialReference:null!==r&&void 0!==r?r:u.A.WGS84}}static fromPoint(e){return new n({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new c.A({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new n;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&(0,f.y7)(t,i)&&(e=t.isWebMercator?(0,f.Gh)(e):(0,f.ci)(e,!0)),"point"===e.type?(0,d.qz)(this,e):"extent"===e.type&&(0,d.gH)(this,e)}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&(0,f.y7)(t,i)&&(e=t.isWebMercator?(0,f.Gh)(e):(0,f.ci)(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,n=this.height*t;if(this.xmin+=i,this.ymin+=n,this.xmax-=i,this.ymax-=n,this.hasZ){const e=(this.zmax-this.zmin)*t;this.zmin+=e,this.zmax-=e}if(this.hasM){const e=(this.mmax-this.mmin)*t;this.mmin+=e,this.mmax-=e}return this}intersects(e){if(null==e)return!1;"mesh"===e.type&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!(0,p.aI)(t,i)&&(0,f.y7)(t,i)&&(e=t.isWebMercator?(0,f.Gh)(e):(0,f.ci)(e,!0)),(0,h.xK)(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=i&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=m(Math.min,this.zmin,e.zmin),this.zmax=m(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=m(Math.min,this.mmin,e.mmin),this.mmax=m(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:null!=e&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=m(Math.max,this.zmin,e.zmin),this.zmax=m(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=m(Math.max,this.mmin,e.mmin),this.mmax=m(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.Vp)(this.spatialReference);if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){var n;const r=t.isWebMercator?(0,f.ci)(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=g(r.x,e).x),this.spatialReference=new u.A((0,o.HC)(null!==(n=t.isWGS84?e.altTemplate:null)&&void 0!==n?n:e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,n]=e.valid,r=this.xmin,o=this.xmax;return r>=i&&r<=n&&o>=i&&o<=n||(t=this.center),t}_normalize(e,t,i){const n=this.spatialReference;if(!n)return this;const r=null!==i&&void 0!==i?i:(0,p.Vp)(n);if(null==r)return this;const o=this._getParts(r).map((e=>e.extent));if(o.length<2)return o[0]||this;if(o.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return o;let s=!0,a=!0;return o.forEach((e=>{e.hasZ||(s=!1),e.hasM||(a=!1)})),{rings:o.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(s){const i=(e.zmax-e.zmin)/2;for(let e=0;e<t.length;e++)t[e].push(i)}if(a){const i=(e.mmax-e.mmin)/2;for(let e=0;e<t.length;e++)t[e].push(i)}return t})),hasZ:s,hasM:a,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:r,spatialReference:o}=this,s=this.width,a=this.xmin,l=this.xmax;let c;e=e||(0,p.Vp)(o);const[u,d]=e.valid;c=g(this.xmin,e);const h=c.x,f=c.frameId;c=g(this.xmax,e);const m=c.x,y=c.frameId,v=h===m&&s>0;if(s>2*d){const e=new n(a<l?h:m,i,d,r,o),s=new n(u,i,a<l?m:h,r,o),c=new n(0,i,d,r,o),p=new n(u,i,0,r,o),g=[],v=[];e.contains(c)&&g.push(f),e.contains(p)&&v.push(f),s.contains(c)&&g.push(y),s.contains(p)&&v.push(y);for(let t=f+1;t<y;t++)g.push(t),v.push(t);t.push({extent:e,frameIds:[f]},{extent:s,frameIds:[y]},{extent:c,frameIds:g},{extent:p,frameIds:v})}else h>m||v?t.push({extent:new n(h,i,d,r,o),frameIds:[f]},{extent:new n(u,i,m,r,o),frameIds:[y]}):t.push({extent:new n(h,i,m,r,o),frameIds:[f]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const e={};i&&(e.zmin=this.zmin,e.zmax=this.zmax),r&&(e.mmin=this.mmin,e.mmax=this.mmax);for(let i=0;i<t.length;i++)t[i].extent.set(e)}return t}};function g(e,t){const[i,n]=t.valid,r=2*n;let o,s=0;return e>n?(o=Math.ceil(Math.abs(e-n)/r),e-=o*r,s=o):e<i&&(o=Math.ceil(Math.abs(e-i)/r),e+=o*r,s=-o),{x:e,frameId:s}}(0,r._)([(0,s.MZ)({readOnly:!0})],y.prototype,"cache",null),(0,r._)([(0,s.MZ)({readOnly:!0})],y.prototype,"center",null),(0,r._)([(0,s.MZ)({readOnly:!0})],y.prototype,"extent",null),(0,r._)([(0,s.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],y.prototype,"hasM",null),(0,r._)([(0,s.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],y.prototype,"hasZ",null),(0,r._)([(0,s.MZ)({readOnly:!0})],y.prototype,"height",null),(0,r._)([(0,s.MZ)({readOnly:!0})],y.prototype,"width",null),(0,r._)([(0,s.MZ)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],y.prototype,"xmin",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{write:!0}})],y.prototype,"ymin",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],y.prototype,"mmin",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],y.prototype,"zmin",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{write:!0}})],y.prototype,"xmax",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{write:!0}})],y.prototype,"ymax",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],y.prototype,"mmax",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],y.prototype,"zmax",void 0),y=n=(0,r._)([(0,a.$)("esri.geometry.Extent")],y),y.prototype.toJSON.isDefaultToJSON=!0;const v=y},76866:(e,t,i)=>{i.d(t,{gK:()=>a,rS:()=>l});i(81806);var n=i(72599),r=i(44631),o=i(32173),s=i(50654);const a={key:"type",base:r.A,typeMap:{range:s.A,"coded-value":n.A,inherited:o.A}};function l(e){if(null===e||void 0===e||!e.type)return null;switch(e.type){case"range":return s.A.fromJSON(e);case"codedValue":return n.A.fromJSON(e);case"inherited":return o.A.fromJSON(e)}return null}},76931:(e,t,i)=>{i.d(t,{Lz:()=>s,PN:()=>a,PR:()=>y,QG:()=>h,WA:()=>g,cr:()=>l,gs:()=>d,rX:()=>f,r_:()=>p,sc:()=>m,tc:()=>c,y8:()=>u});const n=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,r="screenUtils.toPt: input not recognized!",o=96;function s(e){return e?e/72*o:0}function a(e){return e?72*e/o:0}function l(e){if("string"==typeof e){const t=e.match(n);if(t){const i=Number(t[1]),n=t[3]&&t[3].toLowerCase(),r="-"===e.charAt(0),o="px"===n?a(i):i;return r?-o:o}return console.warn(r),null}return e}function c(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}}function u(e){return e?c(e.x,e.y):null}function d(){return[arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]}function h(){return[arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]}function p(){return[arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0]}function f(e){return e}function m(e){return e}function y(e){return e}function g(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}},76940:(e,t,i)=>{i.d(t,{A:()=>g});var n,r=i(35143),o=i(69539),s=i(45802),a=i(53084),l=i(76931),c=i(46053),u=(i(81806),i(76460),i(6409)),d=i(85842),h=i(17707),p=i(71706),f=i(7246);const m=new s.J({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let y=n=class extends p.A{constructor(){super(...arguments),this.color=new o.A([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new f.A}normalizeCtorArgs(e,t,i,n){if(e&&"string"!=typeof e)return e;const r={};return e&&(r.style=e),null!=t&&(r.size=(0,l.cr)(t)),i&&(r.outline=i),n&&(r.color=n),r}writeColor(e,t){e&&"x"!==this.style&&"cross"!==this.style&&(t.color=e.toJSON()),null===e&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new n({angle:this.angle,color:(0,a.o8)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return"".concat(super.hash(),".").concat(this.color&&this.color.hash(),".").concat(this.path,".").concat(this.style,".").concat(null===(e=this.outline)||void 0===e?void 0:e.hash())}};(0,r._)([(0,c.MZ)()],y.prototype,"color",void 0),(0,r._)([(0,h.K)("color")],y.prototype,"writeColor",null),(0,r._)([(0,u.e)({esriSMS:"simple-marker"},{readOnly:!0})],y.prototype,"type",void 0),(0,r._)([(0,c.MZ)()],y.prototype,"size",void 0),(0,r._)([(0,c.MZ)({type:m.apiValues,json:{read:m.read,write:m.write}})],y.prototype,"style",void 0),(0,r._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"path",null),(0,r._)([(0,c.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":f.A}},json:{default:null,write:!0}})],y.prototype,"outline",void 0),y=n=(0,r._)([(0,d.$)("esri.symbols.SimpleMarkerSymbol")],y);const g=y},77944:(e,t,i)=>{i.d(t,{d:()=>r});const n=[];function r(e){n.push(e),1===n.length&&queueMicrotask((()=>{const e=n.slice();n.length=0;for(const t of e)t()}))}},78135:(e,t,i)=>{i.d(t,{A:()=>I});var n=i(35143),r=i(94643),o=i(3975),s=i(76460),a=i(90534),l=i(62754),c=i(46053),u=i(21403),d=(i(81806),i(47249),i(28379)),h=i(85842),p=i(17707),f=i(65308),m=i(79453),y=i(31671),g=i(84847),v=i(27796),_=i(22189),w=i(47943),b=i(54347),A=i(25900),M=i(38582),S=i(21405),T=i(51317),E=i(24141),x=i(25158);const C={icon:v.A,object:w.A,line:_.A,path:b.A,fill:g.A,extrude:y.A,text:S.A,water:T.A},P=r.A.ofType({base:M.A,key:"type",typeMap:C,errorContext:"symbol-layer"});let O=class extends A.A{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=(null===t||void 0===t?void 0:t.type)||r.A;this._set("symbolLayers",new i)}get color(){return null}set color(e){this.constructed&&s.A.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){(0,o.V)(e,this._get("symbolLayers"))}readStyleOrigin(e,t,i){if(e.styleUrl&&e.name){const t=(0,m.f)(e.styleUrl,i);return new E.A({styleUrl:t,name:e.name})}if(e.styleName&&e.name)return new E.A({portal:(null===i||void 0===i?void 0:i.portal)||f.A.getDefault(),styleName:e.styleName,name:e.name});(null===i||void 0===i?void 0:i.messages)&&i.messages.push(new l.A("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:e}))}writeStyleOrigin(e,t,i,n){if(e.styleUrl&&e.name){let i=(0,m.t)(e.styleUrl,n);(0,a.oP)(i)&&(i=(0,a.S8)(i)),t.styleOrigin={styleUrl:i,name:e.name}}else e.styleName&&e.name&&(e.portal&&null!==n&&void 0!==n&&n.portal&&!(0,a.ut)(e.portal.restUrl,n.portal.restUrl)?(null===n||void 0===n?void 0:n.messages)&&n.messages.push(new l.A("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof M.A||e&&C[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};(0,n._)([(0,c.MZ)({json:{read:!1,write:!1}})],O.prototype,"color",null),(0,n._)([(0,c.MZ)({type:P,nonNullable:!0,json:{write:!0}}),(0,u.w)(o.H)],O.prototype,"symbolLayers",null),(0,n._)([(0,c.MZ)({type:E.A})],O.prototype,"styleOrigin",void 0),(0,n._)([(0,d.w)("styleOrigin")],O.prototype,"readStyleOrigin",null),(0,n._)([(0,p.K)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],O.prototype,"writeStyleOrigin",null),(0,n._)([(0,c.MZ)({type:x.V,json:{read:!1}})],O.prototype,"thumbnail",void 0),(0,n._)([(0,c.MZ)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],O.prototype,"type",void 0),O=(0,n._)([(0,h.$)("esri.symbols.Symbol3D")],O);const I=O},78393:(e,t,i)=>{i.d(t,{IY:()=>a,JI:()=>m,UR:()=>s,XJ:()=>u,_G:()=>c,a3:()=>g,aI:()=>h,dk:()=>y,dz:()=>r,iu:()=>p,jq:()=>l,mg:()=>o,mw:()=>n,vZ:()=>d,y9:()=>f});i(81806);function n(e){return e instanceof ArrayBuffer}function r(e){var t;return"Int8Array"===(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)}function o(e){var t;return"Uint8Array"===(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)}function s(e){var t;return"Uint8ClampedArray"===(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)}function a(e){var t;return"Int16Array"===(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)}function l(e){var t;return"Uint16Array"===(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)}function c(e){var t;return"Int32Array"===(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)}function u(e){var t;return"Uint32Array"===(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)}function d(e){var t;return"Float32Array"===(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)}function h(e){var t;return"Float64Array"===(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)}function p(e){return"buffer"in e}const f=1024;function m(e){return h(e)||d(e)||c(e)||a(e)||r(e)}function y(e){return h(e)||d(e)}function g(e){return h(e)?179769e303:d(e)?3402823e32:u(e)?4294967295:l(e)?65535:o(e)||s(e)?255:c(e)?2147483647:a(e)?32767:r(e)?127:256}},78614:(e,t,i)=>{function n(e,t){const i=t.debugRendererInfo&&e.getExtension("WEBGL_debug_renderer_info");return i?{getUnmaskedRendererWebGL:()=>e.getParameter(i.UNMASKED_RENDERER_WEBGL)}:null}i.d(t,{Z:()=>n})},79053:(e,t,i)=>{i.d(t,{Oo:()=>a,on:()=>s,wb:()=>r});var n=i(54901);function r(e){return function(e){return null!=e&&"object"==typeof e&&"on"in e&&"function"==typeof e.on}(e)||o(e)}function o(e){return null!=e&&"object"==typeof e&&"addEventListener"in e&&"function"==typeof e.addEventListener}function s(e,t,i){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");return o(e)?function(e,t,i,r){if(Array.isArray(t)){const o=t.slice();for(const t of o)e.addEventListener(t,i,r);return(0,n.hA)((()=>{for(const t of o)e.removeEventListener(t,i,r)}))}return e.addEventListener(t,i,r),(0,n.hA)((()=>e.removeEventListener(t,i,r)))}(e,t,i):e.on(t,i)}function a(e,t,i){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const n=s(e,t,(t=>{n.remove(),i.call(e,t)}));return n}},79181:(e,t,i)=>{i.d(t,{A:()=>u});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(82052),l=i(48746);let c=n=class extends a.A{constructor(e){super(e),this.type="pie-chart"}clone(){var e;return new n({altText:this.altText,title:this.title,caption:this.caption,value:null===(e=this.value)||void 0===e?void 0:e.clone()})}};(0,r._)([(0,o.MZ)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:l.U.write,isRequired:!0}}})],c.prototype,"type",void 0),c=n=(0,r._)([(0,s.$)("esri.popup.content.PieChartMediaInfo")],c);const u=c},79453:(e,t,i)=>{i.d(t,{M:()=>v,a:()=>y,b:()=>_,e:()=>f,f:()=>s,i:()=>h,p:()=>p,r:()=>l,t:()=>a,w:()=>c});var n=i(55171),r=i(90534),o=i(47437);function s(e,t){var i;const n=null===t||void 0===t||null===(i=t.url)||void 0===i?void 0:i.path;if(e&&n&&(e=(0,r.s2)(e,n,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const i=(0,r.V1)(e,t.portalItem.itemUrl);null!=i&&d.test(i)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(i).path)}return(e=m(e,null===t||void 0===t?void 0:t.portal))&&u.test(e)?y(e):e}function a(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.YES;if(null==(e=e&&u.test(e)?g(e):e))return e;!(0,r.oP)(e)&&(null===t||void 0===t?void 0:t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let n=(0,r.s2)(e);if(t){var o,s;const i=(null===(o=t.verifyItemRelativeUrls)||void 0===o?void 0:o.rootPath)||(null===(s=t.url)||void 0===s?void 0:s.path);if(i){const o=m(i,t.portal),s=m(n,t.portal);n=(0,r.V1)(s,o,o),null!=n&&n!==s&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=f(n,null===t||void 0===t?void 0:t.portal),(0,r.oP)(n)&&(n=(0,r.S8)(n)),null!==t&&void 0!==t&&t.resources&&null!==t&&void 0!==t&&t.portalItem&&!(0,r.oP)(n)&&!(0,r.DB)(n)&&i===v.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function l(e,t,i){return s(e,i)}function c(e,t,i,n){const r=a(e,n);void 0!==r&&(t[i]=r)}const u=/\/items\/([^/]+)\/resources\/(.*)/,d=/^\.\/resources\//;function h(e){var t,i;const n=null!==(t=null===e||void 0===e?void 0:e.match(u))&&void 0!==t?t:null;return null!==(i=null===n||void 0===n?void 0:n[1])&&void 0!==i?i:null}function p(e){var t;const i=null!==(t=null===e||void 0===e?void 0:e.match(u))&&void 0!==t?t:null;if(null==i)return null;const n=i[2],o=n.lastIndexOf("/");if(-1===o){const{path:e,extension:t}=(0,r.xw)(n);return{prefix:null,filename:e,extension:t}}const{path:s,extension:a}=(0,r.xw)(n.slice(o+1));return{prefix:n.slice(0,o),filename:s,extension:a}}function f(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,r.T1)(e,"".concat(t.urlKey,".").concat(t.customBaseUrl),t.portalHostname):e}function m(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i="".concat(t.urlKey,".").concat(t.customBaseUrl),n=(0,r.Xq)();return(0,r.FX)(n,"".concat(n.scheme,"://").concat(i))?(0,r.T1)(e,t.portalHostname,i):(0,r.T1)(e,i,t.portalHostname)}function y(e){if(!e)return e||null;let t=e;return t&&n.id&&!n.id.findCredential(t)&&(t=(0,o.qG)(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function g(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&n.id&&!n.id.findCredential(t)&&(t=(0,o.qG)(t)),t}var v;!function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"}(v||(v={}));const _=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return v},ensureMainOnlineDomain:f,fromCDNUrl:g,fromJSON:s,itemIdFromResourceUrl:h,prefixAndFilenameFromResourceUrl:p,read:l,toCDNUrl:y,toJSON:a,write:c},Symbol.toStringTag,{value:"Module"}))},79535:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(35143),r=i(30726),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842));const a=e=>{let t=class extends e{constructor(){super(...arguments),this.goToOverride=null,this.view=null}callGoTo(e){const{view:t}=this;return(0,r.Lw)(t),this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}};return(0,n._)([(0,o.MZ)()],t.prototype,"goToOverride",void 0),(0,n._)([(0,o.MZ)()],t.prototype,"view",void 0),t=(0,n._)([(0,s.$)("esri.widgets.support.GoTo")],t),t}},80483:(e,t,i)=>{i.d(t,{$:()=>n,u:()=>r});const n="20250407",r="04d2b42da93678ca718b23aaf7e216985f10fa8e"},80669:(e,t,i)=>{i.d(t,{r:()=>a,v:()=>l});var n=i(33019),r=i(34870),o=i(5501),s=i(91441);const a={types:{key:"type",base:o.A,typeMap:{style:s.A}},json:{write:!0}},l={types:{key:"type",base:n.A,typeMap:{style:r.A}},json:{write:!0}}},80895:(e,t,i)=>{i.d(t,{g:()=>b});var n=i(50076),r=(i(81806),i(76460)),o=i(30726),s=i(50346),a=i(75540),l=i(61678),c=i(93345),u=i(89179),d=i(96673);function h(e){(null!=e.width&&e.width<0||null!=e.height&&e.height<0||null!=e.depth&&e.depth<0)&&r.A.getLogger("esri/views/webgl/textureUtils").error("Negative dimension parameters are not allowed!")}function p(e){return e in c.CQ}function f(e){return null!=e&&"type"in e&&"compressed"===e.type}function m(e){return null!=e&&!f(e)&&!function(e){return null!=e&&"byteLength"in e}(e)}function y(e){return e===c.Ap.TEXTURE_3D||e===c.Ap.TEXTURE_2D_ARRAY}function g(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=Math.max(t,i);return e===c.Ap.TEXTURE_3D&&(r=Math.max(r,n)),Math.floor(Math.log2(r))+1}function v(e){if(null!=e.internalFormat)return e.internalFormat===c.Ab.DEPTH_STENCIL?c.Ab.DEPTH24_STENCIL8:e.internalFormat;switch(e.dataType){case c.ld.FLOAT:switch(e.pixelFormat){case c.Ab.RGBA:return c.H0.RGBA32F;case c.Ab.RGB:return c.H0.RGB32F;default:throw new n.A("Unable to derive format")}case c.ld.UNSIGNED_BYTE:switch(e.pixelFormat){case c.Ab.RGBA:return c.H0.RGBA8;case c.Ab.RGB:return c.H0.RGB8}}return e.internalFormat=e.pixelFormat===c.Ab.DEPTH_STENCIL?c.Ab.DEPTH24_STENCIL8:e.pixelFormat}var _=i(97215);const w=()=>r.A.getLogger("esri/views/webgl/Texture");let b=class e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.type=u.p.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,this._compressionAbortController=(0,a.v)(null),"context"in e)this._descriptor=e,i=t;else{const i=_.z.validate(e,t);if(!i)throw new n.A("Texture descriptor invalid");this._descriptor=i}this._descriptor.target===c.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(i):this.setData(i)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return(0,d.e)(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}get isCompressing(){return null!==this._compressionAbortController.value}dispose(){this.abortCompression(),this._glName&&this._descriptor.context.instanceCounter.decrement(c.vt.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(e,t){const i=this._descriptor;if(i.width!==e||i.height!==t){if(this._wasImmutablyAllocated)throw new n.A("Immutable textures can't be resized!");i.width=e,i.height=t,this._descriptor.target===c.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(e){this._descriptor.shouldCompress=e}setData(e){this.abortCompression(),!f(e)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in c.CQ&&(this._descriptor.internalFormat=void 0),this._setData(e),!f(e)&&this._descriptor.shouldCompress&&this._compressOnWorker(e)}updateData(t,i,r,o,s,a){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;a||w().error("An attempt to use uninitialized data!"),this._glName||w().error("An attempt to update uninitialized texture!");const c=this._descriptor;c.internalFormat=v(c);const{context:u,pixelFormat:d,dataType:h,target:p,isImmutable:y}=c;if(y&&!this._wasImmutablyAllocated)throw new n.A("Cannot update immutable texture before allocation!");const g=u.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||r<0||i+o>c.width||r+s>c.height)&&w().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:_}=u;l&&(o&&s||w().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),_.pixelStorei(_.UNPACK_SKIP_ROWS,l)),m(a)?_.texSubImage2D(p,t,i,r,o,s,d,h,a):f(a)?_.compressedTexSubImage2D(p,t,i,r,o,s,c.internalFormat,a.levels[t]):_.texSubImage2D(p,t,i,r,o,s,d,h,a),l&&_.pixelStorei(_.UNPACK_SKIP_ROWS,0),u.bindTexture(g,e.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,i,r,o,s,a,l,c){c||w().error("An attempt to use uninitialized data!"),this._glName||w().error("An attempt to update an uninitialized texture!");const u=this._descriptor;u.internalFormat=v(u);const{context:d,pixelFormat:h,dataType:p,isImmutable:m,target:g}=u;if(m&&!this._wasImmutablyAllocated)throw new n.A("Cannot update immutable texture before allocation!");y(g)||w().warn("Attempting to set 3D texture data on a non-3D texture");const _=d.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);d.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),(i<0||r<0||o<0||i+s>u.width||r+a>u.height||o+l>u.depth)&&w().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:b}=d;if(f(c))c=c.levels[t],b.compressedTexSubImage3D(g,t,i,r,o,s,a,l,u.internalFormat,c);else{const e=c;b.texSubImage3D(g,t,i,r,o,s,a,l,h,p,e)}d.bindTexture(_,e.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;if(0===t.width||0===t.height)return;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new n.A("Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,h(t)}t.samplingMode===c.Cj.LINEAR?(this._samplingModeDirty=!0,t.samplingMode=c.Cj.LINEAR_MIPMAP_NEAREST):t.samplingMode===c.Cj.NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=c.Cj.NEAREST_MIPMAP_NEAREST);const i=this._descriptor.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(i,e.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new n.A("Cannot delete mipmaps to immutable texture after allocation");e.hasMipmap=!1,this._samplingModeDirty=!0,h(e)}e.samplingMode===c.Cj.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,e.samplingMode=c.Cj.LINEAR):e.samplingMode===c.Cj.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,e.samplingMode=c.Cj.NEAREST)}setSamplingMode(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}setWrapMode(e){e!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=e,h(this._descriptor),this._wrapModeDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1)}abortCompression(){this.isCompressing&&(this._compressionAbortController.value=(0,o.DC)(this._compressionAbortController.value))}_setData(t,i){var r;const o=this._descriptor,s=null===(r=o.context)||void 0===r?void 0:r.gl;if(!s)return;(0,l.Y2)(s),this._glName||(this._glName=s.createTexture(),this._glName&&o.context.instanceCounter.increment(c.vt.Texture,this)),h(o);const a=o.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);o.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),(0,l.Y2)(s);const u=null!==i&&void 0!==i?i:o.target,d=y(u);if(m(t))this._setDataFromTexImageSource(t,u);else{const{width:e,height:i,depth:r}=o;if(null==e||null==i)throw new n.A("Width and height must be specified!");if(d&&null==r)throw new n.A("Depth must be specified!");if(o.internalFormat=v(o),o.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(u,o.internalFormat,o.hasMipmap,e,i,r),f(t)){if(!p(o.internalFormat))throw new n.A("Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(t,o.internalFormat,u)}else this._texImage(u,0,o.internalFormat,e,i,r,t),(0,l.Y2)(s),o.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),(0,l.Y2)(s),o.context.bindTexture(a,e.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;for(let t=c.Ap.TEXTURE_CUBE_MAP_POSITIVE_X;t<=c.Ap.TEXTURE_CUBE_MAP_NEGATIVE_Z;t++)this._setData(e,t)}_configurePixelStorage(){const e=this._descriptor.context.gl,{unpackAlignment:t,flipped:i,preMultiplyAlpha:n}=this._descriptor;e.pixelStorei(e.UNPACK_ALIGNMENT,t),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i?1:0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n?1:0)}_setDataFromTexImageSource(e,t){const{gl:i}=this._descriptor.context,n=this._descriptor;n.internalFormat=v(n);const r=y(t),{width:o,height:s,depth:a}=function(e){let t="width"in e?e.width:e.codedWidth,i="height"in e?e.height:e.codedHeight;return e instanceof HTMLVideoElement&&(t=e.videoWidth,i=e.videoHeight),{width:t,height:i,depth:1}}(e);n.width&&n.height,n.width||(n.width=o),n.height||(n.height=s),r&&n.depth,r&&(n.depth=a),n.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(t,n.internalFormat,n.hasMipmap,o,s,a),this._texImage(t,0,n.internalFormat,o,s,a,e),(0,l.Y2)(i),n.hasMipmap&&(this.generateMipmap(),(0,l.Y2)(i))}_setDataFromCompressedSource(e,t,i){const n=this._descriptor,{width:r,height:o,depth:s}=n,a=e.levels,l=g(i,r,o,s),c=Math.min(l,a.length)-1;this._descriptor.context.gl.texParameteri(n.target,n.context.gl.TEXTURE_MAX_LEVEL,c),this._forEachMipmapLevel(((e,n,r,o)=>{const s=a[Math.min(e,a.length-1)];this._compressedTexImage(i,e,t,n,r,o,s)}),c)}_texStorage(e,t,i,r,o,s){const{gl:a}=this._descriptor.context;if(!function(e){return e in c.H0}(t))throw new n.A("Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const l=i?g(e,r,o,s):1;if(y(e)){if(null==s)throw new n.A("Missing depth dimension for 3D texture upload");a.texStorage3D(e,l,t,r,o,s)}else a.texStorage2D(e,l,t,r,o);this._wasImmutablyAllocated=!0}_texImage(e,t,i,r,o,s,a){const l=this._descriptor.context.gl,c=y(e),{isImmutable:u,pixelFormat:d,dataType:h}=this._descriptor;if(u){if(null!=a){const i=a;if(c){if(null==s)throw new n.A("Missing depth dimension for 3D texture upload");l.texSubImage3D(e,t,0,0,0,r,o,s,d,h,i)}else l.texSubImage2D(e,t,0,0,r,o,d,h,i)}}else{const u=a;if(c){if(null==s)throw new n.A("Missing depth dimension for 3D texture upload");l.texImage3D(e,t,i,r,o,s,0,d,h,u)}else l.texImage2D(e,t,i,r,o,0,d,h,u)}}_compressedTexImage(e,t,i,r,o,s,a){const l=this._descriptor.context.gl,c=y(e);if(this._descriptor.isImmutable){if(null!=a)if(c){if(null==s)throw new n.A("Missing depth dimension for 3D texture upload");l.compressedTexSubImage3D(e,t,0,0,0,r,o,s,i,a)}else l.compressedTexSubImage2D(e,t,0,0,r,o,i,a)}else if(c){if(null==s)throw new n.A("Missing depth dimension for 3D texture upload");l.compressedTexImage3D(e,t,i,r,o,s,0,a)}else l.compressedTexImage2D(e,t,i,r,o,0,a)}async _compressOnWorker(t){var i,n;if(!e.compressionWorkerHandle||!e.compressionWorkerHandle.isCompressible(t))return;const r=null===(i=this._descriptor.context)||void 0===i?void 0:i.gl.getExtension("WEBGL_compressed_texture_etc"),o=null===(n=this._descriptor.context)||void 0===n?void 0:n.gl.getExtension("WEBGL_compressed_texture_s3tc");if(r||o){const i=new AbortController;this._compressionAbortController.value=i;const n={data:await createImageBitmap(t),flipped:this.descriptor.flipped,width:t.width,height:t.height,hasMipmap:this._descriptor.hasMipmap,hasETC:!!r,hasS3TC:!!o};e.compressionWorkerHandle.invoke(n,this._compressionAbortController.value.signal).then((e=>{e&&this.isCompressing&&this.glName&&(this._descriptor.internalFormat=e.internalFormat,this._setData(e.compressedTexture)),i===this._compressionAbortController.value&&(this._compressionAbortController.value=null)})).catch((e=>{(0,s.zf)(e)||i!==this._compressionAbortController.value||(this._compressionAbortController.value=null)}))}}_forEachMipmapLevel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,{width:i,height:r,depth:o,hasMipmap:s,target:a}=this._descriptor;const l=a===c.Ap.TEXTURE_3D;if(null==i||null==r||l&&null==o)throw new n.A("Missing texture dimensions for mipmap calculation");for(let n=0;e(n,i,r,o),s&&(1!==i||1!==r||l&&1!==o)&&!(n>=t);++n)i=Math.max(1,i>>1),r=Math.max(1,r>>1),l&&(o=Math.max(1,o>>1))}_applySamplingMode(){var e;const t=this._descriptor,i=null===(e=t.context)||void 0===e?void 0:e.gl;let n=t.samplingMode,r=t.samplingMode;n===c.Cj.LINEAR_MIPMAP_NEAREST||n===c.Cj.LINEAR_MIPMAP_LINEAR?(n=c.Cj.LINEAR,t.hasMipmap||(r=c.Cj.LINEAR)):n!==c.Cj.NEAREST_MIPMAP_NEAREST&&n!==c.Cj.NEAREST_MIPMAP_LINEAR||(n=c.Cj.NEAREST,t.hasMipmap||(r=c.Cj.NEAREST)),i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,n),i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,r)}_applyWrapMode(){var e;const t=this._descriptor,i=null===(e=t.context)||void 0===e?void 0:e.gl;"number"==typeof t.wrapMode?(i.texParameteri(t.target,i.TEXTURE_WRAP_S,t.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,t.wrapMode)):(i.texParameteri(t.target,i.TEXTURE_WRAP_S,t.wrapMode.s),i.texParameteri(t.target,i.TEXTURE_WRAP_T,t.wrapMode.t))}_applyAnisotropicFilteringParameters(){var e;const t=this._descriptor,i=t.context.capabilities.textureFilterAnisotropic;i&&t.context.gl.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY,null!==(e=t.maxAnisotropy)&&void 0!==e?e:1)}};b.TEXTURE_UNIT_FOR_UPDATES=0,b.compressionWorkerHandle=null},80963:(e,t,i)=>{i.d(t,{B3:()=>y,EA:()=>m,K8:()=>w,KK:()=>C,KQ:()=>T,Mc:()=>l,Vp:()=>p,YX:()=>f,ZL:()=>S,aI:()=>h,ch:()=>P,d9:()=>E,fn:()=>x,jp:()=>v,oT:()=>g,q8:()=>M,r1:()=>b,tQ:()=>O,tl:()=>A,x1:()=>_});var n=i(88685),r=(i(7724),i(34038)),o=i(85996);const s=[102100,102113,3857,3785,900913],a=[4326,...s,104905,104971],l=[-20037508.342788905,20037508.342788905],c=[-20037508.342787,20037508.342787],u={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:l,origin:c,dx:1e-5},d={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:l,origin:c,dx:1e-5},102100:u,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:l,origin:c,dx:1e-5},3857:u,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:u};function h(e,t){if(e===t)return!0;if(null==e||null==t)return!1;const i=e.wkid,n=t.wkid;if(null!=i||null!=n){if(i===n)return!0;if(w(e)&&w(t))return!0;const r=e.latestWkid;if(null!=r&&n===r)return!0;const o=t.latestWkid;return null!=o&&i===o}let r,o;return e.wkt2&&t.wkt2?(r=e.wkt2,o=t.wkt2):e.wkt&&t.wkt&&(r=e.wkt,o=t.wkt),!(!r||!o)&&r.toUpperCase()===o.toUpperCase()}function p(e){const t=null===e||void 0===e?void 0:e.wkid;return null!=t&&t>=2e3&&d[t]||null}function f(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const n=e.wkt||e.wkt2;return JSON.stringify(n?i?{wkt:n,vcsWkid:i}:{wkt:n}:{})}function m(e){if(!x(e))return!1;const{wkid:t}=e;if(t)return null==o.A[t];const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function y(e){return!(M(e)||T(e))}function g(e){return 4326===(null===e||void 0===e?void 0:e.wkid)}function v(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function _(e){return(null===e||void 0===e?void 0:e.wkid)===r.Y.CGCS2000}function w(e){const t=null===e||void 0===e?void 0:e.wkid;return null!=t&&t>=2e3&&s.includes(t)}function b(e){return 32662===(null===e||void 0===e?void 0:e.wkid)}function A(e){return e===r.Y.GCSMARS2000||e===r.Y.GCSMARS2000_SPHERE}function M(e){return A(null===e||void 0===e?void 0:e.wkid)}function S(e){return e===r.Y.GCSMOON2000}function T(e){return S(null===e||void 0===e?void 0:e.wkid)}function E(e){const t=null===e||void 0===e?void 0:e.wkid;return null!=t&&t>=2e3&&a.includes(t)}function x(e){if(null==e)return!1;const t=e.wkid;return null!=t&&t>=2e3||null!=e.wkt2||null!=e.wkt}const C={wkid:4326,wkt:(0,n.HC)(d[4326].wkTemplate,{Central_Meridian:"0.0"})},P={wkid:102100,latestWkid:3857},O={wkid:32662}},80979:(e,t,i)=>{i.d(t,{K:()=>n});const n=["operational-layers","basemap","ground"]},81645:(e,t,i)=>{i.d(t,{A:()=>ha});var n=i(35143),r=i(46053),o=i(81806),s=i(76460),a=(i(47249),i(85842)),l=i(89379),c=i(16036),u=i(94643),d=i(73763),h=i(50076),p=i(30726),f=i(68134),m=i(16783),y=i(21403),g=i(40565),v=i(65215),_=i(9624),w=i(88235),b=i(11373);const A={widthBreakpoint:{getValue(e){const t=e.viewSize[0],i=e.breakpoints,n=this.values;return t<=i.xsmall?n.xsmall:t<=i.small?n.small:t<=i.medium?n.medium:t<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],i=e.breakpoints,n=this.values;return t<=i.xsmall?n.xsmall:t<=i.small?n.small:t<=i.medium?n.medium:t<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,i=t[0],n=t[1],r=this.values;return n>=i?r.portrait:r.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},M={xsmall:544,small:768,medium:992,large:1200};function S(e,t){return t?A[e].valueToClassName[t].split(" "):[]}const T=e=>{let t=class extends e{constructor(){super(...arguments),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=M}initialize(){this.addHandles((0,f.wB)((()=>[this.breakpoints,this.size]),(()=>this._updateClassNames()),f.Vh))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(e){if(e!==this._get("breakpoints")){if(!function(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}(e)){const t=JSON.stringify(M,null,2);console.warn("provided breakpoints are not valid, using defaults:"+t),e=M}this._set("breakpoints",(0,l.A)({},e))}}_updateClassNames(){if(!this.container)return;const e=b.A.acquire(),t=b.A.acquire();let i,n=!1;for(i in A){const r=this[i],o=A[i].getValue({viewSize:this.size,breakpoints:this.breakpoints});r!==o&&(n=!0,this[i]=o,S(i,r).forEach((e=>t.push(e))),S(i,o).forEach((t=>e.push(t))))}n&&(this._applyClassNameChanges(e,t),b.A.release(e),b.A.release(t))}_applyClassNameChanges(e,t){const i=this.container;i&&(t.forEach((e=>i.classList.remove(e))),e.forEach((e=>i.classList.add(e))))}_removeActiveClassNames(){const e=this.container;if(!e)return;let t;for(t in A)S(t,this[t]).forEach((t=>e.classList.remove(t)))}};return(0,n._)([(0,r.MZ)()],t.prototype,"breakpoints",null),(0,n._)([(0,r.MZ)()],t.prototype,"orientation",void 0),(0,n._)([(0,r.MZ)()],t.prototype,"widthBreakpoint",void 0),(0,n._)([(0,r.MZ)()],t.prototype,"heightBreakpoint",void 0),t=(0,n._)([(0,a.$)("esri.views.BreakpointsOwner")],t),t};var E=i(30113),x=i(79053),C=i(54901),P=i(52394),O=i(91967),I=i(19451),R=(i(27347),i(48396));let N=class extends O.A{constructor(){super(...arguments),this.items=new u.A,this._watchUpdatingTracking=new I.U,this._callbacks=new Map,this._projector=(0,R.F)(),this._hiddenProjector=(0,R.F)()}get needsRender(){return this.items.length>0}get updating(){var e,t;return null!==(e=null===(t=this._watchUpdatingTracking)||void 0===t?void 0:t.updating)&&void 0!==e&&e}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange((()=>this.items),(e=>{for(const t of e.added){const e=()=>t.render();this._callbacks.set(t,e),this._projector.append(this.surface,e)}for(const t of e.removed){const e=this._projector.detach(this._callbacks.get(t));this.surface.removeChild(e.domNode),this._callbacks.delete(t)}}))}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach((e=>this._projector.detach(e))),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){var t;const i=this._hiddenSurface,n=this._hiddenProjector;let r;const o=()=>(r=e.render(),r);n.append(i,o),n.renderNow();const s={left:0,top:0,right:0,bottom:0};if(null!==(t=r)&&void 0!==t&&t.domNode){const e=r.domNode.getBoundingClientRect();s.left=e.left,s.top=e.top,s.right=e.right,s.bottom=e.bottom}for(n.detach(o);i.firstChild;)i.removeChild(i.firstChild);return s}overlaps(e,t){const i=this.computeBoundingRect(e),n=this.computeBoundingRect(t);return Math.max(i.left,n.left)<=Math.min(i.right,n.right)&&Math.max(i.top,n.top)<=Math.min(i.bottom,n.bottom)}get hasVisibleItems(){return this.items.some((e=>e.visible))}async prepare(){await document.fonts.load(this._fontString()).catch((()=>{}))}renderCanvas(e,t){const i=!(null===t||void 0===t||!t.disableDecorations);if(!this.items.some((e=>e.visible&&!(i&&e.isDecoration))))return;const n=e.getContext("2d");n.save(),n.font=this._fontString(),this.items.forEach((e=>{i&&e.isDecoration||(n.save(),e.renderCanvas(n),n.restore())})),n.restore()}_fontString(){return"10px ".concat(getComputedStyle(this.surface).fontFamily)}};(0,n._)([(0,r.MZ)({readOnly:!0})],N.prototype,"surface",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],N.prototype,"items",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],N.prototype,"needsRender",null),(0,n._)([(0,r.MZ)({readOnly:!0})],N.prototype,"_watchUpdatingTracking",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],N.prototype,"updating",null),N=(0,n._)([(0,a.$)("esri.views.overlay.ViewOverlay")],N);const k=N,L=[0,0];function D(e){var t,i;const n=(e.ownerDocument||window.document).defaultView,r=e.getBoundingClientRect();return L[0]=r.left+(null!==(t=null===n||void 0===n?void 0:n.pageXOffset)&&void 0!==t?t:0),L[1]=r.top+(null!==(i=null===n||void 0===n?void 0:n.pageYOffset)&&void 0!==i?i:0),L}function Z(e){e&&(e.textContent="",e.parentNode&&e.parentNode.removeChild(e))}const F=16,U=750,j=e=>{let t=class extends e{constructor(){super(...arguments),this._freqInfo={freq:F,time:U},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([(0,f.wB)((()=>this.cursor),(e=>{const{surface:t}=this;t&&t.setAttribute("data-cursor",e)})),(0,f.wB)((()=>this.navigating),(e=>{const{surface:t}=this;t&&t.setAttribute("data-navigating",e.toString())}))])}initialize(){this.addHandles([(0,f.wB)((()=>this.ui),((e,t)=>this._handleUIChange(e,t)),f.Vh),this.on("focus",(()=>this.notifyChange("focused"))),this.on("blur",(()=>this.notifyChange("focused")))])}destroy(){var e;this.destroyed||(null!==(e=this.ui)&&void 0!==e&&e.destroy(),this.container=null)}get container(){var e;return null!==(e=this._get("container"))&&void 0!==e?e:null}set container(e){const t=this._get("container"),i=(0,E.$)(e);if(i||"string"!=typeof e||s.A.getLogger(this).error("#container","element with id '".concat(e,"' not found")),t===i)return;if(this._stopMeasuring(),t&&(t.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(Z(this.root),this._set("root",null)),this.userContent&&((0,E.y)(this.userContent,t),Z(this.userContent),this._set("userContent",null))),!i)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);i.classList.add("esri-view");const n=document.createElement("div");n.className="esri-view-user-storage",(0,E.y)(i,n),i.appendChild(n),this._set("userContent",n);const r=document.createElement("div");r.className="esri-view-root",i.insertBefore(r,i.firstChild),this._set("root",r);const o=document.createElement("div");o.className="esri-view-surface",o.setAttribute("role","application"),o.tabIndex=0,r.appendChild(o),this._set("surface",o);const a=new k;r.appendChild(a.surface),this._set("overlay",a),this.addHandles((0,f.wB)((()=>a.needsRender),(e=>{e&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=(0,P.mg)({render:()=>{var e;return null===(e=this.overlay)||void 0===e?void 0:e.render()}}):this._overlayRenderTaskHandle=(0,p.xt)(this._overlayRenderTaskHandle)}))),this.forceDOMReadyCycle(),this._set("container",i),this._startMeasuring()}get focused(){const e=document.activeElement===this.surface;return document.hasFocus()&&e}get size(){return[this.width,this.height]}blur(){var e;null===(e=this.surface)||void 0===e||e.blur()}focus(){var e;null===(e=this.surface)||void 0===e||e.focus()}pageToContainer(e,t,i){const n=this.position;return e-=n?n[0]:0,t-=n?n[1]:0,i?(i[0]=e,i[1]=t):i=[e,t],i}containerToPage(e,t,i){const n=this.position;return e+=n?n[0]:0,t+=n?n[1]:0,i?(i[0]=e,i[1]=t):i=[e,t],i}_handleUIChange(e,t){this.removeHandles("ui"),t&&t!==e&&t.destroy(),e&&(e.view=this,this.addHandles((0,f.wB)((()=>this.root),(t=>{e.container=t?function(e){const t=document.createElement("div");return e.appendChild(t),t}(t):null}),f.Vh),"ui")),this._set("ui",e)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const e=this._freqInfo;e.freq=F,e.time=U;const t=(0,P.mg)({prepare:e=>{const i=this._measure(),n=this._freqInfo;if(n.time+=e.deltaTime,i&&(n.freq=F,this._get("resizing")||this._set("resizing",!0)),n.time<n.freq)return;n.time=0;const r=this._position();n.freq=r||i?F:Math.min(U,2*n.freq),!i&&n.freq>=512&&(t.pause(),this._get("resizing")&&this._set("resizing",!1))}}),i=new ResizeObserver((i=>{e.freq=F,e.time=U,t.resume()}));null!=this.container&&i.observe(this.container);const n=(0,C.hA)((()=>i.disconnect()));this.addHandles([(0,x.on)(window,"resize",(()=>{e.freq=F,e.time=U,t.resume()})),n,t],"measuring"),this._measure(),this._position()}_measure(){const e=this.container,t=e?e.clientWidth:0,i=e?e.clientHeight:0;if(0===t||0===i)return this.suspended||this._set("suspended",!0),!1;const n=this.width,r=this.height;return t===n&&i===r?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",t),this._set("height",i),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:n,oldHeight:r,width:t,height:i}),!0)}_position(){const e=this.container,t=this.position,i=e&&D(e);return!!i&&(!t||i[0]!==t[0]||i[1]!==t[1])&&(this._set("position",[i[0],i[1]]),!0)}forceDOMReadyCycle(){}};return(0,n._)([(0,r.MZ)()],t.prototype,"container",null),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"focused",null),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"height",void 0),(0,n._)([(0,r.MZ)()],t.prototype,"messagesCommon",void 0),(0,n._)([(0,r.MZ)({type:k})],t.prototype,"overlay",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"position",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"resizing",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"root",void 0),(0,n._)([(0,r.MZ)({value:null,readOnly:!0})],t.prototype,"size",null),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"surface",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"suspended",void 0),(0,n._)([(0,r.MZ)({nonNullable:!0})],t.prototype,"ui",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"userContent",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"width",void 0),(0,n._)([(0,r.MZ)()],t.prototype,"widthBreakpoint",void 0),t=(0,n._)([(0,a.$)("esri.views.DOMContainer")],t),t};var G=i(98773),z=i(50346),V=i(57308);function B(e){return null!=e&&"open"in e&&"declaredClass"in e}function H(e){return null!=e&&"declaredClass"in e&&"dockOptions"in e}const q=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([(0,f.wB)((()=>[this.ui,this.popup]),((e,t)=>{let[i,n]=e;const r="popup";if(t){const[e,i]=t;e&&B(i)&&(i.view=null,H(i)&&e.remove(i,r))}i&&B(n)&&(n.view=this,H(n)&&i.add(n,{key:r,position:"manual",internal:!0}))}),f.Vh),this.on("click",(e=>{this.popup&&this.popupEnabled&&("mouse"!==e.pointerType||0===e.button)&&(B(this.popup)?this.popup.viewModel.handleViewClick(e):e.async((async()=>{await this.setupPopup(),B(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(e)})))}),V.o.WIDGET)]),(0,f.C_)((()=>this.ready&&this.popupEnabled&&!this.updating)).then((()=>{Promise.all([i.e(7375),i.e(4648),i.e(9788),i.e(5039),i.e(9176),i.e(7226),i.e(8733),i.e(5027),i.e(7899),i.e(7449),i.e(9122),i.e(2236),i.e(8451),i.e(4439),i.e(9912),i.e(992),i.e(8585)]).then(i.bind(i,7569))}))}destroy(){this.destroyed||this.closePopup()}async openPopup(e){if(B(this.popup))return this.popup.open(e);try{if(await this.setupPopup(),!this.popup)return void s.A.getLogger(this).error(new h.A("view:null-popup","Popup is null and can't be opened"));this.popup.open(e)}catch(t){}}closePopup(){var e;null!==(e=this._popupSetupTask)&&void 0!==e&&e.abort(),B(this.popup)&&this.popup.close()}async fetchPopupFeatures(e,t){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(e,t),t)}async setupPopup(){var e;if(null!==(e=this._popupSetupTask)&&void 0!==e&&e.abort(),this.popup&&!B(this.popup))return this._popupSetupTask=(0,G.UT)((async e=>{const{default:t}=await Promise.all([i.e(7375),i.e(4648),i.e(9788),i.e(5039),i.e(9176),i.e(7226),i.e(8733),i.e(5027),i.e(7899),i.e(7449),i.e(9122),i.e(2236),i.e(8451),i.e(4439),i.e(9912),i.e(992),i.e(8585)]).then(i.bind(i,7569));if((0,z.Te)(e),!this.popup||B(this.popup))return;const n=this.popup;delete n.open,delete n.close,this.popup=new t(n)})),this._popupSetupTask.promise}async _popupHitsToFeatures(e,t){var i;let{location:n,hits:r}=e;const s=[],a=[];let l=!1;const c=(0,z.YL)(t,null!==(i=(0,o.A)("popup-view-fetch-timeout"))&&void 0!==i?i:$),u=e=>{const t=a.at(-1);return t&&t.layerView===e&&!l?t:(e=>{const t=new W(e);return a.push(t),s.push(t.promise),t})(e)};for(const o of r)"graphic"in o?(u(o.layerView).graphics.push(o.graphic),l=!1):(s.push(o.layerView.fetchPopupFeaturesAtLocation(o.mapPoint,c)),l=!0);a.map((e=>e.resolve(c)));const d=(0,z.nA)(s).then((e=>e.filter((e=>!!e)).flat()));return{pendingFeatures:s,allGraphicsPromise:d,location:n}}async _getPopupHits(e,t){const{hits:i,location:n}=await this.popupHitTest(e);(0,z.Te)(t);const r=[];for(const o of i)if("graphic"in o){if(this._isValidPopupGraphic(o.graphic,t)){const e=this._isValidPopupGraphicsLayerView(o.layerView)?o.layerView:void 0;r.push({graphic:o.graphic,layerView:e})}}else this._isValidPopupLocationLayerView(o.layerView)&&r.push({mapPoint:o.mapPoint,layerView:o.layerView});return{hits:r,location:n}}_isValidPopupGraphic(e,t){return e&&!!e.getEffectivePopupTemplate(null===t||void 0===t?void 0:t.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(e){return!e||(!("layer"in e)||!e.suspended)&&"fetchPopupFeaturesFromGraphics"in e}_isValidPopupLocationLayerView(e){return(!("layer"in e)||!e.suspended)&&"fetchPopupFeaturesAtLocation"in e}};return(0,n._)([(0,r.MZ)()],t.prototype,"popup",void 0),(0,n._)([(0,r.MZ)()],t.prototype,"popupEnabled",void 0),t=(0,n._)([(0,a.$)("esri.views.PopupView")],t),t};class W{constructor(e){this.layerView=e,this._resolver=(0,z.Tw)(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(e){const{layerView:t,graphics:i,_resolver:n}=this;if(!t)return n.resolve(i),n.promise;let r;return t.fetchPopupFeaturesFromGraphics(i,e).catch((e=>(r=e,null))).then((e=>{e?n.resolve(e):n.reject(r)})),n.promise}}const $=5e3;var J=i(32809),K=i(3975),Y=i(54099),X=i(88321),Q=i(49304),ee=i(91291),te=i(5364),ie=i(76797),ne=i(91605),re=i(13312),oe=i(80963);let se=class extends te.X{constructor(e){super(e),this.addHandles(this.on("before-add",(e=>{null!=e.item&&e.item.parent===this.owner&&(s.A.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),e.preventDefault())})))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};se=(0,n._)([(0,a.$)("esri.support.AnalysesCollection")],se);var ae=i(64519),le=i(36693),ce=i(59187),ue=i(67478);let de=class extends O.A{constructor(e){super(e),this.view=null,this.baseLayerViews=new u.A,this.referenceLayerViews=new u.A,this._loadingHandle=(0,f.wB)((()=>{var e;return null===(e=this.view)||void 0===e||null===(e=e.map)||void 0===e?void 0:e.basemap}),(e=>{e&&e.load().catch((()=>{}))}),f.Vh)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const e of this.baseLayerViews)e.destroy();this.baseLayerViews.length=0;for(const e of this.referenceLayerViews)e.destroy();this.referenceLayerViews.length=0}get suspended(){var e,t;return null===(e=null===(t=this.view)||void 0===t?void 0:t.suspended)||void 0===e||e}get updating(){var e,t;if(null!==(e=this.view)&&void 0!==e&&e.suspended)return!1;const i=null===(t=this.view)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.basemap;return!(null===i||void 0===i||!i.loaded)&&(this.baseLayerViews.some((e=>e.updating))||this.referenceLayerViews.some((e=>e.updating)))}};(0,n._)([(0,r.MZ)({constructOnly:!0})],de.prototype,"view",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],de.prototype,"baseLayerViews",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],de.prototype,"referenceLayerViews",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],de.prototype,"suspended",null),(0,n._)([(0,r.MZ)({type:Boolean,readOnly:!0})],de.prototype,"updating",null),de=(0,n._)([(0,a.$)("esri.views.BasemapView")],de);const he=de;var pe=i(87663),fe=i(17879),me=i(25515),ye=i(10425);function ge(e){return null!=e&&"object"==typeof e&&"layerViews"in e}class ve{constructor(e,t,i){this.layer=e,this.view=t,this.layerViewImporter=i,this._controller=new AbortController,this._deferred=(0,z.Tw)(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,(0,z.u7)(this._controller.signal,(()=>{const t=new h.A("cancelled:layerview-create","layerview creation cancelled",{layer:e});this._deferred.reject(t)}))}tryRecycle(e){if(!this.done||!this.layerView||!function(e){return"tryRecycleWith"in e}(this.layerView))return null;const t=this.layer.type,i=this._controller.signal;for(let n=0;n<e.length;n++){const r=e[n];if(r.type!==t)continue;const o=this.layerView.tryRecycleWith(r,{signal:i});if(o){e.splice(n,1),this.layer=r;const t=this.layerView,i=t.view;return this.promise=Promise.race([o.then((()=>((0,z.Te)(this._controller.signal),r.emit("layerview-destroy",{view:i,layerView:t}),i.emit("layerview-destroy",{view:i,layerView:t}),r.emit("layerview-create",{view:i,layerView:t}),i.emit("layerview-create",{view:i,layerView:t}),t))),new Promise(((e,t)=>(0,z.u7)(this._controller.signal,(()=>t((0,z.NK)())))))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:t,view:i}=this;t.emit("layerview-destroy",{view:i,layerView:e}),i.emit("layerview-destroy",{layer:t,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){if(this._started)return;this._started=!0;const{_controller:{signal:e},layer:t,view:i}=this;this._map=i.map;try{var n;let r,o;if(await t.load({signal:e}),t.prefetchResources&&await t.prefetchResources({signal:e}),function(e){return e.createLayerView!==me.A.prototype.createLayerView}(t))r=await t.createLayerView(i,{signal:e});else{if(!this.layerViewImporter.hasLayerViewModule(t))throw new h.A("layer:view-not-supported","No layerview implementation was found");const n=await this.layerViewImporter.importLayerView(t);(0,z.Te)(e),r="default"in n?new n.default({layer:t,view:i}):new n({layer:t,view:i})}const s=()=>{o=(0,p.xt)(o),r.destroyed||r.destroy(),r.layer=null,r.parent=null,r.view=null,this.done=!0};o=(0,z.u7)(e,s),(0,z.Te)(e);try{await r.when()}catch(He){throw s(),He}if(!(null===(n=this._map)||void 0===n||null===(n=n.allLayers)||void 0===n?void 0:n.includes(t)))return s(),void this._deferred.reject(new h.A("view:no-layerview-for-layer","The layer has been removed from the map",{layer:t}));this.layerView=r,t.emit("layerview-create",{view:i,layerView:r}),i.emit("layerview-create",{layer:t,layerView:r}),this.done=!0,this._deferred.resolve(r)}catch(He){t.emit("layerview-create-error",{view:i,error:He}),i.emit("layerview-create-error",{layer:t,error:He}),this.done=!0,this._deferred.reject(new h.A("layerview:create-error","layerview creation failed",{layer:t,error:He}))}}}let _e=class extends O.A{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new I.U,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var e;const t=null===(e=this.view.map)||void 0===e?void 0:e.allLayers;if(t)for(const i of t)this.layerViewImporter.hasLayerViewModule(i)&&this.layerViewImporter.importLayerView(i)},this._reschedule=()=>this.destroyed?Promise.reject():(null==this._workPromise&&(this._workPromise=(0,z.Tw)(),this._workPromise.promise.catch((()=>{}))),this.removeHandles("reschedule"),this.addHandles((0,P._)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var e,t,i;if(this.destroyed)return;const n=this.view.map;if(this._map!==n&&(this.clear(),this._map=n),null==this._workPromise)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const r=new Set,o=[],s=this.view.ready,a=e=>{if(null!=e)for(const t of e)if(t){r.add(t);const e=this._layerLayerViewInfoMap.get(t);e&&s?e.start():e||this._recyclingInfoMap.has(t)||o.push(t),"layers"in t&&t.layers&&a(t.layers)}};for(const c of this._rootCollectionNames)a((0,fe.Jt)(this,c));for(const[c,u]of this._layerLayerViewInfoMap)if(!r.has(c)){this._layerLayerViewInfoMap.delete(u.layer);const e=u.tryRecycle(o);e?(this.notifyChange("updating"),this._recyclingInfoMap.set(u.layer,u),e.then((()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(u.layer),this._layerLayerViewInfoMap.set(u.layer,u),this._reschedule()})).catch((()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(u.layer),u.destroy(),this._reschedule()}))):u.destroy()}for(const[c,u]of this._recyclingInfoMap)r.has(c)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(u.layer),u.destroy());for(const c of o)this._createLayerView(c);this._refreshCollections();const l=[null===n||void 0===n||null===(e=n.ground)||void 0===e?void 0:e.layers,null===n||void 0===n||null===(t=n.basemap)||void 0===t?void 0:t.baseLayers,null===n||void 0===n||null===(i=n.basemap)||void 0===i?void 0:i.referenceLayers,null===n||void 0===n?void 0:n.layers].filter((e=>!!e));r.forEach((e=>"layers"in e&&l.push(e.layers))),this.addHandles(l.map((e=>this._watchUpdatingTracking.addOnCollectionChange((()=>e),this._reschedule))),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([(0,f.on)((()=>{var e;return null===(e=this.view)||void 0===e||null===(e=e.map)||void 0===e?void 0:e.allLayers}),"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,f.wB)((()=>{const e=this.view,t=null===e||void 0===e?void 0:e.map;return[null===t||void 0===t?void 0:t.basemap,null===t||void 0===t?void 0:t.ground,null===t||void 0===t?void 0:t.layers,null===e||void 0===e?void 0:e.ready]}),(()=>this._reschedule()),f.pc)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),(0,ye.X)(this._recyclingInfoMap),(0,ye.X)(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,null!=this._workPromise&&(this._workPromise.reject((0,z.NK)()),this._workPromise=null)}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||(0,pe.Bs)(this._layerLayerViewInfoMap,(e=>!e.done))||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const t of this._layerLayerViewInfoMap.values())t.done||++e;return e}clear(){this.destroyed||((0,ye.X)(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e)){if(this._recyclingInfoMap.has(e))return this._recyclingInfoMap.get(e).promise;throw new h.A("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e})}return this._layerLayerViewInfoMap.get(e).promise}isCreatingLayerViewsForLayer(e,t){var i;this.commitProperty("updatingRemaining");const n=this._layerLayerViewInfoMap.get(e);if(null===n||void 0===n||!n.done)return!0;const r=n.layerView;return!(!r||!t||r.parent===t)||!!(n.done&&r&&"layers"in e&&null!==(i=e.layers)&&void 0!==i&&i.length)&&e.layers.some((e=>this.isCreatingLayerViewsForLayer(e,r)))}_refreshCollections(){for(const[e,t]of this._layersToLayerViews)this._populateLayerViewsOwners((0,fe.Jt)(this,e),(0,fe.Jt)(this,t),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(e,t,i){if(!e||!t)return void(t&&t.removeAll());let n=0;for(const r of e){const e=this._layerLayerViewInfoMap.get(r);if(null===e||void 0===e||!e.layerView)continue;const o=e.layerView;o.layer=r,o.parent=i,t.at(n)!==o&&t.splice(n,0,o),"layers"in r&&ge(o)&&this._populateLayerViewsOwners(r.layers,o.layerViews,o),n+=1}n<t.length&&t.splice(n,t.length)}_createLayerView(e){e.load().catch((()=>{})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const t=new ve(e,this.view,this.layerViewImporter);t.promise.then((()=>this._refreshCollections()),(t=>{var i,n;t&&((0,z.zf)(t)||"cancelled:layerview-create"===t.name)||s.A.getLogger(this).error("Failed to create layerview for layer title:'".concat(null!==(i=e.title)&&void 0!==i?i:"no title","', id:'").concat(null!==(n=e.id)&&void 0!==n?n:"no id","' of type '").concat(e.type,"'."),{layer:e,error:t}),this._refreshCollections()})),this._layerLayerViewInfoMap.set(e,t),this.view.ready&&t.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,n._)([(0,r.MZ)()],_e.prototype,"_workPromise",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],_e.prototype,"_watchUpdatingTracking",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],_e.prototype,"_layersToLayerViews",null),(0,n._)([(0,r.MZ)({readOnly:!0})],_e.prototype,"_rootCollectionNames",null),(0,n._)([(0,r.MZ)()],_e.prototype,"layerViewImporter",void 0),(0,n._)([(0,r.MZ)()],_e.prototype,"supportsGround",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],_e.prototype,"updating",null),(0,n._)([(0,r.MZ)({readOnly:!0})],_e.prototype,"updatingRemaining",null),(0,n._)([(0,r.MZ)({constructOnly:!0})],_e.prototype,"view",void 0),_e=(0,n._)([(0,a.$)("esri.views.LayerViewManager")],_e);const we=_e;var be=i(76931);let Ae=class extends O.A{constructor(e){super(e),this.factor=1.5,this.offset=(0,be.tc)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,n._)([(0,r.MZ)({type:Number})],Ae.prototype,"factor",void 0),(0,n._)([(0,r.MZ)({nonNullable:!0})],Ae.prototype,"offset",void 0),(0,n._)([(0,r.MZ)()],Ae.prototype,"position",void 0),(0,n._)([(0,r.MZ)({type:Number,range:{min:0}})],Ae.prototype,"size",void 0),(0,n._)([(0,r.MZ)()],Ae.prototype,"maskUrl",void 0),(0,n._)([(0,r.MZ)()],Ae.prototype,"maskEnabled",void 0),(0,n._)([(0,r.MZ)()],Ae.prototype,"overlayUrl",void 0),(0,n._)([(0,r.MZ)()],Ae.prototype,"overlayEnabled",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Ae.prototype,"version",null),(0,n._)([(0,r.MZ)({type:Boolean})],Ae.prototype,"visible",void 0),Ae=(0,n._)([(0,a.$)("esri.views.Magnifier")],Ae);const Me=Ae;var Se=i(18690),Te=i(67993),Ee=i(41289),xe=i(31933),Ce=i(97015);function Pe(e){return!!(null!=e&&"object"==typeof e&&"createQuery"in e&&e.createQuery&&"on"in e&&e.on)}let Oe=class extends Y.A.EventedAccessor{constructor(e){super(e),this._selectionMap=new Te.A,this._sources=new u.A,this._trashCan=[],this._layerEditHandles=new u.A,this._vizTaskId=0,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([(0,f.wB)((()=>[this.view,this.showHighlight]),(()=>this._refreshVisualization())),(0,f.on)((()=>this.sources),"change",(e=>{const t=this._selectionMap;for(const i of e.removed)t.delete(i);this._refreshListeners(),this._refreshVisualization()}),{onListenerAdd:()=>this._refreshListeners()})]);const e=new u.A;this.view.when().then((()=>{this.view.map&&(this.view.map.allLayers.flatten((e=>"sublayers"in e&&e.sublayers?e.sublayers:null)).forEach((t=>{(Pe(t)&&!(0,xe.F2)(t)||(0,xe.Sv)(t))&&e.add(t)})),this.sources=e)}))}destroy(){this._layerEditHandles.drain(p.xt)}get selections(){return Array.from(this._selectionMap.entries()).map((e=>{const[t,i]=e;return{layer:t,selection:[...i.selection]}}))}get count(){let e=0;for(const t of this._selectionMap.values())e+=t.selection.length;return e}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(e){(0,K.V)(e,this._sources)}async getSelectedFeatures(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"layerView";const{view:n,selections:r}=this,o=(void 0!==e?r.filter((t=>e.includes(t.layer))):r).filter((e=>e.selection.length>0)).map((async e=>{const{layer:r,selection:o}=e,s=(0,xe.Sv)(r)?r.parent:r;if(null==s||!Re(s))return null;if("layer"===i)return ke(s,o,t);if(Ie(s))return null;const a=await n.whenLayerView(s).catch((()=>null));return a?ke(a,o,t):null}));return(await Promise.all(o)).filter((e=>null!=e))}updateSelection(e){const t=new Map;for(const[r,o]of this._selectionMap)t.set(r,[...o.selection]);let i=!1;const n=e.current.concat(e.added);for(const r of n){const e=r.sourceLayer,n=r.getObjectId();if(this.sources.includes(e)&&(Pe(e)||(0,xe.Sv)(e))&&null!==n){const r=(0,pe.tE)(t,e,(()=>[]));r.includes(n)||(r.push(n),i=!0)}}for(const r of e.removed){const e=r.sourceLayer,n=r.getObjectId();if(this.sources.includes(e)&&(Pe(e)||(0,xe.Sv)(e))&&null!==n){const r=t.get(e),o=null===r||void 0===r?void 0:r.indexOf(n);void 0!==o&&o>=0&&(null!==r&&void 0!==r&&r.splice(o,1),i=!0)}}if(i){const{_selectionMap:e,_trashCan:i}=this,n=[];for(const[r,o]of t){const t=e.get(r);void 0!==t&&i.push(t),e.set(r,{selection:o}),n.push((0,l.A)({layer:r,selection:o},(0,Se.iv)(void 0!==t?t.selection:[],o)))}this._onSelectionChange(n)}}setSelection(e,t){this._setSelection(e,t)}getSelection(e){const t=this._selectionMap.get(e);return null===t||void 0===t?void 0:t.selection}appendToSelection(e,t){const i=this._selectionMap.get(e),n=void 0!==i?[...i.selection]:[];for(const r of t)n.includes(r)||n.push(r);this._setSelection(e,n)}removeFromSelection(e,t){const i=this._selectionMap.get(e);if(!i)return;const n=[];for(const r of i.selection)t.includes(r)||n.push(r);this._setSelection(e,n)}toggleInSelection(e,t){const i=this._selectionMap.get(e);if(!i||0===i.selection.length)return void this._setSelection(e,t);const n=new Set(i.selection),r=new Set(t),o=(0,Ee.BT)(n,r);this._setSelection(e,Array.from(o))}clear(){const e=this._selectionMap.values();this._trashCan.push(...e);const t=[];for(const[i,n]of this._selectionMap.entries())t.push({layer:i,added:[],removed:[...n.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(t)}_onSelectionChange(e){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:e})}_refreshVisualization(){if(null==this.view||null==this.sources)return;for(this._vizTaskId++;this._trashCan.length>0;){var e;const t=this._trashCan.pop();null===t||void 0===t||null===(e=t.highlightHandle)||void 0===e||e.remove()}const{sources:t,view:i,_selectionMap:n,showHighlight:r}=this,o=this._vizTaskId;for(const s of t){const e=n.get(s),t=(0,xe.Sv)(s)?s.parent:s;if(null!=t&&Re(t)){if(Ie(t))continue;i.whenLayerView(t).then((t=>{var i;null!==e&&void 0!==e&&null!==(i=e.highlightHandle)&&void 0!==i&&i.remove(),null!=e&&r&&o===this._vizTaskId&&"highlight"in t&&"function"==typeof t.highlight&&e.selection.length>0&&(e.highlightHandle=t.highlight(e.selection,this.highlightName))})).catch((()=>{var t;null===e||void 0===e||null===(t=e.highlightHandle)||void 0===t||t.remove()}))}}}_refreshListeners(){this._layerEditHandles.drain(p.xt);for(const e of this.sources){const t=(0,xe.Sv)(e)?e.parent:e;if(null!=t&&Pe(t)){const i=t.on("edits",(t=>{this._handleEditChanges(t,e)}));this._layerEditHandles.push(i)}}}_handleEditChanges(e,t){if(void 0!==e.deletedFeatures&&e.deletedFeatures.length>0&&this._selectionMap.has(t)){const i=e.deletedFeatures.filter((e=>null==e.error)).map((e=>e.objectId)).filter(Se.Ru);this.removeFromSelection(t,i)}}_setSelection(e,t){if(!this.sources.includes(e))throw new Error("Cannot set selection on layer ".concat(e.title," because it is not in 'sources'"));const i=this._selectionMap.get(e);if(void 0===i||!Ne(i,{selection:t})){void 0!==i&&this._trashCan.push(i),this._selectionMap.set(e,{selection:[...t]});const n=(0,l.A)({layer:e,selection:[...t]},(0,Se.iv)(void 0!==i?i.selection:[],t));this._onSelectionChange([n])}}};(0,n._)([(0,r.MZ)({readOnly:!0,nonNullable:!0})],Oe.prototype,"selections",null),(0,n._)([(0,r.MZ)({readOnly:!0,nonNullable:!0})],Oe.prototype,"count",null),(0,n._)([(0,r.MZ)({constructOnly:!0,nonNullable:!0})],Oe.prototype,"view",void 0),(0,n._)([(0,r.MZ)({readOnly:!0,nonNullable:!0})],Oe.prototype,"hasSelection",null),(0,n._)([(0,r.MZ)()],Oe.prototype,"showHighlight",void 0),(0,n._)([(0,r.MZ)()],Oe.prototype,"sources",null),(0,n._)([(0,r.MZ)()],Oe.prototype,"highlightName",void 0),Oe=(0,n._)([(0,a.$)("esri.views.SelectionManager")],Oe);const Ie=e=>{var t;return(0,xe.Sv)(e)?!0===(null===(t=e.parent)||void 0===t?void 0:t.isTable):e.isTable},Re=e=>void 0!==(null===e||void 0===e?void 0:e.when),Ne=(e,t)=>{if(null==e&&null==t)return!0;if(null!=e&&null==t||null==e&&null!=t)return!1;if(null!=e&&null!=t&&null!=e.selection&&null!=t.selection){const i=[...e.selection],n=[...t.selection];if(i.length!==n.length)return!1;i.sort(),n.sort();for(let e=0;e<i.length;e++)if(i[e]!==n[e])return!1}return!0},ke=async function(e,t){let i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((e=>void 0!==e.layer)(e)){const r=e;i=void 0===r?null:await r.queryFeatures(new Ce.A((0,l.A)((0,l.A)({},n),{},{objectIds:t}))).then((t=>({data:t,layer:e.layer})))}else{const r=e;i=void 0===r?null:await r.queryFeatures(new Ce.A((0,l.A)((0,l.A)({},n),{},{objectIds:t}))).then((e=>({data:e,layer:r})))}return i},Le=Oe;var De=i(69539),Ze=i(69098);let Fe=class extends(Ze.A.ClonableMixin(O.A)){constructor(e){super(e),this.accentColor=new De.A([255,127,0]),this.textColor=new De.A([255,255,255])}};(0,n._)([(0,r.MZ)({type:De.A,nonNullable:!0})],Fe.prototype,"accentColor",void 0),(0,n._)([(0,r.MZ)({type:De.A,nonNullable:!0})],Fe.prototype,"textColor",void 0),Fe=(0,n._)([(0,a.$)("esri.views.Theme")],Fe);const Ue=Fe;var je=i(50176),Ge=i(15941),ze=i(89196);i(64921);const Ve=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],Be={};function He(e){return!!Be[e]}Ve.forEach((e=>{Be[e]=!0}));class qe{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach(((e,t)=>{var i;let{handler:n,priority:r}=e;return null===(i=this.inputManager)||void 0===i?void 0:i.installHandlers(t,[n],r)}))}disconnect(){this.inputManager&&this._handlers.forEach(((e,t)=>{var i;return null===(i=this.inputManager)||void 0===i?void 0:i.uninstallHandlers(t)})),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,t,i,n){const r=Array.isArray(e)?e:e.split(",");if(!function(e){for(const t of e)if(!He(t))return!1;return!0}(r))return r.some(He)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,s;Array.isArray(t)?s=t:(o=t,s=[]),"function"==typeof i?o=i:n=i,n=null!=n?n:V.o.DEFAULT;const a=this._createUniqueGroupName(),l=new We(this.view,r,s,o);this._handlers.set(a,{handler:l,priority:n});for(const c of r){const e=this._handlerCounts.get(c)||0;this._handlerCounts.set(c,e+1)}return this.inputManager&&this.inputManager.installHandlers(a,[l],n),(0,C.hA)((()=>this._removeHandler(a,r)))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,t){if(this._handlers.has(e)){this._handlers.delete(e);for(const e of t){const t=this._handlerCounts.get(e);void 0===t||(1===t?this._handlerCounts.delete(e):this._handlerCounts.set(e,t-1))}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,"viewEvents_".concat(this._counter)}}class We extends ze.l{constructor(e,t,i,n){super(!0),this._latestDragStart=void 0,this.view=e;for(const r of t)switch(r){case"click":this.registerIncoming("click",i,(t=>n(Ke(e,t))));break;case"double-click":this.registerIncoming("double-click",i,(t=>n(Ye(e,t))));break;case"immediate-click":this.registerIncoming("immediate-click",i,(t=>n(Xe(e,t))));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",i,(t=>n(Qe(e,t))));break;case"hold":this.registerIncoming("hold",i,(t=>n(et(e,t))));break;case"drag":this.registerIncoming("drag",i,(e=>{const t=this._wrapDrag(e);t&&n(t)}));break;case"key-down":this.registerIncoming("key-down",i,(e=>n(it(e))));break;case"key-up":this.registerIncoming("key-up",i,(e=>n(nt(e))));break;case"pointer-down":this.registerIncoming("pointer-down",i,(e=>n(rt(e,"pointer-down"))));break;case"pointer-move":this.registerIncoming("pointer-move",i,(e=>n(rt(e,"pointer-move"))));break;case"pointer-up":this.registerIncoming("pointer-up",i,(e=>n(rt(e,"pointer-up"))));break;case"pointer-drag":this.registerIncoming("pointer-drag",i,(e=>n(ot(e))));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",i,(e=>n(st(e))));break;case"pointer-enter":this.registerIncoming("pointer-enter",i,(e=>n(rt(e,"pointer-enter"))));break;case"pointer-leave":this.registerIncoming("pointer-leave",i,(e=>n(rt(e,"pointer-leave"))));break;case"gamepad":this.registerIncoming("gamepad",i,(e=>{n(at(e))}));break;case"focus":this.registerIncoming("focus",i,(e=>{n($e(e))}));break;case"blur":this.registerIncoming("blur",i,(e=>{n(Je(e))}))}}_wrapDrag(e){const t=e.data,{x:i,y:n}=t.center,{action:r,pointerType:o,button:s}=t;if("start"===r&&(this._latestDragStart=t),!this._latestDragStart)return;const a=t.pointer.native,l=t.buttons,{cancelable:c,timestamp:u}=e,d={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return"end"===r&&(this._latestDragStart=void 0),{type:"drag",action:r,x:i,y:n,origin:d,pointerType:o,button:s,buttons:l,radius:t.radius,angle:(0,Ge.KJ)(t.angle),native:a,timestamp:u,cancelable:c,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}}function $e(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function Je(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function Ke(e,t){const{pointerType:i,button:n,buttons:r,x:o,y:s,native:a,eventId:l}=t.data,{cancelable:c,timestamp:u}=t;return{type:"click",pointerType:i,button:n,buttons:r,x:o,y:s,native:a,timestamp:u,screenPoint:(0,be.tc)(o,s),mapPoint:tt(e,o,s),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}function Ye(e,t){const{pointerType:i,button:n,buttons:r,x:o,y:s,native:a,eventId:l}=t.data,{cancelable:c,timestamp:u}=t;return{type:"double-click",pointerType:i,button:n,buttons:r,x:o,y:s,native:a,timestamp:u,mapPoint:tt(e,o,s),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}function Xe(e,t){const{pointerType:i,button:n,buttons:r,x:o,y:s,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:u,timestamp:d}=t;return{type:"immediate-click",pointerId:c,pointerType:i,button:n,buttons:r,x:o,y:s,native:a,timestamp:d,mapPoint:tt(e,o,s),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}function Qe(e,t){const{pointerType:i,button:n,buttons:r,x:o,y:s,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:u,timestamp:d}=t;return{type:"immediate-double-click",pointerId:c,pointerType:i,button:n,buttons:r,x:o,y:s,native:a,timestamp:d,mapPoint:tt(e,o,s),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}function et(e,t){const{pointerType:i,button:n,buttons:r,x:o,y:s,native:a}=t.data,{cancelable:l,timestamp:c}=t;return{type:"hold",pointerType:i,button:n,buttons:r,x:o,y:s,native:a,timestamp:c,mapPoint:tt(e,o,s),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}function tt(e,t,i){return e.toMap((0,be.tc)(t,i),{exclude:[]})}function it(e){const{key:t,repeat:i,native:n}=e.data,{cancelable:r,timestamp:o}=e;return{type:"key-down",key:t,repeat:i,native:n,timestamp:o,cancelable:r,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function nt(e){const{key:t,native:i}=e.data,{cancelable:n,timestamp:r}=e;return{type:"key-up",key:t,native:i,timestamp:r,cancelable:n,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function rt(e,t){const{x:i,y:n,button:r,buttons:o,native:s,eventId:a}=e.data,l=s.pointerId,c=s.pointerType,{cancelable:u,timestamp:d}=e;return{type:t,x:i,y:n,pointerId:l,pointerType:c,button:r,buttons:o,native:s,timestamp:d,eventId:a,cancelable:u,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function ot(e){const{x:t,y:i,buttons:n,native:r,eventId:o}=e.data.currentEvent,{button:s}=e.data.startEvent,a=e.data.startEvent.native.pointerId,l=e.data.startEvent.native.pointerType,c=e.data.action,u={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:d,timestamp:h}=e;return{type:"pointer-drag",x:t,y:i,pointerId:a,pointerType:l,button:s,buttons:n,action:c,origin:u,native:r,timestamp:h,eventId:o,cancelable:d,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function st(e){const{cancelable:t,data:i,timestamp:n}=e,{x:r,y:o,deltaY:s,native:a}=i;return{type:"mouse-wheel",x:r,y:o,deltaY:s,native:a,timestamp:n,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function at(e){const{action:t,state:i,device:n}=e.data,{cancelable:r,timestamp:o}=e,{buttons:s,axes:a}=i;return{type:"gamepad",device:n,timestamp:o,action:t,buttons:s,axes:a,cancelable:r,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}var lt=i(76336);function ct(e){return[e.on("before-add",(t=>{const i=t.item;if(null==i||e.includes(i))return s.A.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();i.onAdd()})),e.on("after-remove",(e=>{const t=e.item;t.active&&(t.view.activeTool=null),t.destroy()}))]}function ut(e){return e.visible&&null!=e.getEditableFlag&&e.getEditableFlag(lt.PK.USER)&&e.getEditableFlag(lt.PK.MANAGER)}var dt=i(85361),ht=i(11500);class pt{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(e,t){const i=()=>e.stopPropagation();switch(e.type){case"pointer-move":yt(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:"start"===e.action?this._externallyDragging=!0:"end"===e.action&&(this._externallyDragging=!1),this._stopDrag&&(i(),"end"===e.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!gt(e))break;const n=(0,ht.ZV)(e),r=mt(n,e.pointerType,t.forEachTool);if(null==r)break;const o=r.manipulator,s=r.tool;null==o||null==s||!o.interactive||o.grabbable&&o.grabbableForEvent(e)||!o.grabbing||o.dragging||this._releaseManipulatorBeforeDragging(o,e,t),null!=o&&null!=s&&o.interactive&&o.grabbable&&o.grabbableForEvent(e)&&!o.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:o,tool:s,start:n,pointerType:e.pointerType}),1===this._grabbedManipulators.size&&null==t.activeTool&&(this._revertToNullActiveTool=!0,t.setActiveTool(r.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:n}),i());break}case"pointer-up":this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,t);break;case"pointer-drag":{if(!gt(e))break;const n=this._grabbedManipulators.get(e.pointerId),r=null===n||void 0===n?void 0:n.manipulator,o=null===n||void 0===n?void 0:n.tool;if(null==r||null==o)break;const s=(0,ht.ZV)(e);s.x=(0,Ge.qE)(s.x,0,t.view.width),s.y=(0,Ge.qE)(s.y,0,t.view.height);const a=n.start,l=this._draggedManipulators.get(e.pointerId);switch(e.action){case"start":case"update":"update"!==e.action&&1!==this._grabbedManipulators.size||(r.dragging=!0,l?r.events.emit("drag",{action:"update",start:a,screenPoint:s}):r.events.emit("drag",{action:"start",start:a,screenPoint:s,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:o,manipulator:r,start:a}));break;case"end":r.dragging=!1,l&&r.events.emit("drag",{action:"end",start:a,screenPoint:s}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,t)}i();break}case"immediate-click":{const n=(0,ht.ZV)(e),r=mt(n,e.pointerType,t.forEachTool);if(function(e){return!!e.native.shiftKey}(e)||t.forEachTool((e=>{if((null==r||r.tool!==e||e.automaticManipulatorSelection)&&e.manipulators){let t=!1;e.manipulators.forEach((e=>{let{manipulator:i}=e;i.selected&&(i.selected=!1,t=!0)})),t&&e.onManipulatorSelectionChanged&&e.onManipulatorSelectionChanged()}})),null==r)break;const{manipulator:o,tool:s}=r;if(!o.interactive)break;o.selectable&&s.automaticManipulatorSelection&&(o.selected=!o.selected,s.onManipulatorSelectionChanged&&s.onManipulatorSelectionChanged());const a=e.native.shiftKey;o.events.emit("immediate-click",{screenPoint:n,button:e.button,pointerType:e.pointerType,shiftKey:a,stopPropagation:i}),vt(o,i);break}case"click":{const n=(0,ht.ZV)(e),r=mt(n,e.pointerType,t.forEachTool),o=null===r||void 0===r?void 0:r.manipulator;if(null==o||!o.interactive)break;const s=e.native.shiftKey;o.events.emit(e.type,{screenPoint:n,button:e.button,pointerType:e.pointerType,shiftKey:s}),i();break}case"double-click":{const n=(0,ht.ZV)(e),r=mt(n,e.pointerType,t.forEachTool),o=null!=r?r.manipulator:null;if(null==o||!o.interactive)break;const s=e.native.shiftKey;o.events.emit("double-click",{screenPoint:n,button:e.button,pointerType:e.pointerType,shiftKey:s,stopPropagation:i}),vt(o,i);break}case"immediate-double-click":{const n=(0,ht.ZV)(e),r=mt(n,e.pointerType,t.forEachTool),o=null!=r?r.manipulator:null;if(null==o||!o.interactive)break;const s=e.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:n,button:e.button,pointerType:e.pointerType,shiftKey:s,stopPropagation:i}),"mouse"===e.pointerType&&vt(o,i);break}}this._onFocusChange(t.forEachTool)}_releaseManipulatorBeforeDragging(e,t,i){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:(0,ht.ZV)(t)}),this._grabbedManipulators.forEach(((t,i)=>{let{manipulator:n}=t;n===e&&this._grabbedManipulators.delete(i)})),this._afterManipulatorRelease(i.setActiveTool)}_handlePointerEnd(e,t){var i;const n=null===(i=this._grabbedManipulators.get(e.pointerId))||void 0===i?void 0:i.manipulator;null!=n&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:(0,ht.ZV)(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorRelease(t.setActiveTool))}_onFocusChange(e){this._updateCursor(),this._updateFocusedManipulatorTools(e)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=ft(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=ft(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(e){const t=new Set,i=new Set;this._grabbedManipulators.forEach((e=>{let{tool:i}=e;t.add(i)})),this._hoveredManipulators.forEach((e=>{let{tool:t}=e;i.add(t)})),e((e=>{e.hasGrabbedManipulators=t.has(e),e.hasHoveredManipulators=i.has(e);const n=this._grabbedManipulators.values(),r=(0,dt.I6)(n,(t=>{let{tool:i}=t;return i===e}));e.firstGrabbedManipulator=null!=r?r.manipulator:null}))}clearPointers(e,t){let{forEachTool:i,setActiveTool:n}=t,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3?arguments[3]:void 0;const s=(t,i)=>t===e&&(null==o||o===i);this._grabbedManipulators.forEach(((e,t)=>{let{tool:i,manipulator:n,pointerType:r}=e;s(i,n)&&(this._grabbedManipulators.delete(t),n.grabbing=!1,n.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:r}))})),this._draggedManipulators.forEach(((e,t)=>{let{tool:i,manipulator:n}=e;s(i,n)&&(this._draggedManipulators.delete(t),n.dragging=!1,n.events.emit("drag",{action:"cancel"}))})),r&&this._hoveredManipulators.forEach(((e,t)=>{let{tool:i,manipulator:n}=e;s(i,n)&&(this._hoveredManipulators.delete(t),n.hovering=!1)})),this._afterManipulatorRelease(n),this._onFocusChange(i)}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach(((t,i)=>{this._updateHoveredStateForPointerAtScreenPosition((0,be.tc)(t.x,t.y),i,t.pointerType,e)}))}handleHoverEvent(e,t){const i=e.type;"pointer-up"!==i&&"immediate-click"!==i&&"pointer-move"!==i||!yt(e.pointerType)||("pointer-up"!==i&&this._externallyDragging?this._clearHoveredManipulatorStates(e.pointerId):this._updateHoveredStateForPointerAtScreenPosition((0,ht.ZV)(e),e.pointerId,e.pointerType,t))}_updateHoveredStateForPointerAtScreenPosition(e,t,i,n){var r;let o=mt(e,i,n);const s=null===(r=this._hoveredManipulators.get(t))||void 0===r?void 0:r.manipulator;null==o||o.manipulator.interactive||(o=null),null!=o&&s===o.manipulator||(null!=s&&(s.hovering=!1),null!=o?(o.manipulator.hovering=!0,this._hoveredManipulators.set(t,o)):this._hoveredManipulators.delete(t),this._onFocusChange(n))}_afterManipulatorRelease(e){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(e){this._hoveredManipulators.forEach(((t,i)=>{let{manipulator:n}=t;e===i&&(this._hoveredManipulators.delete(e),n.hovering=!1)}))}}function ft(e){for(const{manipulator:t}of e.values())if(null!=t&&t.interactive){if(t.grabbing&&t.grabCursor)return t.grabCursor;if(t.cursor)return t.cursor}return null}function mt(e,t,i){let n=null;return i((i=>{if(null==i.manipulators||!ut(i))return!1;const r=i.manipulators.intersect(e,t);return null!=r&&(n={tool:i,manipulator:r},!0)})),n}function yt(e){return"mouse"===e}function gt(e){return"mouse"!==e.pointerType||0===e.button}function vt(e,t){(null===e||void 0===e?void 0:e.consumesClicks)&&t()}const _t="attached",wt="tools";let bt=class extends O.A{constructor(e){super(e),this._updatingHandles=new I.U,this._clock=je.p,this._manipulatorState=new pt,this.tools=new u.A,this.cursor=null,this._interacting=!1,this._interactingTimeout=1e3,this._interactingTimeoutHandle=null,this._forEachTool=e=>{for(const t of this.tools.items)if(e(t))return}}initialize(){this.addHandles([this.view.on(Ve,(e=>{this._handleInputEvent(e)}),V.o.TOOL),...ct(this.tools),this.tools.on("before-add",(e=>{let{item:t}=e;this._updateToolEditableFlag(t)})),this.tools.on("before-remove",(e=>{let{item:t}=e;this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()})),this.tools.on("change",(()=>{this._refreshToolWatchers()}))])}destroy(){this.activeTool=null,this.tools.drain((e=>e.destroy())),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(null!=e&&!this.view.ready)return void s.A.getLogger(this).error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const t=this.activeTool;this._set("activeTool",e),null!=t&&t.deactivate(),null!=e&&e.activate(),this._removeIncompleteTools(e);for(const i of this.tools){this._updateToolEditableFlag(i);const e=ut(i);null!=this.activeTool&&e||this._manipulatorState.clearPointers(i,this._manipulatorStateEventArgs,!e)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some((e=>e.updating))}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=(0,p.xt)(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout((()=>this._interacting=!1),this._interactingTimeout)}attach(){var e;"3d"===this.view.type?this.addHandles([(0,f.wB)((()=>{const{state:e}=this.view;return"camera"in e&&e.camera}),(()=>this._forEachManipulator((e=>e.onViewChange())))),null===(e=this.view.elevationProvider)||void 0===e?void 0:e.on("elevation-change",(e=>this._forEachManipulator((t=>t.onElevationChange(e)))))],_t):this.addHandles((0,f.wB)((()=>this.view.extent),(()=>this._forEachManipulator((e=>e.onViewChange())))))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(_t),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(e){this._forEachTool((t=>{t.manipulators&&t.manipulators.forEach((i=>{let{manipulator:n}=i;return e(n,t)}))}))}_handleInputEvent(e){let t=!1;const i=(0,l.A)((0,l.A)({},e),{},{stopPropagation:()=>{t=!0,e.stopPropagation()}});null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(i):this._forEachTool((e=>{!t&&e.visible&&e.handleInputEvent(i)})),!t&&"key-down"===e.type&&"Escape"===e.key&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(i,this._manipulatorStateEventArgs),t||null==this.activeTool||this.activeTool.handleInputEventAfter(i),this._manipulatorState.handleHoverEvent(i,this._forEachTool),this._updateCursor(),"pointer-move"===e.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(wt),this._forEachTool((e=>{if(e instanceof O.A){const t=(0,f.wB)((()=>[e.cursor,e.visible,e.editable]),(()=>{ut(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()}));this.addHandles(t,wt)}e.manipulators&&this.addHandles([e.manipulators.on("after-remove",(t=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,t.item.manipulator)})),e.manipulators.on("change",(()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}))],wt)})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(e){var t;null===(t=e.setEditableFlag)||void 0===t||t.call(e,lt.PK.MANAGER,null==this.activeTool||e===this.activeTool)}_updateCursor(){let e=this._manipulatorState.cursor;null==e&&this._forEachTool((t=>!(null==t.cursor||!t.visible)&&(e=t.cursor,!0))),this._get("cursor")!==e&&this._set("cursor",e)}_removeIncompleteTools(e){this.tools.filter((t=>(null==e||t!==e)&&!t.created&&t.removeIncompleteOnCancel)).forEach((e=>{this.tools.remove(e)}))}get test(){}};(0,n._)([(0,r.MZ)({constructOnly:!0,nonNullable:!0})],bt.prototype,"view",void 0),(0,n._)([(0,r.MZ)({value:null})],bt.prototype,"activeTool",null),(0,n._)([(0,r.MZ)({readOnly:!0,type:u.A})],bt.prototype,"tools",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],bt.prototype,"cursor",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],bt.prototype,"updating",null),(0,n._)([(0,r.MZ)()],bt.prototype,"_interacting",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],bt.prototype,"interacting",null),bt=(0,n._)([(0,a.$)("esri.views.ToolViewManager")],bt);var At=i(1723),Mt=i(30363);let St=class extends O.A{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown","standard"===e.mapping?this._detectedDeviceType="standard":Et.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){const e=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return xt[this.deviceType]}};(0,n._)([(0,r.MZ)({nonNullable:!0,readOnly:!0})],St.prototype,"nativeIndex",void 0),(0,n._)([(0,r.MZ)({type:String,readOnly:!0})],St.prototype,"deviceType",null),(0,n._)([(0,r.MZ)({type:Number,readOnly:!0})],St.prototype,"axisThreshold",null),St=(0,n._)([(0,a.$)("esri.views.input.gamepad.GamepadInputDevice")],St);const Tt=St,Et=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),xt={standard:.15,spacemouse:.025,unknown:0};let Ct=class extends O.A{constructor(){super(...arguments),this.devices=new u.A,this.enabledFocusMode="document"}};(0,n._)([(0,r.MZ)({type:u.A.ofType(Tt),readOnly:!0})],Ct.prototype,"devices",void 0),(0,n._)([(0,r.MZ)({type:["document","view","none"]})],Ct.prototype,"enabledFocusMode",void 0),Ct=(0,n._)([(0,a.$)("esri.views.input.gamepad.GamepadSettings")],Ct);const Pt=Ct;let Ot=class extends O.A{constructor(){super(...arguments),this.gamepad=new Pt}};(0,n._)([(0,r.MZ)({readOnly:!0})],Ot.prototype,"gamepad",void 0),Ot=(0,n._)([(0,a.$)("esri.views.input.Input")],Ot);const It=Ot;var Rt=i(17555),Nt=i(63241);const kt=()=>(0,r.MZ)({type:["pan","rotate","zoom","none"],nonNullable:!0});let Lt=class extends O.A{constructor(e){super(e),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};(0,n._)([kt()],Lt.prototype,"dragPrimary",void 0),(0,n._)([kt()],Lt.prototype,"dragSecondary",void 0),(0,n._)([kt()],Lt.prototype,"dragTertiary",void 0),(0,n._)([(0,r.MZ)({type:["zoom","none"],nonNullable:!0})],Lt.prototype,"mouseWheel",void 0),Lt=(0,n._)([(0,a.$)("esri.views.navigation.NavigationActionMap")],Lt);const Dt=Lt;let Zt=class extends O.A{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],Zt.prototype,"enabled",void 0),(0,n._)([(0,r.MZ)({type:Tt})],Zt.prototype,"device",void 0),(0,n._)([(0,r.MZ)({type:["pan","zoom"],nonNullable:!0})],Zt.prototype,"mode",void 0),(0,n._)([(0,r.MZ)({type:["forward-down","forward-up"],nonNullable:!0})],Zt.prototype,"tiltDirection",void 0),(0,n._)([(0,r.MZ)({type:Number,nonNullable:!0})],Zt.prototype,"velocityFactor",void 0),Zt=(0,n._)([(0,a.$)("esri.views.navigation.gamepad.GamepadSettings")],Zt);const Ft=Zt;let Ut=class extends O.A{constructor(e){super(e),this.actionMap=new Dt,this.browserTouchPanEnabled=!0,this.gamepad=new Ft,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!(0,Rt.O)()}get mouseWheelZoomEnabled(){return"zoom"===this.actionMap.mouseWheel}set mouseWheelZoomEnabled(e){(0,Nt.Lx)(s.A.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=e?"zoom":"none"}};(0,n._)([(0,r.MZ)({type:Dt,nonNullable:!0})],Ut.prototype,"actionMap",void 0),(0,n._)([(0,r.MZ)({type:Boolean})],Ut.prototype,"browserTouchPanEnabled",void 0),(0,n._)([(0,r.MZ)({type:Ft,nonNullable:!0})],Ut.prototype,"gamepad",void 0),(0,n._)([(0,r.MZ)({type:Boolean})],Ut.prototype,"momentumEnabled",void 0),(0,n._)([(0,r.MZ)({type:Boolean})],Ut.prototype,"mouseWheelZoomEnabled",null),Ut=(0,n._)([(0,a.$)("esri.views.navigation.Navigation")],Ut);const jt=Ut;var Gt=i(47700),zt=i(64465);let Vt,Bt=null;async function Ht(e){Bt||(Bt=i.e(9483).then(i.bind(i,39483)).then((e=>Vt=e))),await Bt,(0,z.Te)(e)}async function qt(e,t,i,n){if(!e)return null;const r=e.spatialReference;return(0,_.isLoaded)()||(0,_.canProjectWithoutEngine)(r,t)?(0,_.project)(e,t):Vt?Vt.projectGeometry(e,t,i,n):(await Promise.race([Ht(n),(0,_.load)(n)]),qt(e,t,i,n))}let Wt=class extends O.A{constructor(e){super(e),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=(0,p.DC)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){var e;return null!==(e=this.userSpatialReference)&&void 0!==e?e:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var e,t,i,n;const r=null===(e=this.map)||void 0===e?void 0:e.call(this),o=[];return null!=this.priorityCollection&&o.push(this.priorityCollection),o.push({parent:null===r||void 0===r?void 0:r.basemap,layers:null===r||void 0===r||null===(t=r.basemap)||void 0===t?void 0:t.baseLayers},{layers:null===r||void 0===r?void 0:r.layers},{parent:null===r||void 0===r?void 0:r.ground,layers:null===r||void 0===r||null===(i=r.ground)||void 0===i?void 0:i.layers},{parent:null===r||void 0===r?void 0:r.basemap,layers:null===r||void 0===r||null===(n=r.basemap)||void 0===n?void 0:n.referenceLayers}),o}get _spatialReferenceTask(){var e,t,i,n;if(this.suspended)return null!==(e=this._get("_spatialReferenceTask"))&&void 0!==e?e:{updating:!1};let r;if(this._collectLayers(this.mapCollections,(e=>{var t;const i=this._getSupportedSpatialReferences(e);if(i.length>0){const e=this._narrowDownSpatialReferenceCandidates(r,i);null!=e&&(r=e)}return 1===(null===(t=r)||void 0===t?void 0:t.length)}))&&1!==(null===(t=r)||void 0===t?void 0:t.length))return{updating:!0};const o=this._pickSpatialReferenceCandidate(r);return{spatialReference:null!==(i=null===o||void 0===o?void 0:o.spatialReference)&&void 0!==i?i:null,viewingMode:null!==(n=null===o||void 0===o?void 0:o.viewingMode)&&void 0!==n?n:null,updating:!1}}get _tileInfoTask(){var e,t,i;if(!this.required.tileInfo)return null!==(e=this._get("_tileInfoTask"))&&void 0!==e?e:{updating:!1};const n=null===(t=this.map)||void 0===t?void 0:t.call(this),r=this.spatialReference;if(!r)return{updating:this._spatialReferenceTask.updating};let o;const s=this._collectLayers([{parent:null===n||void 0===n?void 0:n.basemap,layers:null===n||void 0===n||null===(i=n.basemap)||void 0===i?void 0:i.baseLayers},{layers:null===n||void 0===n?void 0:n.layers}],(e=>{var t;return!(!("tileInfo"in e)||null===(t=e.tileInfo)||void 0===t||!t.spatialReference.equals(r))&&(o=e,!0)}),(e=>"tileInfo"in e));return o?{tileInfo:o.tileInfo,updating:!1}:{updating:s}}get _heightModelInfoTask(){var e,t;if(!this.required.heightModelInfo||this.suspended&&null!==(e=this._get("_heightModelInfoTask"))&&void 0!==e&&e.heightModelInfo)return null!==(t=this._get("_heightModelInfoTask"))&&void 0!==t?t:{updating:!1};let i={};const n=this._collectLayers(this.mapCollections,(e=>{var t,n;const r=(0,Gt.zy)(e);return!!r&&(i={heightModelInfo:r,vcsWkid:null===(t=e.spatialReference)||void 0===t?void 0:t.vcsWkid,latestVcsWkid:null===(n=e.spatialReference)||void 0===n?void 0:n.latestVcsWkid},!0)}),(e=>(0,Gt.jI)(e)));return(0,l.A)((0,l.A)({},i),{},{updating:n})}get _extentCandidatesTask(){var e;if(this.suspended||!this.required.extent)return null!==(e=this._get("_extentCandidatesTask"))&&void 0!==e?e:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=[],i=this._collectLayers(this.mapCollections,(e=>{var i;const n="fullExtents"in e&&e.fullExtents||(null!=e.fullExtent?[e.fullExtent]:[]),r=this.requiresExtentInSpatialReference?null:n[0],o=null!==(i=n.find((e=>e.spatialReference.equals(this.spatialReference))))&&void 0!==i?i:r;if(o)return t.push({extent:o,layer:e}),!0;if(this._getSupportedSpatialReferences(e).length>0)for(const s of n)t.push({extent:s,layer:e});return!1}));return{candidates:t,updating:i}}get _extentTask(){const{candidates:e,updating:t}=this._extentCandidatesTask;if(t)return{updating:t};if(null==e||0===e.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const i=this._pickExtentCandidate(e),n=this.spatialReference;return i.extent.equals(this._projectExtentTask.input)&&n.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished}:(null!=this._projectExtentTask.task&&(this._projectExtentTask.task=(0,p.DC)(this._projectExtentTask.task)),this._projectExtentTask={input:i.extent.clone(),output:null,spatialReference:n.clone(),task:(0,G.UT)((async e=>{try{const t=await qt(i.extent,n,"portalItem"in i.layer?i.layer.portalItem:void 0,e);this._projectExtentTask=(0,l.A)((0,l.A)({},this._projectExtentTask),{},{task:null,output:t})}catch(t){if((0,z.G4)(e))return;this._projectExtentTask=(0,l.A)((0,l.A)({},this._projectExtentTask),{},{task:null})}}))},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,t){if(null==e)return t;const i=new Array;for(const n of e)for(const e of t){if(!n.spatialReference.equals(e.spatialReference))continue;const t=Jt(n.viewingMode,e.viewingMode);if(!1!==t){i.push({spatialReference:n.spatialReference,viewingMode:t});break}}return i.length>0?i:null}_pickSpatialReferenceCandidate(e){const t=this.defaultSpatialReference;return null==e||e.length<1?t?{spatialReference:t,viewingMode:null}:null:(null!=t&&e.length>1&&e.some((e=>{let{spatialReference:i}=e;return i.equals(t)}))&&(e=e.filter((e=>{let{spatialReference:i}=e;return i.equals(t)}))),e.length>1&&e.some((e=>{let{viewingMode:t}=e;return t!==zt.RT.Local}))&&(e=e.filter((e=>{let{viewingMode:t}=e;return t!==zt.RT.Local}))),e[0])}_getSupportedSpatialReferences(e){const t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(0===t.length)return[];const i=[];for(const r of t){const t=this.getSpatialReferenceSupport(r,e);if(null!=t){var n;const e=null!==(n=t.constraints)&&void 0!==n?n:[{spatialReference:r,viewingMode:null}];for(const{spatialReference:t,viewingMode:n}of e)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!t.equals(this.userSpatialReference)||i.push({spatialReference:t,viewingMode:n})}}return i}_pickExtentCandidate(e){const t=this.spatialReference;return e.find((e=>{let{extent:i}=e;return t.equals(i.spatialReference)}))||e[0]}_collectLayers(e,t){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;switch(this._loadMaybe(null===(i=this.map)||void 0===i?void 0:i.call(this))){case"loading":return!0;case"failed":return!1}const r=new $t(n,t);for(const o of e)if(this._collectCollection(o,r),r.done||r.preloading===this.sourcePreloadCount)break;return r.updating}_collectCollection(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return t.updating=!0,void++t.preloading;case"failed":return}for(const i of e.layers)if(t.layerFilter(i)){switch(this._loadMaybe(i)){case"failed":continue;case"loading":t.updating=!0,++t.preloading;break;case"loaded":if(t.updating||(t.done=t.pushLayer(i)),t.done||t.preloading===this.sourcePreloadCount)break;"layers"in i&&this._collectCollection({layers:i.layers},t)}if(t.done||t.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&null!=e.loadStatus?"not-loaded"===e.loadStatus?(e.load().catch((e=>{(0,z.zf)(e)})),"loading"):e.loadStatus:"loaded"}};(0,n._)([(0,r.MZ)()],Wt.prototype,"required",void 0),(0,n._)([(0,r.MZ)({constructOnly:!0})],Wt.prototype,"map",void 0),(0,n._)([(0,r.MZ)({constructOnly:!0})],Wt.prototype,"getSpatialReferenceSupport",void 0),(0,n._)([(0,r.MZ)()],Wt.prototype,"defaultSpatialReference",void 0),(0,n._)([(0,r.MZ)()],Wt.prototype,"userSpatialReference",void 0),(0,n._)([(0,r.MZ)()],Wt.prototype,"sourcePreloadCount",void 0),(0,n._)([(0,r.MZ)()],Wt.prototype,"priorityCollection",void 0),(0,n._)([(0,r.MZ)()],Wt.prototype,"requiresExtentInSpatialReference",void 0),(0,n._)([(0,r.MZ)()],Wt.prototype,"suspended",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"ready",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"heightModelInfoReady",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"spatialReference",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"extent",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"heightModelInfo",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"vcsWkid",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"latestVcsWkid",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"viewingMode",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"tileInfo",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"mapCollections",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"_spatialReferenceTask",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"_tileInfoTask",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"_heightModelInfoTask",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Wt.prototype,"_extentCandidatesTask",null),(0,n._)([(0,r.MZ)()],Wt.prototype,"_extentTask",null),(0,n._)([(0,r.MZ)()],Wt.prototype,"_projectExtentTask",void 0),Wt=(0,n._)([(0,a.$)("esri.views.support.DefaultsFromMap")],Wt);class $t{constructor(e,t){this.layerFilter=e,this.pushLayer=t,this.preloading=-1,this.updating=!1,this.done=!1}}function Jt(e,t){return null!=e?null!=t?e===t&&e:e:t}let Kt=class extends O.A{constructor(e){super(e),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};(0,n._)([(0,r.MZ)()],Kt.prototype,"featureTitleFields",void 0),(0,n._)([(0,r.MZ)()],Kt.prototype,"utilityNetworkFields",void 0),(0,n._)([(0,r.MZ)()],Kt.prototype,"globalIdField",void 0),Kt=(0,n._)([(0,a.$)("esri.views.support.RequiredFieldsOptions")],Kt);const Yt=Kt;var Xt;let Qt=Xt=class extends(Y.A.EventedMixin(ee.A.EsriPromiseMixin(O.A))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new X.A,this.updatingHandles=new I.U,this.allLayerViews=new d.A({getCollections:()=>{var e,t,i;return[null===(e=this.basemapView)||void 0===e?void 0:e.baseLayerViews,null===(t=this.groundView)||void 0===t?void 0:t.layerViews,this.layerViews,null===(i=this.basemapView)||void 0===i?void 0:i.referenceLayerViews]},getChildrenFunction:ii}),this.groundView=null,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new ae.Y,this.analyses=new se,this.typeSpecificPreconditionsReady=!0,this.layerViews=new u.A,this.magnifier=new Me,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new It,this.navigation=new jt,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new qe(this),this.persistableViewModels=new u.A,this.requiredFieldsOptions=new Yt,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add((0,f.wB)((()=>this.preconditionsReady),(e=>{var t,i;const n=this.ready;if(e?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,Xt.views.add(this)):(this._lockedSpatialReference=null,Xt.views.remove(this)),this.notifyChange("spatialReference"),!e&&n)null!==(t=this.toolViewManager)&&void 0!==t&&t.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),null!==(i=this.layerViewManager)&&void 0!==i&&i.clear(),this._teardown();else if(e&&!n){try{this._startup()}catch(Ae){return void queueMicrotask((()=>{this.fatalError=new h.A("startup-error",null,Ae)}))}null!=this.analysisViewManager&&this.analysisViewManager.attach(),this.toolViewManager.attach()}}),f.OH))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then((()=>(this._isValid=!0,(0,f.C_)((()=>this.ready)))))),this.basemapView=new he({view:this}),this.layerViewManager=new we({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new bt({view:this}),this.selectionManager=new Le({view:this}),this.addHandles([(0,f.z7)((()=>"map-content-error"===this.readyState&&!this.spatialReference),(()=>{s.A.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")})),(0,f.wB)((()=>this.initialExtentRequired),(e=>this.defaultsFromMap.required=(0,l.A)((0,l.A)({},this.defaultsFromMap.required),{},{extent:e})),f.pc),(0,f.wB)((()=>this.ready),(e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)}),f.OH),(0,f.wB)((()=>this._userSpatialReference),(e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)}),f.pc)])}destroy(){var e,t;this.destroyed||(Xt.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,p.pR)(this.graphics),this.analyses=(0,p.pR)(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),(0,p.pR)(this.analysisViewManager),this.toolViewManager=(0,p.pR)(this.toolViewManager),this.layerViewManager=(0,p.pR)(this.layerViewManager),this.selectionManager=(0,p.pR)(this.selectionManager),this.basemapView=(0,p.pR)(this.basemapView),null!==(e=this.groundView)&&void 0!==e&&e.destroy(),null!==(t=this.layerViews)&&void 0!==t&&t.forEach((e=>e.destroy())),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=(0,p.pR)(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return s.A.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return null===(e=this.toolViewManager)||void 0===e?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Wt((0,l.A)({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t)},this.defaultsFromMapSettings))}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){var e;return null!==(e=this._get("highlights"))&&void 0!==e?e:new(u.A.ofType(Mt.A))([new Mt.A({name:At.Tv}),new Mt.A({name:At.n4,color:At.lH})])}set highlights(e){this._set("highlights",(0,K.V)(e,this._get("highlights"),u.A.ofType(Mt.A)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Q.A.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&(null===(e=this.defaultsFromMap)||void 0===e||!e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){var t;e!==this._get("map")&&(null!==(t=e)&&void 0!==t&&t.destroyed&&(s.A.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),Q.A.isLoadable(e)&&e.load().catch((()=>{})),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){var e,t;if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if(null!==(e=null===(t=this.defaultsFromMap)||void 0===t?void 0:t.ready)&&void 0!==e&&e&&!this.spatialReference){var i,n,r,s;const e=!("loaded"in this.map)||this.map.loaded,t=this.map.ground.loaded,a=null===(i=null===(n=this.map.basemap)||void 0===n?void 0:n.loaded)||void 0===i||i;return e&&a&&t&&(null===(r=this.map)||void 0===r||!r.allLayers.length)?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=(0,G.UT)((e=>(0,z.Pl)((0,o.A)("view-readyState-waiting-delay"),null,e))),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),null!==(s=this._readyStateWaitingTask)&&void 0!==s&&s.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=(0,p.DC)(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){var e;const t=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(t&&null!==(e=this.defaultsFromMap)&&void 0!==e&&null!==(e=e.required)&&void 0!==e&&e.heightModelInfo){const e=t.clone();return e.vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,e}return t}set spatialReference(e){const t=!(0,oe.aI)(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){var e,t,i;return null!==(e=null!==(t=null!==(i=this._userTimeExtent)&&void 0!==i?i:this._lockedTimeExtent)&&void 0!==t?t:this.getDefaultTimeExtent())&&void 0!==e?e:null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){var e,t,i;return null!==(e=null!==(t=null!==(i=this._userTimeZone)&&void 0!==i?i:this._lockedTimeZone)&&void 0!==t?t:this.getDefaultTimeZone())&&void 0!==e?e:le.qU}set timeZone(e){this._userTimeZone=e,(0,ue.wr)(e)||s.A.getLogger(this).warn("#timeZone","the parsed value '".concat(e,"' may not be a valid IANA time zone"))}get tools(){var e;return null===(e=this.toolViewManager)||void 0===e?void 0:e.tools}get initialExtent(){var e;return null===(e=this.defaultsFromMap)||void 0===e?void 0:e.extent}get cursor(){var e,t,i;return null!==(e=null!==(t=null===(i=this.toolViewManager)||void 0===i?void 0:i.cursor)&&void 0!==t?t:this._cursor)&&void 0!==e?e:"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){var e;return null!==(e=this.theme)&&void 0!==e?e:new Ue}whenLayerView(e){var t,i;return null!==(t=null===(i=this.layerViewManager)||void 0===i?void 0:i.whenLayerView(e))&&void 0!==t?t:Promise.reject()}getDefaultSpatialReference(){var e;return null===(e=this.defaultsFromMap)||void 0===e?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e,t,i;return null!==(e=null!==(t=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)&&void 0!==t?t:null===(i=this.defaultsFromMap)||void 0===i?void 0:i.heightModelInfo)&&void 0!==e?e:null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(e){throw new h.A("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return null!=this.getSpatialReferenceSupport(e)}when(e,t){return this.isResolved()&&!this.ready&&s.A.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&((0,f.z7)((()=>this.destroyed||!1===this.preconditionsReady),(()=>this._readyCycleForced=!1),{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};Qt.views=new u.A,(0,n._)([(0,r.MZ)()],Qt.prototype,"_userSpatialReference",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"activeTool",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"allLayerViews",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"groundView",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"animation",null),(0,n._)([(0,r.MZ)()],Qt.prototype,"basemapView",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"center",null),(0,n._)([(0,r.MZ)()],Qt.prototype,"defaultsFromMapSettings",null),(0,n._)([(0,r.MZ)()],Qt.prototype,"defaultsFromMap",null),(0,n._)([(0,r.MZ)()],Qt.prototype,"displayFilterEnabled",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"fatalError",void 0),(0,n._)([(0,r.MZ)({type:ie.A})],Qt.prototype,"extent",null),(0,n._)([(0,r.MZ)((0,te.C)(ae.Y,"graphics"))],Qt.prototype,"graphics",void 0),(0,n._)([(0,r.MZ)((0,te.C)(se,"analyses"))],Qt.prototype,"analyses",void 0),(0,n._)([(0,r.MZ)({readOnly:!0,type:ne.A})],Qt.prototype,"heightModelInfo",null),(0,n._)([(0,r.MZ)({type:u.A.ofType(Mt.A)})],Qt.prototype,"highlights",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"interacting",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"navigating",null),(0,n._)([(0,r.MZ)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Qt.prototype,"preconditionsReady",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"typeSpecificPreconditionsReady",void 0),(0,n._)([(0,r.MZ)({type:u.A,readOnly:!0})],Qt.prototype,"layerViews",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"resolution",null),(0,n._)([(0,r.MZ)({type:Me})],Qt.prototype,"magnifier",void 0),(0,n._)([(0,r.MZ)({value:null,type:J.A})],Qt.prototype,"map",null),(0,n._)([(0,r.MZ)()],Qt.prototype,"padding",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"ready",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"_readyStateWaitingTask",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"readyState",null),(0,n._)([(0,r.MZ)({type:re.A})],Qt.prototype,"spatialReference",null),(0,n._)([(0,r.MZ)()],Qt.prototype,"stationary",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"supportsGround",void 0),(0,n._)([(0,r.MZ)({type:ce.A})],Qt.prototype,"timeExtent",null),(0,n._)([(0,r.MZ)({type:String,nonNullable:!0})],Qt.prototype,"timeZone",null),(0,n._)([(0,r.MZ)()],Qt.prototype,"tools",null),(0,n._)([(0,r.MZ)()],Qt.prototype,"toolViewManager",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"type",void 0),(0,n._)([(0,r.MZ)({type:Number})],Qt.prototype,"scale",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"updating",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"initialExtentRequired",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"initialExtent",null),(0,n._)([(0,r.MZ)()],Qt.prototype,"cursor",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"input",void 0),(0,n._)([(0,r.MZ)({type:jt,nonNullable:!0})],Qt.prototype,"navigation",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"layerViewManager",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"analysisViewManager",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"selectionManager",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"width",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"height",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"resizing",void 0),(0,n._)([(0,r.MZ)({value:null,readOnly:!0})],Qt.prototype,"size",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"suspended",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"viewEvents",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Qt.prototype,"persistableViewModels",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"_isValid",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"_readyCycleForced",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"_lockedSpatialReference",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"_userTimeZone",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"_lockedTimeZone",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"_userTimeExtent",void 0),(0,n._)([(0,r.MZ)()],Qt.prototype,"_lockedTimeExtent",void 0),(0,n._)([(0,r.MZ)({type:Ue})],Qt.prototype,"theme",void 0),(0,n._)([(0,r.MZ)({readOnly:!0,type:Ue})],Qt.prototype,"effectiveTheme",null),Qt=Xt=(0,n._)([(0,a.$)("esri.views.View")],Qt);const ei=globalThis.$arcgis;ei&&!ei.views&&Object.defineProperty(ei,"views",{configurable:!1,enumerable:!0,writable:!1,value:Qt.views});const ti=Qt;function ii(e){return e.layerViews}var ni=i(19555),ri=i(72745),oi=i(28632),si=i(42553),ai=i(53494),li=i(94967),ci=i(98006),ui=i(99809),di=i(63919),hi=i(85827),pi=i(59422);function fi(e){return function(e){return e instanceof Float32Array&&e.length>=2}(e)||function(e){return Array.isArray(e)&&e.length>=2}(e)}var mi,yi=i(19247),gi=i(1438);const vi=[0,0];let _i=mi=class extends si.A{constructor(e){super(e),this._viewpoint2D={center:(0,ri.vt)(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new ie.A,this.id=0,this.inverseTransform=(0,ui.vt)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,ui.vt)(),this.transformNoRotation=(0,ui.vt)(),this.displayMat3=(0,hi.vt)(),this.displayViewMat3=(0,hi.vt)(),this.viewMat3=(0,hi.vt)(),this.viewMat2d=(0,ci.vt)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,i=e.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=i.spatialReference}this._update()}get visibleArea(){const[e,t]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,t),this.toMap([0,0],e,t),this.toMap([0,0],e,0)]}copy(e){const t=this.size,i=this.viewpoint;return i&&t?(this.viewpoint=(0,oi.C)(i,e.viewpoint),this._set("size",(0,ni.C)(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new mi({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,i){return fi(t)?(0,ni.l0)(e,t,this.inverseTransform):(vi[0]=t,vi[1]=i,(0,ni.l0)(e,vi,this.inverseTransform))}toScreen(e,t,i){return fi(t)?(0,ni.l0)(e,t,this.transform):(vi[0]=t,vi[1]=i,(0,ni.l0)(e,vi,this.transform))}toScreenNoRotation(e,t,i){return fi(t)?(0,ni.l0)(e,t,this.transformNoRotation):(vi[0]=t,vi[1]=i,(0,ni.l0)(e,vi,this.transformNoRotation))}wrapMapCoordinate(e,t){(0,ni.C)(e,t);const[i]=t,[n]=this.center,{extent:r,spatialReference:o}=this;let{xmin:s,xmax:a}=r;if(o.isWrappable){const e=(0,oi.FT)(o)/2;s=Math.max(s,n-e),a=Math.min(a,n+e)}return(i<s||i>a)&&(e[0]=(0,gi.O7)(i,n,o)),e}getScreenTransform(e,t){const{center:i}=this._viewpoint2D,n=this._get("pixelRatio")||1,r=this._get("size");return(0,oi.GL)(e,i,r,t,0,n),e}_update(){const{center:e,spatialReference:t,scale:i,rotation:n}=this._viewpoint2D,r=this._get("pixelRatio")||1,o=this._get("size"),s=new c.A({targetGeometry:new yi.A(e[0],e[1],t),scale:i,rotation:n});if(this._set("viewpoint",s),!o||!t||!i)return;this.resolution=(0,oi.Hn)(s),this.rotation=n,this.scale=i,this.spatialReference=t,(0,ni.C)(this.center,e);const a=0!==o[0]?2/o[0]:0,l=0!==o[1]?-2/o[1]:0;(0,di.hZ)(this.displayMat3,a,0,0,0,l,0,-1,1,1);const u=(0,di.D_)(this.viewMat3),d=(0,pi.fA)(o[0]/2,o[1]/2),h=(0,pi.fA)(-o[0]/2,-o[1]/2),p=(0,ai.DF)(n);(0,di.Tl)(u,u,d),(0,di.e$)(u,u,p),(0,di.Tl)(u,u,h),(0,di.lw)(this.displayViewMat3,this.displayMat3,u);const f=(0,li.kN)(this.viewMat2d,d);return(0,li.e$)(f,f,p),(0,li.Tl)(f,f,h),(0,oi.Z7)(this.extent,s,o),(0,oi.RG)(this.transform,s,o,r),(0,li.B8)(this.inverseTransform,this.transform),(0,oi.cp)(this.transformNoRotation,s,o,r),this.worldScreenWidth=(0,oi.hV)(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};(0,n._)([(0,r.MZ)({readOnly:!0})],_i.prototype,"id",void 0),(0,n._)([(0,r.MZ)({value:1,json:{write:!0}})],_i.prototype,"pixelRatio",null),(0,n._)([(0,r.MZ)({json:{write:!0}})],_i.prototype,"size",null),(0,n._)([(0,r.MZ)()],_i.prototype,"spatialReference",void 0),(0,n._)([(0,r.MZ)({type:c.A,json:{write:!0}})],_i.prototype,"viewpoint",null),(0,n._)([(0,r.MZ)({readOnly:!0})],_i.prototype,"visibleArea",null),_i=mi=(0,n._)([(0,a.$)("esri.views.2d.ViewState")],_i);const wi=_i;var bi,Ai;let Mi=bi=class extends O.A{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new bi({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,n._)([(0,r.MZ)()],Mi.prototype,"left",void 0),(0,n._)([(0,r.MZ)()],Mi.prototype,"top",void 0),(0,n._)([(0,r.MZ)()],Mi.prototype,"right",void 0),(0,n._)([(0,r.MZ)()],Mi.prototype,"bottom",void 0),Mi=bi=(0,n._)([(0,a.$)("esri.views.2d.PaddedViewState.Padding")],Mi);let Si=Ai=class extends wi{constructor(){super(...arguments),this.paddedViewState=new wi,this._updateContent=(()=>{const e=(0,ri.vt)();return()=>{const t=this._get("size"),i=this._get("padding");if(!t||!i)return;const n=this.paddedViewState;(0,ni.hZ)(e,i.left+i.right,i.top+i.bottom),(0,ni.Re)(e,t,e),(0,ni.C)(n.size,e);const r=n.viewpoint;r&&(this.viewpoint=r)}})(),this.addHandles((0,f.wB)((()=>[this.size,this.padding]),(()=>this._updateContent()),f.OH)),this.padding=new Mi,this.size=[0,0]}set padding(e){this._set("padding",e||new Mi)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;let t=e;const i=this._get("padding");i&&(t=(0,oi.nr)(e.clone(),e,this._get("size"),i));const{targetGeometry:n,rotation:r,scale:o}=t,{x:s,y:a,spatialReference:l}=n,c=this._viewpoint2D;c.center[0]=s,c.center[1]=a,c.rotation=r,c.scale=o,c.spatialReference=l,this._update()}}clone(){return new Ai({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,n._)([(0,r.MZ)()],Si.prototype,"paddedViewState",void 0),(0,n._)([(0,r.MZ)({type:Mi})],Si.prototype,"padding",null),(0,n._)([(0,r.MZ)()],Si.prototype,"viewpoint",null),Si=Ai=(0,n._)([(0,a.$)("esri.views.2d.PaddedViewState")],Si);const Ti=Si;var Ei=i(98476),xi=i(59752);class Ci{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=(0,xi.mj)(),this._schedulerHandle=(0,f.z7)((()=>this._scheduler.updating),(()=>this.requestFrame())),this.stationary=!0,this.prepare=()=>{var e;this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),null==(null===(e=this.view.animation)||void 0===e?void 0:e.target)||(0,z.$X)(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=e=>{var t,i,n;if(this._updateRequested=!1,null!==(t=this.view)&&void 0!==t&&t.destroyed)return;const{allLayerViews:r,graphicsView:o,labelManager:s,state:{id:a}}=this.view;null!==r&&void 0!==r&&r.forEach(this._updateLayerView,this),null!=s&&(s.lastUpdateId!==a&&(s.viewChange(),s.lastUpdateId=a),s.updateRequested&&s.processUpdate(this._updateParameters)),null!=o&&(o.lastUpdateId!==a&&(o.viewChange(),o.lastUpdateId=a),o.updateRequested&&o.processUpdate(this._updateParameters)),null!==(i=this.view.graphicsTileStore)&&void 0!==i&&i.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=Ei.M.ANIMATING:this.view.interacting?this._scheduler.state=Ei.M.INTERACTING:this._scheduler.state=Ei.M.IDLE,this._scheduler.frame(e)||this._updateRequested||this._scheduler.state!==Ei.M.IDLE||null===(n=this._frameTaskHandle)||void 0===n||n.pause()}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,targetState:new Ti,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=(0,f.wB)((()=>e.stationary),(e=>{this.stationary=e,this.requestFrame()})),this._frameTaskHandle=(0,P.mg)(this),this.requestUpdate()}stop(){var e;this._frameTaskHandle&&(this._updateRequested=!1,null!==(e=this._stationaryHandle)&&void 0!==e&&e.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){var t;if(!e.attached)return void this.requestUpdate();const i=this.view.state,n=e.lastUpdateId;null!=n&&(this.stationary||e.moving)||(e.moving=!0),n!==i.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=i.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&(null===(t=e.layerViews)||void 0===t||t.forEach(this._updateLayerView,this))}}let Pi=class extends ee.A{constructor(e){super(e),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=(0,z.Tw)(),this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){var e;"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),null===(e=this._resolver)||void 0===e||e.reject(new h.A("ViewAnimation stopped")))}finish(){var e;"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),null===(e=this._resolver)||void 0===e||e.resolve())}update(e,t){t||(t=(0,z.$X)(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}};(0,n._)([(0,r.MZ)({readOnly:!0})],Pi.prototype,"done",null),(0,n._)([(0,r.MZ)({readOnly:!0,type:String})],Pi.prototype,"state",void 0),(0,n._)([(0,r.MZ)()],Pi.prototype,"target",void 0),Pi=(0,n._)([(0,a.$)("esri.views.ViewAnimation")],Pi),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(Pi||(Pi={}));const Oi=Pi;let Ii=class extends O.A{constructor(e){super(e),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(e,t){var i,n,r;if(!e)return void s.A.getLogger(this).error("#goTo()","target cannot be null or undefined");const o=new Oi;this.view.animation=o,await(0,f.C_)((()=>this.view.ready),t);const a=(0,l.A)((0,l.A)({},t),{},{animate:null!==(i=null===t||void 0===t?void 0:t.animate)&&void 0!==i?i:!(0,Rt.O)(),animationMode:null!==(n=null===t||void 0===t?void 0:t.animationMode)&&void 0!==n?n:"auto"}),{extent:c,spatialReference:u,size:d,viewpoint:h,constraints:p,padding:m,allLayerViews:y}=this.view,g=(0,oi.vt)(e,{extent:c,spatialReference:u,size:d,viewpoint:h,constraints:p,padding:m,allLayerViews:y,pickClosestTarget:null===(r=null===t||void 0===t?void 0:t.pickClosestTarget)||void 0===r||r});return null!==o&&void 0!==o&&o.update(g),this._gotoTask={},a.animate?this._gotoAnimated(g,a):this._gotoImmediate(g,a)}_gotoImmediate(e,t){const i=this._gotoTask,n=this.view.animation,r=e.then((e=>{if((0,z.Te)(t),i!==this._gotoTask)throw new h.A("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=n.target=e,n.finish()}));return this._cancellableGoTo(i,n,r,t)}_gotoAnimated(e,t){const i=this._gotoTask,n=this.view.animation;if(!n)return Promise.resolve();const r=e.then((e=>{if((0,z.Te)(t),i!==this._gotoTask)throw new h.A("view:goto-interrupted","Goto was interrupted");return n.update(e),this.view.animationManager.animate(n,this.view.viewpoint,t),n.when().then((()=>{}),(()=>{}))}));return this._cancellableGoTo(i,n,r,t)}_cancellableGoTo(e,t,i,n){const r=()=>e===this._gotoTask;return(0,z.qr)(i,n).finally((()=>{r()&&(t.done||t.stop())}))}};(0,n._)([(0,r.MZ)({constructOnly:!0})],Ii.prototype,"view",void 0),Ii=(0,n._)([(0,a.$)("esri.views.2d.GoToManager")],Ii);var Ri,Ni=i(22848),ki=i(5632),Li=i(11352),Di=i(5262);let Zi=Ri=class extends(ki.A.NumericIdentifiableMixin(O.A)){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(null==this.geometry||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,_.project)(this.geometry,this.spatialReference)}catch(e){return s.A.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(null==this.normalizedGeometry)return e;const i=e.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,Li.qz)(this.normalizedGeometry,i):(0,Li.m3)(this.normalizedGeometry,i))return e;const{coordinate:n}=function(e,t){const{spatialReference:i}=t,n=[t.x,t.y];let r,o,s,a;const l=[0,0],c=function(e){switch(e.type){case"extent":return[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]];case"polygon":return e.rings;case"polyline":return e.paths}}(e);for(let h=0;h<c.length;h++){const e=c[h];for(let t=0;t<e.length-1;t++){(0,Di.B1)(l,n,e,t);const i=(0,ni.Io)(n,l);(null==r||i<r)&&(r=i,o=[...l],s=h,a=t)}}if(null==r||!o||null==s||null==a)throw new h.A("nearest-coordinate:failed","Failed to find the nearest coordinate");const[u,d]=o;return{coordinate:new yi.A({x:u,y:d,spatialReference:i}),distance:r}}(this.normalizedGeometry,i);return n?(e.targetGeometry=n,e):e}clone(){var e,t;return new Ri({geometry:null===(e=this.geometry)||void 0===e?void 0:e.clone(),spatialReference:null===(t=this.spatialReference)||void 0===t?void 0:t.clone()})}};var Fi;(0,n._)([(0,r.MZ)({constructOnly:!0})],Zi.prototype,"geometry",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Zi.prototype,"normalizedGeometry",null),(0,n._)([(0,r.MZ)({constructOnly:!0})],Zi.prototype,"spatialReference",void 0),Zi=Ri=(0,n._)([(0,a.$)("esri.views.2d.constraints.GeometryConstraint")],Zi);let Ui=Fi=class extends(ki.A.NumericIdentifiableMixin(O.A)){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t?(this.rotationEnabled||(e.rotation=t.rotation),e):e}clone(){return new Fi({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,n._)([(0,r.MZ)()],Ui.prototype,"enabled",void 0),(0,n._)([(0,r.MZ)()],Ui.prototype,"rotationEnabled",void 0),Ui=Fi=(0,n._)([(0,a.$)("esri.views.2d.constraints.RotationConstraint")],Ui);const ji=Ui;var Gi;let zi=Gi=class extends(ki.A.NumericIdentifiableMixin(O.A)){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){var e;let t,{lods:i,minScale:n,maxScale:r,minZoom:o,maxZoom:s}=this,a=-1,l=-1,c=!1,u=!1;if(0!==n&&0!==r&&n<r&&([n,r]=[r,n]),null===(e=i)||void 0===e||!e.length)return this._set("effectiveMinScale",n),void this._set("effectiveMaxScale",r);i=i.map((e=>e.clone())),i.sort(((e,t)=>t.scale-e.scale)),i.forEach(((e,t)=>e.level=t));for(const d of i)!c&&n>0&&n>=d.scale&&(a=d.level,c=!0),!u&&r>0&&r>=d.scale&&(l=t?t.level:-1,u=!0),t=d;-1===o&&(o=0===n?0:a),-1===s&&(s=0===r?i.length-1:l),o=Math.max(o,0),o=Math.min(o,i.length-1),s=Math.max(s,0),s=Math.min(s,i.length-1),o>s&&([o,s]=[s,o]),n=i[o].scale,r=i[s].scale,i.splice(0,o),i.splice(s-o+1,i.length),i.forEach(((e,t)=>{this._lodByScale[e.scale]=e,this._scales[t]=e.scale})),this._set("effectiveLODs",i),this._set("effectiveMinZoom",o),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",n),this._set("effectiveMaxScale",r)}constrain(e,t){if(t&&e.scale===t.scale)return e;const i=this.effectiveMinScale,n=this.effectiveMaxScale,r=e.targetGeometry,o=t&&t.targetGeometry,s=0!==n&&e.scale<n,a=0!==i&&e.scale>i;if(s||a){const s=a?i:n;if(t&&o){const i=(s-t.scale)/(e.scale-t.scale);r.x=o.x+(r.x-o.x)*i,r.y=o.y+(r.y-o.y)*i}e.scale=s}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),i=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(i>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const i=Math.floor(e),n=Math.ceil(e);return t[i]+(e-i)*(t[n]-t[i])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let i,n;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let r=0;r<t.length-1;r++){if(i=t[r],n=t[r+1],n===e)return r+this.effectiveMinZoom+1;if(i>e&&n<e)return r+this.effectiveMinZoom+1-(e-n)/(i-n)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i+1)}snapToPreviousScale(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i-1)}clone(){return new Gi({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce(((t,i)=>Math.abs(i-e)<=Math.abs(t-e)?i:t),this._scales[0])),this._lodByScale[e].scale}};(0,n._)([(0,r.MZ)({readOnly:!0})],zi.prototype,"effectiveLODs",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],zi.prototype,"effectiveMinZoom",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],zi.prototype,"effectiveMaxZoom",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],zi.prototype,"effectiveMinScale",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],zi.prototype,"effectiveMaxScale",void 0),(0,n._)([(0,r.MZ)()],zi.prototype,"lods",void 0),(0,n._)([(0,r.MZ)()],zi.prototype,"minZoom",void 0),(0,n._)([(0,r.MZ)()],zi.prototype,"maxZoom",void 0),(0,n._)([(0,r.MZ)()],zi.prototype,"minScale",void 0),(0,n._)([(0,r.MZ)()],zi.prototype,"maxScale",void 0),(0,n._)([(0,r.MZ)()],zi.prototype,"snapToZoom",void 0),zi=Gi=(0,n._)([(0,a.$)("esri.views.2d.constraints.ZoomConstraint")],zi);const Vi=zi,Bi={base:null,key:"type",typeMap:{extent:ie.A,polygon:v.A}};let Hi=class extends O.A{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new u.A}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){var e,t,i;return"".concat(null===(e=this._zoom)||void 0===e?void 0:e.uid,"/").concat(null===(t=this._rotation)||void 0===t?void 0:t.uid,"/").concat(null===(i=this._geometry)||void 0===i?void 0:i.uid)}get _geometry(){var e,t;const i=this._get("_geometry");return i&&this.geometry===i.geometry&&(null===(e=this.view)||void 0===e?void 0:e.constraintsInfo.spatialReference)===i.spatialReference?i:new Zi({geometry:this.geometry,spatialReference:null===(t=this.view)||void 0===t?void 0:t.constraintsInfo.spatialReference})}get _rotation(){return new ji({rotationEnabled:this.rotationEnabled})}get _zoom(){var e;const t=this._get("_zoom"),i=this.lods||(null===(e=this.view)||void 0===e?void 0:e.constraintsInfo.lods),n=this.minZoom,r=this.maxZoom,o=this.minScale,s=this.maxScale,a=this.snapToZoom;return t&&t.lods===i&&t.minZoom===n&&t.maxZoom===r&&t.minScale===o&&t.maxScale===s&&t.snapToZoom===a?t:new Vi({lods:i,minZoom:n,maxZoom:r,minScale:o,maxScale:s,snapToZoom:a})}canZoomInTo(e){const t=this.effectiveMaxScale;return 0===t||e>=t}canZoomOutTo(e){const t=this.effectiveMinScale;return 0===t||e<=t}constrain(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),this.customConstraints.forEach((i=>i.constrain(e,t))),e}constrainByGeometry(e){return this._geometry.constrain(e),this.customConstraints.forEach((t=>{var i;return null===(i=t.applyPanConstraint)||void 0===i?void 0:i.call(t,e)})),e}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};(0,n._)([(0,r.MZ)({readOnly:!0})],Hi.prototype,"effectiveLODs",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Hi.prototype,"effectiveMinScale",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Hi.prototype,"effectiveMaxScale",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Hi.prototype,"effectiveMinZoom",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Hi.prototype,"effectiveMaxZoom",null),(0,n._)([(0,r.MZ)({types:Bi,value:null})],Hi.prototype,"geometry",null),(0,n._)([(0,r.MZ)({type:[Ni.A]})],Hi.prototype,"lods",void 0),(0,n._)([(0,r.MZ)()],Hi.prototype,"minScale",void 0),(0,n._)([(0,r.MZ)()],Hi.prototype,"maxScale",void 0),(0,n._)([(0,r.MZ)()],Hi.prototype,"minZoom",void 0),(0,n._)([(0,r.MZ)()],Hi.prototype,"maxZoom",void 0),(0,n._)([(0,r.MZ)()],Hi.prototype,"rotationEnabled",void 0),(0,n._)([(0,r.MZ)()],Hi.prototype,"snapToZoom",void 0),(0,n._)([(0,r.MZ)({type:u.A})],Hi.prototype,"customConstraints",void 0),(0,n._)([(0,r.MZ)()],Hi.prototype,"view",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Hi.prototype,"version",null),(0,n._)([(0,r.MZ)({type:Zi,readOnly:!0})],Hi.prototype,"_geometry",null),(0,n._)([(0,r.MZ)({type:ji})],Hi.prototype,"_rotation",null),(0,n._)([(0,r.MZ)({readOnly:!0,type:Vi})],Hi.prototype,"_zoom",null),Hi=(0,n._)([(0,a.$)("esri.views.2d.MapViewConstraints")],Hi);const qi=Hi;var Wi=i(62754),$i=i(7724);let Ji=class extends O.A{constructor(e){super(e),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([(0,f.wB)((()=>{var e;return null===(e=this.constraints)||void 0===e?void 0:e.version}),(e=>{this.constraints&&e&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))}),f.OH)])}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return this.state.commitProperty("id"),new yi.A({x:e[0],y:e[1],spatialReference:t})}set center(e){if(null==e)return;if(!this.ready)return void this._set("center",e);let t;try{t=this._project(e,this.state.spatialReference)}catch(T){return void s.A.getLogger(this).error(new h.A("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:T}))}const i=this.viewpoint;(0,oi.Ji)(i,i,t),this.viewpoint=i}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(e){if(null==e)return;if(!e.width||!e.height)return void s.A.getLogger(this).error(new h.A("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let t;try{t=this._project(e,this.state.spatialReference)}catch(T){return void s.A.getLogger(this).error(new h.A("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:T}))}const i=this.viewpoint;(0,oi.b)(i,i,t,this.state.size,{constraints:this.constraints}),this.viewpoint=i}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;(0,oi.$0)(t,t,e),this.viewpoint=t}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",void 0);const t=this._get("extent");return void(t&&(this._set("extent",void 0),this._set("center",t.center)))}const t=this.viewpoint;(0,oi.UR)(t,t,e),this.viewpoint=t}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(e){var t;if(null==e)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,n;try{i=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?n=new h.A("mapview:invalid-viewpoint","invalid scale value of ".concat(e.scale)):null==e.targetGeometry&&(n=new h.A("mapview:invalid-viewpoint","geometry not defined"))}catch(N){n=new h.A("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:N})}if(n)return void s.A.getLogger(this).error(n);this._scaleBeforeChangingSpatialReference=null;const r=new c.A({targetGeometry:new yi.A,scale:0,rotation:0});(0,oi.C)(r,i),null!==(t=this.constraints)&&void 0!==t&&t.constrain(r,this.state.paddedViewState.viewpoint),this.state.viewpoint=r,this._set("viewpoint",r)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){var e,t;return this.ready?null!==(e=null===(t=this.constraints)||void 0===t?void 0:t.scaleToZoom(this.scale))&&void 0!==e?e:-1:this._get("zoom")}set zoom(e){var t,i,n,r;if(!(e>=0))return;if(!this.ready){this._set("zoom",e),this._set("scale",void 0);const t=this._get("extent");return void(t&&(this._set("extent",void 0),this._set("center",t.center)))}const o=null!==(t=null===(i=this.constraints)||void 0===i?void 0:i.zoomToScale(e))&&void 0!==t?t:0;if(!o)return void this._set("zoom",-1);const s=this.viewpoint;(0,oi.UR)(s,s,o),this.viewpoint=s,this._set("zoom",null!==(n=null===(r=this.constraints)||void 0===r?void 0:r.scaleToZoom(this.scale))&&void 0!==n?n:-1)}getUserStartupOptions(e){var t,i,n;if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:r,constraints:o}=this,s=this._get("center"),a=this._get("extent"),l=this._get("scale"),c=this._get("rotation"),u=this._get("viewpoint"),d=this._get("zoom"),h=null!=d&&null!=o&&o.zoomToScale(d)||void 0;let p,f,m;const y=null===u||void 0===u?void 0:u.rotation,g=null===u||void 0===u?void 0:u.targetGeometry;"extent"===(null===g||void 0===g?void 0:g.type)?p=g:"point"===(null===g||void 0===g?void 0:g.type)&&(f=g,m=null===u||void 0===u?void 0:u.scale);const v=null!==a&&void 0!==a?a:p;return{center:null!==(t=null!==s&&void 0!==s?s:f)&&void 0!==t?t:null===v||void 0===v?void 0:v.center,rotation:null!==c&&void 0!==c?c:y,scale:(null!==(i=null!==(n=null!==l&&void 0!==l?l:h)&&void 0!==n?n:m)&&void 0!==i?i:v&&(0,oi.AU)(v,[e[0]-r.left-r.right,e[1]-r.top-r.bottom]))||void 0}}startup(e,t,i,n){var r;const o=e.targetGeometry;try{this._project(e,i)}catch(a){s.A.getLogger(this).warn(new Wi.A("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:o.toJSON(),spatialReference:i,error:a})),e.targetGeometry=n||new yi.A({x:0,y:0,spatialReference:i})}null!==(r=this.constraints)&&void 0!==r&&r.fit(e),this._set("state",new Ti({padding:this.padding,size:t,viewpoint:e})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[e,t],spatialReference:i,rotation:n,scale:r}=this.state.paddedViewState,o=new yi.A({x:e,y:t,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",n),this._set("scale",r),this._set("state",null)}changeSpatialReference(e){var t;const i=this.state.paddedViewState.clone();if(null==this._scaleBeforeChangingSpatialReference)this._scaleBeforeChangingSpatialReference=i.scale;else{const e=i.viewpoint.clone();e.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=e}const n=i.clone(),[r,a]=i.center;let l=null;try{l=this._project(new yi.A({x:r,y:a,spatialReference:i.spatialReference}),e)}catch(M){var u;(0,$i.i)()||s.A.getLogger(this).warn(new Wi.A("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:null===(u=l)||void 0===u?void 0:u.toJSON(),spatialReference:e,error:M}))}l||(l=new yi.A({x:0,y:0,spatialReference:e}));const d=(0,oi.Ji)(new c.A({targetGeometry:new yi.A,scale:0,rotation:0}),i.viewpoint,l);n.viewpoint=d;try{const t=20,r=[i.size[0]/2,i.size[1]/2],s=[r[0]+t,r[1]],a=i.toMap([0,0],s),{x:l,y:c}=this._project(new yi.A({x:a[0],y:a[1],spatialReference:i.spatialReference}),e);a[0]=l,a[1]=c,n.toScreen(a,a);const u=(0,oi.s5)(r,a,s),h=Math.hypot(a[0]-r[0],a[1]-r[1])/t;!Number.isFinite(h)||Math.abs(h)>4?(d.rotation=0,d.targetGeometry=new yi.A({x:0,y:0,spatialReference:e})):(d.scale*=h,d.scale>(0,o.A)("mapview-srswitch-adjust-rotation-scale-threshold")?d.rotation=0:d.rotation+=Number.isFinite(u)?u:0)}catch(h){}null!==(t=this._get("constraints"))&&void 0!==t&&t.constrain(d,void 0),this._get("state").viewpoint=d}resize(e,t){var i,n;if(!this.ready)return;const r=this.state;let o=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.slice();r.size=[e,t],(0,oi.XR)(o,o,s,this.state.paddedViewState.size,this.resizeAlign),o=null!==(i=null===(n=this.constraints)||void 0===n?void 0:n.constrain(o,void 0))&&void 0!==i?i:o,this.state.viewpoint=o}toMap(e){if(!this.ready)return null;const[t,i]=this.state.toMap([0,0],[e.x,e.y]),n=this.state.spatialReference;return new yi.A({x:t,y:i,spatialReference:n})}toScreen(e,t){if(!this.ready)return null;const i=this._project(e,this.state.spatialReference),n=[i.x,i.y];return!1===(null===t||void 0===t?void 0:t.pickClosestTarget)||this.state.paddedViewState.wrapMapCoordinate(n,n),this.state.toScreen(n,n),(0,be.tc)(n[0],n[1])}_project(e,t){var i;const n=(null===e||void 0===e?void 0:e.targetGeometry)||e;if(!t)return e;if(!n)return null;if(t.imageCoordinateSystem||null!==(i=n.spatialReference)&&void 0!==i&&i.imageCoordinateSystem)return e;if((0,oe.aI)(t,n.spatialReference))return e;const r=(0,_.project)(n,t);if(!r)throw new h.A("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:n,spatialReference:t});return function(e){return"esri.Viewpoint"===(null===e||void 0===e?void 0:e.declaredClass)}(e)?(e.targetGeometry=r,e):r}};function Ki(e,t){switch(t){case"primary":return"touch"===e.pointerType||0===e.button;case"secondary":return"touch"!==e.pointerType&&2===e.button;case"tertiary":return"touch"!==e.pointerType&&1===e.button}}function Yi(e,t){return t.some((t=>Ki(e,t)))}function Xi(e,t){let{dragPrimary:i,dragSecondary:n,dragTertiary:r}=t;return[{key:"primary",value:i},{key:"secondary",value:n},{key:"tertiary",value:r}].filter((t=>t.value===e)).map((e=>e.key))}(0,n._)([(0,r.MZ)({type:yi.A})],Ji.prototype,"center",null),(0,n._)([(0,r.MZ)()],Ji.prototype,"constraints",void 0),(0,n._)([(0,r.MZ)({type:ie.A})],Ji.prototype,"extent",null),(0,n._)([(0,r.MZ)({value:{top:0,right:0,bottom:0,left:0},cast:e=>(0,l.A)({top:0,right:0,bottom:0,left:0},e)})],Ji.prototype,"padding",null),(0,n._)([(0,r.MZ)()],Ji.prototype,"ready",void 0),(0,n._)([(0,r.MZ)()],Ji.prototype,"resizeAlign",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Ji.prototype,"resolution",null),(0,n._)([(0,r.MZ)({type:Number})],Ji.prototype,"rotation",null),(0,n._)([(0,r.MZ)({type:Number})],Ji.prototype,"scale",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Ji.prototype,"state",void 0),(0,n._)([(0,r.MZ)({type:c.A})],Ji.prototype,"viewpoint",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Ji.prototype,"visibleArea",null),(0,n._)([(0,r.MZ)()],Ji.prototype,"zoom",null),Ji=(0,n._)([(0,a.$)("esri.views.2d.ViewStateManager")],Ji);class Qi extends ze.l{constructor(e,t){super(!0),this._view=e,this.registerIncoming("double-click",t,(e=>this._handleDoubleClick(e,t)))}_handleDoubleClick(e,t){Ki(e.data,"primary")&&(e.stopPropagation(),t?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}}class en extends ze.l{constructor(e,t,i){super(!0),this.view=e,this.pointerType=t,this.registerIncoming("double-tap-drag",i,(e=>this._handleDoubleTapDrag(e)))}_handleDoubleTapDrag(e){const{data:t}=e,{pointerType:i}=t;if(i!==this.pointerType)return;e.stopPropagation();const{action:n,delta:r}=t,{view:o}=this,{mapViewNavigation:s}=o;switch(n){case"begin":{const{scale:e}=o;this._startScale=e,this._currentScale=e,this._previousDelta=r,s.begin();break}case"update":{if(this._previousDelta.y===r.y)return;this._previousDelta=r;const e=1.015**r.y,t=this._startScale*e,i=t/this._currentScale;s.setViewpointImmediate(i),this._currentScale=t;break}case"end":{const{constraints:e}=o,{effectiveLODs:t,snapToZoom:i}=e;if(!i||!t)return void s.end();const n=e.snapScale(this._currentScale),a=(r.y>0?Math.max(n,e.snapToPreviousScale(this._startScale)):Math.min(n,e.snapToNextScale(this._startScale)))/this._currentScale;s.zoom(a).then((()=>{s.end()}));break}}}}class tn{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){const t=e.data,i=t.pointers.size;switch(t.action){case"start":this._currentCount=i,this._emitStart(e);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(e);break;case"update":this._emitUpdate(e);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(e);break;case"end":this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){var t,i;this._startEvent=e,(null===(t=(i=this._callbacks).condition)||void 0===t?void 0:t.call(i,this._currentCount,e))&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){var t,i;(null===(t=(i=this._callbacks).condition)||void 0===t?void 0:t.call(i,this._currentCount,e))&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){var t,i;null!==(t=(i=this._callbacks).condition)&&void 0!==t&&t.call(i,this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}}class nn extends ze.l{constructor(e,t,i){super(!0),this.view=e,this.pointerActions=t,this.registerIncoming("drag",i,(e=>this._handleDrag(e))),this.registerIncoming("pointer-down",(()=>this.stopMomentumNavigation()))}onInstall(e){super.onInstall(e),this._dragEventSeparator=new tn({start:(e,t)=>{this.view.mapViewNavigation.pan.begin(this.view,t.data),t.stopPropagation()},update:(e,t)=>{this.view.mapViewNavigation.pan.update(this.view,t.data),t.stopPropagation()},end:(e,t)=>{this.view.mapViewNavigation.pan.end(this.view,t.data),t.stopPropagation()},condition:(e,t)=>1===e&&Yi(t.data,this.pointerActions)})}_handleDrag(e){const t=this.view.mapViewNavigation;t.pinch.zoomMomentum||t.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class rn extends ze.l{constructor(e,t,i){super(!0),this._view=e,this.pointerActions=t;const n=this._view.mapViewNavigation;this._dragEventSeparator=new tn({start:(e,t)=>{n.rotate.begin(this._view,t.data),t.stopPropagation()},update:(e,t)=>{n.rotate.update(this._view,t.data),t.stopPropagation()},end:(e,t)=>{n.rotate.end(),t.stopPropagation()},condition:(e,t)=>1===e&&Yi(t.data,this.pointerActions)}),this.registerIncoming("drag",i,(e=>this._dragEventSeparator.handle(e)))}}var on=i(20664);function sn(e){let t=e*e;return e<0&&(t*=-1),t}class an extends ze.l{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new X.A,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",(e=>this._handleGamePadEvent(e))),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([(0,f.wB)((()=>{var e;return null===(e=this._view.navigation.gamepad)||void 0===e?void 0:e.enabled}),(e=>{e?(this._handle.resume(),this._frameTask||(this._frameTask=(0,P.mg)({update:e=>this._frameUpdate(e.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))}),f.Vh)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(e){var t;const i=this._view.navigation.gamepad.device;i&&e.data.device!==i||this._currentDevice&&this._currentDevice!==e.data.device||("end"===e.data.action?(this._currentDevice=null,function(e){e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0}(this._transformation)):(this._currentDevice=e.data.device,function(e,t,i){const n=i,r=e.state,o=e.device,s="forward-down"===t.tiltDirection?1:-1;"standard"===o.deviceType?(n.translation[0]=sn(r.axes[0]),n.translation[1]=sn(r.axes[1]),n.translation[2]=sn(r.buttons[7])-sn(r.buttons[6]),n.heading=sn(r.axes[2]),n.tilt=sn(r.axes[3])):"spacemouse"===o.deviceType&&(n.translation[0]=1.2*sn(r.axes[0]),n.translation[1]=1.2*sn(r.axes[1]),n.translation[2]=2*-sn(r.axes[2]),n.heading=1.2*sn(r.axes[5]),n.tilt=1.2*sn(r.axes[3])),n.tilt*=s,(0,on.h)(n.translation,n.translation,1)}(e.data,this._view.navigation.gamepad,this._transformation)),null===(t=this._frameTask)||void 0===t||t.resume())}_frameUpdate(e){var t;const i=this._transformation;if(function(e){return 0===e.translation[0]&&0===e.translation[1]&&0===e.translation[2]&&0===e.heading&&0===e.tilt&&0===e.zoom}(i))return void(null===(t=this._frameTask)||void 0===t||t.pause());const n=this._view.viewpoint.clone(),r=this._view.navigation.gamepad.velocityFactor,o=cn*r*e;(0,oi.aA)(n,n,[i.translation[0]*o,-i.translation[1]*o]);const s=1+i.translation[2]*un*e,a=this._view.constraints.rotationEnabled?-i.heading*ln*e:0,l=this._view.size,c=[l[0]/2,l[1]];(0,oi.WK)(n,n,s,a,c,l);const u=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=u}}const ln=.06,cn=.7,un=6e-4;function dn(e){const t=()=>e("visible"===document.visibilityState);return document.addEventListener("visibilitychange",t),(0,C.hA)((()=>document.removeEventListener("visibilitychange",t)))}class hn extends ze.l{constructor(e,t,i){super(!0),this.view=e,this.keys=t,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=e=>{const t=this._keyMap[e.data.key];if(e.modifiers.has("Meta")||e.modifiers.has("Control"))return void this._stopMovement();if(null==t)return;e.stopPropagation(),e.preventDefault();const i="key-down"===e.type;if(this._pressedKeys[i?"add":"delete"](t),i){if(this._direction===t)return;this._direction=t,this._isSticky=!1,this._setTimeout((()=>{this._isSticky&&this._handlePopKey()}))}else{const e=void 0===this._timeout,t=this._pressedKeys.size>0;e||t?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),null==this._direction&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[t.left]:"left",[t.right]:"right",[t.up]:"up",[t.down]:"down"},this.registerIncoming("key-down",i,this._handleKey),this.registerIncoming("key-up",i,this._handleKey),this.registerIncoming("blur",i,this._stopMovement),this._visibilityHandle=dn((e=>e?null:this._stopMovement()))}onUninstall(){var e;this._stopMovement(),null===(e=this._visibilityHandle)||void 0===e||e.remove()}get _direction(){return this._currentDirection}set _direction(e){const t=null!=this._currentDirection;if(null!=e){if(t||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else t&&this.view.mapViewNavigation.stop();this._currentDirection=e}_setTimeout(e){clearTimeout(this._timeout),this._timeout=void 0===e?void 0:setTimeout((()=>{this._timeout=void 0,e()}),this._stickyKeyDuration)}}class pn extends ze.l{constructor(e,t,i){super(!0),this.view=e,this.keys=t,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(t),this.registerIncoming("key-down",i,(e=>this._handleKeyDown(e))),this.registerIncoming("key-up",i,(e=>this._handleKeyUp(e))),this.registerIncoming("blur",i,(()=>this._handleStop())),this._visibilityHandle=dn((e=>e?null:this._handleStop()))}onUninstall(){var e;null!==(e=this._visibilityHandle)&&void 0!==e&&e.remove(),this._handleStop()}_addKeysMapping(e){this._addKeyMapping(e.clockwise,"clockwise"),this._addKeyMapping(e.counterClockwise,"counterClockwise"),this._addKeyMapping(e.reset,"reset")}_addKeyMapping(e,t){for(const i of e)this._keyToDirection.set(i,t)}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,t){const i=e.modifiers;if(i.size>0&&!i.has("Shift")||!this.view.constraints.rotationEnabled)return;const n=this._keyToDirection.get(e.data.key);if(this._pressed=null!=n,this._pressed){if(e.preventDefault(),t)switch(this.view.mapViewNavigation.begin(),n){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}}var fn;!function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"}(fn||(fn={}));class mn extends ze.l{constructor(e,t,i){super(!0),this.view=e,this.keys=t,this._keysToZoomAction={},this.registerIncoming("key-down",i,(e=>this._handleKeyDown(e))),t.zoomIn.forEach((e=>this._keysToZoomAction[e]=fn.IN)),t.zoomOut.forEach((e=>this._keysToZoomAction[e]=fn.OUT))}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const t=e.modifiers;if(t.size>0&&!t.has("Shift"))return;const{key:i}=e.data;if(!(i in this._keysToZoomAction))return;const n=this._keysToZoomAction[i],{mapViewNavigation:r}=this.view;let o=null;switch(n){case fn.IN:o=r.zoomIn();break;case fn.OUT:o=r.zoomOut();break;default:return}r.begin(),o.then((()=>r.end())),e.stopPropagation()}}class yn extends ze.l{constructor(e,t){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",t,(e=>this._handleMouseWheel(e)))}_handleMouseWheel(e){if("zoom"!==this._view.navigation.actionMap.mouseWheel)return;if(e.preventDefault(),e.stopPropagation(),!this._canZoom)return;const t=this._view.mapViewNavigation,{x:i,y:n,deltaY:r}=e.data,o=1/.6**(1/60*r),s=t.zoom(o,[i,n]);s&&(this._canZoom=!1,s.catch((()=>{})).then((()=>{this._canZoom=!0,t.end()})))}}class gn extends ze.l{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",(e=>this._handleDrag(e))),this.registerIncoming("pointer-down",(()=>this._stopMomentumNavigation()));const t=this.view.mapViewNavigation;this._dragEventSeparator=new tn({start:(e,i)=>{t.pinch.begin(this.view,i.data),i.stopPropagation()},update:(e,i)=>{t.pinch.update(this.view,i.data),i.stopPropagation()},end:(e,i)=>{t.pinch.end(this.view),i.stopPropagation()},condition:e=>e>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}function vn(e){const t=e.native;return t?{buttons:t.buttons.map((e=>e.pressed?e.value||1:0)),axes:t.axes.map((t=>function(e,t){const i=Math.abs(e);return i<t?0:Math.sign(e)*(i-t)/(1-t)}(t,e.axisThreshold)))}:{buttons:[],axes:[]}}class _n{constructor(e,t){this._element=e,this._input=t,this._hasEventListeners=!1,this._onConnectGamepad=e=>{this._connectGamepad(e.gamepad)},this._onDisconnectGamepad=e=>{const t=e.gamepad,i=t.index,n=this._inputDevices[i];n&&(this._emitGamepadEvent(t,vn(n),!1),this._inputDevices.splice(i,1),this._latestUpdate.splice(i,1),this._input.gamepad.devices.remove(n),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const i="getGamepads"in window.navigator,n=window.isSecureContext;this.supported=i&&n,this.supported&&(bn((e=>this._connectGamepad(e))),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){const t=new Tt(e);"unknown"!==t.deviceType&&(this._inputDevices[e.index]=t,this._input.gamepad.devices.add(t)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this._frameTask&&(this._frameTask=(0,P.mg)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const e=document.hasFocus(),t=this._element.contains(document.activeElement),i="document"===this._input.gamepad.enabledFocusMode&&!e||"view"===this._input.gamepad.enabledFocusMode&&!t;bn((e=>{const t=this._inputDevices[e.index];if(!t)return;const n=this._latestUpdate[e.index],r=vn(t),o=i||function(e){for(let t=0;t<e.axes.length;t++)if(0!==e.axes[t])return!1;for(let t=0;t<e.buttons.length;t++)if(0!==e.buttons[t])return!1;return!0}(r);if(n){if(n.timestamp===e.timestamp)return;if(!n.active&&o)return;if(function(e,t){if(e.axes.length!==t.axes.length)return!1;if(e.buttons.length!==t.buttons.length)return!1;for(let i=0;i<e.axes.length;i++)if(e.axes[i]!==t.axes[i])return!1;for(let i=0;i<e.buttons.length;i++)if(e.buttons[i]!==t.buttons[i])return!1;return!0}(n.state,r))return}this._emitGamepadEvent(e,r,!o)}))}_emitGamepadEvent(e,t,i){const n=this._latestUpdate[e.index],r=n&&n.active;if(!r&&!i)return;const o=!r&&i?"start":r&&i?"update":"end";this._latestUpdate[e.index]={timestamp:e.timestamp,state:t,active:i},this._callback&&this._callback({device:this._inputDevices[e.index],state:t,action:o})}}function wn(e){if(!e)return!1;if(!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function bn(e){for(const t of navigator.getGamepads())wn(t)&&e(t)}const An=(0,o.A)("edge"),Mn=(0,o.A)("chrome"),Sn=(0,o.A)("ff"),Tn=(0,o.A)("safari"),En="esri-view-surface",xn={touchNone:"".concat(En,"--touch-none"),touchPan:"".concat(En,"--touch-pan")};class Cn{constructor(e,t){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new _n(e,t),this._gamepadSource.onEvent=e=>this._callback("gamepad",e)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach((e=>this._releasePointerCaptureSafe(e))),this._activePointerCaptures.clear(),this._gamepadSource=(0,p.pR)(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){var t;for(const i in this._active)if(!e||!e.has(i)){const e=this._active[i];this._element.removeEventListener(Pn[i],e),delete this._active[i]}e&&e.forEach((e=>{if(!this._active[e]&&Pn[e]){const t=(this._eventHandlers[e]||this._handleDefault).bind(this,e);this._element.addEventListener(Pn[e],t),this._active[e]=t}})),this._gamepadSource&&(this._gamepadSource.hasEventListeners=null!==(t=null===e||void 0===e?void 0:e.has("gamepad"))&&void 0!==t&&t)}setPointerCapture(e,t){t?this._setPointerCaptureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?xn.touchNone:xn.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?xn.touchPan:xn.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(xn.touchNone),this._element.classList.remove(xn.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch(t){}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch(se){}}_updateNormalizedPointerLikeEvent(e,t){const i=(0,ht.Uo)(this._element,e);return Cn.test.disableSubpixelCoordinates&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),t.x=i.x,t.y=i.y,t}_handleKey(e,t){const{key:i}=t;i&&"key-up"===e&&this._keyDownState.delete(i);const n={native:t,key:i,repeat:!!i&&this._keyDownState.has(i)};i&&"key-down"===e&&this._keyDownState.add(n.key),this._callback(e,n)}_handlePointer(e,t){const i=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});this._callback(e,i)}_handlePointerPreventDefault(e,t){const i=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});t.preventDefault(),this._callback(e,i)}_getDeltaFromTrackpadOrMouseWheel(e){return e.shiftKey&&(0,o.A)("mac")&&0===e.deltaY?e.deltaX:e.deltaY}_handleMouseWheel(e,t){let i=this._getDeltaFromTrackpadOrMouseWheel(t);switch(t.deltaMode){case 0:An&&(i=i/document.documentElement.clientHeight*600);break;case 1:i*=30;break;case 2:i*=900}An?i*=.7:Mn||Tn?i*=.6:Sn&&(i*=1.375);const n=Math.abs(i);n>100&&(i=i/n*200/(1+Math.exp(-.02*(n-100))));const r=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,deltaY:i});this._callback(e,r)}_handlePointerCaptureLost(e,t){this._activePointerCaptures.delete(t.pointerId),this._handleDefault(e,t)}_handleDefault(e,t){const i={native:t};t.preventDefault(),this._callback(e,i)}_preventAltKeyDefault(e){"Alt"===e.key&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}}Cn.test={disableSubpixelCoordinates:!1};const Pn={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class On extends ze.l{constructor(){super(!0),this.registerIncoming("context-menu",(e=>e.data.native.preventDefault()))}}const In=300,Rn=1.5,Nn=6,kn=6,Ln=500,Dn=250,Zn=10,Fn=350,Un=35;function jn(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function Gn(e){const{native:t}=e,{pointerId:i,button:n,pointerType:r}=t;return"mouse"===r?"".concat(i,":").concat(n):"".concat(r)}class zn extends ze.l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zn,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fn,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Un,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:je.p;super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=t,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=n,this._clock=r,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,be.tc)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new tn({start:(e,t)=>this._dragStart(e,t),update:(e,t)=>this._dragUpdate(t),end:(e,t)=>this._dragEnd(t)}),this.registerIncoming("drag",(e=>this._dragEventSeparator.handle(e))),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e))),this.registerIncoming("pointer-up",(()=>this._handlePointerUp()))}onUninstall(){this._pointerState.forEach((e=>{e.doubleTapTimeout=(0,p.xt)(e.doubleTapTimeout)}))}get hasPendingInputs(){for(const e of this._pointerState.values())if(null!=e.doubleTapTimeout)return!0;return!1}_clearPointerDown(e){const t=this._pointerState.get(e);t&&(t.doubleTapTimeout=(0,p.xt)(t.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_dragStart(e,t){if(!this._doubleTapDragReady||1!==e)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:i,modifiers:n}=t,{center:r}=i;this._dragStartCenter=r;const o=Vn("begin",(0,be.tc)(0,0),i);this._doubleTapDrag.emit(o,void 0,n),t.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;const{data:t,modifiers:i}=e,{center:n}=t,r=Vn("update",(0,be.tc)(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),t);this._doubleTapDrag.emit(r,void 0,i),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;const{data:t,modifiers:i}=e,{center:n}=t,r=Vn("end",(0,be.tc)(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),t);this._doubleTapDrag.emit(r,void 0,i),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:t}=e,i=Gn(t),n=this._pointerState.get(i),{pointerType:r}=t.native;if(n){const o="touch"===r?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(i),jn(n.event.data,t)>o?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){const{data:t}=e,{pointerType:i}=t.native,n=Gn(t),r="touch"===i?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout((()=>this._clearPointerDown(n)),r);this._pointerState.set(n,{event:e,doubleTapTimeout:o}),this.refreshHasPendingInputs()}}function Vn(e,t,i){const{button:n,buttons:r,pointer:o,pointers:s,pointerType:a,timestamp:l}=i;return{action:e,delta:t,button:n,buttons:r,pointer:o,pointers:s,pointerType:a,timestamp:l}}var Bn,Hn=i(91417);class qn extends ze.l{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,t,i,n){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:t.buttons,timestamp:n,pointers:Jn(this._activePointerMap),pointer:t,angle:i.angle,radius:i.radius,center:i.center}}_addPointer(e){const t=e.native.pointerId,i=$n(this._activePointerMap).angle,n={event:e,initialAngle:0,lastAngle:0};this._activePointerMap.set(t,n);const r=Kn(n,Wn(this._activePointerMap));n.initialAngle=r,n.lastAngle=r,this._updatePointerAngles(i)}_updatePointer(e){if(e&&null==e.x&&null==e.y)return;const t=e.native.pointerId,i=this._activePointerMap.get(t);i?i.event=e:this._addPointer(e)}_removePointer(e){const t=$n(this._activePointerMap).angle;this._activePointerMap.delete(e),this._updatePointerAngles(t)}_updatePointerAngles(e){const t=$n(this._activePointerMap);this._activePointerMap.forEach((i=>{i.initialAngle=Kn(i,t)-e,i.lastAngle=Kn(i,t)-e}))}_emitEvent(e,t,i){const n=$n(this._activePointerMap);this._drag.emit(this._createPayload(e,t,n,i),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){const t=e.data.native.pointerId,i=(0,Hn.l5)(e.timestamp);this._activePointerMap.get(t)&&(1===this._activePointerMap.size?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",e.data,i),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(t)):(this._removePointer(t),this._emitEvent("removed",e.data,(0,Hn.l5)(e.timestamp))))}_handlePointerDrag(e){const t=e.data,i=t.currentEvent,n=(0,Hn.l5)(e.timestamp);switch(t.action){case"start":case"update":this._isDragging?this._activePointerMap.has(i.native.pointerId)?(this._updatePointer(i),!this._isCurrentDragSuppressed&&this._emitEvent("update",i,n)):(this._addPointer(i),this._emitEvent("added",i,n),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(i),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",i,n))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}}function Wn(e){const t=[];return e.forEach((e=>{t.push((0,be.tc)(e.event.x,e.event.y))})),function(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:(0,be.tc)()},0===e.length)return t;if(1===e.length)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(2===e.length){const[i,n]=e,[r,o]=[n.x-i.x,n.y-i.y];return t.radius=Math.sqrt(r*r+o*o)/2,t.center.x=(i.x+n.x)/2,t.center.y=(i.y+n.y)/2,t}let i=0,n=0;for(let _=0;_<e.length;_++)i+=e[_].x,n+=e[_].y;i/=e.length,n/=e.length;const r=e.map((e=>e.x-i)),o=e.map((e=>e.y-n));let s=0,a=0,l=0,c=0,u=0,d=0,h=0;for(let _=0;_<r.length;_++){const e=r[_],t=o[_],i=e*e,n=t*t;s+=i,a+=n,l+=e*t,c+=i*e,u+=n*t,d+=e*n,h+=t*i}const p=.5*(c+d),f=.5*(u+h),m=s*a-l*l,y=(p*a-f*l)/m,g=(s*f-l*p)/m,v=(0,be.tc)(y+i,g+n);return{radius:Math.sqrt(y*y+g*g+(s+a)/e.length),center:v}}(t)}function $n(e){const t=Wn(e);let i=0;return e.forEach((e=>{let n=Kn(e,t),r=n-e.lastAngle;for(;r>Math.PI;)r-=2*Math.PI;for(;r<-Math.PI;)r+=2*Math.PI;n=e.lastAngle+r,e.lastAngle=n;const o=n-e.initialAngle;i+=o})),i/=e.size||1,{angle:i,radius:t.radius,center:t.center}}function Jn(e){const t=new Map;return e.forEach(((e,i)=>t.set(i,e.event))),t}function Kn(e,t){const i=e.event,n=i.x-t.center.x,r=i.y-t.center.y;return Math.atan2(r,n)}!function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"}(Bn||(Bn={}));class Yn extends ze.l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zn,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fn,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Un,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:je.p;super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=t,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=n,this._clock=r,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach((e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()})),super.onUninstall()}_handlePointerDown(e){const t=e.data,i=Gn(t);if(!this._pointerState.has(i)){const e={downButton:t.native.button,x:t.x,y:t.y,immediateDoubleClick:null};this._pointerState.set(i,e),this.startCapturingPointer(t.native)}}_handlePointerUp(e){const t=e.data,i=Gn(t),n=this._pointerState.get(i);if(n&&n.downButton===t.native.button){const i=n.immediateDoubleClick,r="touch"===e.data.native.pointerType?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;i?(i.timeoutHandle.remove(),jn(i,e.data)>r?this._startImmediateDoubleClick(e,n):(this._immediateDoubleClick.emit(e.data,void 0,i.modifiers),this._removeState(t))):jn(n,e.data)>r?this._removeState(t):this._startImmediateDoubleClick(e,n)}}_startImmediateDoubleClick(e,t){const i="touch"===e.data.native.pointerType?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;t.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout((()=>this._removeState(e.data)),i)}}_removeState(e){const t=Gn(e);this._pointerState.delete(t),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}}class Xn extends ze.l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rn,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nn,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:kn,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ln,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:je.p;super(!1),this._maximumClickDelay=e,this._movementUntilMouseDrag=t,this._movementUntilPenDrag=i,this._movementUntilTouchDrag=n,this._holdDelay=r,this._clock=o,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e))),this.registerIncoming("pointer-up",(e=>this._handlePointerLoss(e,"pointer-up"))),this.registerIncoming("pointer-capture-lost",(e=>this._handlePointerLoss(e,"pointer-capture-lost"))),this.registerIncoming("pointer-cancel",(e=>this._handlePointerLoss(e,"pointer-cancel"))),this._moveHandle=this.registerIncoming("pointer-move",(e=>this._handlePointerMove(e))),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach((e=>{e.holdTimeout=(0,p.xt)(e.holdTimeout)})),super.onUninstall()}_handlePointerDown(e){const t=e.data,i=t.native.pointerId;let n=null;0===this._pointerState.size&&(n=this._clock.setTimeout((()=>{const t=this._pointerState.get(i);if(t){if(!t.isDragging){const i=t.previousEvent;this._pointerHold.emit(i,void 0,e.modifiers),t.holdEmitted=!0}t.holdTimeout=null}}),this._holdDelay));const r={startEvent:t,previousEvent:t,startTimestamp:e.timestamp,isDragging:!1,downButton:t.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(i,r),this.startCapturingPointer(t.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_handlePointerMove(e){const t=e.data,i=t.native.pointerId,n=this._pointerState.get(i);n&&(n.isDragging?this._pointerDrag.emit(Qn("update",n,t),void 0,n.modifiers):function(e,t){const i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}(t,n.startEvent)>this._getDragThreshold(t.native.pointerType)&&this._startDragging(e),n.previousEvent=t)}_getDragThreshold(e){switch(e){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(e){const t=e.data,i=t.native.pointerId;this._pointerState.forEach((n=>{null!=n.holdTimeout&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=e.modifiers,n.isDragging=!0,i===n.startEvent.native.pointerId?this._pointerDrag.emit(Qn("start",n,t)):this._pointerDrag.emit(Qn("start",n,n.previousEvent),e.timestamp))}))}_handlePointerLoss(e,t){const i=e.data,n=i.native.pointerId,r=this._pointerState.get(n);r&&(null!=r.holdTimeout&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging?this._pointerDrag.emit(Qn("end",r,"pointer-up"===t?i:r.previousEvent),void 0,r.modifiers):"pointer-up"===t&&r.downButton===i.native.button&&e.timestamp-r.startTimestamp<=this._maximumClickDelay&&!r.holdEmitted&&this._immediateClick.emit(i),this._pointerState.delete(n),this.stopCapturingPointer(i.native),0===this._pointerState.size&&this._moveHandle.pause())}}function Qn(e,t,i){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:i}}class er extends ze.l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zn,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fn,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Un,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:je.p;super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=t,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=n,this._clock=r,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",(e=>this._handleImmediateClick(e))),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e)))}onUninstall(){this._pointerState.forEach((e=>e.doubleClickTimer=(0,p.xt)(e.doubleClickTimer)))}get hasPendingInputs(){for(const e of this._pointerState.values())if(null!=e.doubleClickTimer)return!0;return!1}_clearDoubleClickTimer(e,t){const i=this._pointerState.get(e);i&&(i.doubleClickTimer=(0,p.xt)(i.doubleClickTimer),t&&this._click.emit(i.event.data,void 0,i.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const t=this._pointerState.get(e);1===t.pointerDownCount&&this._click.emit(t.event.data,void 0,t.event.modifiers),t.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_handleImmediateClick(e){const t=e.data,{pointerType:i}=t.native,n=function(e){const{pointerId:t,pointerType:i,button:n}=e.native;return"mouse"===i?"".concat(t,":").concat(n):"".concat(i)}(t);if(!this._pointerState.has(n))return void this._startClick(e);const r=this._pointerState.get(n),{data:o,modifiers:s}=r.event,a="touch"===i?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;jn(o,t)>a?(this._clearDoubleClickTimer(n,!0),this._startClick(e)):(this._clearDoubleClickTimer(n,!1),2===r.pointerDownCount&&this._doubleClick.emit(o,void 0,s))}_handlePointerDown(e){const t=Gn(e.data),i=this._pointerState.get(t);i&&(i.pointerDownCount+=1)}_startClick(e){const{data:t}=e,{native:{pointerType:i}}=t,n=Gn(t),r="touch"===i?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout((()=>this._doubleClickTimeoutExceeded(n)),r);this._pointerState.set(n,{event:e,doubleClickTimer:o,pointerDownCount:1}),this.refreshHasPendingInputs()}}const tr="Control",ir={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},nr={zoomIn:["=","+"],zoomOut:["-","_"]},rr={clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]},or=Symbol("handles");let sr=class extends O.A{initialize(){const e=()=>{var e;return null===(e=this.view)||void 0===e?void 0:e.ready};this.addHandles([(0,f.z7)((()=>!e()),(()=>this._disconnect())),(0,f.z7)(e,(()=>this._connect()))])}destroy(){this._disconnect()}get latestPointerType(){var e;return null===(e=this._inputManager)||void 0===e?void 0:e.latestPointerType}get latestPointerLocation(){var e;return null===(e=this._inputManager)||void 0===e?void 0:e.latestPointerLocation}get multiTouchActive(){var e,t;return null!==(e=null===(t=this._inputManager)||void 0===t?void 0:t.multiTouchActive)&&void 0!==e&&e}isModifierKeyDown(e){var t,i;return null!==(t=null===(i=this._inputManager)||void 0===i?void 0:i.isModifierKeyDown(e))&&void 0!==t&&t}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(or),this._inputManager=(0,p.pR)(this._inputManager)}_connect(){const e=this.view.surface,t=new Cn(e,this.view.input),i=[new Yn,new Xn,new er,new qn(this.view.navigation),new zn],n=new V.e({eventSource:t,recognizers:i}),r=new nn(this.view,["primary"]),o=new rn(this.view,["secondary"]);n.installHandlers("prevent-context-menu",[new On],V.o.INTERNAL),n.installHandlers("navigation",[new gn(this.view),new an(this.view),new yn(this.view),new Qi(this.view),new Qi(this.view,[tr]),r,new hn(this.view,ir),new mn(this.view,nr),new pn(this.view,rr),o,new en(this.view,"touch")],V.o.INTERNAL),this.view.viewEvents.connect(n),this._source=t,this._inputManager=n,this.addHandles([(0,f.wB)((()=>{var e;return null===(e=this.view)||void 0===e||null===(e=e.navigation)||void 0===e?void 0:e.browserTouchPanEnabled}),(e=>{this._source&&(this._source.browserTouchPanningEnabled=!e)}),f.Vh),(0,f.wB)((()=>{const{actionMap:e}=this.view.navigation;return{panActions:Xi("pan",e),rotateActions:Xi("rotate",e)}}),(e=>{let{panActions:t,rotateActions:i}=e;r.pointerActions=t,o.pointerActions=i}),f.pc)],or)}get test(){}};(0,n._)([(0,r.MZ)()],sr.prototype,"view",void 0),(0,n._)([(0,r.MZ)()],sr.prototype,"latestPointerType",null),(0,n._)([(0,r.MZ)()],sr.prototype,"latestPointerLocation",null),(0,n._)([(0,r.MZ)()],sr.prototype,"multiTouchActive",null),sr=(0,n._)([(0,a.$)("esri.views.2d.input.MapViewInputManager")],sr);const ar=sr;let lr=class extends O.A{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),null==this._timer&&(this._timer=setInterval((()=>{performance.now()-this._timestamp>=160&&this.clear()}),160))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};(0,n._)([(0,r.MZ)()],lr.prototype,"_timer",void 0),(0,n._)([(0,r.MZ)()],lr.prototype,"stationary",null),lr=(0,n._)([(0,a.$)("esri.views.2d.support.StationaryManager")],lr);const cr=e=>{let t=class extends e{constructor(){super(...arguments),this.fullOpacity=1,this.stateManager=new Ji({constraints:new qi({view:this})}),this.goToManager=new Ii({view:this}),this.stationaryManager=new lr,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new Ci(this),this.inputManager=new ar({view:this}),this.viewEvents=new qe(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([(0,f.wB)((()=>this.viewpoint),(()=>this.stationaryManager.flip()),f.OH),this.on("resize",(e=>this.stateManager.resize(e.width,e.height)))])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){var e,t;return null!==(e=null===(t=this.stateManager)||void 0===t?void 0:t.extent)&&void 0!==e?e:null}set extent(e){this.stateManager.extent=e}get state(){return this.stateManager.state}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),e!==this.animationManager.animation&&this.animationManager.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e);const i=()=>{var t;this.destroyed||e===this._get("animation")&&(this._set("animation",null),null===(t=this.frameTask)||void 0===t||t.requestFrame())};e.when(i,i)}get constraints(){var e;return null===(e=this.stateManager)||void 0===e?void 0:e.constraints}set constraints(e){e.view=this;const t=this.stateManager.constraints;this.stateManager.constraints=e,null===t||void 0===t||t.destroy()}get padding(){var e;return null===(e=this.stateManager)||void 0===e?void 0:e.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(e){this.stateManager.resizeAlign=e}get rotation(){var e;return null!==(e=this.stateManager.rotation)&&void 0!==e?e:0}set rotation(e){const{rotationEnabled:t}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=e,this.constraints.rotationEnabled=t}get viewpoint(){var e;return null!==(e=this.stateManager.viewpoint)&&void 0!==e?e:null}set viewpoint(e){this.stateManager.viewpoint=e,this.frameTask.requestFrame()}on(e,t,i,n){return this.inputManager&&this.viewEvents.on(e,t,i,n)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}goTo(e,t){return this.goToManager.goTo(e,t)}};return(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"animationManager",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"fullOpacity",void 0),(0,n._)([(0,r.MZ)()],t.prototype,"stateManager",void 0),(0,n._)([(0,r.MZ)()],t.prototype,"constraintsInfo",null),(0,n._)([(0,r.MZ)()],t.prototype,"extent",null),(0,n._)([(0,r.MZ)()],t.prototype,"goToManager",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"state",null),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"mapViewNavigation",void 0),(0,n._)([(0,r.MZ)()],t.prototype,"renderingOptions",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"interacting",null),(0,n._)([(0,r.MZ)()],t.prototype,"stationary",null),(0,n._)([(0,r.MZ)()],t.prototype,"animation",null),(0,n._)([(0,r.MZ)({type:qi})],t.prototype,"constraints",null),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"inputManager",void 0),(0,n._)([(0,r.MZ)()],t.prototype,"padding",null),(0,n._)([(0,r.MZ)()],t.prototype,"resizeAlign",null),(0,n._)([(0,r.MZ)()],t.prototype,"rotation",null),(0,n._)([(0,r.MZ)({readOnly:!0})],t.prototype,"viewEvents",void 0),(0,n._)([(0,r.MZ)({type:c.A})],t.prototype,"viewpoint",null),t=(0,n._)([(0,a.$)("esri.views.Viewport2DMixin")],t),t};var ur=i(12294);class dr{constructor(e){this._view=e,this.viewpoint=new c.A({targetGeometry:new yi.A,scale:0,rotation:0})}get view(){return this._view}get size(){const[e,t]=this._view.size;return Math.sqrt(e*e+t*t)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return(0,oi.ri)(this.center.spatialReference)}pixelsPerPanAtZoom(e){return 1/(e*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(e){return 1/(e*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(e,t){t.pan=(0,ur.Io)(this.center,e.center);let i=Math.abs(e.rotation-this.rotation);i=i>=180?360-i:i,t.rotate=(0,Ge.kU)(i),t.sourceZoom=this.scale,t.targetZoom=e.scale}interpolate(e,t,i){const{pan:n,rotate:r,zoom:o,zoomOffset:s}=i,{center:a}=this;a.spatialReference=e.center.spatialReference,a.x=(0,Ge.Cc)(e.center.x,t.center.x,n),a.y=(0,Ge.Cc)(e.center.y,t.center.y,n),this.viewpoint.scale=(0,Ge.Cc)(e.scale,t.scale+s,o);let l=e.rotation;const c=t.rotation;Math.abs(c-l)>=180&&(l+=360*(l<c?1:-1)),this.viewpoint.rotation=(0,Ge.Cc)(l,c,r)}copyFrom(e){(0,oi.C)(this.viewpoint,e.viewpoint),this._view=e.view}}var hr=i(61619);const pr=e=>e*e,fr=e=>1-pr(1-e),mr=e=>e*e*e,yr=e=>1-mr(1-e),gr=e=>e*e*e*e,vr=e=>1-gr(1-e),_r=e=>e*e*e*e*e,wr=e=>1-_r(1-e),br=e=>1-Math.cos(e*Math.PI/2),Ar=e=>1-br(1-e),Mr=e=>2**(10*(e-1)),Sr=e=>1-Mr(1-e),Tr=e=>-(Math.sqrt(1-e*e)-1),Er=e=>1-Tr(1-e);function xr(e){const t=2*(e-Math.sqrt((e-1)*e)),i=t/2/e;return n=>n<i?e*n*n:t*n-t+1}function Cr(e,t){return(i,n)=>i<t?t*e(i/t,n):1-e((1-i)/(1-t),n)*(1-t)}const Pr=Cr(xr(1),1),Or=Cr(xr(1),0),Ir=Cr(xr(1),.5),Rr=Cr(xr(2),1),Nr=Cr(xr(2),0),kr=Cr(xr(2),.5),Lr=Cr(xr(3),1),Dr=Cr(xr(3),0),Zr=Cr(xr(3),.5),Fr=Cr(xr(4),1),Ur=Cr(xr(4),0),jr=Cr(xr(4),.5),Gr={linear:e=>e,"in-quad":pr,"out-quad":fr,"in-out-quad":e=>e<.5?pr(2*e)/2:(fr(2*(e-.5))+1)/2,"in-coast-quad":Pr,"out-coast-quad":Or,"in-out-coast-quad":Ir,"in-cubic":mr,"out-cubic":yr,"in-out-cubic":e=>e<.5?mr(2*e)/2:(yr(2*(e-.5))+1)/2,"in-coast-cubic":Rr,"out-coast-cubic":Nr,"in-out-coast-cubic":kr,"in-quart":gr,"out-quart":vr,"in-out-quart":e=>e<.5?gr(2*e)/2:(vr(2*(e-.5))+1)/2,"in-coast-quart":Lr,"out-coast-quart":Dr,"in-out-coast-quart":Zr,"in-quint":_r,"out-quint":wr,"in-out-quint":e=>e<.5?_r(2*e)/2:(wr(2*(e-.5))+1)/2,"in-coast-quint":Fr,"out-coast-quint":Ur,"in-out-coast-quint":jr,"in-sine":br,"out-sine":Ar,"in-out-sine":e=>e<.5?br(2*e)/2:(Ar(2*(e-.5))+1)/2,"in-expo":Mr,"out-expo":Sr,"in-out-expo":e=>e<.5?Mr(2*e)/2:(Sr(2*(e-.5))+1)/2,"in-circ":Tr,"out-circ":Er,"in-out-circ":e=>e<.5?Tr(2*e)/2:(Er(2*(e-.5))+1)/2,ease:e=>hr.Z0.ease(e),"ease-in":e=>hr.Z0.easeIn(e),"ease-out":e=>hr.Z0.easeOut(e),"ease-in-out":e=>hr.Z0.easeInOut(e)};class zr{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}}const Vr={desiredScreenFlow:2,minDuration:(0,Hn.l5)(500),maxDuration:(0,Hn.l5)(8e3)},Br=(0,l.A)((0,l.A)({},Vr),{},{maxDuration:(0,Hn.l5)(4e3)});class Hr{constructor(e){this._createCamera=e,this.compared=new zr,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:Vr.desiredScreenFlow},this.source=e(),this.target=e()}clone(){const e=new Hr(this._createCamera);return e.copyFrom(this),e}copyFrom(e){this.update(e.source,e.target,e.settings)}update(e,t,i){var n;this.source!==e&&this.source.copyFrom(e),this.target!==t&&this.target.copyFrom(t),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=null!==(n=i.desiredScreenFlow)&&void 0!==n?n:Vr.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const t=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/t}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>(0,ai.FD)()}get hasFov(){return Math.abs(this.compared.fov)>(0,ai.FD)()}get hasRotate(){return this.compared.rotate>(0,ai.FD)()}}let qr=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce(((e,t)=>(0,Hn.Kp)(e+t.time)),(0,Hn.Kp)(0))}interpolateComponentsAt(e,t){e=Math.min(Math.max(e,0),1),e*=this.time;let i=0,n=0;const r=this.definition,o=this.segments.reduce(((e,t)=>e||t.definition.hasZoom),!1);for(let s=0;s<this.segments.length;s++){const a=this.segments[s],l=a.definition;if(e<=a.time||s===this.segments.length-1){if(this.segmentInterpolateComponentsAt(a,0===a.time?0:e/a.time,t),r.hasPan&&!isNaN(t.pan)&&isFinite(r.compared.pan)?t.pan=(i+l.compared.pan*t.pan)/r.compared.pan:t.pan=1,r.hasRotate&&!isNaN(t.rotate)&&isFinite(r.compared.rotate)?t.rotate=(n+l.compared.rotate*t.rotate)/r.compared.rotate:t.rotate=1,o&&!isNaN(t.zoom)&&isFinite(l.compared.targetZoom)){const{sourceZoom:e,targetZoom:i}=l.compared,n=t.zoom*(i-e)+e,r=this.segments[0].definition.compared.sourceZoom,o=this.segments[this.segments.length-1].definition.compared.targetZoom,s=Math.abs(i-r)>Math.abs(e-r)?i:e;t.zoomOffset=s-o,t.zoom=(n-r)/(s-r)}else t.zoom=1;return t}e-=a.time,i+=l.compared.pan,n+=l.compared.rotate}}segmentInterpolateComponentsAt(e,t,i){e.interpolateComponentsAt(t,i)}};class Wr{get time(){return this._time}constructor(e){e&&this.update(e)}update(e){e&&(this.definition?this.definition.copyFrom(e):this.definition=e.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const e=this.definition,t=e.compared,i=t.sourceZoom,n=t.targetZoom;this._zoomSign=i>n?1:-1,this._panPixelsAtSource=t.pan*e.source.pixelsPerPanAtZoom(i);const r=(e.source.pixelsPerRotate()+e.target.pixelsPerRotate())/2;this._rotatePixels=t.rotate*r}_updatePixelFlow(){const e=this.definition.compared.sourceZoom,t=this.definition.compared.targetZoom,{hasZoom:i,hasPan:n,hasRotate:r}=this.definition;let o=0,s=0;i&&(n&&(o=(t/e-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),r&&(s=this._zoomSign*(Math.log(e/t)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const a=this.definition.desiredPixelFlow;if(i&&n&&r){const e=o+s+o*s;this._zoomPixelFlow=o*s/e*a,this._panPixelFlow=s/e*a,this._rotatePixelFlow=o/e*a}else if(i&&n){const e=1+o;this._zoomPixelFlow=o/e*a,this._panPixelFlow=1/e*a}else if(i&&r){const e=1+s;this._zoomPixelFlow=s/e*a,this._rotatePixelFlow=1/e*a}else if(n&&r){const e=this._panPixelsAtSource/this._rotatePixels,t=1+e;this._panPixelFlow=e/t*a,this._rotatePixelFlow=1/t*a}else n?this._panPixelFlow=a:i?this._zoomPixelFlow=a:r&&(this._rotatePixelFlow=a);if(this._time=(0,Hn.Kp)(Math.max(this.rotateTime,this.zoomTime,this.panTime)),this.fovTime>this._time){const e=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=e,this._panPixelFlow/=e,this._rotatePixelFlow/=e}}get rotateTime(){return this.definition.hasRotate?(0,Hn.Kp)(this._rotatePixels/this._rotatePixelFlow):(0,Hn.Kp)(0)}get zoomTime(){return this.definition.hasZoom?(0,Hn.Kp)(this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow):(0,Hn.Kp)(0)}get fovTime(){return this.definition.hasFov?(0,Hn.Kp)(Math.abs(this.definition.compared.fov)/$r):(0,Hn.Kp)(0)}get panTime(){if(!this.definition.hasPan)return(0,Hn.Kp)(0);if(this.definition.hasZoom){const e=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,t=e*this._panPixelsAtSource;return(0,Hn.Kp)(Math.log(t*(this._zoomPixelFlow/this._panPixelFlow)+1)/(e*this._zoomPixelFlow))}return(0,Hn.Kp)(this._panPixelsAtSource/this._panPixelFlow)}_interpolateComponentsZoom(e){if(0===e||1===e)return e;if(this.definition.hasZoom){const t=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom;return(t*(t/i)**-e-t)/(i-t)}return e}_interpolateComponentsFov(e){if(0===e)return this.definition.segmentStart;if(1===e)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:t,segmentEnd:i}=this.definition;return t+e*(i-t)}return this.definition.segmentStart}_interpolateComponentsPan(e){if(0===e||1===e)return e;if(this.definition.hasPan&&this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(t*e*this._time)-1))/(t*Math.LN2)}return e}_interpolateComponentsRotate(e){return e}interpolateComponentsAt(e,t){e=Math.min(Math.max(e,0),1),t.zoom=this._interpolateComponentsZoom(e),t.pan=this._interpolateComponentsPan(e),t.rotate=this._interpolateComponentsRotate(e),t.zoomOffset=0,t.fov=this._interpolateComponentsFov(e)}}const $r=(0,Ge.kU)(45);function Jr(e,t,i){const n=t-e.compared.sourceZoom,r=e.halfWindowPanAtZoom(n);return-e.halfWindowSize*(i.ascensionFactor*Math.LN2*e.compared.pan+r)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*r)}function Kr(e,t,i){const n=1/t,r=Math.log(e.compared.sourceZoom*n),o=1/e.desiredPixelFlow,s=1/Math.LN2,a=t-e.compared.sourceZoom,l=1/a,c=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(a))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*o*s*l*c-e.halfWindowSize*r*o*s*l+e.halfWindowSize*r*o*s*c/(a*a)}function Yr(e,t,i){const n=t-e.compared.sourceZoom,r=1/n,o=1/t,s=Math.log(e.compared.sourceZoom*o),a=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(n))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*(-2*r*o*a+2*r*s+2*o-2*s*a/(n*n)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function Xr(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function Qr(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function eo(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function to(e,t,i){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function io(e,t,i){const n=Math.log(t/e.compared.targetZoom),r=1/e.desiredPixelFlow,o=1/Math.LN2,s=-t+e.compared.targetZoom,a=1/s,l=(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*n*r*o*a+e.halfWindowSize*n*r*o*l/(s*s)+e.halfWindowSize*r*o*a*l/t}function no(e,t,i){const n=t-e.compared.targetZoom,r=1/n,o=1/t,s=Math.log(t/e.compared.targetZoom),a=(e.halfWindowPanAtZoom(t)+i.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*(-2*r*o*a-2*r*s+2*o+2*s*a/(n*n)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function ro(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function oo(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function so(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function ao(e,t){let i=function(e,t){const i=Math.max(e.compared.sourceZoom,e.compared.targetZoom),n=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return n<i?null!=t.maximumDistance?i+(t.maximumDistance-i)/2:1.5*i:t.maximumDistance?Math.min(t.maximumDistance,n):n}(e,t);const n={ascensionFactor:null!=t.ascensionFactor?t.ascensionFactor:.5,descensionFactor:null!=t.descensionFactor?t.descensionFactor:.5},r=0===n.ascensionFactor,o=0===n.descensionFactor,s=r?Xr:Jr,a=r?Qr:Kr,l=r?eo:Yr,c=o?ro:to,u=o?oo:io,d=o?so:no,h=t=>s(e,t,n)+function(e,t,i){return-e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}(e,t,n)+c(e,t,n),p=t=>a(e,t,n)+function(e,t,i){return e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}(e,t,n)+u(e,t,n),f=t=>l(e,t,n)+function(e,t,i){return-2*e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}(e,t,n)+d(e,t,n);let m=h(i);const y=function(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(0===t)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const i=Math.LN2*e.compared.pan,n=t,r=e.halfWindowPanAtZoom(n),o=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*r);return e.compared.sourceZoom<=e.compared.targetZoom?o*(i-r):o*(i+r)}(e);let g;const v=t.maximumIterations||20,_=null!=t.maximumDistance?t.maximumDistance:1/0;for(g=0;g<v;g++){var w;const n=null!==(w=t.desiredSlope)&&void 0!==w?w:1e-6;let r=p(i);Math.abs(r)>n&&(r+=n);const o=r/f(i);if(isNaN(o)||i>=_&&o<0){if(!isFinite(_))return null;i=_,m=h(i);break}if(i-=o,i<e.compared.sourceZoom||i<e.compared.targetZoom)return null;const s=h(i);if(Math.abs(s-m)/m<=.005)break;m=s}return m>.7*y||i<e.compared.sourceZoom||i<e.compared.targetZoom?null:i}class lo extends qr{constructor(e,t){super(),this._preallocSegments=[new Wr,new Wr,new Wr],this._ascensionSegment=null,this._descensionSegment=null,this.update(e,t)}update(e,t){if(!e)return;this.definition?this.definition.copyFrom(e):this.definition=e.clone();const i=null!==t&&void 0!==t&&t.apex?ao(e,t.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,i?this._updateWithApex(i,null===t||void 0===t?void 0:t.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(e,t,i){e.interpolateComponentsAt(t,i),e===this._ascensionSegment?i.zoom=fr(i.zoom):e===this._descensionSegment&&(i.zoom=pr(i.zoom))}_updateWithApex(e,t){var i;const[n,r,o]=this._preallocSegments,s=null!==(i=null===t||void 0===t?void 0:t.ascensionFactor)&&void 0!==i?i:.5,a=Math.min(1-s,null!=(null===t||void 0===t?void 0:t.ascensionFactor)&&null!=t.descensionFactor?t.descensionFactor:.5),l=1-s-a;n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.targetZoom=e,n.definition.compared.pan=this.definition.compared.pan*s,n.definition.compared.rotate=this.definition.compared.rotate*s,n.definition.segmentEnd=s,n.update(),this._ascensionSegment=n,this.segments.push(n),l>0&&(r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.copyFrom(this.definition),r.definition.compared.sourceZoom=e,r.definition.compared.targetZoom=e,r.definition.compared.pan=this.definition.compared.pan*l,r.definition.compared.rotate=this.definition.compared.rotate*l,r.definition.segmentStart=n.definition.segmentEnd,r.definition.segmentEnd=n.definition.segmentEnd+l,r.update(),this.segments.push(r)),o.definition?o.definition.copyFrom(this.definition):o.definition=this.definition.clone(),o.definition.compared.sourceZoom=e,o.definition.compared.pan=this.definition.compared.pan*a,o.definition.compared.rotate=this.definition.compared.rotate*a,o.definition.segmentStart=s+l,o.update(),this._descensionSegment=o,this.segments.push(o)}_updateWithoutApex(){const[e]=this._preallocSegments;e.update(this.definition),this.segments.push(e)}}const co=new class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}};let uo=class{get time(){return this._time}get isLinear(){return 1===this.path.segments.length}constructor(e){this._time=(0,Hn.l5)(0),this._easing=Ir,this.definition=new Hr(e),this.path=new lo}update(e,t,i){var n;this.definition.update(e,t,i),this.path.update(this.definition,i),this._time=this._applyTimeSettings((0,Hn.gr)(isFinite(this.path.time)?this.path.time:(0,Hn.Kp)(0)),i),this._easing=null!==(n=i.easing)&&void 0!==n?n:this._time>=1e3?Ir:Sr}cameraAt(e,t){e=Math.min(Math.max(0,e),1),e=this._normalizedEasing(e);const i=this.path.interpolateComponentsAt(e,co);t.interpolate(this.definition.source,this.definition.target,i)}_normalizedEasing(e){const t=this._easing(0,this._time),i=this._easing(1,this._time);return(this._easing(e,this._time)-t)/(i-t)}_applyTimeSettings(e,t){var i,n;const r=null!=t.speedFactor?t.speedFactor:1,o=null!==(i=t.minDuration)&&void 0!==i?i:Vr.minDuration/r,s=null!==(n=t.maxDuration)&&void 0!==n?n:Vr.maxDuration/r;return null!=t.duration?(0,Hn.l5)(t.duration):(0,Hn.l5)(Math.min(Math.max(e/r,o),s))}};class ho{constructor(e){this._view=e,this._animation=new uo((()=>new dr(this._view))),this._current=new dr(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,oi.C)(this._current.viewpoint,e),(0,oi.C)(this._source.viewpoint,e),(0,oi.C)(this._target.viewpoint,t),this._animation.update(this._source,this._target,i)}applyRatio(e,t){this._animation.cameraAt(t,this._current),(0,oi.C)(e,this._current.viewpoint)}}let po=class extends O.A{constructor(e){super(e),this._animation=null,this._destinationViewState=new Ti,this.updateFunction=null,this.easing=Gr.ease,this.viewpoint=new c.A({targetGeometry:new yi.A,scale:0,rotation:0}),this._updateTask=(0,P.mg)({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new ho(e.view)}destroy(){this._updateTask=(0,p.xt)(this._updateTask)}get animation(){return this._animation}set animation(e){this._animation=e,this.view.animation=e}animate(e,t,i){var n;this.stop();const r=this.viewpoint;(0,oi.C)(r,t);const o=e.target;this._transition.update(this.viewpoint,o,{apex:{maximumDistance:Math.min(64*Math.min(t.scale,o.scale),this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:null===i||void 0===i?void 0:i.duration,maxDuration:"auto"===(null===i||void 0===i?void 0:i.animationMode)?(0,Hn.l5)(1/0):null!==(n=null===i||void 0===i?void 0:i.maxDuration)&&void 0!==n?n:Br.maxDuration,speedFactor:null===i||void 0===i?void 0:i.speedFactor,easing:("string"==typeof(null===i||void 0===i?void 0:i.easing)?Gr[i.easing]:null===i||void 0===i?void 0:i.easing)||this.easing}),"auto"===(null===i||void 0===i?void 0:i.animationMode)&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=o,function(e,t,i,n){var r;if(null!=(null===t||void 0===t?void 0:t.duration))return!0;const{time:o,isLinear:s}=e,a=(null===t||void 0===t?void 0:t.speedFactor)||1;if(o>(null!==(r=null===t||void 0===t?void 0:t.maxDuration)&&void 0!==r?r:Br.maxDuration/a))return!1;if(s){const e=1.5,t=(0,ri.vt)(),r=(0,be.tc)(...n.toScreen(t,...i.center)),s=(0,be.tc)(...i.toScreen(t,...n.center)),l=null!=s&&s.x>-1*i.size[0]&&s.x<(e+.5)*i.size[0]&&s.y>-1*i.size[1]&&s.y<(e+.5)*i.size[1],c=null!=r&&r.x>-1*n.size[0]&&r.x<(e+.5)*n.size[0]&&r.y>-1*n.size[1]&&r.y<(e+.5)*n.size[1];if(o>2e3/a&&!l&&!c)return!1}return!0}(this._transition.animation,i,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,o,{duration:(0,Hn.l5)(0)}));const s=()=>{this.animation===e&&this._updateTask&&("finished"===e.state&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinuous(e,t){this.stop(),this.updateFunction=t,this.viewpoint=e;const i=new Oi({target:e.clone()}),n=()=>{this.animation===i&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return i.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=i,i}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const t=this.animation;if(t&&t.state!==Oi.State.STOPPED){var i;if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime),null===(i=this.animation)||void 0===i||i.update(this.viewpoint);else{var n;const e=performance.now()-this._startTime,t=this._transition.duration,i=t>0?e/t:1,r=i>=1;this._transition.applyRatio(this.viewpoint,i),r&&(null===(n=this.animation)||void 0===n||n.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,n._)([(0,r.MZ)()],po.prototype,"easing",void 0),(0,n._)([(0,r.MZ)()],po.prototype,"view",void 0),(0,n._)([(0,r.MZ)()],po.prototype,"viewpoint",void 0),po=(0,n._)([(0,a.$)("esri.views.2d.AnimationManager")],po);const fo=po;function mo(){return Promise.all([Promise.all([i.e(2279),i.e(2413)]).then(i.bind(i,22475)),Promise.all([i.e(4648),i.e(8618),i.e(4797),i.e(2279),i.e(6201),i.e(5169),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(6535),i.e(9679),i.e(8995),i.e(4402),i.e(3494),i.e(1438),i.e(7560),i.e(8013)]).then(i.bind(i,98013))])}const yo=()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(5169),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(6535),i.e(9679),i.e(8995),i.e(4402),i.e(3494),i.e(8577),i.e(6717)]).then(i.bind(i,76717)))),go=()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(9788),i.e(5039),i.e(7226),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(9729),i.e(6220),i.e(1507)]).then(i.bind(i,35478)))),vo={"base-dynamic":()=>mo().then((()=>Promise.all([i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(6731),i.e(3070),i.e(1443)]).then(i.bind(i,17623)))),"base-tile":yo,"bing-maps":yo,catalog:()=>mo().then((()=>Promise.all([i.e(1273),i.e(6548)]).then(i.bind(i,56548)))),"catalog-dynamic-group":()=>mo().then((()=>Promise.all([i.e(1273),i.e(5270)]).then(i.bind(i,15270)))),"catalog-footprint":()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(9788),i.e(5039),i.e(7226),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(9729),i.e(6220),i.e(1507),i.e(3789)]).then(i.bind(i,73789)))),csv:go,"geo-rss":()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(9788),i.e(5039),i.e(9176),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(5169),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(6535),i.e(9679),i.e(8995),i.e(8628)]).then(i.bind(i,68528)))),feature:go,geojson:go,parquet:go,graphics:()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(5169),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(6535),i.e(9679),i.e(8995),i.e(9186)]).then(i.bind(i,89186)))),group:()=>mo().then((()=>Promise.all([i.e(1273),i.e(5897)]).then(i.bind(i,85897)))),imagery:()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(5169),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(6535),i.e(9679),i.e(8995),i.e(3092),i.e(9844),i.e(3070),i.e(4084),i.e(9092)]).then(i.bind(i,9092)))),"imagery-tile":()=>mo().then((()=>Promise.all([i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(3092),i.e(9844),i.e(909),i.e(4084),i.e(1761)]).then(i.bind(i,86564)))),kml:()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(9788),i.e(5039),i.e(9176),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(5169),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(6535),i.e(9679),i.e(8995),i.e(9844),i.e(1438),i.e(3777),i.e(3944)]).then(i.bind(i,83380)))),"knowledge-graph":()=>mo().then((()=>Promise.all([i.e(1273),i.e(1825)]).then(i.bind(i,11825)))),"link-chart":()=>mo().then((()=>Promise.all([i.e(1273),i.e(1825)]).then(i.bind(i,11825)))),"knowledge-graph-sublayer":go,"map-image":()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(5169),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(6535),i.e(9679),i.e(8995),i.e(3070),i.e(8577),i.e(8382)]).then(i.bind(i,18382)))),"map-notes":()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(5169),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(6535),i.e(9679),i.e(8995),i.e(6984)]).then(i.bind(i,46984)))),media:()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(9788),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(5169),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(6535),i.e(9679),i.e(4402),i.e(3494),i.e(2029)]).then(i.bind(i,82029)))),"ogc-feature":()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(9788),i.e(5039),i.e(7226),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(9729),i.e(6220),i.e(1507),i.e(2048)]).then(i.bind(i,22048)))),"open-street-map":yo,"oriented-imagery":go,route:()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(5169),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(6535),i.e(9679),i.e(8995),i.e(1297),i.e(6640)]).then(i.bind(i,24450)))),stream:()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(9788),i.e(5039),i.e(7226),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(9729),i.e(6220),i.e(1507),i.e(9386)]).then(i.bind(i,99386)))),"subtype-group":()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(9788),i.e(5039),i.e(7226),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(9729),i.e(6220),i.e(1507),i.e(258)]).then(i.bind(i,258)))),tile:yo,"vector-tile":()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(5995),i.e(6174)]).then(i.bind(i,26174)))),video:()=>mo().then((()=>Promise.all([i.e(4648),i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(5169),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(6535),i.e(9679),i.e(8995),i.e(3018)]).then(i.bind(i,43018)))),wcs:()=>mo().then((()=>Promise.all([i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(3092),i.e(9844),i.e(909),i.e(4084),i.e(1761)]).then(i.bind(i,86564)))),"web-tile":yo,wfs:go,wms:()=>mo().then((()=>Promise.all([i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(6731),i.e(3070),i.e(8181)]).then(i.bind(i,55604)))),wmts:()=>mo().then((()=>Promise.all([i.e(8618),i.e(1273),i.e(4797),i.e(2279),i.e(6201),i.e(6731),i.e(8299)]).then(i.bind(i,40490)))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};const _o=e=>null!=vo[e.type],wo=e=>{const t=vo[e.type];if(null==t)throw function(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new h.A("".concat(i,":view-not-supported"),"".concat(t," is not supported in 2D"))}(e);return t(e)};var bo=i(40181),Ao=i(93453),Mo=(i(15302),i(96345),i(15863)),So=i(2413),To=i(9835),Eo=i(18798);const xo={added:[],removed:[]},Co=new Set,Po=new Ao.A(0,0,0,0);class Oo extends Y.A{constructor(e){super(),this._tiles=new Map,this._index=(0,Mo.r)(9,(0,o.A)("esri-csp-restrictions")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}getIntersectingTiles(e){if(!e||0===(0,So.VL)(e)||0===(0,So.uJ)(e))return[];const t=function(e,t){const i=(0,oe.Vp)(t);if(!i)return null;const[n,r]=i.valid;return e[2]>r?[(0,So.vt)([e[0],e[1],r,e[3]]),(0,So.vt)([n,e[1],n+e[2]-r,e[3]])]:e[0]<n?[(0,So.vt)([n,e[1],e[2],e[3]]),(0,So.vt)([r-(n-e[0]),e[1],r,e[3]])]:null}(e,this.tileScheme.spatialReference);return null!=t?[...new Set([...this.boundsIntersections(t[0]),...this.boundsIntersections(t[1])])]:this.boundsIntersections(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const t={added:[],removed:[]};for(const i of e.added)if(!this.has(i)){const e=new To.F(this.tileScheme,i);this._tiles.set(i,e),this._index.insert(e),t.added.push(e)}for(const i of e.removed)if(this.has(i)){const e=this.get(i);this._tiles.delete(i),this._index.remove(e),t.removed.push(e)}this.tiles.length=0,this._tiles.forEach((e=>this.tiles.push(e))),(t.added.length||t.removed.length)&&this.emit("update",t)}setViewState(e){const t=this.tileScheme.getTileCoverage(e,0);if(!t)return;const{spans:i,lodInfo:n}=t,{level:r}=n;if(i.length>0)for(const{row:o,colFrom:s,colTo:a}of i)for(let e=s;e<=a;e++){const t=Po.set(r,o,n.normalizeCol(e),n.getWorldForColumn(e)).id;if(Co.add(t),!this.has(t)){const e=new To.F(this.tileScheme,t);this._tiles.set(t,e),this._index.insert(e),this.tiles.push(e),xo.added.push(e)}}for(let o=this.tiles.length-1;o>=0;o--){const e=this.tiles[o];Co.has(e.id)||(this._tiles.delete(e.id),this.tiles.splice(o,1),this._index.remove(e),xo.removed.push(e))}(xo.added.length||xo.removed.length)&&this.emit("update",xo),Eo.A.pool.release(t),Co.clear(),xo.added.length=0,xo.removed.length=0}}var Io=i(13692),Ro=i(43295),No=i(37363),ko=i(39356);function Lo(e,t,i,n,r,o){return s=>{if(s instanceof ko.A){if(s.layer===e)null===o||void 0===o||o();else{const t=e.allLayerViews.find((e=>e.layer===s.layer));t&&(null===r||void 0===r||r(t))}n(Zo(s))}else if("layer"in s&&"element"in s);else if("subtype-sublayer"===s.type){const t=e.allLayerViews.find((e=>e.layer===s.parent));t&&i(s,t)}else{const i=e.allLayerViews.find((e=>e.layer===s));i&&t(i)}}}function Do(e,t){if(e)if((0,dt.xZ)(e))for(const i of e)if((0,dt.xZ)(i))for(const e of i)t(e);else t(i);else t(e)}function Zo(e){var t,i,n,r;const o=e.getObjectId();return o?"".concat(null!==(t=null!==(i=null===(n=e.layer)||void 0===n?void 0:n.uid)&&void 0!==i?i:null===(r=e.sourceLayer)||void 0===r?void 0:r.uid)&&void 0!==t?t:"MapView","/").concat(o):'"MapView/'.concat(e.uid)}function Fo(e,t){let{layer:i}=e;"subtype-group"===(null===i||void 0===i?void 0:i.type)&&i.sublayers.forEach((e=>{t(e)}))}var Uo=i(30068);const jo={flipY:!0,premultipliedAlpha:!0};function Go(e,t){const i=function(e,t,i,n){e.ignorePadding&&(n={left:0,right:0,top:0,bottom:0});let r=null;null!=e.width&&null!=e.height?r=[e.width,e.height]:null==e.width&&null!=e.height?r=[e.height,e.height]:null!=e.width&&null==e.height?r=[e.width,e.width]:null==e.width&&null==e.height&&(r=null);const o=i[0]-(n.left+n.right),s=i[1]-(n.top+n.bottom);let a,l,c=e.area||{x:0,y:0,width:o,height:s};if(r){const e=o/s,t=r[0]/r[1];if(t>e){const e=c.width/t;c={x:c.x,y:Math.round(c.y+(c.height-e)/2),width:c.width,height:Math.round(e)}}else{const e=c.height*t;c={x:Math.round(c.x+(c.width-e)/2),y:c.y,width:Math.round(e),height:c.height}}}else r=[c.width,c.height];return r[0]>c.width?(a=Math.min(r[0]/c.width,t),l=r[0]/c.width/a):(a=1,l=r[0]/c.width),{cropArea:{x:Math.round((c.x+n.left)*a),y:Math.round((c.y+n.top)*a),width:Math.round(c.width*a),height:Math.round(c.height*a)},outputScale:l,resolutionScale:a}}(t||{},function(e,t){return Math.min(4,(0,Uo.getMaximumResolutionScale)(t,Math.min(4096,e.context.parameters.maxTextureSize)))}(e.stage,e.size),e.size,e.padding),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!e.layers)return;const i=[];return e.layers.forEach((e=>{const n=t.find((t=>t.layer.id===e.id));(null===n||void 0===n?void 0:n.container)&&i.push(n.container)})),i}(t,e.allLayerViews);return e.stage.takeScreenshot(i,n,e.backgroundColor,null===t||void 0===t?void 0:t.rotation)}var zo=i(53249),Vo=i(9685);const Bo="esri-component";let Ho=class extends O.A{constructor(){super(...arguments),this.widget=null}destroy(){var e;this.node=null,null===(e=this.widget)||void 0===e||e.destroy()}get id(){var e,t,i,n;return null!==(e=null!==(t=this._get("id"))&&void 0!==t?t:null===(i=this.widget)||void 0===i?void 0:i.id)&&void 0!==e?e:null===(n=this.node)||void 0===n?void 0:n.id}set id(e){this._set("id",e)}set node(e){const t=this._get("node");e!==t&&(e&&e.classList.add(Bo),t&&t.classList.remove(Bo),this._set("node",e))}castNode(e){var t;return null!==(t=this.widget)&&void 0!==t&&t.destroy(),e?"string"==typeof e||function(e){return e&&"nodeType"in e}(e)?(this._set("widget",null),(0,E.$)(e)):(function(e){return e&&"function"==typeof e.render}(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};(0,n._)([(0,r.MZ)()],Ho.prototype,"id",null),(0,n._)([(0,r.MZ)()],Ho.prototype,"node",null),(0,n._)([(0,y.w)("node")],Ho.prototype,"castNode",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Ho.prototype,"widget",void 0),Ho=(0,n._)([(0,a.$)("esri.views.ui.Component")],Ho);const qo=Ho;i(11265);var Wo=i(91896),$o=i(76099),Jo=i(38042);const Ko={left:0,top:0,bottom:0,right:0},Yo={bottom:30,top:15,right:15,left:15},Xo="esri-ui",Qo={ui:Xo,corner:"".concat(Xo,"-corner"),innerContainer:"".concat(Xo,"-inner-container"),manualContainer:"".concat(Xo,"-manual-container"),cornerContainer:"".concat(Xo,"-corner-container"),topLeft:"".concat(Xo,"-top-left"),topRight:"".concat(Xo,"-top-right"),bottomLeft:"".concat(Xo,"-bottom-left"),bottomRight:"".concat(Xo,"-bottom-right")};function es(e){return 0===e?"0":"".concat(e,"px")}function ts(e){const t="object"==typeof e&&null!==e&&Object.getPrototypeOf(e);return null!==t&&t!==Object.prototype||!("component"in e||"index"in e||"position"in e)?null:e}function is(e,t){let{top:i,bottom:n,left:r,right:o}=t;e.style.top=i,e.style.bottom=n,e.style.left=r,e.style.right=o}let ns=class extends Y.A.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=(0,Jo.JK)(),this.view=null,this._applyViewPadding=()=>{const e=this.container;e&&is(e,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const e=this._innerContainer;e&&is(e,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([(0,f.wB)((()=>{var e;return[null===(e=this.view)||void 0===e?void 0:e.padding,this.container]}),this._applyViewPadding,f.Vh),(0,f.wB)((()=>this.padding),this._applyUIPadding,f.Vh),(0,f.wB)((()=>[this.container,this._locale]),(e=>{let[t,i]=e;t&&t.setAttribute("lang",i)}),f.Vh),(0,Jo.oQ)((e=>{this._locale=e}))])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._componentMap.clear()}set container(e){const t=this._get("container");e!==t&&(e&&(e.classList.add(Qo.ui),(0,Wo.hY)(e),this._attachContainers(e)),t&&(t.classList.remove(Qo.ui),is(t,{top:"",bottom:"",left:"",right:""}),t.textContent=""),this._set("container",e))}get height(){var e,t;const i=null!==(e=null===(t=this.view)||void 0===t?void 0:t.height)&&void 0!==e?e:0;if(0===i)return i;const n=this._getViewPadding(),{top:r,bottom:o}=n;return Math.max(i-r-o,0)}get padding(){return this._get("padding")}set padding(e){this._overrideIfSome("padding",e)}castPadding(e){return"number"==typeof e?{bottom:e,top:e,right:e,left:e}:(0,l.A)((0,l.A)({},Yo),e)}get width(){var e,t;const i=null!==(e=null===(t=this.view)||void 0===t?void 0:t.width)&&void 0!==e?e:0;if(0===i)return i;const n=this._getViewPadding(),{left:r,right:o}=n;return Math.max(i-r-o,0)}add(e,t){let i,n,r;if(Array.isArray(e))return void e.forEach((e=>this.add(e,t)));const o=ts(e);o&&({index:i,position:t,component:e,key:n}=o),t&&"object"==typeof t&&({index:i,key:n,position:t,internal:r}=t),!e||t&&!this._isValidPosition(t)||this._add(e,t,i,n,r)}remove(e,t){if(!e)return;if(Array.isArray(e))return e.map((e=>this.remove(e,t)));const i=this._find(e);if(i){var n,r;if(this._componentMap.has(i)&&(null===(n=this._componentMap.get(i))||void 0===n?void 0:n.key)!==t)return;const e=this._components.indexOf(i),o=i.node.parentNode;return null!==o&&void 0!==o&&o.removeChild(i.node),this._componentMap.delete(i),null!==(r=i.widget)&&void 0!==r&&r.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(e,1)[0]}}empty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{removeInternal:!1};if(Array.isArray(e)){for(const i of e)this.empty(i,t);return}const i=this._positionNameToContainerLookup[null!==e&&void 0!==e?e:"manual"],n=Array.prototype.slice.call(i.children).map((e=>this._findByNode(e))).filter((e=>{var i,n;return null!=e&&(!(null!==(i=null===(n=this._componentMap.get(e))||void 0===n?void 0:n.internal)&&void 0!==i&&i)||t.removeInternal)}));for(const r of n)this.remove(r)}move(e,t){if(Array.isArray(e)&&e.forEach((e=>this.move(e,t))),!e)return;let i;const n=ts(e)||ts(t);if(n&&(i=n.index,t=n.position,e=n.component||e),t&&!this._isValidPosition(t))return;const r=this.remove(e);r&&this.add(r,{position:t,index:i})}find(e){if(!e)return null;const t=this._findById(e);return t&&(t.widget||t.node)}getComponents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeInternal:!1};return e?Array.isArray(e)?e.flatMap((e=>this._getComponentsAtPosition(e,t))):this._getComponentsAtPosition(e,t):this._components.filter((e=>{var i;return t.includeInternal||!(null!==(i=this._componentMap.get(e))&&void 0!==i&&i.internal)})).map((e=>{let{widget:t,node:i}=e;return null!==t&&void 0!==t?t:i}))}getPosition(e){for(const t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t;return null}_add(e,t,i,n,r){e instanceof qo||(e=new qo({node:e}));const{widget:o}=e;null!=o&&o instanceof O.A&&o.addHandles((0,C.hA)((()=>{queueMicrotask((()=>this.remove(e)))})),this._removeWidgetHandleKey),this._place({component:e,position:t,index:i}),this._components.push(e),this._componentMap.set(e,{key:n,internal:r})}_find(e){return e?e instanceof qo?this._findByComponent(e):"string"==typeof e?this._findById(e):this._findByNode(e.domNode||e):null}_getViewPadding(){var e,t;return null!==(e=null===(t=this.view)||void 0===t?void 0:t.padding)&&void 0!==e?e:Ko}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(Qo.innerContainer,Qo.cornerContainer);const t=document.createElement("div");t.classList.add(Qo.innerContainer,Qo.manualContainer);const i=document.createElement("div");i.classList.add(Qo.topLeft,Qo.corner),e.appendChild(i);const n=document.createElement("div");n.classList.add(Qo.topRight,Qo.corner),e.appendChild(n);const r=document.createElement("div");r.classList.add(Qo.bottomLeft,Qo.corner),e.appendChild(r);const o=document.createElement("div");o.classList.add(Qo.bottomRight,Qo.corner),e.appendChild(o),this._innerContainer=e,this._manualContainer=t;const s=(0,$o.V8)();this._cornerNameToContainerLookup={"top-left":i,"top-right":n,"bottom-left":r,"bottom-right":o,"top-leading":s?n:i,"top-trailing":s?i:n,"bottom-leading":s?o:r,"bottom-trailing":s?r:o},this._positionNameToContainerLookup=(0,l.A)({manual:t},this._cornerNameToContainerLookup)}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){var t,i;const n=null!==(t=e.position)&&void 0!==t?t:"manual",{component:r,index:o}=e,s=this._positionNameToContainerLookup[n],a=null!=o&&o>-1;if(function(e){return e&&!e._started&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}(r.widget)&&r.widget.startup(),!a)return void s.appendChild(r.node);const l=Array.from(s.children);if(0===o){var c;const{firstChild:e}=s;return void(e?null===(c=e.parentNode)||void 0===c||c.insertBefore(r.node,e):s.appendChild(r.node))}if(o>=l.length)return void s.appendChild(r.node);const u=l[o];null===(i=u.parentNode)||void 0===i||i.insertBefore(r.node,u)}_toPixelPosition(e){return{top:es(e.top),left:es(e.left),right:es(e.right),bottom:es(e.bottom)}}_findByComponent(e){var t;return null!==(t=this._components.find((t=>t===e)))&&void 0!==t?t:null}_findById(e){var t;return null!==(t=this._components.find((t=>{let{id:i}=t;return i===e})))&&void 0!==t?t:null}_findByNode(e){var t;return null!==(t=this._components.find((t=>{let{node:i}=t;return i===e})))&&void 0!==t?t:null}_getComponentsAtPosition(e,t){const i=this._positionNameToContainerLookup[e];return Array.prototype.slice.call(i.children).map((e=>this._findByNode(e))).filter(Se.Ru).filter((e=>{var i;return t.includeInternal||!(null!==(i=this._componentMap.get(e))&&void 0!==i&&i.internal)})).map((e=>{let{widget:t,node:i}=e;return null!==t&&void 0!==t?t:i}))}};(0,n._)([(0,r.MZ)()],ns.prototype,"_locale",void 0),(0,n._)([(0,r.MZ)()],ns.prototype,"container",null),(0,n._)([(0,r.MZ)()],ns.prototype,"height",null),(0,n._)([(0,r.MZ)({value:Yo})],ns.prototype,"padding",null),(0,n._)([(0,y.w)("padding")],ns.prototype,"castPadding",null),(0,n._)([(0,r.MZ)()],ns.prototype,"view",void 0),(0,n._)([(0,r.MZ)()],ns.prototype,"width",null),ns=(0,n._)([(0,a.$)("esri.views.ui.UI")],ns);const rs=ns;var os=i(25329),ss=i(45417);const as=new Map;function ls(e,t){return e&&"copyright"in e&&(!t||"function"==typeof e.originOf&&"user"===e.originOf("copyright"))}function cs(e,t,i){i&&t&&(e.find((e=>e.layerView===t&&e.text===i))||e.push({text:i,layerView:t}))}const us=[];let ds=class extends O.A{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new u.A,this.view=null,this._allLayerViewsChange=e=>{var t;this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const i=null===(t=this.view)||void 0===t?void 0:t.allLayerViews;i&&(this.addHandles(i.map((e=>(0,f.wB)((()=>{var t;return[e.suspended,null===(t=e.layer)||void 0===t?void 0:t.attributionVisible]}),(()=>this._updateAttributionItems())))).toArray(),"suspension"),i.forEach((e=>{"esri.views.3d.layers.Tiles3DLayerView3D"===e.declaredClass&&this.addHandles(e.on("visible-geometry-changed",(()=>this._updateAttributionItems())),"visible-geometry-changed")}))),null!==e&&void 0!==e&&e.removed&&e.removed.forEach((e=>{this._pendingAttributions.delete(e),this._fetchedAttributionData.delete(e)})),this._updateAttributionItems()},this.addHandles([(0,f.on)((()=>{var e;return null===(e=this.view)||void 0===e?void 0:e.allLayerViews}),"change",(e=>this._allLayerViewsChange(e)),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),(0,f.z7)((()=>{var e;return!0===(null===(e=this.view)||void 0===e?void 0:e.stationary)}),(()=>this._updateAttributionItems()))])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var e;return null!==(e=this.view)&&void 0!==e&&e.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.view,t=null===e||void 0===e?void 0:e.allLayerViews;if(us.length=0,!e||!t)return void this._clear();t.forEach((t=>{var i,n;if(t.suspended||null===(i=t.layer)||void 0===i||!i.attributionVisible)return;const r=t.layer;if(ls(r,"user"))return void cs(us,t,r.copyright);if(r.hasAttributionData){if(this._fetchedAttributionData.has(t)){const i=this._fetchedAttributionData.get(t);return void(i?cs(us,t,this._getDynamicAttribution(i,e,r)):ls(r)&&cs(us,t,r.copyright))}return void this._fetchAttributionData(t)}const o="portalItem"in r?null===(n=r.portalItem)||void 0===n?void 0:n.accessInformation:void 0;cs(us,t,o||r.copyright)}));const i=t.find((e=>{var t;return"integrated-mesh-3dtiles"===(null===(t=e.layer)||void 0===t?void 0:t.type)}));if(this.view&&i){const e=function(e){return as.get(e)}(this.view);if(e){const t=e.getAttributionText();for(let e=0;e<t.length;++e)cs(us,i,t[e])}}(function(e,t){return e.length!==t.length||e.some(((e,i)=>e.text!==t[i].text))})(this.items,us)&&(this.items.removeAll(),this.items.addMany(us)),us.length=0,this.notifyChange("state")}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const t=await(0,G.Ke)(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const i=t.ok?this._createContributionIndex(t.value,function(e){return"bing-maps"===e.type}(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,i)}this._updateAttributionItems()}_createContributionIndex(e,t){const i=e.contributors,n={};if(!i)return n;for(let s=0;s<i.length;s++){const e=i[s],a=e.coverageAreas;if(!a)return;for(const i of a){const a=i.bbox,l=i.zoomMin-(t&&i.zoomMin?1:0),c=i.zoomMax-(t&&i.zoomMax?1:0),u=new ie.A({xmin:a[1],ymin:a[0],xmax:a[3],ymax:a[2],spatialReference:re.A.WGS84}),d={extent:(0,ss.Gh)(u),attribution:e.attribution||"",score:null!=i.score?i.score:100,id:s};for(let e=l;e<=c;e++){var r,o;null!==(o=n[r=e])&&void 0!==o||(n[r]=[]),n[e].push(d)}}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(e,t,i){var n,r,o;const{extent:s,scale:a}=t;let l=null!==(n=null===(r=i.tileInfo)||void 0===r?void 0:r.scaleToZoom(a))&&void 0!==n?n:0;if(l=Math.min(null!==(o=e.maxKey)&&void 0!==o?o:0,Math.round(l)),!s||null==l||l<=-1)return"";const c=e[l],u=(0,ss.Cv)(s.center.clone().normalize(),re.A.WebMercator),d=new Set;return c?c.filter((e=>{const t=e.id,i=!d.has(t)&&u&&e.extent&&(0,Li.qz)(e.extent,u);return i&&d.add(t),i})).sort(((e,t)=>t.score-e.score||e.objectId-t.objectId)).map((e=>e.attribution)).join(", "):""}};(0,n._)([(0,r.MZ)({readOnly:!0,type:u.A})],ds.prototype,"items",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],ds.prototype,"state",null),(0,n._)([(0,r.MZ)()],ds.prototype,"view",void 0),ds=(0,n._)([(0,a.$)("esri.widgets.Attribution.AttributionViewModel")],ds);const hs=ds;var ps=i(98108),fs=i(20459),ms=i(63582),ys=i(54761);const gs="esri-attribution",vs={base:gs,poweredBy:"".concat(gs,"__powered-by"),sources:"".concat(gs,"__sources"),open:"".concat(gs,"--open"),sourcesOpen:"".concat(gs,"__sources--open"),link:"".concat(gs,"__link")};let _s=class extends os.A{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver((e=>e.forEach((e=>{let{target:t}=e;return this._checkSourceTextOverflow(t)})))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new hs}initialize(){this.addHandles((0,f.on)((()=>{var e;return null===(e=this.viewModel)||void 0===e?void 0:e.items}),"change",(()=>this.scheduleRender())))}destroy(){var e;null===(e=this._resizeObserver)||void 0===e||e.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce(((e,t)=>(e.includes(t.text)||e.push(t.text),e)),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e={[vs.open]:this._isOpen};return(0,ys.K)("div",{bind:this,class:this.classes(vs.base,ps.D.widget,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return(0,ys.K)("div",{class:vs.poweredBy},"Powered by"," ",(0,ys.K)("a",{class:vs.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const e=this._isOpen,t=this._isInteractive,i=t?0:void 0,{attributionText:n}=this,r={[vs.sourcesOpen]:e,[ps.D.interactive]:t};return(0,ys.K)("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(vs.sources,r),innerHTML:n,tabIndex:i})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let t=!1;const{clientHeight:i,clientWidth:n,scrollWidth:r}=e,o=r>n,s=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,s&&(t=!0),this._isOpen){const e=i<this._prevSourceNodeHeight;this._prevSourceNodeHeight=i,e&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,n._)([(0,r.MZ)()],_s.prototype,"_isOpen",void 0),(0,n._)([(0,r.MZ)()],_s.prototype,"_isInteractive",null),(0,n._)([(0,r.MZ)()],_s.prototype,"_attributionTextOverflowed",void 0),(0,n._)([(0,r.MZ)()],_s.prototype,"_prevSourceNodeHeight",void 0),(0,n._)([(0,r.MZ)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],_s.prototype,"attributionText",null),(0,n._)([(0,r.MZ)()],_s.prototype,"icon",null),(0,n._)([(0,r.MZ)()],_s.prototype,"itemDelimiter",void 0),(0,n._)([(0,r.MZ)()],_s.prototype,"label",null),(0,n._)([(0,r.MZ)(),(0,ms.G)("esri/widgets/Attribution/t9n/Attribution")],_s.prototype,"messages",void 0),(0,n._)([(0,r.MZ)()],_s.prototype,"view",null),(0,n._)([(0,r.MZ)({type:hs})],_s.prototype,"viewModel",void 0),(0,n._)([(0,fs.$)()],_s.prototype,"_toggleState",null),_s=(0,n._)([(0,a.$)("esri.widgets.Attribution")],_s);const ws=_s;var bs=i(54715);var As=i(79535);let Ms=class extends((0,As.A)(O.A)){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(f.Vh)}destroy(){this.view=null}get canShowNorth(){return function(e){var t,i;return(null===e||void 0===e||null===(t=e.spatialReference)||void 0===t?void 0:t.isWebMercator)||(null===e||void 0===e||null===(i=e.spatialReference)||void 0===i?void 0:i.isGeographic)||!1}(this.view)}get state(){var e;return null===(e=this.view)||void 0===e||!e.ready||"2d"===this.view.type&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var e,t;(null===(e=this.view)||void 0===e?void 0:e.ready)&&("2d"===(null===(t=this.view)||void 0===t?void 0:t.type)?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:(0,bs.s)()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){null!=e&&this._set("orientation",{z:e})}_updateForCamera(e){if(!e)return;const t=-e.heading;this._set("orientation",{x:0,y:0,z:t})}_updateRotationWatcher(e){this.removeAllHandles(),this._watchForView(),e&&this.addHandles("2d"===e.type?(0,f.wB)((()=>null===e||void 0===e?void 0:e.rotation),this._updateForRotation,f.Vh):(0,f.wB)((()=>null===e||void 0===e?void 0:e.camera),this._updateForCamera,f.Vh))}_watchForView(e){this.addHandles((0,f.wB)((()=>this.view),this._updateRotationWatcher,e))}};(0,n._)([(0,r.MZ)({readOnly:!0})],Ms.prototype,"canShowNorth",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Ms.prototype,"orientation",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],Ms.prototype,"state",null),(0,n._)([(0,r.MZ)()],Ms.prototype,"view",void 0),Ms=(0,n._)([(0,a.$)("esri.widgets.Compass.CompassViewModel")],Ms);const Ss=Ms,Ts="esri-compass",Es={base:Ts,iconContainer:"".concat(Ts,"__icon-container")};var xs=i(94126);let Cs=class extends os.A{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new Ss,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=e=>({transform:"rotateZ(".concat(e.z,"deg)")})}loadDependencies(){return(0,xs.W)({button:()=>Promise.all([i.e(965),i.e(5688),i.e(8535),i.e(3285)]).then(i.bind(i,43285)),icon:()=>Promise.all([i.e(965),i.e(6702)]).then(i.bind(i,16702))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return"rotation"===this.viewModel.state?"arrow-up":"compass-needle"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:t}=this.viewModel,{messages:i}=this;return(0,ys.K)("div",{class:this.classes(Es.base,ps.D.widget)},(0,ys.K)("calcite-button",{class:ps.D.widgetButton,disabled:"disabled"===t,kind:"neutral",label:i.reset,onclick:this._reset,round:!0,scale:"s",title:i.reset},(0,ys.K)("div",{"aria-hidden":"true",class:Es.iconContainer,title:i.reset},(0,ys.K)("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(e)}))))}};(0,n._)([(0,r.MZ)()],Cs.prototype,"goToOverride",null),(0,n._)([(0,r.MZ)()],Cs.prototype,"icon",null),(0,n._)([(0,r.MZ)()],Cs.prototype,"label",null),(0,n._)([(0,r.MZ)(),(0,ms.G)("esri/widgets/Compass/t9n/Compass")],Cs.prototype,"messages",void 0),(0,n._)([(0,r.MZ)()],Cs.prototype,"view",null),(0,n._)([(0,r.MZ)({type:Ss})],Cs.prototype,"viewModel",void 0),Cs=(0,n._)([(0,a.$)("esri.widgets.Compass")],Cs);const Ps=Cs,Os="esri-navigation-toggle",Is=Os,Rs="".concat(Os,"--horizontal");let Ns=class extends O.A{constructor(e){super(e),this._navigationMode="pan",this.view=null}initialize(){this.addHandles((0,f.z7)((()=>{var e;return null===(e=this.view)||void 0===e||null===(e=e.navigation)||void 0===e?void 0:e.actionMap}),(()=>this._updateNavigationActionMap())))}destroy(){this.view=null}get state(){var e,t;return null!==(e=this.view)&&void 0!==e&&e.ready&&"3d"===(null===(t=this.view)||void 0===t?void 0:t.type)?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(e){this._navigationMode=e,this._updateNavigationActionMap()}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate")}_updateNavigationActionMap(){var e;const t=null===(e=this.view)||void 0===e||null===(e=e.navigation)||void 0===e?void 0:e.actionMap;if(!t)return;const i="pan"===this._navigationMode;t.dragPrimary=i?"pan":"rotate",t.dragSecondary=i?"rotate":"pan"}};(0,n._)([(0,r.MZ)({readOnly:!0})],Ns.prototype,"state",null),(0,n._)([(0,r.MZ)()],Ns.prototype,"_navigationMode",void 0),(0,n._)([(0,r.MZ)()],Ns.prototype,"view",void 0),Ns=(0,n._)([(0,a.$)("esri.widgets.NavigationToggle.NavigationToggleViewModel")],Ns);const ks=Ns;let Ls=class extends os.A{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new ks,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{var e;const t="pan"===(null===(e=this.viewModel)||void 0===e?void 0:e.navigationMode)?this._rotateButton:this._panButton;(0,$o.Z6)(t),this.toggle()}}loadDependencies(){return(0,xs.W)({button:()=>Promise.all([i.e(965),i.e(5688),i.e(8535),i.e(3285)]).then(i.bind(i,43285))})}get icon(){return"move"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}set layout(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){var e,t;const i="disabled"===(null===(e=this.viewModel)||void 0===e?void 0:e.state),n="pan"===(null===(t=this.viewModel)||void 0===t?void 0:t.navigationMode),r=this.messages.toggle;return(0,ys.K)("div",{class:this.classes(Is,ps.D.widget,{[Rs]:"horizontal"===this.layout})},(0,ys.K)("calcite-button",{afterCreate:e=>{this._panButton=e},appearance:n?"outline-fill":"solid",class:ps.D.widgetButton,disabled:i,iconStart:"move",kind:"neutral",label:r,onclick:this._toggle,tabIndex:n?void 0:-1,title:r}),(0,ys.K)("calcite-button",{afterCreate:e=>{this._rotateButton=e},appearance:n?"solid":"outline-fill",class:ps.D.widgetButton,disabled:i,iconStart:"rotate",kind:"neutral",label:r,onclick:this._toggle,tabIndex:n?-1:void 0,title:r}))}};(0,n._)([(0,r.MZ)()],Ls.prototype,"icon",null),(0,n._)([(0,r.MZ)()],Ls.prototype,"label",null),(0,n._)([(0,r.MZ)({value:"vertical"})],Ls.prototype,"layout",null),(0,n._)([(0,r.MZ)(),(0,ms.G)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Ls.prototype,"messages",void 0),(0,n._)([(0,r.MZ)()],Ls.prototype,"view",null),(0,n._)([(0,r.MZ)({type:ks})],Ls.prototype,"viewModel",void 0),Ls=(0,n._)([(0,a.$)("esri.widgets.NavigationToggle")],Ls);const Ds=Ls;let Zs=class extends O.A{get canZoomIn(){var e,t;if(!(null===(e=this.view)||void 0===e?void 0:e.ready))return!1;const i=null===(t=this.view)||void 0===t||null===(t=t.constraints)||void 0===t?void 0:t.effectiveMaxScale;return 0===i||this._scale>i}get canZoomOut(){var e;const{view:t}=this;if(!(null===t||void 0===t?void 0:t.ready))return!1;const i=null===(e=t.constraints)||void 0===e?void 0:e.effectiveMinScale;return 0===i||this._scale<i}get _scale(){var e,t,i,n;const r=null===(e=this.view)||void 0===e||null===(e=e.animation)||void 0===e?void 0:e.target;return null!==(t=null!==(i=r&&"then"in r||null===r||void 0===r?void 0:r.scale)&&void 0!==i?i:null===(n=this.view)||void 0===n?void 0:n.scale)&&void 0!==t?t:0}};(0,n._)([(0,r.MZ)({readOnly:!0})],Zs.prototype,"canZoomIn",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Zs.prototype,"canZoomOut",null),(0,n._)([(0,r.MZ)()],Zs.prototype,"view",void 0),(0,n._)([(0,r.MZ)()],Zs.prototype,"_scale",null),Zs=(0,n._)([(0,a.$)("esri.widgets.Zoom.ZoomConditions2D")],Zs);const Fs=Zs;let Us=class extends O.A{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};(0,n._)([(0,r.MZ)({readOnly:!0})],Us.prototype,"canZoomIn",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Us.prototype,"canZoomOut",null),(0,n._)([(0,r.MZ)()],Us.prototype,"view",void 0),Us=(0,n._)([(0,a.$)("esri.widgets.Zoom.ZoomConditions3D")],Us);const js=Us;let Gs=class extends O.A{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return null!=this._zoomConditions&&this._zoomConditions.canZoomIn}get canZoomOut(){var e;return null!=this._zoomConditions&&(null===(e=this._zoomConditions)||void 0===e?void 0:e.canZoomOut)}get state(){var e;return null!==(e=this.view)&&void 0!==e&&e.ready?"ready":"disabled"}set view(e){e?"2d"===e.type?this._zoomConditions=new Fs({view:e}):"3d"===e.type&&(this._zoomConditions=new js({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){const e=this.view;this.canZoomIn&&e&&("2d"===e.type?e.mapViewNavigation.zoomIn():(0,z.QZ)(e.goTo({zoomFactor:2})))}zoomOut(){const e=this.view;this.canZoomOut&&e&&("2d"===e.type?e.mapViewNavigation.zoomOut():(0,z.QZ)(e.goTo({zoomFactor:.5})))}};(0,n._)([(0,r.MZ)()],Gs.prototype,"_zoomConditions",void 0),(0,n._)([(0,r.MZ)()],Gs.prototype,"canZoomIn",null),(0,n._)([(0,r.MZ)()],Gs.prototype,"canZoomOut",null),(0,n._)([(0,r.MZ)({readOnly:!0})],Gs.prototype,"state",null),(0,n._)([(0,r.MZ)()],Gs.prototype,"view",null),Gs=(0,n._)([(0,a.$)("esri.widgets.Zoom.ZoomViewModel")],Gs);const zs=Gs,Vs="esri-zoom",Bs="esri-zoom--horizontal";let Hs=class extends os.A{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new zs,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return(0,xs.W)({button:()=>Promise.all([i.e(965),i.e(5688),i.e(8535),i.e(3285)]).then(i.bind(i,43285))})}get icon(){return"magnifying-glass-plus"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}set layout(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){const e={[Bs]:"horizontal"===this.layout},{canZoomIn:t,canZoomOut:i}=this.viewModel,{zoomIn:n,zoomOut:r}=this.messages;return(0,ys.K)("div",{class:this.classes(Vs,ps.D.widget,e)},(0,ys.K)("calcite-button",{class:ps.D.widgetButton,disabled:!t,iconStart:"plus",kind:"neutral",label:n,onclick:this.zoomIn,title:n}),(0,ys.K)("calcite-button",{class:ps.D.widgetButton,disabled:!i,iconStart:"minus",kind:"neutral",label:r,onclick:this.zoomOut,title:r}))}};(0,n._)([(0,r.MZ)()],Hs.prototype,"icon",null),(0,n._)([(0,r.MZ)()],Hs.prototype,"label",null),(0,n._)([(0,r.MZ)({value:"vertical"})],Hs.prototype,"layout",null),(0,n._)([(0,r.MZ)(),(0,ms.G)("esri/widgets/Zoom/t9n/Zoom")],Hs.prototype,"messages",void 0),(0,n._)([(0,r.MZ)()],Hs.prototype,"view",null),(0,n._)([(0,r.MZ)({type:zs})],Hs.prototype,"viewModel",void 0),Hs=(0,n._)([(0,a.$)("esri.widgets.Zoom")],Hs);const qs=Hs;let Ws=class extends rs{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=e=>{this.components.forEach((t=>{const i=this._find(t),n=null===i||void 0===i?void 0:i.widget;(function(e){return void 0!==(null===e||void 0===e?void 0:e.view)})(n)&&(n.view=e)}))},this._componentsWatcher=(e,t)=>{this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}}initialize(){this.addHandles([(0,f.wB)((()=>this.components),this._componentsWatcher,f.Vh),(0,f.wB)((()=>this.view),this._updateViewAwareWidgets,f.Vh)])}_add(e,t,i,n,r){let o=e;if("string"==typeof e&&this._defaultPositionLookup[e]){if(this._find(e))return;o=this._createComponent(e)}super._add(o,t,i,n,r)}_removeComponents(e){e.forEach((e=>{const t=this._find(e);t&&(this.remove(t),t.destroy())}))}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:e}=this.padding;this.padding=e}}_addComponents(e){this.constructed&&e.forEach((e=>this.add(this._createComponent(e),this._defaultPositionLookup[e])))}_createComponent(e){const t=this._createWidget(e);return new qo({id:e,node:t})}_createWidget(e){const t=this.view;switch(e){case"attribution":return new ws({view:t});case"compass":return new Ps({view:t});case"navigation-toggle":return new Ds({view:t});case"zoom":return new qs({view:t})}}};(0,n._)([(0,r.MZ)()],Ws.prototype,"components",void 0),Ws=(0,n._)([(0,a.$)("esri.views.ui.DefaultUI")],Ws);const $s=Ws;let Js=class extends $s{constructor(e){super(e),this.components=["attribution","zoom"]}};(0,n._)([(0,r.MZ)()],Js.prototype,"components",void 0),Js=(0,n._)([(0,a.$)("esri.views.ui.2d.DefaultUI2D")],Js);const Ks=Js;var Ys,Xs=i(2515),Qs=i(53084);let ea=Ys=class extends si.A{constructor(e){super(e),this.color=new De.A([0,0,0,1])}clone(){return new Ys((0,Qs.o8)({color:this.color}))}};(0,n._)([(0,r.MZ)({type:De.A,json:{write:!0}})],ea.prototype,"color",void 0),ea=Ys=(0,n._)([(0,a.$)("esri.webmap.background.ColorBackground")],ea);const ta=ea;let ia,na,ra,oa,sa,aa,la;let ca=class extends(cr(T(q(j(ti))))){constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new d.A({getCollections:()=>{var e,t;return[null===(e=this.basemapView)||void 0===e?void 0:e.baseLayerViews,this.layerViews,null===(t=this.basemapView)||void 0===t?void 0:t.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new jt({actionMap:new Dt({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new u.A,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new zo.K,this.type="2d",this.view2dType=null,this.ui=new Ks,this.test={takeScreenshot:async e=>async function(e,t){const i=await Go(e,t);return(0,Uo.encodeData)(i,jo)}(this._getScreenshotView(e),e)},this.padding={top:0,right:0,bottom:0,left:0},(0,m.n_)()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=(0,p.pR)(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Oo(this.featuresTilingScheme)}get constraintsInfo(){var e,t;const i=null===(e=this.defaultsFromMap)||void 0===e?void 0:e.tileInfo,n=this.spatialReference;return{lods:null!==i&&void 0!==i&&null!==(t=i.spatialReference)&&void 0!==t&&t.equals(n)?i.lods:null,spatialReference:n}}get initialExtentRequired(){var e;if(!this.stateManager)return!1;const{scale:t,constraints:i,center:n,viewpoint:r,extent:o}=this;let s=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&null!==(e=this.map.initialViewProperties)&&void 0!==e&&e.viewpoint)&&!o&&(null!==i&&void 0!==i&&i.effectiveLODs||(s=-1),(!n||0===t&&-1===s)&&(null==(null===r||void 0===r?void 0:r.targetGeometry)||"extent"!==r.targetGeometry.type&&!r.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=e.targetGeometry,i=this.spatialReference;return(0,_.isLoadedOrLoadFor)(t.spatialReference,i)}get background(){return(0,Xs.r)(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){var e,t;return null!==(e=null===(t=this.stateManager)||void 0===t?void 0:t.center)&&void 0!==e?e:null}set center(e){this.stateManager.center=e}get highlightOptions(){return(0,No.a)(this)}set highlightOptions(e){(0,No.o)(this,e)}get padding(){var e;return null===(e=this.stateManager)||void 0===e?void 0:e.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){var e,t;return null!==(e=null===(t=this.stage)||void 0===t?void 0:t.renderRequested)&&void 0!==e&&e}get resolution(){var e;return null!==(e=this.stateManager.resolution)&&void 0!==e?e:0}get scale(){var e,t;return null!==(e=null===(t=this.stateManager)||void 0===t?void 0:t.scale)&&void 0!==e?e:0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get tileInfo(){var e;return null===(e=this.featuresTilingScheme)||void 0===e?void 0:e.tileInfo}get updating(){var e;const t=!(!this.magnifier.visible||null===this.magnifier.position||null===(e=this._magnifierView)||void 0===e||!e.updatingHandles.updating),i=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some((e=>!e.destroyed&&!("layerViews"in e)&&!0===e.updating))||t);if((0,o.A)("esri-2d-log-updating")){var n,r,s;const e=this.allLayerViews.reduce(((e,t)=>(0,l.A)((0,l.A)({},e),{},{["".concat(t.layer.id,"(").concat(t.layer.type,")")]:!t.destroyed&&!("layerViews"in t)&&t.updating})),{});console.log("Updating MapView: ".concat(i,"\n-> Null LayerViewManager: ").concat(!this.layerViewManager,"\n-> Null LabelManager: ").concat(!this.labelManager,"\n-> Null GraphicsView: ").concat(!this.graphicsView,"\n-> layerViewManager.updating: ").concat(null===(n=this.layerViewManager)||void 0===n?void 0:n.updating,"\n-> labelManager.updating: ").concat(null===(r=this.labelManager)||void 0===r?void 0:r.updating,"\n-> graphicsView.updating: ").concat(null===(s=this.graphicsView)||void 0===s?void 0:s.updating,"\n-> allLayerViews: ").concat(JSON.stringify(e),"\n-> updatingMagnifier: ").concat(t,"\n"))}return i}get visibleArea(){const e=this.stateManager.visibleArea;return e?new v.A({rings:[e.map((e=>[e[0],e[1]]))],spatialReference:this.spatialReference}):e}get zoom(){var e;return null!==(e=this.stateManager.zoom)&&void 0!==e?e:-1}set zoom(e){this.stateManager.zoom=e}get navigating(){var e,t;return null!==(e=null===(t=this.mapViewNavigation)||void 0===t?void 0:t.interacting)&&void 0!==e&&e}async hitTest(e,t){return async function(e,t,i){const n=(0,ht.FV)(t)?(0,ht.xB)(e,t):t;if(!e.ready||isNaN(n.x)||isNaN(n.y))return{screenPoint:n,results:[]};let r=new Set;const o=new Set;let s=!1,a=null,l=null;null!==i&&void 0!==i&&i.include?Do(i.include,Lo(e,(e=>{r.add(e),Fo(e,(e=>o.add(e)))}),((e,t)=>{o.add(e),r.add(t)}),(e=>{a||(a=new Set),a.add(e)}),(e=>r.add(e)),(()=>s=!0))):(s=!0,r=new Set(e.allLayerViews),r.forEach((e=>{Fo(e,(e=>o.add(e)))}))),(null===i||void 0===i?void 0:i.exclude)&&Do(i.exclude,Lo(e,(e=>{r.delete(e),Fo(e,(e=>o.delete(e)))}),(e=>o.delete(e)),(e=>{l||(l=new Set),l.add(e)})));const c=e.toMap(n),u=e.allLayerViews.filter((t=>!t.suspended&&r.has(t)&&t.clips.every((t=>(0,Ro.O)(e,t,n,c))))).reverse();let d=[...s?e.graphicsView.hitTest(c).map((e=>({type:"graphic",graphic:e,layer:null,mapPoint:c}))):[],...await Promise.all(u.map((e=>e.hitTest(c,n))).toArray())].filter(Se.Ru).flat().filter(Se.Ru);return d=d.filter((e=>{var t;return"graphic"!==e.type||"subtype-group"!==(null===(t=e.layer)||void 0===t?void 0:t.type)||o.has(e.graphic.layer)})),a&&(d=d.filter((e=>{var t;return!("graphic"in e)||!e.graphic||(null===(t=a)||void 0===t?void 0:t.has(Zo(e.graphic)))}))),l&&(d=d.filter((e=>{var t;return!("graphic"in e)||!e.graphic||!(null!==(t=l)&&void 0!==t&&t.has(Zo(e.graphic)))}))),{screenPoint:n,results:d}}(this,e,t)}async takeScreenshot(e){return async function(e,t){const i=await Go(e,t),{format:n,quality:r}=(0,Uo.getFormatAndQuality)(null===t||void 0===t?void 0:t.format,null===t||void 0===t?void 0:t.quality);return(0,Uo.encode)(i,{format:n,quality:r},jo)}(this._getScreenshotView(e),e)}toMap(e){if(!this.ready)return null;const t=(0,ht.FV)(e)?(0,ht.xB)(this,e):e;return this.stateManager.toMap(t)}toScreen(e,t){return this.stateManager.toScreen(e,t)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e;return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||(null===(e=this.defaultsFromMap)||void 0===e?void 0:e.spatialReference)||null}getDefaultTimeZone(){return(0,Xs.r)(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return(0,Xs.r)(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(e){return _o(e)}importLayerView(e){return wo(e)}pixelSizeAt(){return this.ready?this.resolution:(s.A.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){const t=this.toMap(e),i=await this.hitTest(e),n=this.allLayerViews.toArray().filter((i=>i.clips.every((i=>(0,Ro.O)(this,i,e,t))))).reverse(),r=new globalThis.Map(n.map((e=>[e.layer.uid,e]))),o=[];let s=0,a=0;for(;s<i.results.length||a<n.length;){var l,c;const e=i.results.at(s);if(e&&"graphic"!==e.type){++s;continue}const u=r.get(null===(l=null!==(c=null===e||void 0===e?void 0:e.layer)&&void 0!==c?c:null===e||void 0===e?void 0:e.graphic.layer)||void 0===l?void 0:l.uid);if((!e||u)&&a<n.length&&n.at(a)!==u){const e=n.at(a);"fetchPopupFeaturesAtLocation"in e&&o.push({mapPoint:t,layerView:e}),++a}else e&&(o.push({graphic:e.graphic,layerView:u}),++s)}return{hits:o,location:t}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=function(e){const t=(0,Vo.C)();return t.available?"3d"===e&&t.majorPerformanceCaveat?new h.A("webgl:major-performance-caveat-detected","Your WebGL implementation (".concat(t.unmaskedRenderer,") doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.")):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new h.A("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new h.A("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new h.A("webgl:required","WebGL2 is required but not supported.",(new Error).stack)}(this.type);if((0,o.A)("safari")&&(0,o.A)("safari")<9&&(e=new h.A("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,o.A)("safari")})),null!=e)throw s.A.getLogger(this).warn("#validate()",e.message),e}loadAsyncDependencies(){return async function(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:n,MapViewNavigation:r,MagnifierView2D:o,GridView2D:s,Stage:a}]=await Promise.all([Promise.all([i.e(2279),i.e(2413)]).then(i.bind(i,22475)),Promise.all([i.e(4648),i.e(8618),i.e(4797),i.e(2279),i.e(6201),i.e(5169),i.e(6731),i.e(324),i.e(401),i.e(947),i.e(1581),i.e(6535),i.e(9679),i.e(8995),i.e(4402),i.e(3494),i.e(1438),i.e(7560),i.e(8013)]).then(i.bind(i,98013))]);na=e,ra=t,oa=n,sa=r,aa=o,la=s,ia=a}()}_getDefaultViewpoint(){var e,t,i,n,r,o;const{constraints:s,initialExtent:a,map:l,padding:u,size:d}=this;if(!s)return null;const h=l&&"initialViewProperties"in l?l.initialViewProperties:void 0,p=this.stateManager.getUserStartupOptions(this.size),f=null===h||void 0===h?void 0:h.viewpoint,m=null!==(e=null===f||void 0===f||null===(t=f.targetGeometry)||void 0===t?void 0:t.extent)&&void 0!==e?e:a,y=null===m||void 0===m?void 0:m.center,g=null!==(i=null===f||void 0===f?void 0:f.rotation)&&void 0!==i?i:0,v=(null===f||void 0===f?void 0:f.scale)||m&&(0,oi.AU)(m,[d[0]-u.left-u.right,d[1]-u.top-u.bottom]),_=null!==(n=p.center)&&void 0!==n?n:y,w=null!==(r=p.rotation)&&void 0!==r?r:g,b=null!==(o=p.scale)&&void 0!==o?o:v;return _&&b?new c.A({targetGeometry:_,scale:b,rotation:w}):null}_startup(){var e;this.timeline.begin("MapView Startup");const t=this._getDefaultViewpoint();this.stateManager.startup(t,this.size,this.spatialReference,null===(e=this.defaultsFromMap.extent)||void 0===e?void 0:e.center),this.graphics.owner=this;const i=new ia(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=i,this._magnifierView=new aa,this._magnifierView.magnifier=this.magnifier,this._gridView=new la;const n=new oa({view:this});this._set("labelManager",n);const r=new fo({view:this});this._set("animationManager",r);const o=new sa({view:this,animationManager:r});this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",(()=>this._updateStageChildren())),i.on("webgl-error",(e=>this.fatalError=e.error)),(0,f.wB)((()=>this.stationary),(e=>i.stationary=e),f.pc),(0,f.wB)((()=>this.background),(e=>{i.backgroundColor=null===e||void 0===e?void 0:e.color,this._magnifierView.backgroundColor=null===e||void 0===e?void 0:e.color}),f.pc),(0,f.wB)((()=>this.magnifier),(e=>this._magnifierView.magnifier=e),f.pc),(0,f.wB)((()=>this.grid),(e=>this._gridView.grid=e),f.pc),(0,f.wB)((()=>this.renderingOptions),(e=>i.renderingOptions=e),f.pc),(0,f.wB)((()=>this.highlights.items.map((e=>({name:e.name,options:{fillColor:e.color,haloColor:e.haloColor,fillOpacity:e.fillOpacity,haloOpacity:e.haloOpacity,haloWidth:e.haloWidth,haloBlur:e.haloBlur}})))),(()=>{i.highlightGradient=(0,Io.u4)(i.highlightGradient,this.highlights.items)}),f.pc),(0,f.wB)((()=>this.state.id),(()=>i.state=this.state),f.pc)],"map-view"),this._updateStageChildren();const s=this._resolveWhenReady;this._resolveWhenReady=[],s.forEach((e=>e(this))),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach((e=>{this.stage.addChild(e.container)}));const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new bo.A(w.A.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new na({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new ra(e)});this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){var t;const{allLayerViews:i,padding:n,size:r,stage:o}=this;return{allLayerViews:i,backgroundColor:null!==e&&void 0!==e&&e.ignoreBackground?null:null===(t=this.background)||void 0===t?void 0:t.color,padding:n,size:r,stage:o}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const e of this.allLayerViews)e.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const e of this.allLayerViews)e.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};ca.type="2d",(0,n._)([(0,r.MZ)({constructOnly:!0})],ca.prototype,"deactivatedWebGLExtensions",void 0),(0,n._)([(0,r.MZ)({constructOnly:!0})],ca.prototype,"debugWebGLExtensions",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],ca.prototype,"featuresTilingScheme",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],ca.prototype,"graphicsTileStore",null),(0,n._)([(0,r.MZ)()],ca.prototype,"graphicsView",void 0),(0,n._)([(0,r.MZ)()],ca.prototype,"constraintsInfo",null),(0,n._)([(0,r.MZ)()],ca.prototype,"initialExtentRequired",null),(0,n._)([(0,r.MZ)()],ca.prototype,"labelManager",void 0),(0,n._)([(0,r.MZ)({type:jt,nonNullable:!0})],ca.prototype,"navigation",void 0),(0,n._)([(0,r.MZ)({constructOnly:!0})],ca.prototype,"renderCanvas",void 0),(0,n._)([(0,r.MZ)()],ca.prototype,"renderingOptions",void 0),(0,n._)([(0,r.MZ)({constructOnly:!0})],ca.prototype,"supersampleScreenshotsEnabled",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],ca.prototype,"supportsGround",void 0),(0,n._)([(0,r.MZ)()],ca.prototype,"defaultsFromMapSettings",null),(0,n._)([(0,r.MZ)({readOnly:!0})],ca.prototype,"typeSpecificPreconditionsReady",null),(0,n._)([(0,r.MZ)({type:ta})],ca.prototype,"background",null),(0,n._)([(0,r.MZ)()],ca.prototype,"center",null),(0,n._)([(0,r.MZ)({type:u.A})],ca.prototype,"floors",void 0),(0,n._)([(0,r.MZ)()],ca.prototype,"grid",void 0),(0,n._)([(0,r.MZ)({type:Mt.A})],ca.prototype,"highlightOptions",null),(0,n._)([(0,r.MZ)()],ca.prototype,"map",void 0),(0,n._)([(0,r.MZ)()],ca.prototype,"padding",null),(0,n._)([(0,r.MZ)({readOnly:!0})],ca.prototype,"rendering",null),(0,n._)([(0,r.MZ)({readOnly:!0})],ca.prototype,"resolution",null),(0,n._)([(0,r.MZ)()],ca.prototype,"scale",null),(0,n._)([(0,r.MZ)({constructOnly:!0})],ca.prototype,"spatialReferenceLocked",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],ca.prototype,"tileInfo",null),(0,n._)([(0,r.MZ)({type:zo.K,readOnly:!0})],ca.prototype,"timeline",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],ca.prototype,"type",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],ca.prototype,"updating",null),(0,n._)([(0,r.MZ)({readOnly:!0})],ca.prototype,"view2dType",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],ca.prototype,"visibleArea",null),(0,n._)([(0,r.MZ)()],ca.prototype,"zoom",null),(0,n._)([(0,r.MZ)({readOnly:!0})],ca.prototype,"navigating",null),(0,n._)([(0,r.MZ)(),(0,y.w)((e=>e instanceof $s?e:(0,g.PZ)(Ks,e)))],ca.prototype,"ui",void 0),ca=(0,n._)([(0,a.$)("esri.views.View2D")],ca);const ua=ca;let da=class extends ua{constructor(e){super(e),this.view2dType="map"}};(0,n._)([(0,r.MZ)({readOnly:!0})],da.prototype,"view2dType",void 0),da=(0,n._)([(0,a.$)("esri.views.MapView")],da);const ha=da},81779:(e,t,i)=>{i.d(t,{A:()=>c});var n,r=i(35143),o=i(42553),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842));let l=n=class extends o.A{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new n({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"name",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"title",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"expression",void 0),(0,r._)([(0,s.MZ)({type:["string","number"],json:{write:!0}})],l.prototype,"returnType",void 0),l=n=(0,r._)([(0,a.$)("esri.popup.ExpressionInfo")],l);const c=l},81806:(e,t,i)=>{i.d(t,{A:()=>c});var n,r,o,s,a=i(89379);let l;function c(e){return"function"==typeof l[e]?l[e]=l[e](globalThis):l[e]}l=null!==(n=globalThis.dojoConfig)&&void 0!==n&&n.has||null!==(r=globalThis.esriConfig)&&void 0!==r&&r.has?(0,a.A)((0,a.A)({},null===(o=globalThis.dojoConfig)||void 0===o?void 0:o.has),null===(s=globalThis.esriConfig)||void 0===s?void 0:s.has):{},c.add=(e,t,i,n)=>{(n||void 0===l[e])&&(l[e]=t),i&&c(e)},c.cache=l,c.add("big-integer-warning-enabled",!0),c.add("esri-deprecation-warnings",!0),c.add("esri-tests-disable-screenshots",!1),c.add("esri-tests-use-full-window",!1),c.add("esri-tests-post-to-influx",!0),c.add("esri-cim-animations-enable-status","enabled"),c.add("esri-cim-animations-spotlight",!1),c.add("esri-cim-animations-freeze-time",!1),c.add("enable-feature:multiple-highlights",!0),(e=>{c.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const t="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(c.add("host-browser",t),c.add("host-node","object"==typeof globalThis.process&&(null===(e=globalThis.process.versions)||void 0===e?void 0:e.node)&&globalThis.process.versions.v8),c.add("dom",t),c("host-browser")){const e=navigator,t=e.userAgent,i=e.appVersion,n=parseFloat(i);if(c.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),c.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),c.add("khtml",i.includes("Konqueror")?n:void 0),c.add("edge",parseFloat(t.split("Edge/")[1])||void 0),c.add("opr",parseFloat(t.split("OPR/")[1])||void 0),c.add("webkit",!c("wp")&&!c("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),c.add("chrome",!c("edge")&&!c("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),c.add("android",!c("wp")&&parseFloat(t.split("Android ")[1])||void 0),c.add("safari",!i.includes("Safari")||c("wp")||c("chrome")||c("android")||c("edge")||c("opr")?void 0:parseFloat(i.split("Version/")[1])),c.add("mac",i.includes("Macintosh")),!c("wp")&&/(iPhone|iPod|iPad)/.test(t)){const e=RegExp.$1.replace(/P/,"p"),i=/OS ([\d_]+)/.test(t)?RegExp.$1:"1",n=parseFloat(i.replace(/_/,".").replaceAll("_",""));c.add(e,n),c.add("ios",n)}c("webkit")||(!t.includes("Gecko")||c("wp")||c("khtml")||c("edge")||c.add("mozilla",n),c("mozilla")&&c.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&c.add("esri-mobile",t),i&&c.add("esri-iPhone",i),c.add("esri-geolocation",!!navigator.geolocation)}c.add("esri-wasm","WebAssembly"in globalThis),c.add("esri-performance-mode-frames-between-render",20),c.add("esri-force-performance-mode",!1),c.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in globalThis,t=!1===globalThis.crossOriginIsolated;return e&&!t})),c.add("wasm-simd",(()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))),c.add("esri-atomics","Atomics"in globalThis),c.add("esri-workers","Worker"in globalThis),c.add("web-feat:cache","caches"in globalThis),c.add("esri-workers-arraybuffer-transfer",!c("safari")||Number(c("safari"))>=12),c.add("workers-pool-size",8),c.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),c.add("featurelayer-simplify-payload-size-factors",[1,1,4]),c.add("featurelayer-fast-triangulation-enabled",!0),c.add("featurelayer-animation-enabled",!0),c.add("featurelayer-snapshot-enabled",!0),c.add("featurelayer-snapshot-point-min-threshold",8e4),c.add("featurelayer-snapshot-point-max-threshold",4e5),c.add("featurelayer-snapshot-point-coverage",.1),c.add("featurelayer-query-max-depth",4),c.add("featurelayer-query-pausing-enabled",!1),c.add("featurelayer-advanced-symbols",!1),c.add("featurelayer-pbf",!0),c.add("featurelayer-pbf-statistics",!1),c.add("feature-layers-workers",!0),c.add("feature-polyline-generalization-factor",1),c.add("mapview-transitions-duration",200),c.add("mapview-essential-goto-duration",200),c.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),c.add("mapserver-pbf-version-support",10.81),c.add("mapservice-popup-identify-max-tolerance",20),c.add("request-queue-concurrency-hosted",16),c.add("request-queue-concurrency-non-hosted",4),c.add("curve-densification-coarse-segments",128),c.add("curve-densification-max-segments",2e3),c.add("curve-densification-min-segments",3),c.add("curve-densification-pixels-per-segment",16),c.add("view-readyState-waiting-delay",1e3),c.add("gradient-depth-bias",.01),c.add("gradient-depth-epsilon",1e-8),c("host-webworker")||c("host-browser")&&(c.add("esri-csp-restrictions",(()=>{try{new Function}catch(e){return!0}return!1})),c.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{c.add("esri-image-decode",!0,!0,!0)})).catch((()=>{c.add("esri-image-decode",!1,!0,!0)}))}return!1})),c.add("esri-url-encodes-apostrophe",(()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")})))})()},81940:(e,t,i)=>{i.d(t,{A:()=>u});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(66267),l=i(56362);let c=n=class extends l.A{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new n({expressionInfo:null===(e=this.expressionInfo)||void 0===e?void 0:e.clone()})}};(0,r._)([(0,o.MZ)({type:a.A,json:{write:!0}})],c.prototype,"expressionInfo",void 0),(0,r._)([(0,o.MZ)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0),c=n=(0,r._)([(0,s.$)("esri.popup.content.ExpressionContent")],c);const u=c},82041:(e,t,i)=>{i.d(t,{Ie:()=>l,LH:()=>s,YX:()=>a,Yq:()=>o,oG:()=>c});var n=i(60749),r=i(92135);function o(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||null!=t.maxWorldLength&&t.maxWorldLength<=0)}function s(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!(null===t||void 0===t||!t.visible)&&!!o(e)}function a(e){return"point-3d"===e.type||"label-3d"===e.type}function l(e){return"center"===e.horizontalAlignment}const c={types:{key:"type",base:n.A,typeMap:{line:r.A}},json:{write:!0}}},82052:(e,t,i)=>{i.d(t,{A:()=>y});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(41210),l=i(69539),c=i(42553),u=i(53084),d=i(40565),h=i(22431);let p=n=class extends c.A{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new n({colors:(0,u.o8)(this.colors),fields:(0,u.o8)(this.fields),normalizeField:this.normalizeField,series:(0,u.o8)(this.series),tooltipField:this.tooltipField})}};(0,r._)([(0,o.MZ)({type:[l.A],json:{type:[[d.jz]],write:!0}})],p.prototype,"colors",void 0),(0,r._)([(0,o.MZ)({type:[String],json:{write:{isRequired:!0}}})],p.prototype,"fields",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"normalizeField",void 0),(0,r._)([(0,o.MZ)({type:[h.A],json:{read:!1}})],p.prototype,"series",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"tooltipField",void 0),p=n=(0,r._)([(0,s.$)("esri.popup.content.support.ChartMediaInfoValue")],p);const f=p;let m=class extends a.A{constructor(e){super(e),this.type=null,this.value=void 0}};(0,r._)([(0,o.MZ)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],m.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:f,json:{write:{isRequired:!0}}})],m.prototype,"value",void 0),m=(0,r._)([(0,s.$)("esri.popup.content.mixins.ChartMediaInfo")],m);const y=m},83008:(e,t,i)=>{i.d(t,{b:()=>p,d:()=>c});var n=i(89379),r=i(54901),o=i(73319);const s=[],a={},l=new WeakMap;function c(e,t){var i;let r=t.children;if(null!==(i=r)&&void 0!==i&&i.length)for(let n=0;n<r.length;++n)r[n]=c(e,r[n]);else r=s;const o=t.vnodeSelector;if(p(o)){const i=t.properties||a,s=i.key||o,l={key:s,afterCreate:u,afterUpdate:d,afterRemoved:h,parentWidget:e,widgetConstructor:o,widgetProperties:(0,n.A)((0,n.A)({},i),{},{key:s,children:r})};return{vnodeSelector:o.vnodeSelector,properties:l,children:void 0,text:void 0,domNode:null}}return t}function u(e,t,i,n){var s;let{parentWidget:a,widgetConstructor:c,widgetProperties:u}=n;const d=new c(u);d.container=e,l.set(e,d),null!==(s=d.afterCreate)&&void 0!==s&&s.call(d,d,e),a.addHandles((0,r.hA)((()=>h(e)))),queueMicrotask((()=>{d[o.D].projector.renderNow()}))}function d(e,t,i,n){var r;let{widgetProperties:o}=n;const s=l.get(e);s&&(s.set(o),null===(r=s.afterUpdate)||void 0===r||r.call(s,s,e))}function h(e){var t;const i=l.get(e);i&&(null!==(t=i.afterRemoved)&&void 0!==t&&t.call(i,i,e),i.destroy(),l.delete(e))}function p(e){return"function"==typeof e&&e[o.x]}},83113:(e,t,i)=>{i.d(t,{A:()=>r});var n=i(48611);class r{constructor(e,t){var i;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.name=e,this.details=r,this.message=null!==(i=t&&function(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,((e,i)=>{if(""===i)return"$";const r=(0,n.wc)(i,t);return(null!==r&&void 0!==r?r:"").toString()}))}(t,r))&&void 0!==i?i:""}toString(){return"["+this.name+"]: "+this.message}}},84031:(e,t,i)=>{i.d(t,{T:()=>s});var n=i(50346),r=i(75540),o=i(22856);class s{constructor(){this._tasks=new Array,this._runningTasks=(0,r.v)(0)}get length(){return this._tasks.length}get running(){return this._runningTasks.value>0}destroy(){this.cancelAll()}runTask(e){if(0===this.length)return o.G;for(;!e.done&&this._process(e);)e.madeProgress()}push(e,t,i){return++this._runningTasks.value,new Promise(((n,r)=>this._tasks.push(new a(n,r,e,t,i)))).finally((()=>--this._runningTasks.value))}unshift(e,t,i){return++this._runningTasks.value,new Promise(((n,r)=>this._tasks.unshift(new a(n,r,e,t,i)))).finally((()=>--this._runningTasks.value))}_process(e){if(0===this._tasks.length)return!1;const t=this._tasks.shift();try{const r=(0,n.G4)(t.signal);if(r&&!t.abortCallback)t.reject((0,n.NK)());else{var i;const o=r?null===(i=t.abortCallback)||void 0===i?void 0:i.call(t,(0,n.NK)()):t.callback(e);(0,n.$X)(o)?o.then(t.resolve,t.reject):t.resolve(o)}}catch(s){t.reject(s)}return!0}cancelAll(){const e=(0,n.NK)();for(const t of this._tasks)if(t.abortCallback){const i=t.abortCallback(e);t.resolve(i)}else t.reject(e);this._tasks.length=0}}class a{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;this.resolve=e,this.reject=t,this.callback=i,this.signal=n,this.abortCallback=r}}},84847:(e,t,i)=>{i.d(t,{A:()=>x});var n,r=i(35143),o=i(46053),s=(i(81806),i(76460),i(47249),i(6409)),a=i(85842),l=i(38582),c=i(73572),u=i(34870),d=i(91441),h=i(80669),p=i(39196),f=(i(50076),i(9392)),m=i(9994);let y=n=class extends m.N{constructor(e){super(e),this.colorMixMode=null}clone(){var e,t;const i={color:null!==(e=null===(t=this.color)||void 0===t?void 0:t.clone())&&void 0!==e?e:null,emissiveFactor:this.emissiveFactor?(0,f.o8)(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new n(i)}};(0,r._)([(0,s.e)({multiply:"multiply",replace:"replace",tint:"tint"})],y.prototype,"colorMixMode",void 0),y=n=(0,r._)([(0,a.$)("esri.symbols.support.Symbol3DFillMaterial")],y);var g,v=i(89379),_=i(69539),w=i(42553),b=i(76931),A=i(85192),M=i(72733);let S=g=class extends w.A{constructor(e){super(e),this.color=new _.A([0,0,0,1]),this.size=(0,b.PN)(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new g(e)}};var T;(0,r._)([(0,o.MZ)((0,A.E)({colorRequiredOnWrite:!0}))],S.prototype,"color",void 0),(0,r._)([(0,o.MZ)((0,v.A)((0,v.A)({},A.p),{},{json:{write:{isRequired:!0}}}))],S.prototype,"size",void 0),(0,r._)([(0,o.MZ)(h.v)],S.prototype,"pattern",void 0),(0,r._)([(0,o.MZ)({type:M.M4,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],S.prototype,"patternCap",void 0),S=g=(0,r._)([(0,a.$)("esri.symbols.support.Symbol3DOutline")],S);let E=T=class extends l.A{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new T(e)}static fromSimpleFillSymbol(e){var t,i,n,r,o,s;const a=e.outline&&e.outline.style&&"solid"!==e.outline.style?new u.A({style:e.outline.style}):null,l={size:null!==(t=null===(i=e.outline)||void 0===i?void 0:i.width)&&void 0!==t?t:0,color:(null!==(n=null===(r=e.outline)||void 0===r?void 0:r.color)&&void 0!==n?n:p.ON).clone(),pattern:a};return a&&null!==(o=e.outline)&&void 0!==o&&o.cap&&(l.patternCap=e.outline.cap),new T({material:new y({color:(null!==(s=e.color)&&void 0!==s?s:p.u7).clone()}),pattern:e.style&&"solid"!==e.style?new d.A({style:e.style}):null,outline:l})}};(0,r._)([(0,s.e)({Fill:"fill"},{readOnly:!0})],E.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:y,json:{write:!0}})],E.prototype,"material",void 0),(0,r._)([(0,o.MZ)(h.r)],E.prototype,"pattern",void 0),(0,r._)([(0,o.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],E.prototype,"castShadows",void 0),(0,r._)([(0,o.MZ)({type:S,json:{write:!0}})],E.prototype,"outline",void 0),(0,r._)([(0,o.MZ)(c.J)],E.prototype,"edges",void 0),E=T=(0,r._)([(0,a.$)("esri.symbols.FillSymbol3DLayer")],E);const x=E},85192:(e,t,i)=>{i.d(t,{E:()=>c,p:()=>u});var n=i(69539),r=i(76931),o=i(40565),s=i(2183);function a(e,t){const i=null!=t.transparency?(0,s.D)(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new n.A([r[0]||0,r[1]||0,r[2]||0,i]):null}function l(e,t){t.color=e.toJSON().slice(0,3);const i=(0,s.p)(e.a);0!==i&&(t.transparency=i)}function c(e){return{type:n.A,nonNullable:null===e||void 0===e?void 0:e.nonNullable,json:{type:[o.jz],default:null,read:{source:["color","transparency"],reader:a},write:{target:{color:{type:[o.jz],isRequired:null===e||void 0===e?void 0:e.colorRequiredOnWrite},transparency:{type:o.jz}},writer:l}}}}const u={type:Number,cast:r.cr,json:{write:!0}}},85361:(e,t,i)=>{function n(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function r(e,t){for(const i of e)if(null!=i&&t(i))return i}function o(e){return null!=e&&"function"==typeof e[Symbol.iterator]}i.d(t,{I6:()=>r,PP:()=>n,xZ:()=>o})},85632:(e,t,i)=>{function n(e){return"number"==typeof e}function r(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function o(e){return"boolean"==typeof e}function s(e){return"string"==typeof e||e instanceof String}function a(e){return null==e||s(e)}function l(e){return Array.isArray(e)}function c(e){return"esri.Graphic"===(null===e||void 0===e?void 0:e.declaredClass)}function u(e){return e instanceof Date}i.d(t,{$P:()=>u,CO:()=>a,DU:()=>c,Et:()=>n,Fq:()=>r,Kg:()=>s,Lm:()=>o,cy:()=>l})},85827:(e,t,i)=>{function n(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function r(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}i.d(t,{o8:()=>r,vt:()=>n});Object.freeze(Object.defineProperty({__proto__:null,clone:r,create:n,createView:function(e,t){return new Float32Array(e,t,9)},fromValues:function(e,t,i,n,r,o,s,a,l){const c=new Float32Array(9);return c[0]=e,c[1]=t,c[2]=i,c[3]=n,c[4]=r,c[5]=o,c[6]=s,c[7]=a,c[8]=l,c}},Symbol.toStringTag,{value:"Module"}))},85842:(e,t,i)=>{i.d(t,{$:()=>d});i(81806);var n=i(76460),r=i(37596),o=i(39299),s=i(19258),a=i(99486),l=i(95922);const c=new Set,u=new Set;function d(e){return t=>{null!==e&&void 0!==e||(e="esri.core.Accessor"),t.prototype.declaredClass=e,p(t);const i=[],n=[];let o=t.prototype;for(;o;)o.hasOwnProperty("initialize")&&!c.has(o.initialize)&&(c.add(o.initialize),i.push(o.initialize)),o.hasOwnProperty("destroy")&&!u.has(o.destroy)&&(u.add(o.destroy),n.push(o.destroy)),o=Object.getPrototypeOf(o);c.clear(),u.clear();const a=class extends t{constructor(){if(super(...arguments),this.constructor===a&&"function"==typeof this.postscript){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=i.length-1;e>=0;e--)i[e].call(this)}}),n.length){let e=!1;const t=this[r.G];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){e=!0,t.call(this);for(let e=0;e<n.length;e++)n[e].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};a.__accessorMetadata__=(0,s.tD)(t.prototype),a.prototype.declaredClass=e;const l=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(a,"name",{value:l,configurable:!0}),a}}function h(e,t){return null==t.get?function(){const t=this.__accessor__,i=t.propertiesByName.get(e);if(void 0===i)return;t.mutable&&(0,a.gc)(i);const n=t.store;return n.has(e)?n.get(e):i.metadata.value}:function(){const t=this.__accessor__,i=t.propertiesByName.get(e);if(void 0!==i)return i.getComputed(t)}}function p(e){const t=e.prototype,i=(0,s.tD)(t),n={};for(const r of Object.getOwnPropertyNames(i)){const e=i[r];(0,l.qk)(e),n[r]={enumerable:!0,configurable:!0,get:h(r,e),set(t){const i=this.__accessor__;if(void 0!==i){if(i.mutable)return i.initialized&&e.readOnly?f("read-only",r):i.lifecycle===o.v.CONSTRUCTED&&e.constructOnly?f("construct-only",r):void i.set(r,t)}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:t})}}}Object.defineProperties(e.prototype,n)}const f=(e,t)=>{n.A.getLogger("esri.core.Accessor").error("cannot assign to ".concat(e," property '").concat(t,"'"))}},85996:(e,t,i)=>{let n;i.d(t,{A:()=>r});const r={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(n=2e3;n<=2045;n++)r[n]=0;for(n=2056;n<=2065;n++)r[n]=0;for(n=2067;n<=2135;n++)r[n]=0;for(n=2137;n<=2154;n++)r[n]=0;for(n=2161;n<=2170;n++)r[n]=0;for(n=2172;n<=2193;n++)r[n]=0;for(n=2195;n<=2198;n++)r[n]=0;for(n=2200;n<=2203;n++)r[n]=0;for(n=2205;n<=2217;n++)r[n]=0;for(n=2222;n<=2224;n++)r[n]=1;for(n=2225;n<=2250;n++)r[n]=2;for(n=2251;n<=2253;n++)r[n]=1;for(n=2257;n<=2264;n++)r[n]=2;for(n=2274;n<=2279;n++)r[n]=2;for(n=2280;n<=2282;n++)r[n]=1;for(n=2283;n<=2289;n++)r[n]=2;for(n=2290;n<=2292;n++)r[n]=0;for(n=2308;n<=2313;n++)r[n]=0;for(n=2315;n<=2491;n++)r[n]=0;for(n=2494;n<=2866;n++)r[n]=0;for(n=2867;n<=2869;n++)r[n]=1;for(n=2870;n<=2888;n++)r[n]=2;for(n=2891;n<=2895;n++)r[n]=2;for(n=2896;n<=2898;n++)r[n]=1;for(n=2902;n<=2908;n++)r[n]=2;for(n=2915;n<=2920;n++)r[n]=2;for(n=2921;n<=2923;n++)r[n]=1;for(n=2924;n<=2930;n++)r[n]=2;for(n=2931;n<=2962;n++)r[n]=0;for(n=2964;n<=2968;n++)r[n]=2;for(n=2969;n<=2973;n++)r[n]=0;for(n=2975;n<=2991;n++)r[n]=0;for(n=2995;n<=3051;n++)r[n]=0;for(n=3054;n<=3079;n++)r[n]=0;for(n=3081;n<=3088;n++)r[n]=0;for(n=3092;n<=3101;n++)r[n]=0;for(n=3106;n<=3138;n++)r[n]=0;for(n=3146;n<=3151;n++)r[n]=0;for(n=3153;n<=3166;n++)r[n]=0;for(n=3168;n<=3172;n++)r[n]=0;for(n=3174;n<=3203;n++)r[n]=0;for(n=3294;n<=3358;n++)r[n]=0;for(n=3367;n<=3403;n++)r[n]=0;for(n=3408;n<=3416;n++)r[n]=0;for(n=3417;n<=3438;n++)r[n]=2;for(n=3441;n<=3446;n++)r[n]=2;for(n=3447;n<=3450;n++)r[n]=0;for(n=3451;n<=3459;n++)r[n]=2;for(n=3460;n<=3478;n++)r[n]=0;for(n=3554;n<=3559;n++)r[n]=0;for(n=3560;n<=3570;n++)r[n]=2;for(n=3571;n<=3581;n++)r[n]=0;for(n=3594;n<=3597;n++)r[n]=0;for(n=3601;n<=3604;n++)r[n]=0;for(n=3637;n<=3639;n++)r[n]=0;for(n=3665;n<=3667;n++)r[n]=0;for(n=3693;n<=3695;n++)r[n]=0;for(n=3701;n<=3727;n++)r[n]=0;for(n=3728;n<=3739;n++)r[n]=2;for(n=3740;n<=3751;n++)r[n]=0;for(n=3753;n<=3760;n++)r[n]=2;for(n=3761;n<=3773;n++)r[n]=0;for(n=3775;n<=3777;n++)r[n]=0;for(n=3779;n<=3781;n++)r[n]=0;for(n=3783;n<=3785;n++)r[n]=0;for(n=3788;n<=3791;n++)r[n]=0;for(n=3797;n<=3802;n++)r[n]=0;for(n=3814;n<=3816;n++)r[n]=0;for(n=3825;n<=3829;n++)r[n]=0;for(n=3832;n<=3841;n++)r[n]=0;for(n=3844;n<=3852;n++)r[n]=0;for(n=3873;n<=3885;n++)r[n]=0;for(n=3890;n<=3893;n++)r[n]=0;for(n=3907;n<=3912;n++)r[n]=0;for(n=3942;n<=3950;n++)r[n]=0;for(n=3968;n<=3970;n++)r[n]=0;for(n=3973;n<=3976;n++)r[n]=0;for(n=3986;n<=3989;n++)r[n]=0;for(n=3994;n<=3997;n++)r[n]=0;for(n=4048;n<=4051;n++)r[n]=0;for(n=4056;n<=4063;n++)r[n]=0;for(n=4093;n<=4096;n++)r[n]=0;for(n=4390;n<=4398;n++)r[n]=0;for(n=4399;n<=4413;n++)r[n]=2;for(n=4418;n<=4433;n++)r[n]=2;for(n=4455;n<=4457;n++)r[n]=2;for(n=4484;n<=4489;n++)r[n]=0;for(n=4491;n<=4554;n++)r[n]=0;for(n=4568;n<=4589;n++)r[n]=0;for(n=4652;n<=4656;n++)r[n]=0;for(n=4766;n<=4800;n++)r[n]=0;for(n=5014;n<=5016;n++)r[n]=0;for(n=5069;n<=5072;n++)r[n]=0;for(n=5105;n<=5130;n++)r[n]=0;for(n=5167;n<=5188;n++)r[n]=0;for(n=5253;n<=5259;n++)r[n]=0;for(n=5269;n<=5275;n++)r[n]=0;for(n=5292;n<=5311;n++)r[n]=0;for(n=5329;n<=5331;n++)r[n]=0;for(n=5343;n<=5349;n++)r[n]=0;for(n=5355;n<=5357;n++)r[n]=0;for(n=5387;n<=5389;n++)r[n]=0;for(n=5459;n<=5463;n++)r[n]=0;for(n=5479;n<=5482;n++)r[n]=0;for(n=5518;n<=5520;n++)r[n]=0;for(n=5530;n<=5539;n++)r[n]=0;for(n=5550;n<=5552;n++)r[n]=0;for(n=5562;n<=5583;n++)r[n]=0;for(n=5623;n<=5625;n++)r[n]=2;for(n=5631;n<=5639;n++)r[n]=0;for(n=5649;n<=5653;n++)r[n]=0;for(n=5663;n<=5680;n++)r[n]=0;for(n=5682;n<=5685;n++)r[n]=0;for(n=5875;n<=5877;n++)r[n]=0;for(n=5896;n<=5899;n++)r[n]=0;for(n=5921;n<=5940;n++)r[n]=0;for(n=6050;n<=6125;n++)r[n]=0;for(n=6244;n<=6275;n++)r[n]=0;for(n=6328;n<=6348;n++)r[n]=0;for(n=6350;n<=6356;n++)r[n]=0;for(n=6366;n<=6372;n++)r[n]=0;for(n=6381;n<=6387;n++)r[n]=0;for(n=6393;n<=6404;n++)r[n]=0;for(n=6480;n<=6483;n++)r[n]=0;for(n=6511;n<=6514;n++)r[n]=0;for(n=6579;n<=6581;n++)r[n]=0;for(n=6619;n<=6624;n++)r[n]=0;for(n=6625;n<=6627;n++)r[n]=2;for(n=6628;n<=6632;n++)r[n]=0;for(n=6634;n<=6637;n++)r[n]=0;for(n=6669;n<=6692;n++)r[n]=0;for(n=6707;n<=6709;n++)r[n]=0;for(n=6720;n<=6723;n++)r[n]=0;for(n=6732;n<=6738;n++)r[n]=0;for(n=6931;n<=6933;n++)r[n]=0;for(n=6956;n<=6959;n++)r[n]=0;for(n=7005;n<=7007;n++)r[n]=0;for(n=7057;n<=7070;n++)r[n]=2;for(n=7074;n<=7082;n++)r[n]=0;for(n=7109;n<=7118;n++)r[n]=0;for(n=7119;n<=7127;n++)r[n]=1;for(n=7374;n<=7376;n++)r[n]=0;for(n=7528;n<=7586;n++)r[n]=0;for(n=7587;n<=7645;n++)r[n]=2;for(n=7692;n<=7696;n++)r[n]=0;for(n=7755;n<=7787;n++)r[n]=0;for(n=7791;n<=7795;n++)r[n]=0;for(n=7799;n<=7801;n++)r[n]=0;for(n=7803;n<=7805;n++)r[n]=0;for(n=7825;n<=7831;n++)r[n]=0;for(n=7845;n<=7859;n++)r[n]=0;for(n=8013;n<=8032;n++)r[n]=0;for(n=8065;n<=8068;n++)r[n]=1;for(n=8518;n<=8529;n++)r[n]=2;for(n=8533;n<=8536;n++)r[n]=2;for(n=8538;n<=8540;n++)r[n]=2;for(n=8677;n<=8679;n++)r[n]=0;for(n=8836;n<=8840;n++)r[n]=0;for(n=8857;n<=8859;n++)r[n]=0;for(n=8908;n<=8910;n++)r[n]=0;for(n=9154;n<=9159;n++)r[n]=0;for(n=9205;n<=9218;n++)r[n]=0;for(n=9271;n<=9273;n++)r[n]=0;for(n=9295;n<=9297;n++)r[n]=0;for(n=9356;n<=9360;n++)r[n]=0;for(n=9404;n<=9407;n++)r[n]=0;for(n=9476;n<=9482;n++)r[n]=0;for(n=9487;n<=9494;n++)r[n]=0;for(n=9697;n<=9699;n++)r[n]=0;for(n=9821;n<=9865;n++)r[n]=0;for(n=10285;n<=10291;n++)r[n]=0;for(n=10314;n<=10317;n++)r[n]=0;for(n=10448;n<=10465;n++)r[n]=0;for(n=10731;n<=10733;n++)r[n]=0;for(n=11114;n<=11118;n++)r[n]=0;for(n=20004;n<=20032;n++)r[n]=0;for(n=20047;n<=20049;n++)r[n]=0;for(n=20062;n<=20092;n++)r[n]=0;for(n=20135;n<=20138;n++)r[n]=0;for(n=20248;n<=20258;n++)r[n]=0;for(n=20348;n<=20358;n++)r[n]=0;for(n=20436;n<=20440;n++)r[n]=0;for(n=20822;n<=20824;n++)r[n]=0;for(n=20904;n<=20932;n++)r[n]=0;for(n=20934;n<=20936;n++)r[n]=0;for(n=21004;n<=21032;n++)r[n]=0;for(n=21035;n<=21037;n++)r[n]=0;for(n=21095;n<=21097;n++)r[n]=0;for(n=21148;n<=21150;n++)r[n]=0;for(n=21207;n<=21264;n++)r[n]=0;for(n=21307;n<=21364;n++)r[n]=0;for(n=21413;n<=21423;n++)r[n]=0;for(n=21453;n<=21463;n++)r[n]=0;for(n=21473;n<=21483;n++)r[n]=0;for(n=21780;n<=21782;n++)r[n]=0;for(n=21891;n<=21894;n++)r[n]=0;for(n=21896;n<=21899;n++)r[n]=0;for(n=22171;n<=22177;n++)r[n]=0;for(n=22181;n<=22187;n++)r[n]=0;for(n=22191;n<=22197;n++)r[n]=0;for(n=22207;n<=22222;n++)r[n]=0;for(n=22229;n<=22232;n++)r[n]=0;for(n=22234;n<=22236;n++)r[n]=0;for(n=22243;n<=22250;n++)r[n]=0;for(n=22262;n<=22265;n++)r[n]=0;for(n=22307;n<=22322;n++)r[n]=0;for(n=22348;n<=22357;n++)r[n]=0;for(n=22407;n<=22422;n++)r[n]=0;for(n=22462;n<=22465;n++)r[n]=0;for(n=22521;n<=22525;n++)r[n]=0;for(n=22607;n<=22622;n++)r[n]=0;for(n=22641;n<=22646;n++)r[n]=0;for(n=22648;n<=22657;n++)r[n]=0;for(n=22707;n<=22722;n++)r[n]=0;for(n=22762;n<=22765;n++)r[n]=0;for(n=22807;n<=22822;n++)r[n]=0;for(n=22991;n<=22994;n++)r[n]=0;for(n=23028;n<=23038;n++)r[n]=0;for(n=23301;n<=23333;n++)r[n]=2;for(n=23830;n<=23853;n++)r[n]=0;for(n=23866;n<=23872;n++)r[n]=0;for(n=23877;n<=23884;n++)r[n]=0;for(n=23886;n<=23894;n++)r[n]=0;for(n=23946;n<=23948;n++)r[n]=0;for(n=24311;n<=24313;n++)r[n]=0;for(n=24342;n<=24347;n++)r[n]=0;for(n=24370;n<=24374;n++)r[n]=10;for(n=24375;n<=24381;n++)r[n]=0;for(n=24718;n<=24721;n++)r[n]=0;for(n=24817;n<=24821;n++)r[n]=0;for(n=24877;n<=24882;n++)r[n]=0;for(n=24891;n<=24893;n++)r[n]=0;for(n=25391;n<=25395;n++)r[n]=0;for(n=25828;n<=25838;n++)r[n]=0;for(n=26191;n<=26195;n++)r[n]=0;for(n=26391;n<=26393;n++)r[n]=0;for(n=26701;n<=26722;n++)r[n]=0;for(n=26729;n<=26799;n++)r[n]=2;for(n=26801;n<=26803;n++)r[n]=2;for(n=26811;n<=26813;n++)r[n]=2;for(n=26847;n<=26870;n++)r[n]=2;for(n=26891;n<=26899;n++)r[n]=0;for(n=26901;n<=26923;n++)r[n]=0;for(n=26929;n<=26946;n++)r[n]=0;for(n=26948;n<=26998;n++)r[n]=0;for(n=27037;n<=27040;n++)r[n]=0;for(n=27205;n<=27232;n++)r[n]=0;for(n=27258;n<=27260;n++)r[n]=0;for(n=27391;n<=27398;n++)r[n]=0;for(n=27561;n<=27564;n++)r[n]=0;for(n=27571;n<=27574;n++)r[n]=0;for(n=27581;n<=27584;n++)r[n]=0;for(n=27591;n<=27594;n++)r[n]=0;for(n=27700;n<=27707;n++)r[n]=0;for(n=28191;n<=28193;n++)r[n]=0;for(n=28348;n<=28358;n++)r[n]=0;for(n=28402;n<=28432;n++)r[n]=0;for(n=28462;n<=28492;n++)r[n]=0;for(n=29118;n<=29122;n++)r[n]=0;for(n=29168;n<=29172;n++)r[n]=0;for(n=29177;n<=29185;n++)r[n]=0;for(n=29187;n<=29195;n++)r[n]=0;for(n=29900;n<=29903;n++)r[n]=0;for(n=30161;n<=30179;n++)r[n]=0;for(n=30491;n<=30494;n++)r[n]=0;for(n=30729;n<=30732;n++)r[n]=0;for(n=31251;n<=31259;n++)r[n]=0;for(n=31265;n<=31268;n++)r[n]=0;for(n=31275;n<=31279;n++)r[n]=0;for(n=31281;n<=31297;n++)r[n]=0;for(n=31461;n<=31469;n++)r[n]=0;for(n=31491;n<=31495;n++)r[n]=0;for(n=31917;n<=31922;n++)r[n]=0;for(n=31965;n<=32e3;n++)r[n]=0;for(n=32001;n<=32003;n++)r[n]=2;for(n=32005;n<=32031;n++)r[n]=2;for(n=32033;n<=32060;n++)r[n]=2;for(n=32064;n<=32067;n++)r[n]=2;for(n=32074;n<=32077;n++)r[n]=2;for(n=32081;n<=32086;n++)r[n]=0;for(n=32107;n<=32130;n++)r[n]=0;for(n=32133;n<=32159;n++)r[n]=0;for(n=32164;n<=32167;n++)r[n]=2;for(n=32180;n<=32199;n++)r[n]=0;for(n=32201;n<=32260;n++)r[n]=0;for(n=32301;n<=32360;n++)r[n]=0;for(n=32401;n<=32460;n++)r[n]=0;for(n=32501;n<=32560;n++)r[n]=0;for(n=32601;n<=32662;n++)r[n]=0;for(n=32664;n<=32667;n++)r[n]=2;for(n=32701;n<=32761;n++)r[n]=0;for(n=53001;n<=53004;n++)r[n]=0;for(n=53008;n<=53019;n++)r[n]=0;for(n=53021;n<=53032;n++)r[n]=0;for(n=53034;n<=53037;n++)r[n]=0;for(n=53042;n<=53046;n++)r[n]=0;for(n=53074;n<=53080;n++)r[n]=0;for(n=54001;n<=54004;n++)r[n]=0;for(n=54008;n<=54019;n++)r[n]=0;for(n=54021;n<=54032;n++)r[n]=0;for(n=54034;n<=54037;n++)r[n]=0;for(n=54042;n<=54046;n++)r[n]=0;for(n=54048;n<=54053;n++)r[n]=0;for(n=54074;n<=54080;n++)r[n]=0;for(n=54098;n<=54101;n++)r[n]=0;for(n=102001;n<=102040;n++)r[n]=0;for(n=102042;n<=102063;n++)r[n]=0;for(n=102065;n<=102067;n++)r[n]=0;for(n=102070;n<=102117;n++)r[n]=0;for(n=102122;n<=102216;n++)r[n]=0;for(n=102221;n<=102377;n++)r[n]=0;for(n=102382;n<=102388;n++)r[n]=0;for(n=102389;n<=102398;n++)r[n]=2;for(n=102399;n<=102444;n++)r[n]=0;for(n=102445;n<=102447;n++)r[n]=2;for(n=102448;n<=102458;n++)r[n]=0;for(n=102459;n<=102468;n++)r[n]=2;for(n=102469;n<=102499;n++)r[n]=0;for(n=102500;n<=102519;n++)r[n]=1;for(n=102520;n<=102524;n++)r[n]=0;for(n=102525;n<=102529;n++)r[n]=2;for(n=102530;n<=102588;n++)r[n]=0;for(n=102590;n<=102598;n++)r[n]=0;for(n=102601;n<=102603;n++)r[n]=0;for(n=102605;n<=102628;n++)r[n]=0;for(n=102629;n<=102646;n++)r[n]=2;for(n=102648;n<=102700;n++)r[n]=2;for(n=102701;n<=102703;n++)r[n]=0;for(n=102707;n<=102730;n++)r[n]=2;for(n=102733;n<=102758;n++)r[n]=2;for(n=102767;n<=102900;n++)r[n]=0;for(n=102901;n<=102933;n++)r[n]=2;for(n=102934;n<=102950;n++)r[n]=13;for(n=102951;n<=102963;n++)r[n]=0;for(n=102965;n<=102969;n++)r[n]=0;for(n=102971;n<=102973;n++)r[n]=0;for(n=102975;n<=102989;n++)r[n]=0;for(n=102990;n<=102992;n++)r[n]=1;for(n=102997;n<=103002;n++)r[n]=0;for(n=103003;n<=103008;n++)r[n]=2;for(n=103009;n<=103011;n++)r[n]=0;for(n=103012;n<=103014;n++)r[n]=2;for(n=103019;n<=103021;n++)r[n]=0;for(n=103022;n<=103024;n++)r[n]=2;for(n=103029;n<=103031;n++)r[n]=0;for(n=103032;n<=103034;n++)r[n]=2;for(n=103065;n<=103068;n++)r[n]=0;for(n=103074;n<=103076;n++)r[n]=0;for(n=103077;n<=103079;n++)r[n]=1;for(n=103080;n<=103082;n++)r[n]=0;for(n=103083;n<=103085;n++)r[n]=2;for(n=103090;n<=103093;n++)r[n]=0;for(n=103097;n<=103099;n++)r[n]=0;for(n=103100;n<=103102;n++)r[n]=2;for(n=103107;n<=103109;n++)r[n]=0;for(n=103110;n<=103112;n++)r[n]=2;for(n=103113;n<=103116;n++)r[n]=0;for(n=103117;n<=103120;n++)r[n]=2;for(n=103153;n<=103157;n++)r[n]=0;for(n=103158;n<=103162;n++)r[n]=2;for(n=103163;n<=103165;n++)r[n]=0;for(n=103166;n<=103168;n++)r[n]=1;for(n=103169;n<=103171;n++)r[n]=2;for(n=103186;n<=103188;n++)r[n]=0;for(n=103189;n<=103191;n++)r[n]=2;for(n=103192;n<=103195;n++)r[n]=0;for(n=103196;n<=103199;n++)r[n]=2;for(n=103200;n<=103224;n++)r[n]=0;for(n=103225;n<=103227;n++)r[n]=1;for(n=103232;n<=103237;n++)r[n]=0;for(n=103238;n<=103243;n++)r[n]=2;for(n=103244;n<=103246;n++)r[n]=0;for(n=103247;n<=103249;n++)r[n]=2;for(n=103254;n<=103256;n++)r[n]=0;for(n=103257;n<=103259;n++)r[n]=2;for(n=103264;n<=103266;n++)r[n]=0;for(n=103267;n<=103269;n++)r[n]=2;for(n=103300;n<=103375;n++)r[n]=0;for(n=103381;n<=103383;n++)r[n]=0;for(n=103384;n<=103386;n++)r[n]=1;for(n=103387;n<=103389;n++)r[n]=0;for(n=103390;n<=103392;n++)r[n]=2;for(n=103397;n<=103399;n++)r[n]=0;for(n=103400;n<=103471;n++)r[n]=2;for(n=103476;n<=103478;n++)r[n]=0;for(n=103479;n<=103481;n++)r[n]=2;for(n=103486;n<=103488;n++)r[n]=0;for(n=103489;n<=103491;n++)r[n]=2;for(n=103492;n<=103495;n++)r[n]=0;for(n=103496;n<=103499;n++)r[n]=2;for(n=103528;n<=103543;n++)r[n]=0;for(n=103544;n<=103548;n++)r[n]=2;for(n=103549;n<=103551;n++)r[n]=0;for(n=103552;n<=103554;n++)r[n]=1;for(n=103555;n<=103557;n++)r[n]=2;for(n=103558;n<=103560;n++)r[n]=0;for(n=103571;n<=103573;n++)r[n]=0;for(n=103574;n<=103576;n++)r[n]=2;for(n=103577;n<=103580;n++)r[n]=0;for(n=103581;n<=103583;n++)r[n]=2;for(n=103595;n<=103694;n++)r[n]=0;for(n=103696;n<=103699;n++)r[n]=0;for(n=103700;n<=103793;n++)r[n]=2;for(n=103794;n<=103890;n++)r[n]=0;for(n=103891;n<=103896;n++)r[n]=2;for(n=103900;n<=103971;n++)r[n]=2;for(n=103972;n<=103977;n++)r[n]=0;for(n=112e3;n<=112101;n++)r[n]=0},86300:(e,t,i)=>{i.d(t,{ns:()=>n});i(94643),i(90534),i(58503),i(54047);function n(e,t){var i,n;return!((null===(i=e.basemap)||void 0===i||null===(i=i.referenceLayers)||void 0===i||!i.some((e=>e.uid===t)))&&(null===(n=e.basemap)||void 0===n||null===(n=n.baseLayers)||void 0===n||!n.some((e=>e.uid===t))))}},86560:(e,t,i)=>{i.d(t,{A:()=>o});i(81806);var n,r=i(48611);const o={apiKey:void 0,applicationName:"",applicationUrl:null===(n=globalThis.location)||void 0===n?void 0:n.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&((0,r.$N)(o,globalThis.esriConfig,!0),delete o.has),!o.assetsPath){{const e="4.32";o.assetsPath="https://js.arcgis.com/".concat(e,"/@arcgis/core/assets")}o.defaultAssetsPath=o.assetsPath}},86659:(e,t,i)=>{i.d(t,{A:()=>v});var n,r=i(89379),o=i(35143),s=i(69539),a=i(53084),l=i(76931),c=i(46053),u=i(21403),d=i(6409),h=i(85842),p=i(17707),f=i(61425),m=i(25900),y=i(27790);let g=n=class extends m.A{constructor(){super(...arguments),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new f.A,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&"string"!=typeof e)return e;const n={};return e&&(n.text=e),t&&(n.font=t),i&&(n.color=i),n}writeLineWidth(e,t,i,n){n&&"string"!=typeof n?n.origin:t[i]=e}castLineWidth(e){return(0,l.cr)(e)}writeLineHeight(e,t,i,n){n&&"string"!=typeof n?n.origin:t[i]=e}clone(){return new n({angle:this.angle,backgroundColor:(0,a.o8)(this.backgroundColor),borderLineColor:(0,a.o8)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,a.o8)(this.color),font:this.font&&this.font.clone(),haloColor:(0,a.o8)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,i;return"".concat(null===(e=this.backgroundColor)||void 0===e?void 0:e.hash(),".").concat(this.borderLineColor,".").concat(this.borderLineSize,".").concat(null===(t=this.color)||void 0===t?void 0:t.hash(),".").concat(this.font&&this.font.hash(),".").concat(null===(i=this.haloColor)||void 0===i?void 0:i.hash(),".").concat(this.haloSize,".").concat(this.horizontalAlignment,".").concat(this.kerning,".").concat(this.rightToLeft,".").concat(this.rotated,".").concat(this.text,".").concat(this.verticalAlignment,".").concat(this.width,".").concat(this.xoffset,".").concat(this.yoffset,".").concat(this.lineHeight,".").concat(this.lineWidth,".").concat(this.angle)}};(0,o._)([(0,c.MZ)({type:s.A,json:{write:!0}})],g.prototype,"backgroundColor",void 0),(0,o._)([(0,c.MZ)({type:s.A,json:{write:!0}})],g.prototype,"borderLineColor",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0},cast:l.cr})],g.prototype,"borderLineSize",void 0),(0,o._)([(0,c.MZ)({type:f.A,json:{write:!0}})],g.prototype,"font",void 0),(0,o._)([(0,c.MZ)((0,r.A)((0,r.A)({},y.rM),{},{json:{write:!0}}))],g.prototype,"horizontalAlignment",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],g.prototype,"kerning",void 0),(0,o._)([(0,c.MZ)({type:s.A,json:{write:!0}})],g.prototype,"haloColor",void 0),(0,o._)([(0,c.MZ)({type:Number,cast:l.cr,json:{write:!0}})],g.prototype,"haloSize",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],g.prototype,"rightToLeft",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],g.prototype,"rotated",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],g.prototype,"text",void 0),(0,o._)([(0,d.e)({esriTS:"text"},{readOnly:!0})],g.prototype,"type",void 0),(0,o._)([(0,c.MZ)((0,r.A)((0,r.A)({},y.x0),{},{json:{write:!0}}))],g.prototype,"verticalAlignment",void 0),(0,o._)([(0,c.MZ)({type:Number,cast:l.cr,json:{write:!0}})],g.prototype,"xoffset",void 0),(0,o._)([(0,c.MZ)({type:Number,cast:l.cr,json:{write:!0}})],g.prototype,"yoffset",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],g.prototype,"angle",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],g.prototype,"width",void 0),(0,o._)([(0,c.MZ)({type:Number})],g.prototype,"lineWidth",void 0),(0,o._)([(0,p.K)("lineWidth")],g.prototype,"writeLineWidth",null),(0,o._)([(0,u.w)("lineWidth")],g.prototype,"castLineWidth",null),(0,o._)([(0,c.MZ)(y.Tb)],g.prototype,"lineHeight",void 0),(0,o._)([(0,p.K)("lineHeight")],g.prototype,"writeLineHeight",null),g=n=(0,o._)([(0,h.$)("esri.symbols.TextSymbol")],g);const v=g},86729:(e,t,i)=>{i.d(t,{N:()=>s});var n=i(31633),r=i(34111),o=i(80963);function s(e,t,i){if(null==t||null==i||i.vcsWkid||(0,o.aI)(t,i)||(0,r.xP)(t)||(0,r.xP)(i))return null;const s=(0,n.G9)(t)/(0,n.G9)(i);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return e=>function(e,t){null!=(null===e||void 0===e?void 0:e.z)&&(e.z*=t)}(e,s);case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const i of e.paths)for(const e of i)e.length>2&&(e[2]*=t)}(e,s);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const i of e.rings)for(const e of i)e.length>2&&(e[2]*=t)}(e,s);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}(e,s);case"extent":case"esriGeometryEnvelope":return e=>function(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}(e,s);default:return null}}},86875:(e,t,i)=>{i.d(t,{A:()=>m});var n,r=i(35143),o=i(69539),s=i(45802),a=i(53084),l=i(46053),c=(i(81806),i(76460),i(6409)),u=i(85842),d=i(48313),h=i(7246);const p=new s.J({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let f=n=class extends d.A{constructor(){super(...arguments),this.color=new o.A([0,0,0,.25]),this.outline=new h.A,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&"string"!=typeof e)return e;const n={};return e&&(n.style=e),t&&(n.outline=t),i&&(n.color=i),n}clone(){return new n({color:(0,a.o8)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return"".concat(super.hash()).concat(this.style,".").concat(this.color&&this.color.hash())}};(0,r._)([(0,l.MZ)()],f.prototype,"color",void 0),(0,r._)([(0,l.MZ)()],f.prototype,"outline",void 0),(0,r._)([(0,c.e)({esriSFS:"simple-fill"},{readOnly:!0})],f.prototype,"type",void 0),(0,r._)([(0,l.MZ)({type:p.apiValues,json:{read:p.read,write:p.write}})],f.prototype,"style",void 0),f=n=(0,r._)([(0,u.$)("esri.symbols.SimpleFillSymbol")],f);const m=f},86952:(e,t,i)=>{i.d(t,{C:()=>q,G:()=>J,a:()=>S,b:()=>O,c:()=>d,d:()=>g,e:()=>v,h:()=>T,i:()=>h,k:()=>x,o:()=>w,s:()=>f,t:()=>P});var n=i(39790),r=i(55149),o=i(26562),s=i(38458),a=i(24558),l=i(89379),c=i(35176),u=i(27698);const d=Symbol.for("controller"),h=e=>"function"===typeof(null===e||void 0===e?void 0:e.then);let p;const f=e=>{p!==e&&(p=e,queueMicrotask((()=>p===e?p=void 0:0)))},m=e=>p;let y=[];const g=e=>{if(void 0===e)return void(y=[]);const t=y.indexOf(e);y=-1===t?[...y,e]:y.slice(0,t+1),queueMicrotask((()=>y=[]))},v=()=>y;let _;const w=e=>{_!==e&&(_=e,queueMicrotask((()=>_===e?_=void 0:0)))},b=async(e,t)=>{const i=M(e);if(void 0===i)return e;if(await i.ready,"function"===typeof t){0;const e=i.watchExports((i=>t(i,e)))}return i.exports},A=async e=>{const t=M(e);return await t.ready,t},M=e=>{const t=m().manager.X(e);if(void 0!==t)return t;if((e=>"object"===typeof e&&null!==e&&(d in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e))(e))return e;const i=(()=>{const e=_;return _=void 0,e})();return void 0!==i?i:void 0};let S=!1;const T=e=>{S=!0;try{return e()}finally{S=!1}};let E;const x=()=>{var e;null===(e=E)||void 0===e||e.forEach(((e,t)=>{let{callbacks:i}=e;const n=Object.keys(t);i.forEach((e=>e(n)))})),E=void 0},C=(e,t,i)=>{const n=e.manager;return n.V!==u.s6&&n.V!==i&&n.S(void 0,void 0),0===n.T.length&&queueMicrotask((()=>n.S(void 0,void 0))),n.V=i,n.T.push(((e,n)=>(0,c.UF)(t,void 0,i===n?e:void 0))),i},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[m(),...v()],t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;const n=Array.isArray(e)?e:[e];let r=n.length+1;const o=e=>{r-=1,void 0!==e&&(r=Math.min(r,0)),0===r&&t(e)};n.forEach((e=>((e,t,i)=>{const n=Object.keys(e),r=n.length;void 0===E&&queueMicrotask(x),null!==E&&void 0!==E||(E=new Map);let o=E.get(e);return void 0===o&&(o={callbacks:[],keyCount:r},E.set(e,o)),o.keyCount!==r&&(o.callbacks.forEach((e=>e(n))),o.callbacks=[],o.keyCount=r),o.callbacks.push((n=>{const o=e=>(0,c.UF)(t,null,e),s=n[r];void 0===s?o(void 0):e[s]===i?o(s):o(void 0)})),i})(e,(t=>o(void 0===t?void 0:{key:t,host:e,isReactive:!1})),i)));for(const s of n)if("manager"in s&&s.manager.component===s){C(s,(e=>o(void 0===e?void 0:{key:e,host:s,isReactive:!0})),i);break}return i},O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m();const n={emit:n=>{""===e&&x();const r=new CustomEvent(e,(0,l.A)({detail:n,cancelable:!0,bubbles:!0,composed:!0},t));return i.el.dispatchEvent(r),r}};return""===e&&P(void 0,(t=>e=t.key),n),n}.bind(null,"");var I;I=d;var R=new WeakMap,N=new WeakMap,k=new WeakMap,L=new WeakMap,D=new WeakMap,Z=new WeakMap,F=new WeakMap,U=new WeakMap,j=new WeakMap,G=new WeakMap,z=new WeakMap,V=new WeakMap,B=new WeakMap,H=new WeakSet;class q{constructor(e){(0,n.A)(this,H),(0,r.A)(this,R,void 0),(0,r.A)(this,N,void 0),(0,r.A)(this,k,void 0),(0,r.A)(this,L,void 0),(0,r.A)(this,D,void 0),(0,r.A)(this,Z,void 0),(0,r.A)(this,F,void 0),(0,r.A)(this,U,void 0),(0,r.A)(this,j,void 0),(0,r.A)(this,G,void 0),(0,r.A)(this,z,void 0),(0,r.A)(this,V,void 0),(0,r.A)(this,B,void 0),(0,a.A)(R,this,[]),(0,a.A)(N,this,[]),(0,a.A)(k,this,[]),(0,a.A)(L,this,[]),(0,a.A)(D,this,[]),(0,a.A)(Z,this,[]),(0,a.A)(F,this,[]),(0,a.A)(U,this,[]),(0,a.A)(j,this,[]),(0,a.A)(G,this,!1),this.P=new c.cY,this.connectedCalled=!1,this.loadedCalled=!1,this[I]=!0,(0,a.A)(B,this,[]);const t=this,i=null!==e&&void 0!==e?e:m(new.target.name);(0,a.A)(z,t,i),t.ready=t.P.promise,(0,a.A)(V,t,K(t)),t.component=i,(0,s.A)(z,t).addController(t);void 0===(0,s.A)(z,t).manager||(g(t),queueMicrotask((()=>t.catchUpLifecycle())))}catchUpLifecycle(){const{manager:e}=(0,s.A)(z,this);!e.connectedCalled||this.connectedCalled||this.triggerConnected();!(0,s.A)(G,e)||this.triggerLoad().then((()=>e.loadedCalled&&this.triggerLoaded())).catch(console.error)}get exports(){return(0,s.A)(V,this)}set exports(e){const t=(0,s.A)(V,this);t!==e&&((0,a.A)(V,this,e),(0,s.A)(B,this).forEach(c.UF),this.connectedCalled&&!1!==this.O&&(0,s.A)(z,this).requestUpdate(this.O,t)),this.P.resolve(e)}setProvisionalExports(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,a.A)(V,this,t?K(e):e),(0,s.A)(B,this).forEach(c.UF)}watchExports(e){const t=()=>e((0,s.A)(V,this));return(0,s.A)(B,this).push(t),()=>{(0,s.A)(B,this).splice((0,s.A)(B,this).indexOf(t),1)}}get use(){return f((0,s.A)(z,this)),b}get useRef(){return f((0,s.A)(z,this)),A}get useRefSync(){return f((0,s.A)(z,this)),M}controllerRemoved(){(0,s.A)(z,this).el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){(0,s.A)(R,this).push(e)}onDisconnected(e){(0,s.A)(N,this).push(e)}onLoad(e){(0,s.A)(k,this).push(e)}onLoaded(e){(0,s.A)(L,this).push(e)}onUpdate(e){(0,s.A)(D,this).push(e)}onUpdated(e){(0,s.A)(Z,this).push(e)}onDestroy(e){(0,s.A)(F,this).push(e)}onLifecycle(e){(0,s.A)(U,this).push(e),this.connectedCalled&&(0,s.A)(z,this).el.isConnected&&(0,o.A)(H,this,W).call(this,e)}triggerConnected(){const e=this;e.hostConnected&&(0,c.UF)(e.hostConnected,e),(0,s.A)(R,e).forEach(c.UF),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&(0,c.UF)(e.hostDisconnected,e),(0,s.A)(N,e).forEach(c.UF),(0,s.A)(j,e).forEach(c.UF),(0,a.A)(j,e,[])}async triggerLoad(){if((0,s.A)(G,this))return;(0,a.A)(G,this,!0);const e=this;e.hostLoad&&await(0,c.ao)(e.hostLoad,e),(0,s.A)(k,this).length>0&&await Promise.allSettled((0,s.A)(k,this).map(c.ao)),this.P.resolve((0,s.A)(V,this))}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&(0,c.UF)(this.hostLoaded,this),(0,s.A)(L,this).forEach(c.UF),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&(0,c.UF)(this.hostUpdate,this,e),(0,s.A)(D,this).forEach($,e)}triggerUpdated(e){this.hostUpdated&&(0,c.UF)(this.hostUpdated,this,e),(0,s.A)(Z,this).forEach($,e)}triggerDestroy(){this.hostDestroy&&(0,c.UF)(this.hostDestroy,this),(0,s.A)(F,this).forEach(c.UF)}triggerLifecycle(){this.hostLifecycle&&(0,o.A)(H,this,W).call(this,(()=>this.hostLifecycle())),(0,s.A)(U,this).forEach((0,o.A)(H,this,W),this)}}function W(e){f((0,s.A)(z,this));const t=(0,c.UF)(e);(Array.isArray(t)?t:[t]).forEach((e=>{"function"===typeof e?(0,s.A)(j,this).push(e):"object"===typeof e&&"function"===typeof e.remove&&(0,s.A)(j,this).push(e.remove)}))}function $(e){(0,c.UF)(e,void 0,this)}const J=q,K=e=>{if("object"!==typeof e&&"function"!==typeof e||null===e)return e;const t=new Proxy(e,{get(e,i,n){if("exports"!==i&&"_exports"!==i||!(i in e)||e[i]!==t)return i in e||i in Promise.prototype||"symbol"===typeof i?"function"===typeof e?e[i]:Reflect.get(e,i,n):void 0}});return t}},87015:(e,t,i)=>{i.d(t,{A:()=>u});var n,r=i(35143),o=i(53084),s=i(46053),a=(i(81806),i(76460),i(85842)),l=i(56362);let c=n=class extends l.A{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new n({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,o.o8)(this.outFields):null})}};(0,r._)([(0,s.MZ)()],c.prototype,"creator",void 0),(0,r._)([(0,s.MZ)()],c.prototype,"destroyer",void 0),(0,r._)([(0,s.MZ)()],c.prototype,"outFields",void 0),(0,r._)([(0,s.MZ)({type:["custom"],readOnly:!0})],c.prototype,"type",void 0),c=n=(0,r._)([(0,a.$)("esri.popup.content.CustomContent")],c);const u=c},87663:(e,t,i)=>{function n(e,t){for(const i of e.values())if(t(i))return!0;return!1}function r(e,t){for(const i of e.values())if(t(i))return i;return null}function o(e,t,i){const n=e.get(t);if(void 0!==n)return n;const r=i();return e.set(t,r),r}function s(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}i.d(t,{$n:()=>r,Bj:()=>s,Bs:()=>n,tE:()=>o})},88235:(e,t,i)=>{i.d(t,{A:()=>M});var n,r=i(89379),o=i(35143),s=i(45802),a=i(42553),l=i(31633),c=i(46053),u=i(40565),d=(i(81806),i(47249),i(28379)),h=i(85842),p=i(17707),f=i(19247),m=i(13312),y=i(2413),g=i(80963),v=i(45417),_=i(22848),w=i(11164);const b=new s.J({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let A=n=class extends a.A{static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{resolutionFactor:t=1,scales:i,size:r=256,spatialReference:o=m.A.WebMercator,numLODs:s=24}=e;if(!(0,g.fn)(o)){const e=[];if(i)for(let t=0;t<i.length;t++){const n=i[t];e.push(new _.A({level:t,scale:n,resolution:n}))}else{let t=5e-4;for(let i=s-1;i>=0;i--)e.unshift(new _.A({level:i,scale:t,resolution:t})),t*=2}return new n({dpi:96,lods:e,origin:new f.A(0,0,o),size:[r,r],spatialReference:o})}const a=(0,g.Vp)(o),c=e.origin?new f.A({x:e.origin.x,y:e.origin.y,spatialReference:o}):new f.A(a?{x:a.origin[0],y:a.origin[1],spatialReference:o}:{x:0,y:0,spatialReference:o}),u=1/(39.37*(0,l.GA)(o)*96),d=[];if(i)for(let n=0;n<i.length;n++){const e=i[n],t=e*u;d.push(new _.A({level:n,scale:e,resolution:t}))}else{let e=(0,g.EA)(o)?512/r*591657527.5917094:256/r*591657527.591555;const i=Math.ceil(s/t);d.push(new _.A({level:0,scale:e,resolution:e*u}));for(let n=1;n<i;n++){const i=e/2**t,r=i*u;d.push(new _.A({level:n,scale:i,resolution:r})),e=i}}return new n({dpi:96,lods:d,origin:c,size:[r,r],spatialReference:o})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const i=(0,g.Vp)(e);return e.isWrappable&&!!i&&Math.abs(i.origin[0]-t.x)<=i.dx}return!1}readOrigin(e,t){return f.A.fromJSON((0,r.A)({spatialReference:t.spatialReference},e))}set lods(e){let t=0,i=0;const n=[],r=this._levelToLOD={};e&&(t=-1/0,i=1/0,e.forEach((e=>{n.push(e.scale),t=e.scale>t?e.scale:t,i=e.scale<i?e.scale:i,r[e.level]=e}))),this._set("scales",n),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const i=Math.floor(e),n=i+1;return t[i]/(t[i]/t[n])**(e-i)}scaleToZoom(e){const t=this.scales,i=t.length-1;let n=0;for(;n<i;n++){const i=t[n],r=t[n+1];if(i<=e)return n;if(r===e)return n+1;if(i>e&&r<e)return n+Math.log(i/e)/Math.log(i/r)}return n}tileAt(e,t,i,n){const r=this.lodAt(e);if(!r)return null;let o,s;if("number"==typeof t)o=t,s=i;else if((0,g.aI)(t.spatialReference,this.spatialReference))o=t.x,s=t.y,n=i;else{const e=(0,v.Cv)(t,this.spatialReference);if(null==e)return null;o=e.x,s=e.y,n=i}const a=r.resolution*this.size[0],l=r.resolution*this.size[1];return n||(n=new w.U(null,0,0,0,(0,y.vt)())),n.level=e,n.row=Math.floor((this.origin.y-s)/l+.001),n.col=Math.floor((o-this.origin.x)/a+.001),this.updateTileInfo(n),n}updateTileInfo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.ExtrapolateOptions.NONE,i=this.lodAt(e.level);if(!i&&t===n.ExtrapolateOptions.POWER_OF_TWO){const t=this.lods[this.lods.length-1];t.level<e.level&&(i=t)}if(!i)return;const r=e.level-i.level,o=i.resolution*this.size[0]/2**r,s=i.resolution*this.size[1]/2**r;e.id="".concat(e.level,"/").concat(e.row,"/").concat(e.col),e.extent||(e.extent=(0,y.vt)()),e.extent[0]=this.origin.x+e.col*o,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+o,e.extent[3]=e.extent[1]+s}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const i=this.lodAt(t.level);if(null==i)return null;const{resolution:n}=i,r=n*this.size[0],o=n*this.size[1];return e[0]=this.origin.x+t.col*r,e[1]=this.origin.y-(t.row+1)*o,e[2]=e[0]+r,e[3]=e[1]+o,e}lodAt(e){var t,i;return null!==(t=null===(i=this._levelToLOD)||void 0===i?void 0:i[e])&&void 0!==t?t:null}clone(){return n.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||256===this.size[0]&&512===e)return null;const t=(512===this.size[0]&&256===e?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&0===t)return this;const i=[],r=this.lods.length-t;for(let n=0;n<r;n++){const e=n+t,{scale:r,resolution:o}=e>=0?this.lods[e]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};i.push(new _.A({level:n,scale:r,resolution:o}))}return new n({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:i})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let i=0;i<e.length;i++){const n=e[i];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}};(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],A.prototype,"compressionQuality",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],A.prototype,"dpi",void 0),(0,o._)([(0,c.MZ)({type:String,json:{read:b.read,write:b.write,origins:{"web-scene":{read:!1,write:!1}}}})],A.prototype,"format",void 0),(0,o._)([(0,c.MZ)({readOnly:!0})],A.prototype,"isWrappable",null),(0,o._)([(0,c.MZ)({type:f.A,json:{write:!0}})],A.prototype,"origin",void 0),(0,o._)([(0,d.w)("origin")],A.prototype,"readOrigin",null),(0,o._)([(0,c.MZ)({type:[_.A],value:null,json:{write:!0}})],A.prototype,"lods",null),(0,o._)([(0,c.MZ)({readOnly:!0})],A.prototype,"scales",void 0),(0,o._)([(0,c.MZ)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],A.prototype,"size",void 0),(0,o._)([(0,d.w)("size",["rows","cols"])],A.prototype,"readSize",null),(0,o._)([(0,p.K)("size",{cols:{type:u.jz},rows:{type:u.jz}})],A.prototype,"writeSize",null),(0,o._)([(0,c.MZ)({type:m.A,json:{write:!0}})],A.prototype,"spatialReference",void 0),A=n=(0,o._)([(0,h.$)("esri.layers.support.TileInfo")],A),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(A||(A={}));const M=A},88321:(e,t,i)=>{i.d(t,{A:()=>r});var n=i(85361);class r{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if((0,n.xZ)(e)){const i=this._getOrCreateGroup(t);for(const t of e)a(t)&&i.push(t)}else a(e)&&this._getOrCreateGroup(t).push(e);return this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const i=this._getGroup(e);i&&t&&i.forEach(t)}}has(e){return this._groups.has(o(e))}remove(e){if("string"!=typeof e&&(0,n.xZ)(e)){for(const t of e)this.remove(t);return this}return this.has(e)?(s(this._getGroup(e)),this._groups.delete(o(e)),this):this}removeAll(){return this._groups.forEach(s),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(o(e),t),t}_getGroup(e){return this._groups.get(o(e))}}function o(e){return e||"_default_"}function s(e){for(const t of e)t instanceof r?t.removeAll():t.remove()}function a(e){return null!=e&&(!!e.remove||e instanceof r)}},88685:(e,t,i)=>{i.d(t,{Cj:()=>a,HC:()=>s,ML:()=>h,Wm:()=>l,_e:()=>u,mk:()=>d});var n=i(48611);const r=/\{([^}]+)\}/g;function o(e){return null!==e&&void 0!==e?e:""}function s(e,t){return t?e.replaceAll(r,"object"==typeof t?(e,i)=>o((0,n.wc)(i,t)):(e,i)=>o(t(i))):e}function a(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,(e=>null!==t&&void 0!==t&&t.includes(e)?e:"\\".concat(e)))}function l(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let c;function u(e){return null!==c&&void 0!==c||(c=new DOMParser),c.parseFromString(e||"","text/html").body.innerText||""}function d(e,t){return new RegExp("{".concat(t,"}"),"ig").test(e)}function h(e){let t=e[0];for(let i=0;i<(arguments.length<=1?0:arguments.length-1);++i)t+=(i+1<1||arguments.length<=i+1?void 0:arguments[i+1])+e[i+1];return t}},88943:(e,t,i)=>{i.d(t,{Go:()=>s,Jc:()=>l,T:()=>o,VI:()=>d,mF:()=>c,oV:()=>p,u1:()=>u});var n=i(81806),r=i(50346);const o="worker:port-closed";var s;!function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"}(s||(s={}));let a=0;function l(){return a++}function c(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function u(e,t,i,r){if(t.type===s.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==s.INVOKE&&t.type!==s.RESPONSE)return void e.postMessage(t);let o;if(function(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}(i)?(o=h(i.transferList),t.data=i.result):(o=h(r),t.data=i),o){if((0,n.A)("ff"))for(const i of o)if("byteLength"in i&&i.byteLength>267386880){const i="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case s.INVOKE:throw i;case s.RESPONSE:return void u(e,{type:s.RESPONSE,jobId:t.jobId,error:c(i)})}}e.postMessage(t,o)}else e.postMessage(t)}function d(e){if(!e)return null;const t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function h(e){if(null===e||void 0===e||!e.length)return null;if((0,n.A)("esri-workers-arraybuffer-transfer"))return e;const t=e.filter((e=>!function(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)}(e)));return t.length?t:null}async function p(e){try{return await e}catch(a){const t=(null===a||void 0===a?void 0:a.name)===o;if(!(0,r.zf)(a)&&!t)throw a;return}}},89179:(e,t,i)=>{var n;i.d(t,{p:()=>n}),function(e){e[e.Texture=0]="Texture",e[e.RenderBuffer=1]="RenderBuffer"}(n||(n={}))},89189:(e,t,i)=>{i.d(t,{A:()=>u});var n=i(35143),r=i(42553),o=i(46053),s=(i(81806),i(76460),i(47249),i(28379)),a=i(85842),l=i(13312);let c=class extends r.A{constructor(){super(...arguments),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=l.A.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof l.A)return e;if(null!=e){const i=new l.A;return i.read(e,t),i}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};(0,n._)([(0,o.MZ)()],c.prototype,"type",void 0),(0,n._)([(0,o.MZ)({readOnly:!0})],c.prototype,"cache",null),(0,n._)([(0,o.MZ)({readOnly:!0})],c.prototype,"extent",null),(0,n._)([(0,o.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c.prototype,"hasM",void 0),(0,n._)([(0,o.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c.prototype,"hasZ",void 0),(0,n._)([(0,o.MZ)({type:l.A,json:{write:!0},value:l.A.WGS84})],c.prototype,"spatialReference",void 0),(0,n._)([(0,s.w)("spatialReference")],c.prototype,"readSpatialReference",null),c=(0,n._)([(0,a.$)("esri.geometry.Geometry")],c);const u=c},89196:(e,t,i)=>{i.d(t,{l:()=>r});i(81806),i(76460);class n{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.eventType=e,this.keyModifiers=t}matches(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const t=e.modifiers;for(const i of this.keyModifiers)if(!t.has(i))return!1;return!0}}class r{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const t=this._incoming[e];for(const e of t)this._incomingEventMatches.push(e.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((e=>e.eventType))),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||(e.setEventCallback((e=>this._handleEvent(e))),e.setUninstallCallback((()=>this._onUninstall())),this._manager=e)}onUninstall(){}registerIncoming(e,t,i){let r;"function"==typeof t?(i=t,r=[]):r=t||[];const s="string"==typeof e?new n(e,r):e,a=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},l=e=>{const t=this._incoming[e.match.eventType];if(t){const i=t.indexOf(e);t.splice(i,1),a(),this._manager&&this._manager.updateDependencies()}},c=new o(s,i,{onPause:l,onRemove:l,onResume:e=>{const t=this._incoming[e.match.eventType];t&&!t.includes(e)&&(t.push(e),a(),this._manager&&this._manager.updateDependencies())}});let u=this._incoming[s.eventType];return u||(u=[],this._incoming[s.eventType]=u),u.push(c),a(),this._manager&&this._manager.updateDependencies(),c}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);const t=new s(e,{onEmit:(e,t,i,n)=>{var r;null===(r=this._manager)||void 0===r||r.emit(e.eventType,t,i,n)},onRemove:e=>{var t;delete this._outgoing[e.eventType],null===(t=this._manager)||void 0===t||t.updateDependencies()}});return this._outgoing[e]=t,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),t}startCapturingPointer(e){var t;null===(t=this._manager)||void 0===t||t.setPointerCapture(e,!0)}stopCapturingPointer(e){var t;null===(t=this._manager)||void 0===t||t.setPointerCapture(e,!1)}refreshHasPendingInputs(){var e;null===(e=this._manager)||void 0===e||e.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(e){const t=this._incoming[e.type];if(t)for(const n of t){var i;if(n.match.matches(e)&&(null!==(i=n.callback)&&void 0!==i&&i.call(n,e),e.shouldStopPropagation()))break}}}class o{constructor(e,t,i){this.match=e,this._callback=t,this._handler=i}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class s{constructor(e,t){this.eventType=e,this._removed=!1,this._handler=t}emit(e,t,i){this._removed||this._handler.onEmit(this,e,t,i)}remove(){this._removed=!0,this._handler.onRemove(this)}}},89465:(e,t,i)=>{i.d(t,{A:()=>m});var n,r=i(35143),o=i(53084),s=i(88685),a=i(46053),l=(i(81806),i(76460),i(6409)),c=i(28379),u=i(85842),d=i(17707),h=i(53430),p=i(25900);let f=n=class extends p.A{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var i;if("CIMSymbolReference"===(null===(i=this.data)||void 0===i?void 0:i.type)){const i=this.data.primitiveOverrides;if(i){const n=i.map((i=>{const n=i.valueExpressionInfo;return n?(0,h.Dx)(e,t,n.expression):null}));await Promise.all(n)}}}clone(){return new n({data:(0,o.o8)(this.data)})}hash(){return(0,s.Wm)(JSON.stringify(this.data)).toString()}};(0,r._)([(0,a.MZ)({json:{write:!1}})],f.prototype,"color",void 0),(0,r._)([(0,a.MZ)({json:{write:!0}})],f.prototype,"data",void 0),(0,r._)([(0,c.w)("data",["symbol"])],f.prototype,"readData",null),(0,r._)([(0,d.K)("data",{})],f.prototype,"writeData",null),(0,r._)([(0,l.e)({CIMSymbolReference:"cim"},{readOnly:!0})],f.prototype,"type",void 0),f=n=(0,r._)([(0,u.$)("esri.symbols.CIMSymbol")],f);const m=f},89551:(e,t,i)=>{i.d(t,{L:()=>R});var n,r=i(35143),o=i(45802),s=i(42553),a=i(46053),l=i(21403),c=i(6409),u=i(28379),d=i(85842),h=i(40565),p=i(7982),f=i(44135),m=i(99603),y=(i(81806),i(76460),i(47249),i(13312)),g=i(31608);let v=n=class extends s.A{constructor(e){super(e),this.type="query-table"}clone(){var e;const{workspaceId:t,query:i,oidFields:r,spatialReference:o,geometryType:s}=this,a={workspaceId:t,query:i,oidFields:r,spatialReference:null!==(e=null===o||void 0===o?void 0:o.clone())&&void 0!==e?e:void 0,geometryType:s};return new n(a)}};var _;(0,r._)([(0,c.e)({queryTable:"query-table"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],v.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],v.prototype,"workspaceId",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],v.prototype,"query",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],v.prototype,"oidFields",void 0),(0,r._)([(0,a.MZ)({type:y.A,json:{write:!0}})],v.prototype,"spatialReference",void 0),(0,r._)([(0,c.e)(g.gy)],v.prototype,"geometryType",void 0),v=n=(0,r._)([(0,d.$)("esri.layers.support.source.QueryTableDataSource")],v);let w=_=class extends s.A{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new _({workspaceId:e,dataSourceName:t})}};var b;(0,r._)([(0,c.e)({raster:"raster"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],w.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],w.prototype,"dataSourceName",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],w.prototype,"workspaceId",void 0),w=_=(0,r._)([(0,d.$)("esri.layers.support.source.RasterDataSource")],w);let A=b=class extends s.A{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:i}=this;return new b({workspaceId:e,gdbVersion:t,dataSourceName:i})}};var M,S;(0,r._)([(0,c.e)({table:"table"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],A.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],A.prototype,"workspaceId",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],A.prototype,"gdbVersion",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],A.prototype,"dataSourceName",void 0),A=b=(0,r._)([(0,d.$)("esri.layers.support.source.TableDataSource")],A);const T=(0,o.O)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let E=M=class extends s.A{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,i){return C()(e,t,i)}castLeftTableSource(e){return(0,h.aq)(O(),e)}readRightTableSource(e,t,i){return C()(e,t,i)}castRightTableSource(e){return(0,h.aq)(O(),e)}clone(){var e,t;const{leftTableKey:i,rightTableKey:n,leftTableSource:r,rightTableSource:o,joinType:s}=this,a={leftTableKey:i,rightTableKey:n,leftTableSource:null!==(e=null===r||void 0===r?void 0:r.clone())&&void 0!==e?e:void 0,rightTableSource:null!==(t=null===o||void 0===o?void 0:o.clone())&&void 0!==t?t:void 0,joinType:s};return new M(a)}};(0,r._)([(0,c.e)({joinTable:"join-table"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],E.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],E.prototype,"leftTableKey",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],E.prototype,"rightTableKey",void 0),(0,r._)([(0,a.MZ)({json:{write:!0}})],E.prototype,"leftTableSource",void 0),(0,r._)([(0,u.w)("leftTableSource")],E.prototype,"readLeftTableSource",null),(0,r._)([(0,l.w)("leftTableSource")],E.prototype,"castLeftTableSource",null),(0,r._)([(0,a.MZ)({json:{write:!0}})],E.prototype,"rightTableSource",void 0),(0,r._)([(0,u.w)("rightTableSource")],E.prototype,"readRightTableSource",null),(0,r._)([(0,l.w)("rightTableSource")],E.prototype,"castRightTableSource",null),(0,r._)([(0,c.e)(T)],E.prototype,"joinType",void 0),E=M=(0,r._)([(0,d.$)("esri.layers.support.source.JoinTableDataSource")],E);let x=null;function C(){return x||(x=(0,p.C)({types:O()})),x}let P=null;function O(){return P||(P={key:"type",base:null,typeMap:{"data-layer":R,"map-layer":m.f}}),P}const I={key:"type",base:null,typeMap:{"join-table":E,"query-table":v,raster:w,table:A}};let R=S=class extends s.A{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new S({fields:e,dataSource:t})}};(0,r._)([(0,c.e)({dataLayer:"data-layer"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],R.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:[f.A],json:{write:!0}})],R.prototype,"fields",void 0),(0,r._)([(0,a.MZ)({types:I,json:{write:!0}})],R.prototype,"dataSource",void 0),R=S=(0,r._)([(0,d.$)("esri.layers.support.source.DataLayerSource")],R),R.from=(0,h.dp)(R)},89579:(e,t,i)=>{i.d(t,{A:()=>g});var n,r=i(89379),o=i(35143),s=i(50076),a=i(76460),l=i(50346),c=i(46053),u=(i(81806),i(47249),i(6409)),d=i(85842),h=i(65308),p=i(79453),f=i(25900),m=i(25158);let y=n=class extends f.A{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=null!=this.portal?this.portal:h.A.getDefault(),t=e.user?e.user.username:null;return"".concat(this.styleName,":").concat(this.styleUrl,":").concat(this.name,":").concat(t,":").concat(e.url)}read(e,t){this.portal=null===t||void 0===t?void 0:t.portal,super.read(e,t)}clone(){return new n({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){const t=e&&"acceptedFormats"in e?e.acceptedFormats:["web"];return this._fetchSymbol((0,r.A)((0,r.A)({},e),{},{acceptedFormats:t}))}async fetchCIMSymbol(e){const t=await this.fetchSymbol((0,r.A)((0,r.A)({},e),{},{acceptedFormats:["cim"]}));if("cim"!==(null===t||void 0===t?void 0:t.type))throw new s.A("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=null!=e?e.cache:null,n=t?this._fetchCacheKey:null;if(null!=t){const e=n&&t.get(n);if(e)return e.clone()}const{resolveWebStyleSymbol:r}=await i.e(6314).then(i.bind(i,26314));(0,l.Te)(e);const o=r(this,{portal:this.portal},e);o.catch((e=>{a.A.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",e)}));const s=await o;return null!=t&&t.set(n,s.clone()),s}};(0,o._)([(0,c.MZ)({json:{write:!1}})],y.prototype,"color",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"styleName",void 0),(0,o._)([(0,c.MZ)({type:h.A,json:{write:!1}})],y.prototype,"portal",void 0),(0,o._)([(0,c.MZ)({type:String,json:{read:p.r,write:p.w}})],y.prototype,"styleUrl",void 0),(0,o._)([(0,c.MZ)({type:m.V,json:{read:!1}})],y.prototype,"thumbnail",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"name",void 0),(0,o._)([(0,u.e)({styleSymbolReference:"web-style"},{readOnly:!0})],y.prototype,"type",void 0),(0,o._)([(0,c.MZ)()],y.prototype,"_fetchCacheKey",null),y=n=(0,o._)([(0,d.$)("esri.symbols.WebStyleSymbol")],y);const g=y},90534:(e,t,i)=>{i.d(t,{$1:()=>ie,$z:()=>Y,An:()=>O,BQ:()=>le,DB:()=>ee,FL:()=>H,FX:()=>B,Hg:()=>oe,Il:()=>ye,N9:()=>ae,S8:()=>J,T1:()=>ve,UC:()=>ge,V1:()=>$,XJ:()=>we,Xq:()=>C,Zo:()=>Se,_0:()=>Ee,a6:()=>Me,b8:()=>j,e7:()=>me,fj:()=>K,gd:()=>P,lJ:()=>te,lM:()=>de,m3:()=>ue,nM:()=>fe,oP:()=>X,oy:()=>F,r$:()=>re,rs:()=>Ae,s0:()=>A,s2:()=>W,sC:()=>V,s_:()=>N,tk:()=>se,ut:()=>G,w8:()=>Q,x0:()=>R,xw:()=>Te,yM:()=>k,zf:()=>I,zi:()=>be,zs:()=>U});var n=i(89379),r=i(86560),o=i(18690),s=i(50076),a=i(42553),l=i(76460),c=i(47437),u=i(59056);const d=()=>l.A.getLogger("esri.core.urlUtils"),h=r.A.request,p="esri/config: esriConfig.request.proxyUrl is not set.",f=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,m=/^\s*http:/i,y=/^\s*https:/i,g=/^\s*file:/i,v=/:\d+$/,_=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,w=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),b=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");class A{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=this.uri.match(w);this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=this.authority.match(b),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const M={},S=new A(r.A.applicationUrl);let T=S;const E=function(){const e=T.path,t=e.slice(0,e.lastIndexOf("/")+1);return"".concat("".concat(T.scheme,"://").concat(T.host).concat(null!=T.port?":".concat(T.port):""),t)}();let x=E;const C=()=>T,P=()=>x;function O(e){if(!e)return null;const t={path:null,query:null},i=new A(e),n=e.indexOf("?");return null===i.query?t.path=e:(t.path=e.slice(0,n),t.query=I(i.query)),i.fragment&&(t.hash=i.fragment,null===i.query&&(t.path=t.path.slice(0,t.path.length-(i.fragment.length+1)))),t}function I(e){const t=e.split("&"),i={};for(const n of t){if(!n)continue;const e=n.indexOf("=");let t,r;e<0?(t=decodeURIComponent(n),r=""):(t=decodeURIComponent(n.slice(0,e)),r=decodeURIComponent(n.slice(e+1)));let o=i[t];"string"==typeof o&&(o=i[t]=[o]),Array.isArray(o)?o.push(r):i[t]=r}return i}function R(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((i=>encodeURIComponent(i)+"="+encodeURIComponent(t(i,e[i])))).join("&"):Object.keys(e).map((i=>{const n=e[i];if(null==n)return"";const r=encodeURIComponent(i)+"=",o=null===t||void 0===t?void 0:t[i];return o?r+encodeURIComponent(o(n)):Array.isArray(n)?n.map((e=>a.A.isSerializable(e)?r+encodeURIComponent(JSON.stringify(e)):r+encodeURIComponent(e))).join("&"):a.A.isSerializable(n)?r+encodeURIComponent(JSON.stringify(n)):r+encodeURIComponent(n)})).filter((e=>e)).join("&"):""}function N(){let e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=h.proxyUrl;if("string"==typeof t){e=ue(t);const n=U(t);n&&(i=n.proxyUrl)}else e=!!t;if(!i)throw d().warn(p),new s.A("urlUtils:proxy-not-set",p);return e&&he()&&(i=de(i)),O(i)}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=U(e);let r,o;if(i){const e=D(i.proxyUrl);r=e.path,o=e.query?I(e.query):null}else if(t){const t=N(e);r=t.path,o=t.query}if(r){const t=O(e);e=r+"?"+t.path;const i=R((0,n.A)((0,n.A)({},o),t.query));i&&(e="".concat(e,"?").concat(i))}return e}const L={path:"",query:""};function D(e){const t=e.indexOf("?");return-1!==t?(L.path=e.slice(0,t),L.query=e.slice(t+1)):(L.path=e,L.query=null),L}function Z(e){return(e=pe(e=ye(e=D(e).path),!0)).toLowerCase()}function F(e){const t={proxyUrl:e.proxyUrl,urlPrefix:Z(e.urlPrefix)},i=h.proxyRules,n=t.urlPrefix;let r=i.length;for(let o=0;o<i.length;o++){const e=i[o].urlPrefix;if(0===n.indexOf(e)){if(n.length===e.length)return-1;r=o;break}0===e.indexOf(n)&&(r=o+1)}return i.splice(r,0,t),r}function U(e){const t=h.proxyRules,i=Z(e);for(let n=0;n<t.length;n++)if(0===i.indexOf(t[n].urlPrefix))return t[n]}function j(e,t){if(!e||!t)return!1;e=z(e),t=z(t);const i=(0,c.py)(e),n=(0,c.py)(t);return null!=i&&null!=n?i.portalHostname===n.portalHostname:null==i&&null==n&&B(e,t,!0)}function G(e,t){return e=z(e),t=z(t),pe(e)===pe(t)}function z(e){const t=(e=J(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function V(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.interceptors;const i=t=>null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t);if(t)for(const n of t)if(Array.isArray(n.urls)){if(n.urls.some(i))return n}else if(i(n.urls))return n;return null}function B(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!t)return!1;const n=_e(e),r=_e(t);return!(!i&&n.scheme!==r.scheme)&&null!=n.host&&null!=r.host&&n.host.toLowerCase()===r.host.toLowerCase()&&n.port===r.port}function H(e){if("string"==typeof e){if(!X(e))return!0;e=_e(e)}if(B(e,T))return!0;const t=h.trustedServers||[];for(let i=0;i<t.length;i++){const n=q(t[i]);for(let t=0;t<n.length;t++)if(B(e,n[t]))return!0}return!1}function q(e){return M[e]||(ce(e)||le(e)?M[e]=[new A(W(e))]:M[e]=[new A("http://".concat(e)),new A("https://".concat(e))]),M[e]}function W(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,i=arguments.length>2?arguments[2]:void 0;return le(e)?null!==i&&void 0!==i&&i.preserveProtocolRelative?e:"http"===T.scheme&&T.authority===Y(e).slice(2)?"http:".concat(e):"https:".concat(e):ce(e)?e:K("/"===e[0]?function(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return-1===i?e:e.slice(0,i)}(t):t,e)}function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,i=arguments.length>2?arguments[2]:void 0;if(null==e||!X(e))return e;const n=J(e),r=n.toLowerCase(),o=J(t).toLowerCase().replace(/\/+$/,""),s=i?J(i).toLowerCase().replace(/\/+$/,""):null;if(s&&0!==o.indexOf(s))return e;const a=(e,t,i)=>-1===(i=e.indexOf(t,i))?e.length:i;let l=a(r,"/",r.indexOf("//")+2),c=-1;for(;r.slice(0,l+1)===o.slice(0,l)+"/"&&(c=l+1,l!==r.length);)l=a(r,"/",l+1);if(-1===c)return e;if(s&&c<s.length)return e;e=n.slice(c);const u=o.slice(c-1).replaceAll(/[^/]+/g,"").length;if(u>0)for(let d=0;d<u;d++)e="../".concat(e);else e="./".concat(e);return e}function J(e){return function(e){const t=h.httpsDomains;if(!function(e){return null!=e&&m.test(e)||"http"===T.scheme&&le(e)}(e))return e;const i=e.indexOf("/",7);let n;if(n=-1===i?e:e.slice(0,i),n=n.toLowerCase().slice(7),v.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return"http"===T.scheme&&n===T.authority&&!_.test(e)||(he()&&n===T.authority||t&&t.some((e=>n===e||n.endsWith(".".concat(e))))||he()&&!U(e))&&(e=de(e)),e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=D(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+="?".concat(t.query))}return e}(e=W(e=e.trim()))))}function K(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=t.filter(o.Ru);if(null===n||void 0===n||!n.length)return;const r=[];if(X(n[0])){const e=n[0],t=e.indexOf("//");-1!==t&&(r.push(e.slice(0,t+1)),function(e){return null!=e&&g.test(e)}(n[0])&&(r[0]+="/"),n[0]=e.slice(t+2))}else"/"===n[0][0]&&r.push("");const s=n.reduce(((e,t)=>t?e.concat(t.split("/")):e),[]);for(let o=0;o<s.length;o++){const e=s[o];".."===e&&r.length>0&&".."!==r[r.length-1]?r.pop():(!e&&o===s.length-1||e&&("."!==e||0===r.length))&&r.push(e)}return r.join("/")}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||Q(e)||ee(e))return null;let i=e.indexOf("://");if(-1===i&&le(e))i=2;else{if(-1===i)return null;i+=3}const n=e.indexOf("/",i);return-1!==n&&(e=e.slice(0,n)),t&&(e=pe(e,!0)),e}function X(e){return le(e)||ce(e)}function Q(e){return null!=e&&"blob:"===e.slice(0,5)}function ee(e){return null!=e&&"data:"===e.slice(0,5)}function te(e){const t=re(e);return null!==t&&void 0!==t&&t.isBase64?(0,u.M)(t.data):null}function ie(e){return(0,u.Y)(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const ne=/^data:(.*?)(;base64)?,(.*)$/;function re(e){const t=e.match(ne);if(!t)return null;const[,i,n,r]=t;return{mediaType:i,isBase64:!!n,data:r}}function oe(e){return e.isBase64?"data:".concat(e.mediaType,";base64,").concat(e.data):"data:".concat(e.mediaType,",").concat(e.data)}async function se(e){return(await fetch(e)).blob()}function ae(e){const t=te(e);if(!t)return null;const i=re(e);return new Blob([t],{type:i.mediaType})}function le(e){return null!=e&&"/"===e[0]&&"/"===e[1]}function ce(e){return null!=e&&f.test(e)}function ue(e){return null!=e&&y.test(e)||"https"===T.scheme&&le(e)}function de(e){return le(e)?"https:".concat(e):e.replace(m,"https:")}function he(){return"https"===T.scheme}function pe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return le(e)?e.slice(2):(e=e.replace(f,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function fe(e){let t=0;if(X(e)){const i=e.indexOf("//");-1!==i&&(t=i+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function me(e,t){if(!e)return"";const i=O(e).path.replace(/\/+$/,""),n=i.slice(i.lastIndexOf("/")+1);if(null===t||void 0===t||!t.length)return n;const r=new RegExp("\\.(".concat(t.join("|"),")$"),"i");return n.replace(r,"")}function ye(e){return e.endsWith("/")?e:"".concat(e,"/")}function ge(e){return e.replace(/\/+$/,"")}function ve(e,t,i){if(!(t&&i&&e&&X(e)))return e;const n=e.indexOf("//"),r=e.indexOf("/",n+2),o=e.indexOf(":",n+2),s=Math.min(r<0?e.length:r,o<0?e.length:o);return e.slice(n+2,s).toLowerCase()!==t.toLowerCase()?e:"".concat(e.slice(0,n+2)).concat(i).concat(e.slice(s))}function _e(e){return"string"==typeof e?new A(W(e)):(e.scheme||(e.scheme=T.scheme),e)}function we(e){return Ce.test(e)}function be(e,t){const i=O(e),n=Object.keys(i.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: ".concat(n.join(", "),".")),i.path}function Ae(e,t,i){const n=O(e),r=n.query||{};return r[t]=String(i),"".concat(n.path,"?").concat(R(r))}function Me(e,t){if(!t)return e;const i=O(e),n=i.query||{};for(const[o,s]of Object.entries(t))null!=s&&(n[o]=s);const r=R(n);return r?"".concat(i.path,"?").concat(r):i.path}function Se(e){if(null==e)return null;const t=e.match(xe);return t?t[2]:null}function Te(e){if(null==e)return null;const t=e.match(xe);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function Ee(e){var t;return"string"==typeof e?null!==(t=re(e))&&void 0!==t?t:{data:e}:new Promise(((t,i)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(re(n.result)),n.onerror=e=>i(e)}))}const xe=/([^.]*)\.([^/]*)$/,Ce=/(^data:image\/svg|\.svg$)/i},90632:(e,t,i)=>{i.d(t,{c:()=>r});let n=0;function r(){return++n}},90924:(e,t,i)=>{i.d(t,{Jn:()=>a});var n=i(86560),r=i(90534);const o=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function s(e){const t=(0,r.$z)(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!o.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function a(e,t){return!(!t&&!n.A.apiKey||!s(e))}},90953:(e,t,i)=>{i.d(t,{V:()=>s});var n=i(28531),r=i(30533),o=i(70885);const s=(0,r.u$)(class extends r.WL{constructor(e){if(super(e),e.type!==r.OA.PROPERTY&&e.type!==r.OA.ATTRIBUTE&&e.type!==r.OA.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!(0,o.Rt)(e))throw Error("`live` bindings can only contain a single expression")}render(e){return e}update(e,t){let[i]=t;if(i===n.c0||i===n.s6)return i;const s=e.element,a=e.name;if(e.type===r.OA.PROPERTY){if(i===s[a])return n.c0}else if(e.type===r.OA.BOOLEAN_ATTRIBUTE){if(!!i===s.hasAttribute(a))return n.c0}else if(e.type===r.OA.ATTRIBUTE&&s.getAttribute(a)===i+"")return n.c0;return(0,o.mY)(e),i}})},91291:(e,t,i)=>{i.d(t,{A:()=>d});var n,r=i(35143),o=i(91967),s=i(50346),a=i(85842);!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(n||(n={}));class l{constructor(){this._resolver=(0,s.Tw)(),this._status=n.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=n.RESOLVED,this._cleanUp()}),(()=>{this._status=n.REJECTED,this._cleanUp()})),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===n.RESOLVED}isRejected(){return this._status===n.REJECTED}isFulfilled(){return this._status!==n.PENDING}abort(){this._resolver.reject((0,s.NK)())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=(0,s.Tw)(),t=[...this._resolvingPromises,e.promise],i=this._allPromise=Promise.all(t);i.then((()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve()}),(e=>{this.isFulfilled()||this._allPromise!==i||(0,s.zf)(e)||this._resolver.reject(e)})),e.resolve()}}const c=e=>{let t=class extends e{constructor(){super(...arguments),this._promiseProps=new l,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return this._promiseProps.promise.then((()=>this)).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}};return t=(0,r._)([(0,a.$)("esri.core.Promise")],t),t};let u=class extends(c(o.A)){};u=(0,r._)([(0,a.$)("esri.core.Promise")],u),function(e){e.EsriPromiseMixin=c}(u||(u={}));const d=u},91417:(e,t,i)=>{function n(e){return e}function r(e){return 1e3*e}function o(e){return e}function s(e){return.001*e}i.d(t,{Kp:()=>o,gr:()=>r,l5:()=>n,y:()=>s})},91441:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(35143),r=i(46053),o=(i(81806),i(76460),i(47249),i(85842)),s=i(5501);var a;let l=a=class extends s.A{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new a({style:this.style})}};(0,n._)([(0,r.MZ)({type:["style"],json:{write:{isRequired:!0}}})],l.prototype,"type",void 0),(0,n._)([(0,r.MZ)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:{isRequired:!0}}})],l.prototype,"style",void 0),l=a=(0,n._)([(0,o.$)("esri.symbols.patterns.StylePattern3D")],l);const c=l},91605:(e,t,i)=>{i.d(t,{A:()=>w});var n,r=i(89379),o=i(35143),s=i(18690),a=i(45802),l=i(42553),c=i(31633),u=i(62754),d=i(46053),h=(i(81806),i(76460),i(28379)),p=i(85842),f=i(17707);const m=(0,a.O)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),y=m.jsonValues.slice();(0,s.Xy)(y,"orthometric");const g=(0,a.O)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let v=n=class extends l.A{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return m.write(e,t,i)}readHeightModel(e,t,i){return m.read(e)||(null!==i&&void 0!==i&&i.messages&&i.messages.push(function(e,t){return new u.A("height-model:unsupported","Height model of value '".concat(e,"' is not supported"),t)}(e,{context:i})),null)}readHeightUnit(e,t,i){return g.read(e)||(null!==i&&void 0!==i&&i.messages&&i.messages.push(_(e,{context:i})),null)}readHeightUnitService(e,t,i){return(0,c.LA)(e)||g.read(e)||(null!==i&&void 0!==i&&i.messages&&i.messages.push(_(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new n({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=(0,c.k1)(t);return new n({heightModel:e.heightModel,heightUnit:null!==i&&void 0!==i?i:void 0,vertCRS:e.vertCRS})}write(e,t){return t=(0,r.A)({origin:"web-scene"},t),super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new n;return t.read(e,{origin:"web-scene"}),t}};function _(e,t){return new u.A("height-unit:unsupported","Height unit of value '".concat(e,"' is not supported"),t)}(0,o._)([(0,d.MZ)({type:m.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:y,default:"ellipsoidal",write:{isRequired:!0}}}}})],v.prototype,"heightModel",void 0),(0,o._)([(0,f.K)("web-scene","heightModel")],v.prototype,"writeHeightModel",null),(0,o._)([(0,h.w)(["web-scene","service"],"heightModel")],v.prototype,"readHeightModel",null),(0,o._)([(0,d.MZ)({type:g.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:g.jsonValues,write:{writer:g.write,isRequired:!0}}}}})],v.prototype,"heightUnit",void 0),(0,o._)([(0,h.w)("web-scene","heightUnit")],v.prototype,"readHeightUnit",null),(0,o._)([(0,h.w)("service","heightUnit")],v.prototype,"readHeightUnitService",null),(0,o._)([(0,d.MZ)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],v.prototype,"vertCRS",void 0),(0,o._)([(0,h.w)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],v.prototype,"readVertCRS",null),v=n=(0,o._)([(0,p.$)("esri.geometry.HeightModelInfo")],v);const w=v},91789:(e,t,i)=>{i.d(t,{L:()=>o});var n=i(9392),r=i(45308);function o(e,t,i,n,o,a){return s[0]=e,s[1]=t,s[2]=i,(0,r.projectBuffer)(s,n,0,o,a,0)}const s=(0,n.vt)()},91896:(e,t,i)=>{i.d(t,{fJ:()=>o,g4:()=>r,hY:()=>s});const n="calcite-mode-";function r(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"").startsWith("dark")}function o(){return"".concat(n).concat(r()?"dark":"light")}function s(e){a(e),e.classList.add(o())}function a(e){Array.from(e.classList).forEach((t=>{t.startsWith(n)&&e.classList.remove(t)}))}},91904:(e,t,i)=>{i.d(t,{A:()=>h});var n=i(35143),r=i(69098),o=i(46053),s=i(40565),a=(i(81806),i(47249),i(6409)),l=i(85842),c=i(56362),u=i(92744);let d=class extends(r.A.ClonableMixin(c.A)){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],d.prototype,"description",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{type:s.jz,write:!0}})],d.prototype,"displayCount",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],d.prototype,"title",void 0),(0,n._)([(0,o.MZ)({type:[u.A],json:{write:!0}})],d.prototype,"associationTypes",void 0),(0,n._)([(0,a.e)({utilityNetworkAssociations:"utility-network-associations"})],d.prototype,"type",void 0),d=(0,n._)([(0,l.$)("esri.popup.content.UtilityNetworkAssociationsContent")],d);const h=d},91967:(e,t,i)=>{i.d(t,{A:()=>D});var n=i(63241),r=i(88321),o=i(76460),s=i(30726),a=i(37596),l=i(17879),c=i(39299),u=i(19258),d=(i(81806),i(53084)),h=i(3789),p=i(40836),f=i(49140),m=i(99486),y=i(15434),g=i(76097);class v extends p.T{constructor(e,t){super(),this.propertyName=e,this.metadata=t,this.trackingTarget=new g.R(this),this.flags=0,this.flags=y.i.Dirty|(t.nonNullable?y.i.NonNullable:0)|(t.hasOwnProperty("value")?y.i.HasDefaultValue:0)|(void 0===t.get?y.i.DepTrackingInitialized:0)|(void 0===t.dependsOn?y.i.AutoTracked:0)}destroy(){this.flags&y.i.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&(0,m.gc)(this);const t=e.store,i=this.propertyName,n=this.flags,r=t.get(i);if(n&y.i.Computing)return r;if(~n&y.i.Dirty&&t.has(i))return r;this.flags|=y.i.Computing;const o=e.host;let s;n&y.i.AutoTracked?s=(0,m.a)(this.trackingTarget,this.metadata.get,o):((0,m.Xr)(o,this),s=this.metadata.get.call(o)),this.flags|=y.i.DepTrackingInitialized,t.set(i,s,f.Gr.COMPUTED);const a=t.get(i);return a===r?this.flags&=~y.i.Dirty:(0,m.F_)(this.commit,this),this.flags&=~y.i.Computing,a}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~y.i.Dirty,this.onCommitted()}onInvalidated(){~this.flags&y.i.Overridden&&(this.flags|=y.i.Dirty);const e=this._observers;if(e&&e.length>0)for(const t of e)t.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onCommitted()}}}class _{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const t=new _;return this._values.forEach(((i,n)=>{e&&e.has(n)||t.set(n,(0,d.o8)(i))})),t}get(e){return this._values.get(e)}originOf(){return f.Gr.USER}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}}function w(e,t,i){return void 0!==e}function b(e,t,i,n){return void 0!==e&&(!(null==i&&e.flags&y.i.NonNullable)||(n.lifecycle,c.v.INITIALIZING,!1))}class A{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=c.v.INITIALIZING,this.store=new _,this.mutable=!0,this._origin=f.Gr.USER;const t=this.host.constructor.__accessorMetadata__;for(const i in t){const e=new v(i,t[i]);this.propertiesByName.set(i,e)}this.metadata=t}initialize(){this.lifecycle=c.v.CONSTRUCTING}constructed(){this.lifecycle=c.v.CONSTRUCTED}destroy(){this.lifecycle=c.v.DESTROYED,this.propertiesByName.forEach((e=>e.destroy()))}get initialized(){return this.lifecycle!==c.v.INITIALIZING}get(e){const t=this.propertiesByName.get(e);if(t.metadata.get)return t.getComputed(this);this.mutable&&(0,m.gc)(t);const i=this.store;return i.has(e)?i.get(e):t.metadata.value}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.propertiesByName.get(e);if(void 0!==t&&t.flags&y.i.HasDefaultValue)return"defaults"}return(0,f.OL)(t)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const t=this.propertiesByName.get(e);if(w(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const i=this.propertiesByName.get(e);w(i)&&this._internalSet(i,t)}getDependsInfo(e,t,i){var n;const r=this.propertiesByName.get(t);if(!w(r))return"";const o=new g.R,s=(0,m.a)(o,(()=>{var t;return null===(t=r.metadata.get)||void 0===t?void 0:t.call(e)}));let a="".concat(i).concat(e.declaredClass.split(".").pop(),".").concat(t,": ").concat(s,"\n");const l=null!==(n=o.accessed)&&void 0!==n?n:new Set;if(0===l.size)return a;i+="  ";for(const c of l)c instanceof v&&(a+="".concat(i).concat(c.propertyName,": undefined\n"));return a}setAtOrigin(e,t,i){const n=this.propertiesByName.get(e);if(w(n))return this._setAtOrigin(n,t,i)}isOverridden(e){const t=this.propertiesByName.get(e);return void 0!==t&&!!(t.flags&y.i.Overridden)}clearOverride(e){const t=this.propertiesByName.get(e);t&&t.flags&y.i.Overridden&&(t.flags&=~y.i.Overridden,t.notifyChange())}override(e,t){const i=this.propertiesByName.get(e);if(!b(i,0,t,this))return;const n=i.metadata.cast;if(n){const e=this._cast(n,t),{valid:i,value:r}=e;if(M.release(e),!i)return;t=r}i.flags|=y.i.Overridden,this._internalSet(i,t)}set(e,t){const i=this.propertiesByName.get(e);if(!b(i,0,t,this))return;const n=i.metadata.cast;if(n){const e=this._cast(n,t),{valid:i,value:r}=e;if(M.release(e),!i)return;t=r}const r=i.metadata.set;r?r.call(this.host,t):this._internalSet(i,t)}setDefaultOrigin(e){this._origin=(0,f.aB)(e)}getDefaultOrigin(){return(0,f.OL)(this._origin)}notifyChange(e){const t=this.propertiesByName.get(e);void 0!==t&&t.notifyChange()}invalidate(e){const t=this.propertiesByName.get(e);void 0!==t&&t.invalidate()}commit(e){const t=this.propertiesByName.get(e);void 0!==t&&t.commit()}_internalSet(e,t){const i=this.lifecycle!==c.v.INITIALIZING?this._origin:f.Gr.DEFAULTS;this._setAtOrigin(e,t,i)}_setAtOrigin(e,t,i){const n=this.store,r=e.propertyName;n.has(r,i)&&(0,d.aI)(t,n.get(r))&&~e.flags&y.i.Overridden&&i===n.originOf(r)||(e.invalidate(),n.set(r,t,i),e.commit(),(0,m.fE)(this.host,e))}_cast(e,t){const i=M.acquire();return i.valid=!0,i.value=t,e&&(i.value=e.call(this.host,t,i)),i}}const M=new h.A(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var S=i(8819);let T;function E(){return T}var x;!function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"}(x||(x={}));var C,P,O=i(68452),I=i(46053),R=i(85842);function N(e){var t;if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return null!==(t=e.constructor)&&void 0!==t&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const k=Symbol("Accessor-Handles"),L=Symbol("Accessor-Initialized");class D{static createSubclass(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:i,constructor:n}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const r=this;class o extends r{constructor(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];super(...t),this.inherited=null,n&&n.apply(this,t)}}(0,u.tD)(o.prototype);for(const s in e){const t=e[s];o.prototype[s]="function"==typeof t?function(){const e=this.inherited;let i;this.inherited=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(r.prototype[s])return r.prototype[s].apply(this,t)};try{for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];i=t.apply(this,a)}catch(o){throw this.inherited=e,o}return this.inherited=e,i}:e[s]}for(const s in t){const e=N(t[s]);(0,I.MZ)(e)(o.prototype,s)}return(0,R.$)(i)(o)}static freeze(e){return e instanceof D?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof D?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(){var e,t,i;if(this[C]=null,this[P]=!1,this.constructor===D)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const n=new A(this);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];Object.defineProperty(this,"__accessor__",{enumerable:!1,value:n}),o.length>0&&(n.ctorArgs=null!==(e=null===(t=this.normalizeCtorArgs)||void 0===t?void 0:t.apply(this,o))&&void 0!==e?e:o[0]),null===(i=E())||void 0===i||i.onInstanceConstruct(this)}postscript(){const e=this.__accessor__,t=e.ctorArgs;e.initialize(),t&&(this.set(t),e.ctorArgs=null),e.constructed(),this.initialize(),this[L]=!0}initialize(){}[a.G](){this[k]=(0,s.pR)(this[k])}destroy(){var e;this.destroyed||((0,O.iS)(this),this.__accessor__.destroy(),null===(e=E())||void 0===e||e.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[L]}get destroyed(){var e;return(null===(e=this.__accessor__)||void 0===e?void 0:e.lifecycle)===c.v.DESTROYED||!1}commitProperty(e){(0,l.Jt)(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return(0,S.h)(this,e,t),this}watch(e,t,i){return(0,n.eO)(o.A.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),(0,O.wB)(this,e,t,i)}addHandles(e,t){var i;if(this.destroyed){const t=Array.isArray(e)?e:[e];for(const e of t)e.remove()}else(null!==(i=this[k])&&void 0!==i?i:this[k]=new r.A).add(e,t)}removeHandles(e){var t;null===(t=this[k])||void 0===t||t.remove(e)}removeAllHandles(){var e;null===(e=this[k])||void 0===e||e.removeAll()}removeHandlesReference(e){var t;null===(t=this[k])||void 0===t||t.removeReference(e)}hasHandles(e){var t;return!0===(null===(t=this[k])||void 0===t?void 0:t.has(e))}_override(e,t){void 0===t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,t){null==t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}C=k,P=L},92115:(e,t,i)=>{i.d(t,{H:()=>l});var n,r=i(35143),o=i(42553),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842));let l=n=class extends o.A{constructor(e){super(e),this.name=null,this.code=null}clone(){return new n({name:this.name,code:this.code})}};(0,r._)([(0,s.MZ)({type:String,json:{write:{isRequired:!0}}})],l.prototype,"name",void 0),(0,r._)([(0,s.MZ)({type:[String,Number],json:{write:{isRequired:!0}}})],l.prototype,"code",void 0),l=n=(0,r._)([(0,a.$)("esri.layers.support.CodedValue")],l)},92135:(e,t,i)=>{i.d(t,{A:()=>y});var n,r=i(89379),o=i(35143),s=i(69539),a=i(53084),l=i(76931),c=i(46053),u=(i(81806),i(76460),i(6409)),d=i(85842),h=i(60749),p=i(68905),f=i(85192);let m=n=class extends h.A{constructor(e){super(e),this.type="line",this.color=new s.A([0,0,0,1]),this.size=(0,l.PN)(1),this.border=null}get visible(){return this.size>0&&null!=this.color&&this.color.a>0}clone(){return new n({color:(0,a.o8)(this.color),size:this.size,border:(0,a.o8)(this.border)})}};(0,o._)([(0,u.e)({line:"line"})],m.prototype,"type",void 0),(0,o._)([(0,c.MZ)((0,f.E)({colorRequiredOnWrite:!0}))],m.prototype,"color",void 0),(0,o._)([(0,c.MZ)((0,r.A)((0,r.A)({},f.p),{},{json:{write:{isRequired:!0}}}))],m.prototype,"size",void 0),(0,o._)([(0,c.MZ)({type:p.A,json:{write:!0}})],m.prototype,"border",void 0),(0,o._)([(0,c.MZ)({readOnly:!0})],m.prototype,"visible",null),m=n=(0,o._)([(0,d.$)("esri.symbols.callouts.LineCallout3D")],m);const y=m},92154:(e,t,i)=>{i.d(t,{P:()=>r});var n=i(3789);class r extends n.A{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(){const e=super.acquire(...arguments);return this._set.delete(e),e}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}}},92744:(e,t,i)=>{i.d(t,{A:()=>u});var n=i(35143),r=i(69098),o=i(42553),s=i(46053),a=i(40565),l=(i(81806),i(47249),i(85842));let c=class extends(r.A.ClonableMixin(o.A)){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};(0,n._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"title",void 0),(0,n._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,n._)([(0,s.MZ)({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],c.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{type:a.jz,write:!0}})],c.prototype,"associatedNetworkSourceId",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{type:a.jz,write:!0}})],c.prototype,"associatedAssetGroup",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{type:a.jz,write:!0}})],c.prototype,"associatedAssetType",void 0),c=(0,n._)([(0,l.$)("esri.popup.support.UtilityNetworkAssociationType")],c);const u=c},93103:(e,t,i)=>{i.d(t,{bv:()=>l,Fk:()=>c,yG:()=>u,$b:()=>d,Nd:()=>h,jm:()=>p,sK:()=>y});var n=i(99746),r=i(76931);function o(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}const s=o();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:function(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},create:o,createView:function(e,t){return new Float32Array(e,t,16)},fromValues:function(e,t,i,n,r,o,s,a,l,c,u,d,h,p,f,m){const y=new Float32Array(16);return y[0]=e,y[1]=t,y[2]=i,y[3]=n,y[4]=r,y[5]=o,y[6]=s,y[7]=a,y[8]=l,y[9]=c,y[10]=u,y[11]=d,y[12]=h,y[13]=p,y[14]=f,y[15]=m,y}},Symbol.toStringTag,{value:"Module"}));var a=i(34761);class l{constructor(e,t,i){this.strength=e,this.radius=t,this.threshold=i,this.type="bloom"}interpolate(e,t,i){this.strength=f(e.strength,t.strength,i),this.radius=f(e.radius,t.radius,i),this.threshold=f(e.threshold,t.threshold,i)}clone(){return new l(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:m(this.radius),strength:this.strength,threshold:this.threshold}}}class c{constructor(e){this.radius=e,this.type="blur"}interpolate(e,t,i){this.radius=Math.round(f(e.radius,t.radius,i))}clone(){return new c(this.radius)}toJSON(){return{type:"blur",radius:m(this.radius)}}}class u{constructor(e,t){this.type=e,this.amount=t,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,i){this.amount=f(e.amount,t.amount,i),this._updateMatrix()}clone(){return new u(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||o();switch(this.type){case"brightness":this._colorMatrix=((e,t)=>{const i=(0,a.hZ)(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return(0,a.mg)(i,i)})(e,this.amount);break;case"contrast":this._colorMatrix=((e,t)=>{const i=(0,a.hZ)(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return(0,a.mg)(i,i)})(e,this.amount);break;case"grayscale":this._colorMatrix=((e,t)=>{const i=1-t,n=(0,a.hZ)(e,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return(0,a.mg)(n,n)})(e,this.amount);break;case"invert":this._colorMatrix=((e,t)=>{const i=1-2*t,n=(0,a.hZ)(e,i,0,0,t,0,i,0,t,0,0,i,t,0,0,0,1);return(0,a.mg)(n,n)})(e,this.amount);break;case"saturate":this._colorMatrix=((e,t)=>{const i=(0,a.hZ)(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return(0,a.mg)(i,i)})(e,this.amount);break;case"sepia":this._colorMatrix=((e,t)=>{const i=1-t,n=(0,a.hZ)(e,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return(0,a.mg)(n,n)})(e,this.amount)}}}class d{constructor(e,t,i,n){this.offsetX=e,this.offsetY=t,this.blurRadius=i,this.color=n,this.type="drop-shadow"}interpolate(e,t,i){this.offsetX=f(e.offsetX,t.offsetX,i),this.offsetY=f(e.offsetY,t.offsetY,i),this.blurRadius=f(e.blurRadius,t.blurRadius,i),this.color[0]=Math.round(f(e.color[0],t.color[0],i)),this.color[1]=Math.round(f(e.color[1],t.color[1],i)),this.color[2]=Math.round(f(e.color[2],t.color[2],i)),this.color[3]=f(e.color[3],t.color[3],i)}clone(){return new d(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:m(this.offsetX),yoffset:m(this.offsetY),blurRadius:m(this.blurRadius),color:e}}}class h{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,i){this.angle=f(e.angle,t.angle,i),this._updateMatrix()}clone(){return new h(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||o();this._colorMatrix=((e,t)=>{const i=Math.sin(t*Math.PI/180),n=Math.cos(t*Math.PI/180),r=(0,a.hZ)(e,.213+.787*n-.213*i,.715-.715*n-.715*i,.072-.072*n+.928*i,0,.213-.213*n+.143*i,.715+.285*n+.14*i,.072-.072*n-.283*i,0,.213-.213*n-.787*i,.715-.715*n+.715*i,.072+.928*n+.072*i,0,0,0,0,1);return(0,a.mg)(r,r)})(e,this.angle)}}class p{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,t,i){this.amount=f(e.amount,t.amount,i)}clone(){return new p(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function f(e,t,i){return e+(t-e)*i}function m(e){return Math.round(1e3*(0,r.PN)(e))/1e3}function y(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new u(e.type,0);case"saturate":case"brightness":case"contrast":return new u(e.type,1);case"opacity":return new p(1);case"hue-rotate":return new h(0);case"blur":return new c(0);case"drop-shadow":return new d(0,0,0,[...(0,n.TS)("transparent")]);case"bloom":return new l(0,0,1)}}},93223:(e,t,i)=>{i.d(t,{Q:()=>l});var n,r=i(35143),o=i(91967),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842));let l=n=class extends o.A{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new n({x:this.x,y:this.y})}};(0,r._)([(0,s.MZ)({type:Number})],l.prototype,"x",void 0),(0,r._)([(0,s.MZ)({type:Number})],l.prototype,"y",void 0),l=n=(0,r._)([(0,a.$)("esri.symbols.support.Symbol3DAnchorPosition2D")],l)},93345:(e,t,i)=>{var n,r,o,s,a,l,c,u,d,h,p,f,m,y,g,v,_,w,b,A;i.d(t,{Ab:()=>y,Ac:()=>c,Ap:()=>m,CQ:()=>C,Cj:()=>p,Co:()=>b,H0:()=>g,Hr:()=>E,MT:()=>d,NV:()=>n,NZ:()=>a,Nm:()=>T,R:()=>A,Tb:()=>s,WR:()=>r,Y7:()=>l,_U:()=>w,dn:()=>o,eA:()=>h,ld:()=>v,nI:()=>x,pF:()=>f,pe:()=>u,sS:()=>R,tx:()=>N,vt:()=>S,xM:()=>M,xV:()=>P,yQ:()=>_}),function(e){e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e[e.COLOR=16384]="COLOR"}(n||(n={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(r||(r={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(o||(o={})),function(e){e[e.ADD=32774]="ADD",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(s||(s={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(a||(a={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(l||(l={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(c||(c={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=5131]="HALF_FLOAT"}(u||(u={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(d||(d={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(h||(h={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(p||(p={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(f||(f={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(m||(m={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(y||(y={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(g||(g={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(v||(v={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(_||(_={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(w||(w={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(b||(b={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(A||(A={}));const M=33984;var S,T,E;!function(e){e[e.Texture=0]="Texture",e[e.BufferObject=1]="BufferObject",e[e.VertexArrayObject=2]="VertexArrayObject",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.FramebufferObject=5]="FramebufferObject",e[e.Renderbuffer=6]="Renderbuffer",e[e.TransformFeedback=7]="TransformFeedback",e[e.Sync=8]="Sync",e[e.UNCOUNTED=9]="UNCOUNTED",e[e.LinesOfCode=9]="LinesOfCode",e[e.Uniform=10]="Uniform",e[e.COUNT=11]="COUNT"}(S||(S={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(T||(T={})),function(e){e[e.NONE=0]="NONE",e[e.BACK=1029]="BACK"}(E||(E={}));const x=33306;var C,P,O,I,R,N,k;!function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"}(C||(C={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(P||(P={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(O||(O={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(I||(I={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(R||(R={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(N||(N={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(k||(k={}))},93453:(e,t,i)=>{i.d(t,{A:()=>r});var n=i(3789);class r{static getId(e,t,i,n){return"object"==typeof e?"".concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.world):"".concat(e,"/").concat(t,"/").concat(i,"/").concat(n)}constructor(e,t,i,n){this.set(e,t,i,n)}get key(){return this}get id(){return this.toString()}get normalizedId(){return"".concat(this.level,"/").concat(this.row,"/").concat(this.col)}set id(e){this.set(e)}get hash(){const e=4095&this.row,t=4095&this.col,i=63&this.level;return(3&this.world)<<30|t<<22|e<<8|i}acquire(e,t,i,n){this.set(e,t,i,n)}contains(e){const t=e.level-this.level;return t>=0&&this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}containsChild(e){const t=e.level-this.level;return t>0&&this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new r(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,t,i,n){if(null==e)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof e)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if("string"==typeof e){const[t,i,n,r]=e.split("/");this.level=parseFloat(t),this.row=parseFloat(i),this.col=parseFloat(n),this.world=parseFloat(r)}else this.level=+e,this.row=+t,this.col=+i,this.world=+n||0;return this}toString(){return"".concat(this.level,"/").concat(this.row,"/").concat(this.col,"/").concat(this.world)}getParentKey(){return this.level<=0?null:new r(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(e,t,i){const n=this.clone();return n.col+=e,n.row+=t,i.normalizeKey(n),n}getChildKeys(){const e=this.level+1,t=this.row<<1,i=this.col<<1,n=this.world;return[new r(e,t,i,n),new r(e,t,i+1,n),new r(e,t+1,i,n),new r(e,t+1,i+1,n)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}}r.pool=new n.A(r,null,null,25,50)},93616:(e,t,i)=>{i.d(t,{A:()=>d});var n=i(35143),r=i(69098),o=i(46053),s=i(40565),a=(i(81806),i(47249),i(85842)),l=i(56362),c=i(64362);let u=class extends(r.A.ClonableMixin(l.A)){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"description",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{type:s.jz,write:!0}})],u.prototype,"displayCount",void 0),(0,n._)([(0,o.MZ)({type:["list"],json:{write:{isRequired:!0}}})],u.prototype,"displayType",void 0),(0,n._)([(0,o.MZ)({type:[c.A],json:{write:!0}})],u.prototype,"orderByFields",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{type:s.jz,write:{isRequired:!0}}})],u.prototype,"relationshipId",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"title",void 0),(0,n._)([(0,o.MZ)({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],u.prototype,"type",void 0),u=(0,n._)([(0,a.$)("esri.popup.content.RelationshipContent")],u);const d=u},94126:(e,t,i)=>{i.d(t,{V:()=>c,W:()=>u});var n=i(30697);let r=!1;const o=e=>{r=!0,(0,n.s)(e)};var s=i(28899),a=(i(81806),i(90534));let l;function c(){r||o((0,a.s2)((0,s.s)(l)))}function u(e){const t=[];for(const n of Object.keys(e)){var i;customElements.get("calcite-".concat(n))||t.push(null===(i=e[n])||void 0===i?void 0:i.call(e))}return t.length>0?Promise.all(t):null}l="components/assets"},94151:(e,t,i)=>{i.d(t,{r:()=>r});var n=i(76097);class r extends n.R{constructor(e){super(new o(e)),this._observer&&s.register(this,new WeakRef(this._observer),this)}destroy(){var e,t;this._observer&&s.unregister(this._observer),null!==(e=this.accessed)&&void 0!==e&&e.clear(),this.clear(),null===(t=this._observer)||void 0===t||t.destroy()}}class o{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(1===e)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=a}}const s=new FinalizationRegistry((e=>{var t;null===(t=e.deref())||void 0===t||t.destroy()}));function a(){}},94161:(e,t,i)=>{i.d(t,{AH:()=>l,Rf:()=>c,sk:()=>u});const n=globalThis,r=n.ShadowRoot&&(void 0===n.ShadyCSS||n.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,o=Symbol(),s=new WeakMap;class a{constructor(e,t,i){if(this._$cssResult$=!0,i!==o)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(r&&void 0===e){const i=void 0!==t&&1===t.length;i&&(e=s.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&s.set(t,e))}return e}toString(){return this.cssText}}const l=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const r=1===e.length?e[0]:i.reduce(((t,i,n)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[n+1]),e[0]);return new a(r,e,o)},c=(e,t)=>{if(r)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const i of t){const t=document.createElement("style"),r=n.litNonce;void 0!==r&&t.setAttribute("nonce",r),t.textContent=i.cssText,e.appendChild(t)}},u=r?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return(e=>new a("string"==typeof e?e:e+"",void 0,o))(t)})(e):e},94446:(e,t,i)=>{i.d(t,{k7:()=>a,ku:()=>s});var n=i(90534),r=i(79453);function o(e,t){if(!(0,n.oP)(e)){const i=function(e){var t,i;if(!e)return null;const{origin:n,layer:r}=e;if("service"!==n&&"portal-item"!==n)return null;const o=null===r||void 0===r?void 0:r.type;return"feature"===o||"stream"===o?null===(t=r.parsedUrl)||void 0===t?void 0:t.path:"map-image"===o||"tile"===o?null===(i=e.url)||void 0===i?void 0:i.path:null}(t);if(i)return(0,n.fj)(i,"images",e)}return(0,r.f)(e,t)}const s={json:{read:{source:["imageData","url"],reader:function(e,t,i){return t.imageData?(0,n.Hg)({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):o(t.url,i)}},write:{writer(e,t,i,o){!function(e,t,i,o){if((0,n.DB)(e)){const s=(0,n.r$)(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,i&&i.imageData===t.imageData&&i.url&&(0,r.w)(i.url,t,"url",o)}else(0,r.w)(e,t,"url",o)}(e,t,this.source,o)}}}},a={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=o(t.url,i)),n}}}}},94643:(e,t,i)=>{i.d(t,{A:()=>I});var n,r=i(35143),o=i(11373),s=i(54099),a=i(54901),l=i(53084),c=i(3789);!function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"}(n||(n={}));var u,d=i(52394),h=i(40565),p=i(99486),f=i(46053),m=i(29101),y=i(85842),g=i(99702);class v{constructor(e,t,i,n,r){this.target=e,this.added=t,this.removed=i,this.start=n,this.deleteCount=r}}const _=new c.A(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}));function w(e){e&&"object"==typeof e&&"destroy"in e&&"function"==typeof e.destroy&&e.destroy()}function b(e){return e?e instanceof O?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function A(e){if(null!==e&&void 0!==e&&e.length)return e[0]}function M(e,t,i,n){const r=Math.min(e.length-i,t.length-n);let o=0;for(;o<r&&e[i+o]===t[n+o];)o++;return o}function S(e,t,i,n){t&&t.forEach(((t,r,o)=>{e.push(t),S(e,i.call(n,t,r,o),i,n)}))}const T=new Set,E=new Set,x=new Set,C=new Map;let P=0,O=u=class extends s.A.EventedAccessor{static isCollection(e){return null!=e&&e instanceof u}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new g.I,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:P++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof u?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return(0,p.gc)(this._observable),this._items}set items(e){this._emitBeforeChanges(n.ADD)||(this._splice(0,this.length,b(e)),this._emitAfterChanges(n.ADD))}hasEventListener(e){return!this.destroyed&&("change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return(0,a.hA)();if("change"===e){const e=this._chgListeners,i={removed:!1,callback:t};return e.push(i),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),(0,a.hA)((()=>{i.removed=!0,e.splice(e.indexOf(i),1)}))}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,n=this.on(e,(e=>{var t;null!==(t=i())&&void 0!==t&&t.call(null,e),n.remove()}));return n}add(e,t){if((0,p.gc)(this._observable),this._emitBeforeChanges(n.ADD))return this;const i=this.getNextIndex(null!==t&&void 0!==t?t:null);return this._splice(i,0,[e]),this._emitAfterChanges(n.ADD),this}addMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._items.length;if((0,p.gc)(this._observable),null===e||void 0===e||!e.length)return this;if(this._emitBeforeChanges(n.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,b(e)),this._emitAfterChanges(n.ADD),this}at(e){if((0,p.gc)(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(n.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(n.REMOVE),e}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){return(0,p.gc)(this._observable),this._createNewInstance({items:this._items.map(l.o8)})}concat(){(0,p.gc)(this._observable);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=t.map(b);return this._createNewInstance({items:this._items.concat(...n)})}drain(e,t){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(n.REMOVE))return;const i=this._splice(0,this.length),r=i.length;for(let n=0;n<r;n++)e.call(t,i[n],n,i);this._emitAfterChanges(n.REMOVE)}destroyAll(){this.drain(w)}destroyMany(e){const t=this.removeMany(e);return t.forEach(w),t}every(e,t){return(0,p.gc)(this._observable),this._items.every(e,t)}filter(e,t){(0,p.gc)(this._observable);const i=2===arguments.length?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:i})}find(e,t){return(0,p.gc)(this._observable),this._items.find(e,t)}findIndex(e,t){return(0,p.gc)(this._observable),this._items.findIndex(e,t)}flatten(e,t){(0,p.gc)(this._observable);const i=[];return S(i,this,e,t),new u(i)}forEach(e,t){return(0,p.gc)(this._observable),this._items.forEach(e,t)}getItemAt(e){return(0,p.gc)(this._observable),this._items[e]}getNextIndex(e){(0,p.gc)(this._observable);const t=this.length;return(e=null!==e&&void 0!==e?e:t)<0?e=0:e>t&&(e=t),e}includes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,p.gc)(this._observable),this._items.includes(e,t)}indexOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,p.gc)(this._observable),this._items.indexOf(e,t)}join(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:",";return(0,p.gc)(this._observable),this._items.join(e)}lastIndexOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;return(0,p.gc)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){(0,p.gc)(this._observable);const i=this._items.map(e,t);return new u({items:i})}reorder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;(0,p.gc)(this._observable);const i=this.indexOf(e);if(-1!==i){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(n.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(n.MOVE)}return e}}pop(){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(n.REMOVE))return;const e=A(this._splice(this.length-1,1));return this._emitAfterChanges(n.REMOVE),e}push(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,p.gc)(this._observable),this._emitBeforeChanges(n.ADD)||(this._splice(this.length,0,t),this._emitAfterChanges(n.ADD)),this.length}reduce(e,t){(0,p.gc)(this._observable);const i=this._items;return 2===arguments.length?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){(0,p.gc)(this._observable);const i=this._items;return 2===arguments.length?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return(0,p.gc)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if((0,p.gc)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(n.REMOVE))return;const t=A(this._splice(e,1));return this._emitAfterChanges(n.REMOVE),t}removeMany(e){if((0,p.gc)(this._observable),null===e||void 0===e||!e.length||this._emitBeforeChanges(n.REMOVE))return[];const t=e instanceof u?e.toArray():e,i=this._items,r=[],o=t.length;for(let n=0;n<o;n++){const e=t[n],o=i.indexOf(e);if(o>-1){const e=1+M(t,i,n+1,o+1),s=this._splice(o,e);s&&s.length>0&&r.push.apply(r,s),n+=e-1}}return this._emitAfterChanges(n.REMOVE),r}reverse(){if((0,p.gc)(this._observable),this._emitBeforeChanges(n.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(n.MOVE),this}shift(){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(n.REMOVE))return;const e=A(this._splice(0,1));return this._emitAfterChanges(n.REMOVE),e}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return(0,p.gc)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return(0,p.gc)(this._observable),this._items.some(e,t)}sort(e){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(n.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(n.MOVE),this}_requiresSort(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e,t)=>e===t?0:e<t?-1:1;const t=this.length-1;for(let i=0;i<t;i++)if(e(this.items[i],this.items[i+1])>0)return!0;return!1}splice(e,t){(0,p.gc)(this._observable);for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];const s=(t?n.REMOVE:0)|(r.length?n.ADD:0);if(this._emitBeforeChanges(s))return[];const a=this._splice(e,t,r)||[];return this._emitAfterChanges(s),a}toArray(){return(0,p.gc)(this._observable),this._items.slice()}toJSON(){return(0,p.gc)(this._observable),this.toArray()}toLocaleString(){return(0,p.gc)(this._observable),this._items.toLocaleString()}toString(){return(0,p.gc)(this._observable),this._items.toString()}unshift(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,p.gc)(this._observable),!t.length||this._emitBeforeChanges(n.ADD)||(this._splice(0,0,t),this._emitAfterChanges(n.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){var n,r,o;const s=this._items,a=this.itemType;let l,c;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=(0,d._)((()=>this._dispatchChange()))),e<0&&(e+=this.length),t){if(c=s.splice(e,t),this.hasEventListener("before-remove")){const t=_.acquire();t.target=this,t.cancellable=!0;for(let i=0,n=c.length;i<n;i++)l=c[i],t.reset(l),this.emit("before-remove",t),t.defaultPrevented&&(c.splice(i,1),s.splice(e,0,l),e+=1,i-=1,n-=1);_.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=_.acquire();e.target=this,e.cancellable=!1;const t=c.length;for(let i=0;i<t;i++)e.reset(c[i]),this.emit("after-remove",e);_.release(e)}}if(null!==(n=i)&&void 0!==n&&n.length){if(a){const e=[];for(const t of i){const i=a.ensureType(t);null==i&&null!=t||e.push(i)}i=e}const t=this.hasEventListener("before-add"),n=this.hasEventListener("after-add"),r=e===this.length;if(t||n){const o=_.acquire();o.target=this,o.cancellable=!0;const a=_.acquire();a.target=this,a.cancellable=!1;for(const l of i)t?(o.reset(l),this.emit("before-add",o),o.defaultPrevented||(r?s.push(l):s.splice(e++,0,l),this._set("length",s.length),n&&(a.reset(l),this.emit("after-add",a)))):(r?s.push(l):s.splice(e++,0,l),this._set("length",s.length),a.reset(l),this.emit("after-add",a));_.release(a),_.release(o)}else{if(r)for(const e of i)s.push(e);else s.splice(e,0,...i);this._set("length",s.length)}}if((null!==(r=i)&&void 0!==r&&r.length||null!==(o=c)&&void 0!==o&&o.length)&&this._notifyChangeEvent(i,c),this.hasEventListener("after-splice")){const n=new v(this,i,c,e,t);this.emit("after-splice",n)}return c}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=_.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,_.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=_.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),_.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;T.clear(),E.clear(),x.clear();for(const{added:t,removed:o}of e){if(t)if(0===x.size&&0===E.size)for(const e of t)T.add(e);else for(const e of t)E.has(e)?(x.add(e),E.delete(e)):x.has(e)||T.add(e);if(o)if(0===x.size&&0===T.size)for(const e of o)E.add(e);else for(const e of o)T.has(e)?T.delete(e):(x.delete(e),E.add(e))}const i=o.A.acquire();T.forEach((e=>{i.push(e)}));const n=o.A.acquire();E.forEach((e=>{n.push(e)}));const r=this._items,s=t.items,a=o.A.acquire();if(x.forEach((e=>{s.indexOf(e)!==r.indexOf(e)&&a.push(e)})),t.listeners&&(i.length||n.length||a.length)){const e={target:this,added:i,removed:n,moved:a},r=t.listeners.length;for(let i=0;i<r;i++){const n=t.listeners[i];n.removed||n.callback.call(this,e)}}o.A.release(i),o.A.release(n),o.A.release(a)}T.clear(),E.clear(),x.clear()}};O.ofType=e=>{if(!e)return u;if(C.has(e))return C.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const i=e.typeMap[n].prototype.declaredClass;t?t+=" | ".concat(i):t=i}let i=class extends u{};return(0,r._)([(0,m.u)({Type:e,ensureType:"function"==typeof e?(0,h.dp)(e):(0,h.aq)(e)})],i.prototype,"itemType",void 0),i=(0,r._)([(0,y.$)("esri.core.Collection<".concat(t,">"))],i),C.set(e,i),i},(0,r._)([(0,f.MZ)()],O.prototype,"_updating",void 0),(0,r._)([(0,f.MZ)()],O.prototype,"length",void 0),(0,r._)([(0,f.MZ)()],O.prototype,"items",null),(0,r._)([(0,f.MZ)({readOnly:!0})],O.prototype,"updating",null),O=u=(0,r._)([(0,y.$)("esri.core.Collection")],O);const I=O},94725:(e,t,i)=>{i.d(t,{dp:()=>G,$y:()=>P,wk:()=>O,Y7:()=>N,wC:()=>R,Ac:()=>k,Bu:()=>D,Es:()=>I,q8:()=>L,em:()=>F,Rv:()=>j,xK:()=>Z,On:()=>U});var n,r=i(40565),o=i(7982),s=i(89465),a=i(16911),l=i(34913),c=i(94918),u=i(35143),d=i(53084),h=i(76931),p=i(46053),f=(i(81806),i(76460),i(6409)),m=i(85842),y=i(48313),g=i(94446);let v=n=class extends y.A{constructor(){super(...arguments),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,n){if(e&&"string"!=typeof e&&null==e.imageData)return e;const r={};return e&&(r.url=e),t&&(r.outline=t),null!=i&&(r.width=(0,h.cr)(i)),null!=n&&(r.height=(0,h.cr)(n)),r}clone(){const e=new n({color:(0,d.o8)(this.color),height:this.height,outline:(0,d.o8)(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",(0,d.o8)(this.source)),e}hash(){var e;return"".concat(super.hash(),".").concat(null===(e=this.color)||void 0===e?void 0:e.hash(),".").concat(this.height,".").concat(this.url,".").concat(this.width,".").concat(this.xoffset,".").concat(this.xscale,".").concat(this.yoffset,".").concat(this.yscale)}};(0,u._)([(0,f.e)({esriPFS:"picture-fill"},{readOnly:!0})],v.prototype,"type",void 0),(0,u._)([(0,p.MZ)(g.ku)],v.prototype,"url",void 0),(0,u._)([(0,p.MZ)({type:Number,json:{write:!0}})],v.prototype,"xscale",void 0),(0,u._)([(0,p.MZ)({type:Number,json:{write:!0}})],v.prototype,"yscale",void 0),(0,u._)([(0,p.MZ)({type:Number,cast:h.cr,json:{write:!0}})],v.prototype,"width",void 0),(0,u._)([(0,p.MZ)({type:Number,cast:h.cr,json:{write:!0}})],v.prototype,"height",void 0),(0,u._)([(0,p.MZ)({type:Number,cast:h.cr,json:{write:!0}})],v.prototype,"xoffset",void 0),(0,u._)([(0,p.MZ)({type:Number,cast:h.cr,json:{write:!0}})],v.prototype,"yoffset",void 0),(0,u._)([(0,p.MZ)(g.k7)],v.prototype,"source",void 0),v=n=(0,u._)([(0,m.$)("esri.symbols.PictureFillSymbol")],v);const _=v;var w=i(27410),b=i(37471),A=i(74343),M=i(86875),S=i(7246),T=i(76940),E=i(25900),x=i(86659),C=i(89579);function P(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function O(e){switch(null===e||void 0===e?void 0:e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const I={base:E.A,key:"type",typeMap:{"simple-fill":M.A,"picture-fill":_,"picture-marker":w.A,"simple-line":S.A,"simple-marker":T.A,text:x.A,"label-3d":a.A,"line-3d":l.A,"mesh-3d":c.A,"point-3d":b.A,"polygon-3d":A.A,"web-style":C.A,cim:s.A},errorContext:"symbol"},R=(E.A,M.A,s.A,{base:E.A,key:"type",typeMap:{"picture-marker":w.A,"simple-marker":T.A,"point-3d":b.A,cim:s.A},errorContext:"symbol"}),N={base:E.A,key:"type",typeMap:{"simple-line":S.A,"line-3d":l.A,cim:s.A},errorContext:"symbol"},k={base:E.A,key:"type",typeMap:{"simple-fill":M.A,"picture-fill":_,"polygon-3d":A.A,cim:s.A},errorContext:"symbol"},L={base:E.A,key:"type",typeMap:{"picture-marker":w.A,"simple-marker":T.A,text:x.A,"web-style":C.A,cim:s.A},errorContext:"symbol"},D=(0,o.C)({types:I}),Z={base:E.A,key:"type",typeMap:{"simple-fill":M.A,"picture-fill":_,"picture-marker":w.A,"simple-line":S.A,"simple-marker":T.A,text:x.A,"line-3d":l.A,"mesh-3d":c.A,"point-3d":b.A,"polygon-3d":A.A,"web-style":C.A,cim:s.A},errorContext:"symbol"},F={base:E.A,key:"type",typeMap:{text:x.A,"label-3d":a.A},errorContext:"symbol"},U=(E.A,a.A,l.A,c.A,b.A,A.A,C.A,{base:E.A,key:"type",typeMap:{"line-3d":l.A,"mesh-3d":c.A,"point-3d":b.A,"polygon-3d":A.A,"web-style":C.A,cim:s.A},errorContext:"symbol"}),j={base:E.A,key:"type",typeMap:{"label-3d":a.A},errorContext:"symbol"},G=(0,r.aq)(I)},94918:(e,t,i)=>{i.d(t,{A:()=>f});var n,r=i(35143),o=i(94643),s=i(53084),a=i(46053),l=(i(81806),i(76460),i(6409)),c=i(85842),u=i(84847),d=i(78135);const h=o.A.ofType({base:null,key:"type",typeMap:{fill:u.A}});let p=n=class extends d.A{constructor(e){super(e),this.symbolLayers=new h,this.type="mesh-3d"}clone(){return new n({styleOrigin:(0,s.o8)(this.styleOrigin),symbolLayers:(0,s.o8)(this.symbolLayers),thumbnail:(0,s.o8)(this.thumbnail)})}static fromSimpleFillSymbol(e){return new n({symbolLayers:new o.A([u.A.fromSimpleFillSymbol(e)])})}};(0,r._)([(0,a.MZ)({type:h})],p.prototype,"symbolLayers",void 0),(0,r._)([(0,l.e)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],p.prototype,"type",void 0),p=n=(0,r._)([(0,c.$)("esri.symbols.MeshSymbol3D")],p);const f=p},94967:(e,t,i)=>{i.d(t,{$0:()=>d,B8:()=>s,CV:()=>h,D_:()=>r,Tl:()=>u,e$:()=>l,hZ:()=>o,hs:()=>c,kN:()=>p,lw:()=>a});var n=i(53494);function r(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function o(e,t,i,n,r,o,s){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=o,e[5]=s,e}function s(e,t){const i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5];let l=i*o-n*r;return l?(l=1/l,e[0]=o*l,e[1]=-n*l,e[2]=-r*l,e[3]=i*l,e[4]=(r*a-o*s)*l,e[5]=(n*s-i*a)*l,e):null}function a(e,t,i){const n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=i[0],u=i[1],d=i[2],h=i[3],p=i[4],f=i[5];return e[0]=n*c+o*u,e[1]=r*c+s*u,e[2]=n*d+o*h,e[3]=r*d+s*h,e[4]=n*p+o*f+a,e[5]=r*p+s*f+l,e}function l(e,t,i){const n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=Math.sin(i),u=Math.cos(i);return e[0]=n*u+o*c,e[1]=r*u+s*c,e[2]=n*-c+o*u,e[3]=r*-c+s*u,e[4]=a,e[5]=l,e}function c(e,t,i){const n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=i[0],u=i[1];return e[0]=n*c,e[1]=r*c,e[2]=o*u,e[3]=s*u,e[4]=a,e[5]=l,e}function u(e,t,i){const n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=i[0],u=i[1];return e[0]=n,e[1]=r,e[2]=o,e[3]=s,e[4]=n*c+o*u+a,e[5]=r*c+s*u+l,e}function d(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=-i,e[3]=n,e[4]=0,e[5]=0,e}function h(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function p(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function f(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}const m=a,y=f;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},equals:function(e,t){const i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=t[0],u=t[1],d=t[2],h=t[3],p=t[4],f=t[5],m=(0,n.FD)();return Math.abs(i-c)<=m*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(r-u)<=m*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-d)<=m*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=m*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(a-p)<=m*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(l-f)<=m*Math.max(1,Math.abs(l),Math.abs(f))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)},fromRotation:d,fromScaling:h,fromTranslation:p,identity:r,invert:s,mul:m,multiply:a,multiplyScalar:function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e},multiplyScalarAndAdd:function(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e},rotate:l,scale:c,set:o,str:function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},sub:y,subtract:f,translate:u},Symbol.toStringTag,{value:"Module"}))},95922:(e,t,i)=>{i.d(t,{xF:()=>d,N5:()=>h,k4:()=>p,qk:()=>_});var n=i(89379),r=i(40565);var o=i(7982);function s(e){if(e.json||(e.json={}),l(e.json),c(e.json),a(e.json),e.json.origins)for(const t in e.json.origins)l(e.json.origins[t]),c(e.json.origins[t]),a(e.json.origins[t]);return!0}function a(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function l(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function c(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}var u=i(22382);function d(e,t){return f(e,"any",null===t||void 0===t?void 0:t.origin)}function h(e,t){return f(e,"read",null===t||void 0===t?void 0:t.origin)}function p(e,t){return f(e,"write",null===t||void 0===t?void 0:t.origin)}function f(e,t,i){var n;let r=null===e||void 0===e?void 0:e.json;if(null!==(n=r)&&void 0!==n&&n.origins&&i){let e;e="link-chart"===i?r.origins[i]&&("any"===t||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],e&&("any"===t||t in e)&&(r=e)}return r}function m(e){const t=function(e){return e.json.types?v(e.json):e.type?g(e):v(e)}(e);if(e.json.origins)for(const r in e.json.origins){var i;const s=e.json.origins[r],a=s.types?y(s):t;(0,o.v)(a,s,!1),s.types&&!s.write&&null!==(i=e.json.write)&&void 0!==i&&i.enabled&&(s.write=(0,n.A)({},e.json.write)),(0,u.v)(a,s)}(0,o.v)(t,e.json,!0),(0,u.v)(t,e.json)}function y(e){return e.type?g(e):v(e)}function g(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!(0,r.EK)(i);)i=i[0],t++;return{type:i,ndimArray:t}}function v(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function _(e){s(e)&&(function(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const e in i)if(t[e]){const n=t[e];i[e].forEach((e=>{t[e]=n})),delete t[e]}}}(e),m(e))}},96017:(e,t,i)=>{i.d(t,{UE:()=>h,Xi:()=>d,gz:()=>p});var n=i(30726),r=i(85632),o=i(24241);const s="HH:mm",a="HH:mm:ss",l="HH:mm:ss.SSS",c=[l,a,s,"TT"],u="yyyy-MM-dd";function d(e){if(!e||!(0,r.Kg)(e))return null;const t=o.c9.fromFormat(e,u);return t.isValid?t:null}function h(e){var t;return e&&(0,r.Kg)(e)&&null!==(t=(0,n.Pb)(c,(t=>{const i=o.c9.fromFormat(e,t);return i.isValid?i:null})))&&void 0!==t?t:null}function p(e){if(!e||!(0,r.Kg)(e))return null;const t=o.c9.fromISO(e);return t.isValid?t:null}},96345:(e,t,i)=>{i.d(t,{A:()=>h});var n=i(2413),r=i(19555);class o{constructor(e,t,i){this.maxSize=e,this._tileInfoView=t,this._removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const t=this._tilePerId.get(e);if(!t)return;const i=t.key.level,n=this._tileKeysPerLevel[i];s(this._tilePerId,e);for(let r=0;r<n.length;r++)if(n[r].id===e){n.splice(r,1);break}return t.visible=!0,t}add(e){e.visible=!1;const t=e.key,i=t.id;if(this._tilePerId.has(i))return;this._tilePerId.set(i,e);const n=t.level;this._tileKeysPerLevel[n]||(this._tileKeysPerLevel[n]=[]),this._tileKeysPerLevel[n].push(t)}prune(e,t,i){let n=this._tilePerId.size;if(n<=this.maxSize)return;let r=this._tileKeysPerLevel.length-1;for(;n>this.maxSize&&r>=0;)r!==e&&(n=this._pruneAroundCenterTile(n,t,i,r)),r--;n>this.maxSize&&(n=this._pruneAroundCenterTile(n,t,i,e))}_pruneAroundCenterTile(e,t,i,n){const o=this._tileKeysPerLevel[n];if(!o||0===o.length)return e;const{size:s,origin:a}=this._tileInfoView.tileInfo,l=i*s[0],c=i*s[1],u=[0,0],d=[0,0];for(o.sort(((e,i)=>(u[0]=a.x+l*(e.col+.5),u[1]=a.y-c*(e.row+.5),d[0]=a.x+l*(i.col+.5),d[1]=a.y-c*(i.row+.5),(0,r.hG)(u,t)-(0,r.hG)(d,t))));o.length>0;){const t=o.pop();if(this._removeTile(t.id),--e===this.maxSize)break}return e}_removeTile(e){const t=this._tilePerId.get(e);this._removedFunc&&t&&this._removedFunc(t),s(this._tilePerId,e)}}function s(e,t){e.delete(t)}var a=i(18798);const l=new(i(93453).A)(0,0,0,0),c=new Map,u=[],d=[];class h{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,null!=e.resampling&&(this.resampling=e.resampling),e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),null!=e.buffer&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new o(e.cacheSize,this.tileInfoView,(e=>{this.releaseTile(e)})))}destroy(){this.tileIndex.clear()}update(e){var t;const{resampling:i,tileIndex:n}=this,{scale:r,center:o,resolution:s}=e.state,{minScale:h,maxScale:p}=this.tileInfoView,f=!e.stationary&&r>this._previousScale;if(this._previousScale=r,!i&&(r>h||r<p))return this.tiles.length=0,void this.clear();const m=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.resampling,this.coveragePolicy);if(!m)return this.tiles.length=0,void this.clear();const{spans:y,lodInfo:g}=m,{level:v}=g;this.tiles.length=0,n.forEach((e=>e.visible=!0));let _=0,w=0;if(y.length>0)for(const{row:a,colFrom:u,colTo:d}of y)for(let e=u;e<=d;e++){_++;const t=l.set(v,a,g.normalizeCol(e),g.getWorldForColumn(e)).id;let i=n.get(t);if(i)i.isReady?(c.set(t,i),w++):f||this._addParentTile(t,c);else{var b;if(null!==(b=this._tileCache)&&void 0!==b&&b.has(t)){if(i=this._tileCache.pop(t),this.tileIndex.set(t,i),i.isReady){c.set(t,i),w++;continue}}else i=this.acquireTile(l),this.tileIndex.set(t,i);f||this._addParentTile(t,c)}}const A=w===_;for(const[a,M]of n){if(c.has(a))continue;l.set(a);const e=this.tileInfoView.intersects(m,l),t="purge"===this.cachePolicy?l.level!==v:l.level>v;!e||!f&&A?!t&&e||u.push(M):M.isReady?t&&"purge"===this.cachePolicy&&this._hasReadyAncestor(l,v)?u.push(M):d.push(M):t&&u.push(M)}for(const a of d)a.isReady&&c.set(a.key.id,a);for(const a of u)this._tileCache?this._tileCache.add(a):this.releaseTile(a),n.delete(a.key.id);for(const a of c.values())this.tiles.push(a);for(const a of n.values())c.has(a.key.id)||(a.visible=!1);null!==(t=this._tileCache)&&void 0!==t&&t.prune(v,o,s),a.A.pool.release(m),d.length=0,u.length=0,c.clear()}clear(){const{tileIndex:e}=this;for(const t of e.values())this.releaseTile(t);e.clear()}refresh(e){var t;for(const i of this.tileIndex.values())e(i);null===(t=this._tileCache)||void 0===t||t.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,t){let i=e,n=null;for(;i=this.tileInfoView.getTileParentId(i),i;){var r,o,s;if(this.tileIndex.has(i)){if(n=this.tileIndex.get(i),null!==(s=n)&&void 0!==s&&s.isReady){t.has(n.key.id)||t.set(n.key.id,n);break}}else if(null!==(r=this._tileCache)&&void 0!==r&&r.has(i)&&(n=this._tileCache.pop(i),this.tileIndex.set(i,n),null!==(o=n)&&void 0!==o&&o.isReady)){t.has(n.key.id)||t.set(n.key.id,n);break}}}_hasReadyAncestor(e,t){const i=(0,n.vt)();this.tileInfoView.getTileBounds(i,e,!0);for(const r of this.tileIndex.values())if(r.isReady&&r.key.level>=t&&r.key.level<e.level){const e=(0,n.vt)();if(this.tileInfoView.getTileBounds(e,r.key,!0),(0,n.gR)(e,i))return!0}return!1}}},96673:(e,t,i)=>{i.d(t,{R:()=>o,e:()=>s});var n=i(93345),r=i(27207);class o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this.width=e,this.height=t,this.target=n.Ap.TEXTURE_2D,this.pixelFormat=n.Ab.RGBA,this.dataType=n.ld.UNSIGNED_BYTE,this.samplingMode=n.Cj.LINEAR,this.wrapMode=n.pF.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.shouldCompress=!1,this.depth=1,this.isImmutable=!1}}function s(e){return e.width<=0||e.height<=0?0:Math.round(e.width*e.height*e.depth*(e.hasMipmap?4/3:1)*(null==e.internalFormat?4:(0,r.IB)(e.internalFormat))*(e.target===n.Ap.TEXTURE_CUBE_MAP?6:1))}},97015:(e,t,i)=>{i.d(t,{A:()=>C});var n=i(35143),r=i(45802),o=i(42553),s=i(53084),a=i(46053),l=i(21403),c=i(6409),u=i(85842),d=i(17707),h=i(40565),p=i(19247),f=i(13312),m=i(19902),y=i(31608),g=i(89551),v=i(69098);i(81806),i(76460),i(47249);let _=class extends(v.A.ClonableMixin(o.A)){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};(0,n._)([(0,a.MZ)({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],_.prototype,"onFields",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],_.prototype,"operator",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],_.prototype,"searchTerm",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],_.prototype,"searchType",void 0),_=(0,n._)([(0,u.$)("esri.rest.support.FullTextSearch")],_);const w=_;var b,A=i(46813),M=i(38432),S=i(21820),T=i(59187);const E=new r.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let x=b=class extends o.A{static from(e){return(0,h.PZ)(b,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return"number"==typeof e||"object"==typeof e?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const i={};for(const t in e){const n=e[t];Array.isArray(n)?i[t]=n.map((e=>e instanceof Date?e.getTime():e)):n instanceof Date?i[t]=n.getTime():i[t]=n}t.parameterValues=i}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new b((0,s.o8)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};x.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,n._)([(0,a.MZ)({json:{write:!0}})],x.prototype,"aggregateIds",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],x.prototype,"cacheHint",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"compactGeometryEnabled",void 0),(0,n._)([(0,a.MZ)({json:{write:!0}})],x.prototype,"datumTransformation",void 0),(0,n._)([(0,l.w)("datumTransformation")],x.prototype,"castDatumTransformation",null),(0,n._)([(0,a.MZ)({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"defaultSpatialReferenceEnabled",void 0),(0,n._)([(0,a.MZ)({type:Number,json:{write:!0}})],x.prototype,"distance",void 0),(0,n._)([(0,a.MZ)({type:g.L,json:{write:!0}})],x.prototype,"dynamicDataSource",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],x.prototype,"formatOf3DObjects",void 0),(0,n._)([(0,a.MZ)({type:[w],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],x.prototype,"fullText",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],x.prototype,"gdbVersion",void 0),(0,n._)([(0,a.MZ)({types:y.yR,json:{read:m.rS,write:!0}})],x.prototype,"geometry",void 0),(0,n._)([(0,a.MZ)({type:Number,json:{write:!0}})],x.prototype,"geometryPrecision",void 0),(0,n._)([(0,a.MZ)({type:[String],json:{write:!0}})],x.prototype,"groupByFieldsForStatistics",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],x.prototype,"having",void 0),(0,n._)([(0,a.MZ)({type:Date})],x.prototype,"historicMoment",void 0),(0,n._)([(0,d.K)("historicMoment")],x.prototype,"writeHistoricMoment",null),(0,n._)([(0,a.MZ)({type:Number,json:{write:!0}})],x.prototype,"maxAllowableOffset",void 0),(0,n._)([(0,a.MZ)({type:Number,cast:e=>e<1?1:e>x.MAX_MAX_RECORD_COUNT_FACTOR?x.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],x.prototype,"maxRecordCountFactor",void 0),(0,n._)([(0,a.MZ)({type:["xyFootprint"],json:{write:!0}})],x.prototype,"multipatchOption",void 0),(0,n._)([(0,a.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],x.prototype,"num",void 0),(0,n._)([(0,a.MZ)({json:{write:!0}})],x.prototype,"objectIds",void 0),(0,n._)([(0,a.MZ)({type:[String],json:{write:!0}})],x.prototype,"orderByFields",void 0),(0,n._)([(0,a.MZ)({type:[String],json:{write:!0}})],x.prototype,"outFields",void 0),(0,n._)([(0,a.MZ)({type:f.A,json:{name:"outSR",write:!0}})],x.prototype,"outSpatialReference",void 0),(0,n._)([(0,a.MZ)({type:[S.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],x.prototype,"outStatistics",void 0),(0,n._)([(0,a.MZ)({json:{write:!0}})],x.prototype,"parameterValues",void 0),(0,n._)([(0,d.K)("parameterValues")],x.prototype,"writeParameterValues",null),(0,n._)([(0,a.MZ)({type:p.A,json:{write:!0}})],x.prototype,"pixelSize",void 0),(0,n._)([(0,a.MZ)({type:A.A,json:{write:!0}})],x.prototype,"quantizationParameters",void 0),(0,n._)([(0,a.MZ)({type:[Object],json:{write:!0}})],x.prototype,"rangeValues",void 0),(0,n._)([(0,a.MZ)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],x.prototype,"relationParameter",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],x.prototype,"resultType",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"returnCentroid",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"returnDistinctValues",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{default:!0,write:!0}})],x.prototype,"returnExceededLimitFeatures",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],x.prototype,"returnGeometry",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"returnQueryGeometry",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"returnM",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],x.prototype,"returnZ",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],x.prototype,"returnTrueCurves",void 0),(0,n._)([(0,a.MZ)({type:f.A,json:{write:!0}})],x.prototype,"sourceSpatialReference",void 0),(0,n._)([(0,c.e)(M.x,{ignoreUnknown:!1,name:"spatialRel"})],x.prototype,"spatialRelationship",void 0),(0,n._)([(0,a.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],x.prototype,"start",void 0),(0,n._)([(0,d.K)("start"),(0,d.K)("num")],x.prototype,"writeStart",null),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],x.prototype,"sqlFormat",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],x.prototype,"text",void 0),(0,n._)([(0,a.MZ)({type:T.A,json:{write:!0}})],x.prototype,"timeExtent",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"timeReferenceUnknownClient",void 0),(0,n._)([(0,c.e)(E,{ignoreUnknown:!1}),(0,a.MZ)({json:{write:{overridePolicy(e){return{enabled:!!e&&null!=this.distance}}}}})],x.prototype,"units",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:{overridePolicy(e){return{enabled:null!=e||null!=this.start&&this.start>0}}}}})],x.prototype,"where",void 0),(0,n._)([(0,d.K)("where")],x.prototype,"writeWhere",null),x=b=(0,n._)([(0,u.$)("esri.rest.support.Query")],x);const C=x},97215:(e,t,i)=>{i.d(t,{z:()=>o});var n=i(93345),r=i(96673);class o extends r.R{constructor(e,t){switch(super(),this.context=e,Object.assign(this,t),this.internalFormat){case n.H0.R16F:case n.H0.R16I:case n.H0.R16UI:case n.H0.R32F:case n.H0.R32I:case n.H0.R32UI:case n.H0.R8_SNORM:case n.H0.R8:case n.H0.R8I:case n.H0.R8UI:this.pixelFormat=n.Ab.RED}}static validate(e,t){return new o(e,t)}}},98006:(e,t,i)=>{function n(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function r(e,t,i,n){const r=t[n],o=t[n+1];e[n]=i[0]*r+i[2]*o+i[4],e[n+1]=i[1]*r+i[3]*o+i[5]}function o(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;const s=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)||t.length/o;for(let a=n;a<s;a++)r(e,t,i,a*o)}i.d(t,{gb:()=>o,vt:()=>n});Object.freeze(Object.defineProperty({__proto__:null,clone:function(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},create:n,createView:function(e,t){return new Float32Array(e,t,6)},fromValues:function(e,t,i,n,r,o){const s=new Float32Array(6);return s[0]=e,s[1]=t,s[2]=i,s[3]=n,s[4]=r,s[5]=o,s},transform:r,transformMany:o},Symbol.toStringTag,{value:"Module"}))},98108:(e,t,i)=>{i.d(t,{D:()=>n});const n={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}},98476:(e,t,i)=>{var n;i.d(t,{M:()=>n}),function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"}(n||(n={}))},98773:(e,t,i)=>{i.d(t,{DZ:()=>f,Ke:()=>p,Tj:()=>u,UT:()=>m,jJ:()=>c});var n=i(35143),r=i(91967),o=i(30726),s=i(50346),a=i(46053),l=i(85842);function c(e,t,i){return(0,s.Lx)(e.map(((e,n)=>t.apply(i,[e,n]))))}async function u(e,t,i){return(await(0,s.Lx)(e.map(((e,n)=>t.apply(i,[e,n]))))).map((e=>e.value))}function d(e){return{ok:!0,value:e}}function h(e){return{ok:!1,error:e}}async function p(e){if(null==e)return{ok:!1,error:new Error("no promise provided")};try{return d(await e)}catch(t){return h(t)}}async function f(e){try{return d(await e)}catch(t){return(0,s.QP)(t),h(t)}}function m(e,t){return new y(e,t)}let y=class extends r.A{get value(){return function(e){return null!=e&&!0===e.ok?e.value:null}(this._result)}get error(){return function(e){return null!=e&&!1===e.ok?e.error:null}(this._result)}get finished(){return null!=this._result}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,o.DC)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:i}=this._abortController;this.promise=e(i),this.promise.then((e=>{this._result=d(e),this._cleanup()}),(e=>{this._result=h(e),this._cleanup()})),this._abortHandle=(0,s.u7)(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,o.xt)(this._abortHandle),this._abortController=null}};(0,n._)([(0,a.MZ)()],y.prototype,"value",null),(0,n._)([(0,a.MZ)()],y.prototype,"error",null),(0,n._)([(0,a.MZ)()],y.prototype,"finished",null),(0,n._)([(0,a.MZ)()],y.prototype,"promise",void 0),(0,n._)([(0,a.MZ)()],y.prototype,"_result",void 0),y=(0,n._)([(0,l.$)("esri.core.asyncUtils.ReactiveTask")],y)},98976:(e,t,i)=>{i.d(t,{Ad:()=>h,QY:()=>c,lw:()=>d,xR:()=>p});var n=i(89379),r=i(46405),o=i(50076),s=i(76460),a=i(13312);const l=["geometry","scale","timeProperties"];function c(e,t){if(null!=t)for(const i of l)t.hasArcadeDependency(i)&&e.add(i);return e}let u;function d(){return u||(u=(async()=>{const e=await Promise.all([i.e(8618),i.e(8683),i.e(1802),i.e(9175),i.e(992),i.e(2940)]).then(i.bind(i,72940));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),u}const h=(e,t,i)=>f.create(e,t,i,null,["$feature","$view"],[]),p=(e,t,i,n)=>f.create(e,t,i,n,["$feature","$view"],[]);class f{constructor(e,t,i,n,r,o,s){this._dependencies=new Map,this.services=null,this.script=e,this.evaluate=n;const a=Array.isArray(o)?o:null===o||void 0===o?void 0:o.fields;this.fields=null!==a&&void 0!==a?a:[],this._syntaxTree=i,this._arcade=t,this._arcadeFeature=r,this._spatialReference=s,this._dependencies.set("geometry",t.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static async create(e,t,i,l,c,u){const{arcade:h,Feature:p,Dictionary:m}=await d(),y=t instanceof a.A?t:a.A.fromJSON(t);let g;try{g=h.parseScript(e,u)}catch(P){return s.A.getLogger("esri.support.arcadeOnDemand").error(new o.A("arcade-bad-expression","Failed to parse arcade script",{script:e,error:P})),null}const v=c.reduce(((e,t)=>(0,n.A)((0,n.A)({},e),{},{[t]:null})),{});let _=null;null!=l&&(_=new m(l),_.immutable=!0,v.$config=null);const w=h.scriptUsesGeometryEngine(g),b=w&&h.enableGeometrySupport(),A=h.scriptUsesFeatureSet(g)&&h.enableFeatureSetSupport(),M=h.scriptIsAsync(g),S=M&&h.enableAsyncSupport(),T={vars:v,spatialReference:y,useAsync:!!S};await Promise.all([b,A,S]);const E=new Set;await h.loadDependentModules(E,g,null,M,w);const x=new m;x.immutable=!1,x.setField("scale",0);const C=h.compileScript(g,T);return new f(e,h,g,((e,t)=>{var i;const n=null===(i=e.$view)||void 0===i?void 0:i.timeZone;if("$view"in e&&e.$view){let t;if(x.setField("scale","object"==typeof e.$view&&"scale"in e.$view?e.$view.scale:void 0),"object"==typeof e.$view&&"timeProperties"in e.$view&&null!=e.$view.timeProperties){const{currentStart:i,currentEnd:o}=e.$view.timeProperties;t=new m({currentStart:null!=i?null!=n?r.lY.epochToArcadeDate(i,n):r.lY.unknownEpochToArcadeDate(i):void 0,currentEnd:null!=o?null!=n?r.lY.epochToArcadeDate(o,n):r.lY.unknownEpochToArcadeDate(o):void 0,startIncluded:!0,endIncluded:!0})}x.setField("timeProperties",t),e.$view=x}return _&&(e.$config=_),C({vars:e,spatialReference:y,services:t,timeZone:n})}),new p,i,y)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}references(e){var t;return null!==(t=this._dependencies.get(e))&&void 0!==t&&t}}},99486:(e,t,i)=>{i.d(t,{F_:()=>p,Xr:()=>_,a:()=>h,fE:()=>g,gc:()=>c});i(81806);var n=i(76460),r=i(39314),o=i(15434);const s=new(i(76097).R),a=[];let l=s;function c(e){l.onAccessed(e)}let u=!1,d=!1;function h(e,t,i){if(u)return f(e,t,i);let n=null;return m(e),n=t.call(i),y(),n}function p(e,t){return h(s,e,t)}function f(e,t,i){const r=u;u=!0,m(e);let o=null;try{o=t.call(i)}catch(a){d&&n.A.getLogger("esri.core.accessorSupport.tracking").error(a)}return y(),u=r,o}function m(e){l=e,a.push(e)}function y(){const e=a.length;if(e>1){const t=a.pop();l=a[e-2],t.onTrackingEnd()}else if(1===e){const e=a.pop();l=s,e.onTrackingEnd()}else l=s}function g(e,t){if(t.flags&o.i.DepTrackingInitialized)return;t.flags|=o.i.DepTrackingInitialized;const i=d;d=!1,t.flags&o.i.AutoTracked?f(t.trackingTarget,t.metadata.get,e):_(e,t),d=i}const v=[];function _(e,t){t.flags&o.i.ExplicitlyTracking||(t.flags|=o.i.ExplicitlyTracking,f(t.trackingTarget,(()=>{const i=t.metadata.dependsOn||v;for(const t of i)if("string"!=typeof t||t.includes(".")){const i=(0,r.AH)(t);for(let t=0,n=e;t<i.length&&null!=n&&"object"==typeof n;++t)n=w(n,i[t],t!==i.length-1)}else w(e,t,!1)})),t.flags&=~o.i.ExplicitlyTracking)}function w(e,t,i){const n="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(n,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.at(t)}const o=(0,r.oY)(e);if(o){const t=o.propertiesByName.get(n);t&&(c(t),g(e,t))}return i?e[n]:void 0}},99603:(e,t,i)=>{i.d(t,{f:()=>u});var n,r=i(35143),o=i(42553),s=i(46053),a=i(40565),l=(i(81806),i(47249),i(6409)),c=i(85842);let u=n=class extends o.A{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new n({mapLayerId:e,gdbVersion:t})}};(0,r._)([(0,l.e)({mapLayer:"map-layer"}),(0,s.MZ)({json:{write:{isRequired:!0}}})],u.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:a.jz,json:{write:{isRequired:!0}}})],u.prototype,"mapLayerId",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],u.prototype,"gdbVersion",void 0),u=n=(0,r._)([(0,c.$)("esri.layers.support.source.MapLayerSource")],u)},99702:(e,t,i)=>{i.d(t,{I:()=>r});var n=i(40836);class r extends n.T{notify(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onInvalidated(),e.onCommitted()}}}},99746:(e,t,i)=>{i.d(t,{TS:()=>o,Tf:()=>u,V6:()=>r,c4:()=>s,qh:()=>c,z$:()=>l});const n={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function r(e){return!!n[e]||!!n[e.toLowerCase()]}function o(e){var t;return null!==(t=n[e])&&void 0!==t?t:n[e.toLowerCase()]}function s(e){return[...o(e)]}function a(e,t,i){i<0&&++i,i>1&&--i;const n=6*i;return n<1?e+(t-e)*n:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function l(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=(e%360+360)%360/360,o=i<=.5?i*(t+1):i+t-i*t,s=2*i-o;return[Math.round(255*a(s,o,r+1/3)),Math.round(255*a(s,o,r)),Math.round(255*a(s,o,r-1/3)),n]}function c(e){const t=e.length>5,i=t?8:4,n=(1<<i)-1,r=t?1:17,o=t?9===e.length:5===e.length;let s=Number("0x"+e.slice(1));if(isNaN(s))return null;const a=[0,0,0,1];let l;return o&&(l=s&n,s>>=i,a[3]=r*l/255),l=s&n,s>>=i,a[2]=r*l,l=s&n,s>>=i,a[1]=r*l,l=s&n,s>>=i,a[0]=r*l,a}const u=2.2},99809:(e,t,i)=>{function n(){return[1,0,0,1,0,0]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}i.d(t,{o8:()=>r,vt:()=>n});const o=[1,0,0,1,0,0];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:r,create:n,createView:function(e,t){return new Float64Array(e,t,6)},fromValues:function(e,t,i,n,r,o){return[e,t,i,n,r,o]}},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=1801.8f8bcf0a.chunk.js.map