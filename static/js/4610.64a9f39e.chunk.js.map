{"version":3,"file":"static/js/4610.64a9f39e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/infoFor3D.js","../node_modules/@arcgis/core/versionManagement/support/versionManagementUtils.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js","../node_modules/@arcgis/core/layers/mixins/EditBusLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst t=[[\"binary\",\"application/octet-stream\",\"bin\",\"\"]];function n(t,n){return null!=L(n.name,t?.supportedFormats??[])}function r(t,n){if(!t)return!1;const r=c(n,t.supportedFormats??[]);return null!=r&&t.editFormats.includes(r)}function o(t){return w(t?.supportedFormats??[]).flatMap(j).map((t=>`.${t}`))}function e(t){const n={};for(const r of w(t?.supportedFormats??[])){const[t,o]=y(r).split(\";\"),e=t.trim().toLowerCase(),u=j(r).map((t=>`.${t}`));n[e]??=[],n[e].push(...u)}return{description:\"3D Models\",accept:n}}function u(t,n){return g(C(t,n))}function i(t,n){return g(L(t,n))}function s(t,n){return y(b(t,n))}function c(t,n){return i(t.name,n)??u(t.type,n)}function f(t,n,r){return u(t,r)??i(n,r)}function a({supportedFormats:t}){return f(\"model/gltf-binary\",\"glb\",t)}function p(t){const n=a(t);return null!=n&&t.editFormats.includes(n)}function l({supportedFormats:t}){return f(\"model/gltf+json\",\"gltf\",t)}function d(t){if(!t)return null;const n=a(t),r=l(t);let o=null;for(const e of t.queryFormats){if(e===n)return e;e===r&&(o=e)}return o}function m({supportedFormats:t}){return f(\"application/esri3do-SR_world\",\"wld\",t)}function F({supportedFormats:t}){return f(\"application/esri3do-SR_prj\",\"prj\",t)}function w(n){return[...t,...n]}function b(t,n){return w(n).find((n=>g(n)===t))}function C(t,n){const r=t.toLowerCase();return w(n).find((t=>y(t)===r))}function L(t,n){const r=t.toLowerCase();return w(n).find((t=>j(t).some((t=>r.endsWith(t)))))}function g(t){return t?.[0]}function y(t){return t?.[1].toLowerCase()}function j(t){return t?.[2].split(\",\").map((t=>t.toLowerCase()))??[]}function M(t){return t?.[3]}function h(t){return t.tables?.find((t=>\"assetMaps\"===t.role))}export{h as getAssetMapTable,c as getFileFormatId,e as getFilePickerAcceptType,i as getFilenameFormatId,M as getFormatDescription,j as getFormatExtensions,g as getFormatId,s as getFormatIdMimeType,y as getFormatMimeType,a as getGlbFormatId,l as getGltfFormatId,d as getGltfQueryFormat,u as getMimeTypeFormatId,f as getMimeTypeOrFilenameFormatId,F as getPrjFormatId,o as getSupportedExtensions,m as getWorldFileFormatId,r as isFileEditFormat,n as isFileSupported,p as isGlbSupportedEditFormat};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import{generateLowercaseBracedUUID as r}from\"../../core/uuid.js\";const t=r(),n=new Map,s=new Map,a=new Map;async function o(r,t,s){if(!r||!s)return!1;if(!t)return!0;const a=new URL(r).host;let o=n.get(a);if(!o){const t=r.replace(/\\/FeatureServer/i,\"/VersionManagementServer\").replace(/\\/\\d*$/,\"\");o=(await e(t,{responseType:\"json\",query:{f:\"json\"}})).data.defaultVersionName}return o===t}async function i(e,r,n=!1){if(!e||!r)return!0;const a=e.replace(/\\/FeatureServer/i,\"/VersionManagementServer\").replace(/\\/\\d*$/,\"\"),o=s.get(a)?.entries();if(o)for(const[s,i]of o)if(i.name===r){const e=!i.stack?.hasForwardEdits();if(!e&&n){const[{deleteForwardEdits:e},{default:r}]=await Promise.all([import(\"../../rest/versionManagement/gdbVersion/deleteForwardEdits.js\"),import(\"../../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters.js\")]),n=await e(a,s,new r({sessionId:t,moment:i.moment}));return n.success&&i.stack?.clearForwardEdits(),n.success}return e}return!0}function c(e,r){if(!e)return!1;const t=e.replace(/\\/FeatureServer/i,\"/VersionManagementServer\").replace(/\\/\\d*$/,\"\"),n=s.get(t)?.entries();if(n)for(const[s,a]of n)if(a.name===r){return\"edit\"===a.lockType}return!1}export{t as currentSessionId,n as defaultVersionNameLookup,o as isHistoricVersion,i as isSafeToEditVersion,c as isVersionInEditSession,s as versionCollection,a as versionCollectionCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{isGlbSupportedEditFormat as y}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as g,getEffectiveLayerCapabilities as b}from\"../support/layerUtils.js\";function w(e){return null!=e?.applyEdits}function F(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function A(e){return e.every(F)}function v(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function I(e){return e.every(v)}async function $(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then((t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)}));const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await E(e,t,a,s),l=e=>e.filter((e=>!e.error)).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function E(e,t,r,s){if(await e.load(),!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!g(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await S(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function S(e,t,r){const i=b(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(V(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=G(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter((e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8));if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach((e=>B(e,t)))}u.addFeatures.forEach((t=>O(t,e,p,c))),u.updateFeatures.forEach((t=>k(t,e,p,c))),u.deleteFeatures.forEach((t=>U(t,e,p,c))),u.addAttachments.forEach((t=>L(t,e))),u.updateAttachments.forEach((t=>L(t,e))),l&&await x(u,e);return{edits:await T(u),options:d}}function R(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function j(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function O(e,t,a,r){R(e,t,a,r),j(e,t)}function U(e,t,a,r){R(e,t,a,r)}function k(e,t,r,s){R(e,t,r,s),j(e,t);const i=b(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function L(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function B(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function T(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map((e=>e.geometry)),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach(((e,a)=>t[a].geometry=e)),s.slice(i,i+n).forEach(((e,t)=>a[t].geometry=e)),e}function D(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function G(e,t,r){const s=D(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(M),s.updateFeatures=s.updateFeatures.map(M),s.addAssetFeatures=[],s}function V(e,t,r,s,i,n){if(!e||!s&&!i)throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed&&!r.usingFeatureServiceEndpoint)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function M(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function x(e,t){const{infoFor3D:r}=t;if(null==r)return;if(!y(r))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:s}=e;for(const a of e.addFeatures??[])z(a)&&s.push(a);for(const a of e.updateFeatures??[])z(a)&&s.push(a)}function z(e){return\"mesh\"===e?.geometry?.type}function q(e,t,r,s){if(!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{$ as applyEdits,V as checkEditingCapabilities,I as isFeatureIdentifierArrayWithGlobalId,A as isFeatureIdentifierArrayWithObjectId,v as isFeatureIdentifierWithGlobalId,F as isFeatureIdentifierWithObjectId,D as normalizeCollections,G as normalizeEdits,T as normalizeGeometries,M as shallowCloneFeature,q as uploadAssets};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Evented.js\";import{clone as i}from\"../../core/lang.js\";import{createResolver as s}from\"../../core/promiseUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{defaultVersionNameLookup as o,isVersionInEditSession as n}from\"../../versionManagement/support/versionManagementUtils.js\";const a=new e.EventEmitter;function l(t){return a.on(\"apply-edits\",new WeakRef(t))}function h(t){return a.on(\"update-moment\",new WeakRef(t))}function c(t,e,i=null,r=!1){const d=s();return r=null==e||r,a.emit(\"apply-edits\",{serviceUrl:t,layerId:e,gdbVersion:i,mayReceiveServiceEdits:r,result:d.promise}),d}function u(t,e,i=null,s){a.emit(\"update-moment\",{serviceUrl:t,layerId:e,gdbVersion:i,moment:s})}const m=Symbol();function p(t){return null!=t&&\"object\"==typeof t&&m in t}function b(t){return null!=t&&\"object\"==typeof t&&\"gdbVersion\"in t}function g(t,e,i){const s=new URL(t).host,r=o.get(s),d=t=>!t||t===r;return d(e)&&d(i)||e===i}const F=e=>{var s;let o=class extends e{constructor(...t){super(...t),this[s]=!0,this._applyEditsHandler=t=>{const{serviceUrl:e,layerId:s,gdbVersion:r,mayReceiveServiceEdits:d,result:o}=t,n=e===this.url,a=null!=s&&null!=this.layerId&&s===this.layerId,l=b(this),h=b(this)&&g(e,r,this.gdbVersion);if(!n||l&&!h||!a&&!d)return;const c=o.then((t=>{if(this.lastEditsEventDate=new Date,a&&(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length))return this.emit(\"edits\",i(t)),t;const s=t.editedFeatures?.find((({layerId:t})=>t===this.layerId));if(s){const{adds:e,updates:r,deletes:d}=s.editedFeatures,o={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:e?e.map((({attributes:t})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]}))):[],deletedFeatures:d?d.map((({attributes:t})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]}))):[],updatedFeatures:r?r.map((({current:{attributes:t}})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]}))):[],editedFeatures:i(t.editedFeatures),exceededTransferLimit:!1,historicMoment:i(t.historicMoment)};return this.emit(\"edits\",o),o}const d={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:i(t.editedFeatures),exceededTransferLimit:!1,historicMoment:i(t.historicMoment)};return\"historicMoment\"in this&&this._shouldUpdateHistoricMoment(e,r,d.historicMoment)&&this.emit(\"edits\",d),d})).then((t=>(\"historicMoment\"in this&&this._shouldUpdateHistoricMoment(e,r,t.historicMoment)&&(this.historicMoment=t.historicMoment),t)));this.emit(\"apply-edits\",{result:c})},this._updateMomentHandler=t=>{const{serviceUrl:e,gdbVersion:i,moment:s}=t,r=e===this.url,d=b(this),o=b(this)&&g(e,i,this.gdbVersion),n=b(this)&&!g(e,this.gdbVersion,null);r&&d&&o&&n&&\"historicMoment\"in this&&this.historicMoment!==s&&(this.historicMoment=s)},this.when().then((()=>{this.addHandles(l(this._applyEditsHandler)),\"historicMoment\"in this&&this.addHandles(h(this._updateMomentHandler))}),(()=>{}))}_shouldUpdateHistoricMoment(t,e,i){return\"historicMoment\"in this&&this.historicMoment!==i&&n(t,e)}};return s=m,t([r()],o.prototype,\"lastEditsEventDate\",void 0),o=t([d(\"esri.layers.mixins.EditBusLayer\")],o),o};export{F as EditBusLayer,c as emitApplyEditsEvent,u as emitUpdateMomentEvent,p as isEditBusLayer,b as isLayerWithGDBVersion,l as onApplyEditsEvent,h as onUpdateMomentEvent,g as versionMatches};\n"],"names":["t","n","_t$supportedFormats","L","name","supportedFormats","r","_t$supportedFormats2","c","editFormats","includes","u","g","toLowerCase","w","find","y","C","i","s","b","_i","type","f","_u","a","_ref","p","l","_ref2","d","o","e","queryFormats","m","_ref3","F","_ref4","j","some","endsWith","_t$2$split$map","split","map","h","_t$tables","tables","role","Map","async","URL","host","get","replace","responseType","query","data","defaultVersionName","_s$get","arguments","length","undefined","entries","_i$stack","stack","hasForwardEdits","_i$stack2","deleteForwardEdits","default","Promise","all","sessionId","moment","success","clearForwardEdits","_s$get2","lockType","applyEdits","objectId","A","every","v","globalId","I","$","_s$gdbVersion","gdbVersion","url","layerId","returnServiceEditsOption","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","_i$editedFeatureResul","results","edits","_i$addFeatures","_i$updateFeatures","_i$deleteFeatures","_i$addAttachments","_i$updateAttachments","_i$deleteAttachments","load","concat","layer","options","addFeatures","updateFeatures","deleteFeatures","addAttachments","updateAttachments","deleteAttachments","infoFor3D","editing","supportsGlobalId","globalIdUsed","usingFeatureServiceEndpoint","V","isVersioned","supportsRollbackOnFailure","rollbackOnFailureEnabled","_objectSpread","getLogger","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","_s$addFeatures","_s$updateFeatures","_s$deleteFeatures","_e$addFeatures2","_e$updateFeatures2","Array","from","isCollection","toArray","D","operations","supportsAdd","supportsUpdate","supportsDelete","M","addAssetFeatures","G","fields","filter","globalIdField","forEach","attributes","B","R","O","geometry","supportsGeometryUpdate","k","U","_e$addAssetFeatures","_e$addFeatures3","z","push","_e$updateFeatures3","x","T","S","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","E","error","exceededTransferLimit","historicMoment","editMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","Number","MAX_SAFE_INTEGER","feature","_t$capabilities","_t$capabilities2","hasZ","capabilities","supportsZ","hasM","supportsM","_e$geometry","spatialReference","vertexSpace","wkid","_t$capabilities3","attachment","uploadId","File","supportsUploadWithItemId","isBase64","_e$addFeatures","_e$updateFeatures","slice","_e$geometry2","q","uploadAssets","EventEmitter","serviceUrl","mayReceiveServiceEdits","Symbol","constructor","super","this","_applyEditsHandler","_t$editedFeatures","lastEditsEventDate","adds","updates","deletes","objectIdField","current","_shouldUpdateHistoricMoment","_updateMomentHandler","when","addHandles","on","WeakRef","prototype"],"sourceRoot":""}