{"version":3,"file":"static/js/2356.509d1d90.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/LRUCache.js","../node_modules/@arcgis/core/core/ByteSizeUnit.js","../node_modules/@arcgis/core/core/MemCache.js","../node_modules/@arcgis/core/layers/support/TilemapCache.js","../node_modules/@arcgis/core/layers/support/Tilemap.js","../node_modules/@arcgis/core/geometry/support/UintArray.js","../node_modules/@arcgis/core/core/memoryEstimations.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";class e{constructor(e,s){this._storage=new t,this.id=\"\",this.name=\"\",this.size=0,this._storage.maxSize=e,this._storage.register(this),s&&this._storage.registerRemoveFunc(\"\",s)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,e,s=1){this._storage.put(this,t,e,s,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}}export{e as LRUCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.KILOBYTES=1024]=\"KILOBYTES\",E[E.MEGABYTES=1048576]=\"MEGABYTES\",E[E.GIGABYTES=1073741824]=\"GIGABYTES\"}(E||(E={}));export{E as ByteSizeUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"./PooledArray.js\";const e=-3,i=e-1;var s;!function(t){t[t.ALL=0]=\"ALL\",t[t.SOME=1]=\"SOME\"}(s||(s={}));class r{constructor(t,e,i,s=0){this.name=t,this._storage=e,this._defaultPriority=s,this.id=o+++\":\",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),i&&(this._storage.registerRemoveFunc(this.id,i),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(t){return this._storage.getSize(this,t)}resetHitRate(){this._hit=this._miss=0}put(t,e,i=this._defaultPriority){this._storage.put(this,t,e,e.cachedMemory,i)}pop(t){const e=this._storage.pop(this,t);return void 0===e?++this._miss:++this._hit,e}get(t){const e=this._storage.get(this,t);return void 0===e?++this._miss:++this._hit,e}peek(t){return this._storage.peek(this,t)}updateSize(t,e){this._storage.updateSize(this,t,e,e.cachedMemory)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class h{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new t,this._users=new t}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace((e=>e[0]!==t))}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,e){const i=this._db.get(t.id+e);return i?.size??0}put(t,r,h,o,_){r=t.id+r;const a=this._db.get(r);if(a&&(this._size-=a.size,t.size-=a.size,this._db.delete(r),a.entry!==h&&this._notifyRemove(r,a.entry,a.size,s.ALL)),o>this._maxSize)return void this._notifyRemove(r,h,o,s.ALL);if(void 0===h)return void console.warn(\"Refusing to cache undefined entry \");if(!o||o<0)return console.warn(`Refusing to cache entry with size ${o} for key ${r}`),void this._notifyRemove(r,h,0,s.ALL);const c=1+Math.max(_,i)-e;this._db.set(r,new n(h,o,c)),this._size+=o,t.size+=o,this._checkSize()}updateSize(t,e,i,r){e=t.id+e;const h=this._db.get(e);if(h&&h.entry===i){for(this._size-=h.size,t.size-=h.size;r>this._maxSize;){const t=this._notifyRemove(e,i,r,s.SOME);if(!(null!=t&&t>0))return void this._db.delete(e);r=t}h.size=r,this._size+=r,t.size+=r,this._checkSize()}}pop(t,e){e=t.id+e;const i=this._db.get(e);if(i)return this._size-=i.size,t.size-=i.size,this._db.delete(e),++this._hit,i.entry;++this._miss}get(t,e){e=t.id+e;const i=this._db.get(e);if(void 0!==i)return this._db.delete(e),i.lives=i.lifetime,this._db.set(e,i),++this._hit,i.entry;++this._miss}peek(t,e){const i=this._db.get(t.id+e);return i?++this._hit:++this._miss,i?.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+\"/\"+Math.round(this._maxSize/1048576)+\"MB\",\"Hit rate\":Math.round(100*this._getHitRate())+\"%\",Entries:this._db.size.toString()},i={},s=new Array;this._db.forEach(((t,e)=>{const r=t.lifetime;s[r]=(s[r]||0)+t.size,this._users.forAll((s=>{const{id:r,name:h}=s;if(e.startsWith(r)){const e=i[h]||0;i[h]=e+t.size}}))}));const r={};this._users.forAll((t=>{const e=t.name;if(\"hitRate\"in t&&\"number\"==typeof t.hitRate&&!isNaN(t.hitRate)&&t.hitRate>0){const s=i[e]||0;i[e]=s,r[e]=Math.round(100*t.hitRate)+\"%\"}else r[e]=\"0%\"}));const h=Object.keys(i);h.sort(((t,e)=>i[e]-i[t])),h.forEach((e=>t[e]=Math.round(i[e]/2**20)+\"MB / \"+r[e]));for(let o=s.length-1;o>=0;--o){const i=s[o];i&&(t[\"Priority \"+(o+e-1)]=Math.round(i/this._size*100)+\"%\")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){const e=t.id;this._db.forEach(((t,i)=>{i.startsWith(e)&&(this._size-=t.size,this._db.delete(i),this._notifyRemove(i,t.entry,t.size,s.ALL))})),t.size=0}clearAll(){this._db.forEach(((t,e)=>this._notifyRemove(e,t.entry,t.size,s.ALL))),this._users.forAll((t=>t.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,e,i,s){let r;return this._removeFuncs.some((h=>{if(t.startsWith(h[0])){const t=h[1](e,s,i);return\"number\"==typeof t&&(r=t),!0}return!1})),r}_checkSize(){this._users.forAll((t=>this._checkSizeLimits(t))),this._checkSizeLimits()}_checkSizeLimits(t){const e=t??this;if(e.maxSize<0||e.size<=e.maxSize)return;const i=t?.id;let s=!0;for(;s;){s=!1;for(const[r,h]of this._db)if(0===h.lifetime&&(!i||r.startsWith(i))){if(this._purgeItem(r,h,t),e.size<=.9*e.maxSize)return;s||=this._db.has(r)}}for(const[r,h]of this._db)if((!i||r.startsWith(i))&&(this._purgeItem(r,h,t),e.size<=.9*e.maxSize))return}_purgeItem(t,e,i=this._users.find((e=>t.startsWith(e.id)))){if(this._db.delete(t),e.lives<=1){this._size-=e.size,i&&(i.size-=e.size);const r=this._notifyRemove(t,e.entry,e.size,s.SOME);null!=r&&r>0&&(this._size+=r,i&&(i.size+=r),e.lives=e.lifetime,e.size=r,this._db.set(t,e))}else--e.lives,this._db.set(t,e)}}let o=0;class n{constructor(t,e,i){this.entry=t,this.size=e,this.lifetime=i,this.lives=i}}export{r as MemCache,h as MemCacheStorage,e as MinPriority,i as NoPriority,s as RemoveMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import{ByteSizeUnit as r}from\"../../core/ByteSizeUnit.js\";import s from\"../../core/Error.js\";import{makeHandle as l}from\"../../core/handleUtils.js\";import\"../../core/has.js\";import{LRUCache as o}from\"../../core/LRUCache.js\";import a from\"../../core/PooledArray.js\";import{isAbortError as n,isAborted as c,onAbort as h,createAbortError as p}from\"../../core/promiseUtils.js\";import{watch as m,initial as f}from\"../../core/reactiveUtils.js\";import{waitTicks as u}from\"../../core/scheduling.js\";import{objectToQuery as v}from\"../../core/urlUtils.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{TileKey as _}from\"./TileKey.js\";import{Tilemap as b,tilemapDefinitionId as g}from\"./Tilemap.js\";var j;function w(e,t,i){return new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})}let T=j=class extends i{constructor(e){super(e),this._pendingTilemapRequests={},this.request=t,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new o(2*r.MEGABYTES),this.addHandles(m((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),f))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(w(e,t,i)):this._fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof b){const s=r.getAvailability(t,i);if(\"unavailable\"===s)throw w(e,t,i);return s}if(n(r))throw r;return\"unknown\"}))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,s).catch((e=>{if(n(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,s);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,o){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const n=new AbortController;o.then((()=>n.abort()),(()=>n.abort()));let h=!1;const p=l((()=>{h||(h=!0,n.abort())}));if(this.addHandles(p,a),await u(10,n.signal).catch((()=>{})),h||(h=!0,this.removeHandles(a)),c(n))return;const m=new _(e,t,i,r),f={...s,signal:n.signal},v=this.layer.tileInfo;for(let l=0;j._prefetches.length<j._maxPrefetch&&v.upsampleTile(m);++l){const e=this.fetchAvailability(m.level,m.row,m.col,f);j._prefetches.push(e);const t=()=>{j._prefetches.removeUnordered(e)};e.then(t,t)}}_fetchTilemap(e,t,i,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,l);if(o)return Promise.resolve(o);const a=r?.signal;return r={...r,signal:null},new Promise(((e,t)=>{h(a,(()=>t(p())));const i=g(l);let s=this._pendingTilemapRequests[i];if(!s){s=b.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>{delete this._pendingTilemapRequests[i]};this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:v({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=g(r);return this._tilemapCache.get(s)}get test(){}};T._maxPrefetch=4,T._prefetches=new a({initialSize:j._maxPrefetch}),e([y({constructOnly:!0})],T.prototype,\"layer\",void 0),e([y({constructOnly:!0})],T.prototype,\"minLOD\",void 0),e([y({constructOnly:!0})],T.prototype,\"maxLOD\",void 0),e([y({constructOnly:!0})],T.prototype,\"request\",void 0),e([y({constructOnly:!0})],T.prototype,\"size\",void 0),T=j=e([d(\"esri.layers.support.TilemapCache\")],T);export{T as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import i from\"../../core/Error.js\";import{clone as e}from\"../../core/lang.js\";import{estimateNumberArrayMemory as a}from\"../../core/memoryEstimations.js\";import{newUintArray as o}from\"../../geometry/support/UintArray.js\";class l{constructor(t){s(t);const{location:i,data:l}=t;this.location=Object.freeze(e(i));const r=this.location.width,n=this.location.height;let h=!0,c=!0;const m=Math.ceil(r*n/32),f=o(m);let w=0;for(let e=0;e<l.length;e++){const t=e%32;l[e]?(c=!1,f[w]|=1<<t):h=!1,31===t&&++w}c?(this._availability=\"unavailable\",this.byteSize=40):h?(this._availability=\"available\",this.byteSize=40):(this._availability=f,this.byteSize=40+a(f))}getAvailability(t,i){if(\"unavailable\"===this._availability||\"available\"===this._availability)return this._availability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%32,o=e>>5,l=this._availability;return o<0||o>l.length?\"unknown\":l[o]&1<<a?\"available\":\"unavailable\"}static fromDefinition(e,a){const o=e.service.request||t,{row:r,col:s,width:h,height:c}=e,m={query:{f:\"json\"}};return a=a?{...m,...a}:m,o(n(e),a).then((t=>t.data)).catch((t=>{if(422===t?.details?.httpStatus)return{location:{top:r,left:s,width:h,height:c},valid:!0,data:new Array(h*c).fill(0)};throw t})).then((t=>{if(t.location&&(t.location.top!==r||t.location.left!==s||t.location.width!==h||t.location.height!==c))throw new i(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:r,left:s,width:h,height:c}});return l.fromJSON(t)}))}static fromJSON(t){return Object.freeze(new l(t))}}function r(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(t.service.tileServers?.length){const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}else i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;const e=t.service.query;return e&&(i=`${i}?${e}`),i}function s(t){if(!t?.location)throw new i(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new i(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new i(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new i(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new i(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}export{l as Tilemap,r as tilemapDefinitionId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{nativeArrayMaxSize as r}from\"../../core/typedArrayUtil.js\";function n(n,e=!1){return n<=r?e?new Array(n).fill(0):new Array(n):new Uint32Array(n)}function e(r,n,e){return Array.isArray(r)?r.slice(n,n+e):r.subarray(n,n+e)}export{n as newUintArray,e as uintSubArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isTypedArray as r}from\"./typedArrayUtil.js\";function t(r){return 32+r.length}const n=16;function e(r){if(!r)return 0;let t=s;for(const n in r)r.hasOwnProperty(n)&&(t+=f(r[n],!1));return t}function u(r){if(!r)return 0;if(\"number\"==typeof r[0])return i(r);if(Array.isArray(r))return o(r);let t=s;for(const n in r)r.hasOwnProperty(n)&&(t+=f(r[n]));return t}function o(r){const t=r.length;if(0===t||\"number\"==typeof r[0])return c(r,8);let n=a;for(let e=0;e<t;e++)n+=f(r[e]);return n}function f(r,e=!0){switch(typeof r){case\"object\":return e?u(r):s;case\"string\":return t(r);case\"number\":return n;case\"boolean\":return 4;default:return 8}}function i(...t){return t.reduce(((t,e)=>t+(e?r(e)?e.byteLength+y:Array.isArray(e)?c(e,n):0:0)),0)}function c(r,t){return a+r.length*t}const s=32,a=16,y=145;export{a as baseArrayMemory,s as baseObjectMemory,y as baseTypedArrayMemory,e as estimateAttributesMemory,c as estimateFixedArrayMemory,u as estimateNestedObjectMemory,i as estimateNumberArrayMemory,n as estimateNumberMemory,t as estimateStringMemory};\n"],"names":["e","constructor","s","this","_storage","t","id","name","size","maxSize","register","registerRemoveFunc","destroy","deregister","put","arguments","length","undefined","pop","get","clear","clearAll","resetHitRate","E","KILOBYTES","MEGABYTES","GIGABYTES","i","ALL","SOME","h","_size","_maxSize","_db","Map","_hit","_miss","_removeFuncs","_users","push","removeUnordered","deregisterRemoveFunc","filterInPlace","Math","max","_checkSize","getSize","_i$size","r","o","_","a","delete","entry","_notifyRemove","console","warn","concat","c","set","n","updateSize","lives","lifetime","peek","performanceInfo","Size","round","_getHitRate","Entries","toString","Array","forEach","forAll","startsWith","hitRate","isNaN","Object","keys","sort","resetStats","some","_checkSizeLimits","_purgeItem","has","find","j","l","location","valid","data","isArray","width","height","freeze","f","fill","Uint32Array","ceil","w","_availability","byteSize","getAvailability","top","left","fromDefinition","service","request","row","col","m","query","_objectSpread","_t$service$tileServer","tileServers","url","level","then","catch","_t$details","details","httpStatus","response","definition","fromJSON","T","super","_pendingTilemapRequests","_prefetchingEnabled","initialize","_tilemapCache","addHandles","layer","parsedUrl","apiKey","customParameters","_initializeTilemapDefinition","effectiveMinLOD","_this$minLOD","minLOD","tileInfo","lods","effectiveMaxLOD","_this$maxLOD","maxLOD","lodAt","_tilemapFromCache","_tmpTilemapDefinition","fetchAvailability","Promise","reject","_fetchTilemap","b","fetchAvailabilityUpsample","updateTileInfo","upsampleTile","_fetchAvailabilityUpsamplePrefetch","hasHandles","AbortController","abort","p","u","signal","removeHandles","v","_prefetches","_maxPrefetch","_r","resolve","g","_e$query","path","token","test","initialSize","y","constructOnly","prototype","d","hasOwnProperty","_len","_key","reduce","byteLength"],"sourceRoot":""}