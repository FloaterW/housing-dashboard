"use strict";(self.webpackChunkhousing_dashboard=self.webpackChunkhousing_dashboard||[]).push([[3701],{93701:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ae});var a=s(65043),r=s(50108),i=s(75748),n=s(87734),l=s(52185),o=s(6026),c=s(86150),d=s(21327),m=s(90168),h=s(95614),x=s(70579);function g(e){let{selectedRegion:t,selectedHousingType:s}=e;const a=(0,h.hv)("priceData",t,s)||[],g=e=>{let{active:t,payload:s,label:a}=e;return t&&s&&s.length?(0,x.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[(0,x.jsx)("p",{className:"font-semibold text-gray-800",children:a}),(0,x.jsxs)("p",{className:"text-blue-600",children:["Price: $",s[0].value.toLocaleString()]})]}):null};return(0,x.jsx)(r.u,{width:"100%",height:300,children:(0,x.jsxs)(i.b,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[(0,x.jsx)(n.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,x.jsx)(l.W,{dataKey:"month",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),(0,x.jsx)(o.h,{tickFormatter:e=>"$".concat((e/1e6).toFixed(2),"M"),tick:{fontSize:12}}),(0,x.jsx)(c.m,{content:(0,x.jsx)(g,{})}),(0,x.jsx)(d.s,{}),(0,x.jsx)(m.N,{type:"monotone",dataKey:"price",stroke:"#2563EB",strokeWidth:2,dot:{strokeWidth:2,r:4},activeDot:{r:6,strokeWidth:0},name:"Average Price"})]})})}const p=a.memo(g);var u=s(82291),y=s(38643);const v=function(e){let{selectedRegion:t,selectedHousingType:s}=e;const a=(0,h.hv)("salesData",t,s)||[],i=e=>{let{active:t,payload:s,label:a}=e;return t&&s&&s.length?(0,x.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[(0,x.jsx)("p",{className:"font-semibold text-gray-800",children:a}),(0,x.jsxs)("p",{className:"text-green-600",children:["Sales: ",s[0].value.toLocaleString()]})]}):null};return(0,x.jsx)(r.u,{width:"100%",height:300,children:(0,x.jsxs)(u.E,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[(0,x.jsx)(n.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,x.jsx)(l.W,{dataKey:"month",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),(0,x.jsx)(o.h,{tick:{fontSize:12}}),(0,x.jsx)(c.m,{content:(0,x.jsx)(i,{})}),(0,x.jsx)(d.s,{}),(0,x.jsx)(y.y,{dataKey:"sales",fill:"#10B981",radius:[8,8,0,0],name:"Monthly Sales"})]})})};var b=s(16350),j=s(13839);const f=function(e){let{selectedRegion:t,selectedHousingType:s}=e;const[i,g]=(0,a.useState)("price-volume"),p=(0,h.TQ)(t,s),u={"price-volume":{title:"Price & Sales Volume Trends",leftMetric:"priceIndex",leftName:"Average Price Index",leftColor:"#3B82F6",rightMetric:"salesIndex",rightName:"Sales Volume Index",rightColor:"#8B5CF6",showArea:!0},"affordability-ratio":{title:"Affordability & List-to-Sale Ratio",leftMetric:"affordabilityIndex",leftName:"Affordability Index",leftColor:"#10B981",rightMetric:"listToSaleRatio",rightName:"List-to-Sale Ratio (%)",rightColor:"#F59E0B",showArea:!1}},v=u[i],f=e=>{let{active:t,payload:s,label:a}=e;return t&&s&&s.length?(0,x.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-gray-200",children:[(0,x.jsx)("p",{className:"font-semibold text-gray-800 mb-2",children:a}),s.map(((e,t)=>(0,x.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,x.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,x.jsxs)("span",{className:"text-gray-600",children:[e.name,":"]}),(0,x.jsx)("span",{className:"font-medium",children:e.value.toFixed(1)})]},t)))]}):null};return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,x.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:v.title}),(0,x.jsx)("div",{className:"flex space-x-2",children:Object.entries(u).map((e=>{let[t,s]=e;return(0,x.jsx)("button",{className:"\n                px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300\n                ".concat(i===t?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200","\n              "),onClick:()=>g(t),children:"price-volume"===t?"Price & Volume":"Affordability & Ratio"},t)}))})]}),(0,x.jsx)(r.u,{width:"100%",height:350,children:(0,x.jsxs)(b.X,{data:p,margin:{top:5,right:30,left:20,bottom:5},children:[(0,x.jsxs)("defs",{children:[(0,x.jsxs)("linearGradient",{id:"colorLeft",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,x.jsx)("stop",{offset:"5%",stopColor:v.leftColor,stopOpacity:.8}),(0,x.jsx)("stop",{offset:"95%",stopColor:v.leftColor,stopOpacity:.1})]}),(0,x.jsxs)("linearGradient",{id:"colorRight",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,x.jsx)("stop",{offset:"5%",stopColor:v.rightColor,stopOpacity:.8}),(0,x.jsx)("stop",{offset:"95%",stopColor:v.rightColor,stopOpacity:.1})]})]}),(0,x.jsx)(n.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,x.jsx)(l.W,{dataKey:"month",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(o.h,{yAxisId:"left",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(o.h,{yAxisId:"right",orientation:"right",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(c.m,{content:(0,x.jsx)(f,{})}),(0,x.jsx)(d.s,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),v.showArea&&(0,x.jsx)(j.G,{yAxisId:"left",type:"monotone",dataKey:v.leftMetric,stroke:"none",fillOpacity:1,fill:"url(#colorLeft)"}),(0,x.jsx)(m.N,{yAxisId:"left",type:"monotone",dataKey:v.leftMetric,name:v.leftName,stroke:v.leftColor,strokeWidth:3,dot:{fill:v.leftColor,r:4},activeDot:{r:6,className:"animate-pulse"}}),(0,x.jsx)(y.y,{yAxisId:"right",dataKey:v.rightMetric,name:v.rightName,fill:v.rightColor,radius:[8,8,0,0],opacity:.8})]})})]})};var N=s(60163),w=s(4240),k=s(17869);const S=function(e){let{selectedRegion:t}=e;const s=h.Ku.housingTypeDistribution[t]||[],a=["#3B82F6","#10B981","#F59E0B","#EF4444"],i=e=>{let{active:t,payload:s}=e;if(t&&s&&s.length){const e=s[0].payload;return(0,x.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-gray-200",children:[(0,x.jsx)("p",{className:"font-bold text-gray-800 mb-2",children:e.type}),(0,x.jsxs)("div",{className:"space-y-1",children:[(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Market Share:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:[e.percentage,"%"]})]}),(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Total Units:"}),(0,x.jsx)("span",{className:"font-medium ml-2",children:e.count.toLocaleString()})]}),(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Avg Price:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:["$",e.avgPrice.toLocaleString()]})]})]})]})}return null};return(0,x.jsxs)("div",{children:[(0,x.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[(0,x.jsx)("span",{className:"mr-2",children:"\ud83c\udfd8\ufe0f"}),"Housing Type Distribution - ",t]}),s.length>0?(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,x.jsx)("div",{children:(0,x.jsx)(r.u,{width:"100%",height:280,children:(0,x.jsxs)(N.r,{children:[(0,x.jsx)(w.F,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{cx:t,cy:s,midAngle:a,innerRadius:r,outerRadius:i,percent:n}=e;const l=r+.5*(i-r),o=t+l*Math.cos(-a*Math.PI/180),c=s+l*Math.sin(-a*Math.PI/180);return(0,x.jsx)("text",{x:o,y:c,fill:"white",textAnchor:o>t?"start":"end",dominantBaseline:"central",className:"font-semibold text-sm",children:"".concat((100*n).toFixed(1),"%")})},outerRadius:100,fill:"#8884d8",dataKey:"percentage",nameKey:"type",children:s.map(((e,t)=>(0,x.jsx)(k.f,{fill:a[t%a.length]},"cell-".concat(t))))}),(0,x.jsx)(c.m,{content:(0,x.jsx)(i,{})})]})})}),(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800",children:"Market Composition"}),s.map(((e,t)=>(0,x.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,x.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:a[t%a.length]}}),(0,x.jsx)("span",{className:"font-medium text-gray-700",children:e.type})]}),(0,x.jsxs)("div",{className:"text-right",children:[(0,x.jsxs)("p",{className:"font-bold text-gray-800",children:[e.percentage,"%"]}),(0,x.jsxs)("p",{className:"text-xs text-gray-500",children:[e.count.toLocaleString()," units"]})]})]},e.type)))]})]}):(0,x.jsx)("div",{className:"flex items-center justify-center h-64 bg-gray-50 rounded-lg",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,x.jsx)("p",{className:"text-gray-600 text-lg",children:"No data available"}),(0,x.jsxs)("p",{className:"text-gray-500 text-sm",children:['Housing distribution data for "',t,'" is not available']})]})}),s.length>0&&(0,x.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,x.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"Market Insights"}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:"text-blue-700 font-medium",children:"Dominant Type:"}),(0,x.jsxs)("span",{className:"ml-2 text-blue-600",children:[s.reduce(((e,t)=>e.percentage>t.percentage?e:t)).type," ","(",s.reduce(((e,t)=>e.percentage>t.percentage?e:t)).percentage,"%)"]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:"text-blue-700 font-medium",children:"Total Housing Stock:"}),(0,x.jsxs)("span",{className:"ml-2 text-blue-600",children:[s.reduce(((e,t)=>e+t.count),0).toLocaleString()," ","units"]})]})]})]}),0===s.length&&(0,x.jsx)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg text-center",children:(0,x.jsxs)("p",{className:"text-gray-600",children:["No housing distribution data available for ",t]})})]})};const M=function(e){let{selectedRegion:t}=e;const s=h.Ku.pricePerSqFt[t]||[],a=e=>{let{active:t,payload:s,label:a}=e;if(t&&s&&s.length){const e=s[0].payload;return(0,x.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-gray-200",children:[(0,x.jsx)("p",{className:"font-bold text-gray-800 mb-2",children:a}),(0,x.jsxs)("div",{className:"space-y-1",children:[(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Price per Sq Ft:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:["$",e.pricePerSqFt]})]}),(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Avg Size:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:[e.avgSqFt.toLocaleString()," sq ft"]})]}),(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Typical Price:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:["$",(e.pricePerSqFt*e.avgSqFt).toLocaleString()]})]})]})]})}return null};return(0,x.jsxs)("div",{children:[(0,x.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[(0,x.jsx)("span",{className:"mr-2",children:"\ud83d\udccf"}),"Price per Square Foot Analysis - ",t]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,x.jsx)("div",{className:"lg:col-span-2",children:(0,x.jsx)(r.u,{width:"100%",height:300,children:(0,x.jsxs)(u.E,{data:s,margin:{top:20,right:30,left:20,bottom:5},children:[(0,x.jsx)(n.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,x.jsx)(l.W,{dataKey:"type",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(o.h,{tickFormatter:e=>"$".concat(e),tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(c.m,{content:(0,x.jsx)(a,{}),cursor:{fill:"rgba(59, 130, 246, 0.1)"}}),(0,x.jsx)(d.s,{}),(0,x.jsx)(y.y,{dataKey:"pricePerSqFt",name:"Price per Sq Ft",fill:"#3B82F6",radius:[8,8,0,0]})]})})}),(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800",children:"Price Efficiency"}),s.map(((e,t)=>{const s=e.pricePerSqFt,a=s<750,r=s>=750&&s<850;return(0,x.jsx)("div",{className:"p-3 rounded-lg border-l-4 ".concat(a?"bg-green-50 border-green-500":r?"bg-yellow-50 border-yellow-500":"bg-red-50 border-red-500"),children:(0,x.jsxs)("div",{className:"flex justify-between items-start",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"font-medium text-gray-800",children:e.type}),(0,x.jsxs)("p",{className:"text-xs text-gray-500",children:[e.avgSqFt.toLocaleString()," sq ft avg"]})]}),(0,x.jsxs)("div",{className:"text-right",children:[(0,x.jsxs)("p",{className:"font-bold text-gray-800",children:["$",e.pricePerSqFt]}),(0,x.jsx)("p",{className:"text-xs ".concat(a?"text-green-600":r?"text-yellow-600":"text-red-600"),children:a?"Efficient":r?"Moderate":"Premium"})]})]})},e.type)}))]})]}),(0,x.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,x.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-blue-800 mb-1",children:"Most Affordable"}),(0,x.jsxs)("p",{className:"text-sm text-blue-600",children:[s.reduce(((e,t)=>e.pricePerSqFt<t.pricePerSqFt?e:t)).type," ","at $",s.reduce(((e,t)=>e.pricePerSqFt<t.pricePerSqFt?e:t)).pricePerSqFt,"/sq ft"]})]}),(0,x.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-purple-800 mb-1",children:"Premium Option"}),(0,x.jsxs)("p",{className:"text-sm text-purple-600",children:[s.reduce(((e,t)=>e.pricePerSqFt>t.pricePerSqFt?e:t)).type," ","at $",s.reduce(((e,t)=>e.pricePerSqFt>t.pricePerSqFt?e:t)).pricePerSqFt,"/sq ft"]})]}),(0,x.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-green-800 mb-1",children:"Price Range"}),(0,x.jsxs)("p",{className:"text-sm text-green-600",children:["$",Math.min(...s.map((e=>e.pricePerSqFt)))," - $",Math.max(...s.map((e=>e.pricePerSqFt)))," per sq ft"]})]})]})]})};var P=s(89379),A=s(42458),R=s(77943);const C=function(e){let{selectedRegion:t}=e;const s=h.Ku.marketVelocity[t]||[],a=s.map((e=>(0,P.A)((0,P.A)({},e),{},{x:e.daysOnMarket,y:e.avgPrice/1e6,z:e.salesVolume}))),i=["#3B82F6","#10B981","#F59E0B","#EF4444"],d=e=>{let{active:t,payload:s}=e;if(t&&s&&s.length){const e=s[0].payload;return(0,x.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-gray-200",children:[(0,x.jsx)("p",{className:"font-bold text-gray-800 mb-2",children:e.type}),(0,x.jsxs)("div",{className:"space-y-1",children:[(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Days on Market:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:[e.daysOnMarket," days"]})]}),(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Average Price:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:["$",e.avgPrice.toLocaleString()]})]}),(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Monthly Sales:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:[e.salesVolume," units"]})]}),(0,x.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:e.daysOnMarket<20?"Fast-moving market":e.daysOnMarket<30?"Moderate pace":"Slower market"})]})]})}return null},m=e=>{const{cx:t,cy:s,payload:a,index:r}=e,n=Math.sqrt(a.salesVolume)/8;return(0,x.jsx)("circle",{cx:t,cy:s,r:Math.max(n,8),fill:i[r%i.length],fillOpacity:.7,stroke:i[r%i.length],strokeWidth:2,className:"hover:fill-opacity-90 transition-all duration-200"})};return(0,x.jsxs)("div",{children:[(0,x.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[(0,x.jsx)("span",{className:"mr-2",children:"\u26a1"}),"Market Velocity Analysis - ",t]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,x.jsxs)("div",{className:"lg:col-span-2",children:[(0,x.jsx)(r.u,{width:"100%",height:350,children:(0,x.jsxs)(A.t,{margin:{top:20,right:20,bottom:20,left:20},children:[(0,x.jsx)(n.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,x.jsx)(l.W,{type:"number",dataKey:"x",domain:["dataMin - 2","dataMax + 2"],name:"Days on Market",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"},label:{value:"Days on Market",position:"insideBottom",offset:-10}}),(0,x.jsx)(o.h,{type:"number",dataKey:"y",domain:["dataMin - 0.1","dataMax + 0.1"],name:"Average Price",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"},tickFormatter:e=>"$".concat(e.toFixed(1),"M"),label:{value:"Avg Price (Millions)",angle:-90,position:"insideLeft"}}),(0,x.jsx)(c.m,{content:(0,x.jsx)(d,{})}),(0,x.jsx)(R.X,{data:a,shape:(0,x.jsx)(m,{})})]})}),(0,x.jsxs)("div",{className:"mt-4 flex items-center justify-center space-x-6 text-xs text-gray-600",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("div",{className:"w-3 h-3 rounded-full bg-gray-300"}),(0,x.jsx)("span",{children:"Bubble size = Sales Volume"})]}),(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("span",{children:"\u2190"}),(0,x.jsx)("span",{children:"Faster Sales"}),(0,x.jsx)("span",{children:"|"}),(0,x.jsx)("span",{children:"Slower Sales"}),(0,x.jsx)("span",{children:"\u2192"})]})]})]}),(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800",children:"Market Performance"}),s.map(((e,t)=>{const s=e.daysOnMarket,a=s<20,r=s>=20&&s<30;return(0,x.jsx)("div",{className:"p-3 rounded-lg border-l-4 ".concat(a?"bg-green-50 border-green-500":r?"bg-yellow-50 border-yellow-500":"bg-red-50 border-red-500"),children:(0,x.jsxs)("div",{className:"flex justify-between items-start",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"font-medium text-gray-800",children:e.type}),(0,x.jsxs)("p",{className:"text-xs text-gray-500",children:[e.salesVolume," sales/month"]})]}),(0,x.jsxs)("div",{className:"text-right",children:[(0,x.jsxs)("p",{className:"font-bold text-gray-800",children:[e.daysOnMarket," days"]}),(0,x.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,x.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(a?"bg-green-500":r?"bg-yellow-500":"bg-red-500")}),(0,x.jsx)("p",{className:"text-xs ".concat(a?"text-green-600":r?"text-yellow-600":"text-red-600"),children:a?"Hot":r?"Warm":"Cool"})]})]})]})},e.type)}))]})]}),(0,x.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,x.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-green-800 mb-1",children:"Fastest Moving"}),(0,x.jsxs)("p",{className:"text-sm text-green-600",children:[s.reduce(((e,t)=>e.daysOnMarket<t.daysOnMarket?e:t)).type," ","-"," ",s.reduce(((e,t)=>e.daysOnMarket<t.daysOnMarket?e:t)).daysOnMarket," ","days"]})]}),(0,x.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-blue-800 mb-1",children:"Highest Volume"}),(0,x.jsxs)("p",{className:"text-sm text-blue-600",children:[s.reduce(((e,t)=>e.salesVolume>t.salesVolume?e:t)).type," ","-"," ",s.reduce(((e,t)=>e.salesVolume>t.salesVolume?e:t)).salesVolume," ","sales/month"]})]}),(0,x.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-purple-800 mb-1",children:"Market Temperature"}),(0,x.jsx)("p",{className:"text-sm text-purple-600",children:s.filter((e=>e.daysOnMarket<25)).length>s.length/2?"Hot Market":"Balanced Market"})]})]})]})};const L=function(e){var t;let{selectedRegion:s}=e;const[i,m]=(0,a.useState)("units"),g=h.Ku.newVsResale[s]||[],p=(()=>{if(!g||0===g.length)return[];if("distribution"===i){const e=g.reduce(((e,t)=>e+(t.newUnits||0)),0),t=g.reduce(((e,t)=>e+(t.resaleUnits||0)),0),s=e+t;return 0===s?[]:[{name:"New Homes",value:e,percentage:(e/s*100).toFixed(1)},{name:"Resale Homes",value:t,percentage:(t/s*100).toFixed(1)}]}return g.map((e=>{const t=(e.newUnits||0)+(e.resaleUnits||0),s=t>0?e.newUnits/t*100:0,a=e.resaleAvgPrice>0?(e.newAvgPrice-e.resaleAvgPrice)/e.resaleAvgPrice*100:0;return{type:e.type,newUnits:e.newUnits||0,resaleUnits:e.resaleUnits||0,totalUnits:t,newPercentage:s,resalePercentage:100-s,newAvgPrice:e.newAvgPrice||0,resaleAvgPrice:e.resaleAvgPrice||0,pricePremium:a}}))})(),v=g.reduce(((e,t)=>e+(t.newUnits||0)),0),b=g.reduce(((e,t)=>e+(t.resaleUnits||0)),0),j=v+b,f=j>0?(v/j*100).toFixed(1):"0.0",S=v>0?g.reduce(((e,t)=>e+(t.newAvgPrice||0)*(t.newUnits||0)),0)/v:0,M=b>0?g.reduce(((e,t)=>e+(t.resaleAvgPrice||0)*(t.resaleUnits||0)),0)/b:0,P=M>0?((S-M)/M*100).toFixed(1):"0.0",A=e=>{let{active:t,payload:s,label:a}=e;if(t&&s&&s.length){const e=s[0].payload;return"distribution"===i?(0,x.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-gray-200",children:[(0,x.jsx)("p",{className:"font-bold text-gray-800 mb-2",children:e.name}),(0,x.jsxs)("div",{className:"space-y-1",children:[(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Units:"}),(0,x.jsx)("span",{className:"font-medium ml-2",children:e.value.toLocaleString()})]}),(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Market Share:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:[e.percentage,"%"]})]})]})]}):(0,x.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-gray-200",children:[(0,x.jsx)("p",{className:"font-bold text-gray-800 mb-2",children:a}),(0,x.jsx)("div",{className:"space-y-1",children:"units"===i?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"New Units:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:[e.newUnits," (",e.newPercentage.toFixed(1),"%)"]})]}),(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Resale Units:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:[e.resaleUnits," (",e.resalePercentage.toFixed(1),"%)"]})]}),(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Total:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:[e.totalUnits," units"]})]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"New Avg Price:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:["$",e.newAvgPrice.toLocaleString()]})]}),(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"Resale Avg Price:"}),(0,x.jsxs)("span",{className:"font-medium ml-2",children:["$",e.resaleAvgPrice.toLocaleString()]})]}),(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsx)("span",{className:"text-gray-600",children:"New Premium:"}),(0,x.jsxs)("span",{className:"font-medium ml-2 text-blue-600",children:["+",e.pricePremium.toFixed(1),"%"]})]})]})})]})}return null},R=["#3B82F6","#10B981"];return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center mb-2",children:[(0,x.jsx)("span",{className:"mr-2",children:"\ud83c\udfd7\ufe0f"}),"New vs Resale Housing Analysis - ",s]}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"Market composition and pricing comparison between new construction and resale homes"})]}),(0,x.jsxs)("div",{className:"flex space-x-2 mt-4 lg:mt-0",children:[(0,x.jsx)("button",{onClick:()=>m("units"),className:"\n              px-3 py-2 text-sm font-medium rounded-lg transition-all duration-300\n              ".concat("units"===i?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200","\n            "),children:"Unit Distribution"}),(0,x.jsx)("button",{onClick:()=>m("prices"),className:"\n              px-3 py-2 text-sm font-medium rounded-lg transition-all duration-300\n              ".concat("prices"===i?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200","\n            "),children:"Price Comparison"}),(0,x.jsx)("button",{onClick:()=>m("distribution"),className:"\n              px-3 py-2 text-sm font-medium rounded-lg transition-all duration-300\n              ".concat("distribution"===i?"bg-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200","\n            "),children:"Market Split"})]})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,x.jsx)("div",{className:"lg:col-span-3",children:0===p.length?(0,x.jsx)("div",{className:"flex items-center justify-center h-96 bg-gray-50 rounded-lg",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"text-gray-500 text-lg",children:"No data available"}),(0,x.jsxs)("p",{className:"text-gray-400 text-sm",children:["Please check data configuration for ",s]})]})}):"distribution"===i?(0,x.jsx)(r.u,{width:"100%",height:400,children:(0,x.jsxs)(N.r,{children:[(0,x.jsx)(w.F,{data:p,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:120,label:e=>{let{name:t,percentage:s}=e;return"".concat(t,": ").concat(s,"%")},labelLine:!1,children:p.map(((e,t)=>(0,x.jsx)(k.f,{fill:R[t]},"cell-".concat(t))))}),(0,x.jsx)(c.m,{content:(0,x.jsx)(A,{})}),(0,x.jsx)(d.s,{})]})}):(0,x.jsx)(r.u,{width:"100%",height:400,children:(0,x.jsxs)(u.E,{data:p,margin:{top:20,right:30,left:20,bottom:5},children:[(0,x.jsx)(n.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,x.jsx)(l.W,{dataKey:"type",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(o.h,{tickFormatter:"units"===i?e=>e.toLocaleString():e=>"$".concat((e/1e3).toFixed(0),"k"),tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(c.m,{content:(0,x.jsx)(A,{})}),(0,x.jsx)(d.s,{}),(0,x.jsx)(y.y,{dataKey:"newUnits",stackId:"units"===i?"units":void 0,name:"New Construction",fill:"units"===i?"#3B82F6":"transparent",radius:[0,0,0,0],hide:"units"!==i}),(0,x.jsx)(y.y,{dataKey:"resaleUnits",stackId:"units"===i?"units":void 0,name:"Resale",fill:"units"===i?"#10B981":"transparent",radius:"units"===i?[4,4,0,0]:[0,0,0,0],hide:"units"!==i}),(0,x.jsx)(y.y,{dataKey:"newAvgPrice",name:"New Construction Price",fill:"prices"===i?"#3B82F6":"transparent",radius:"prices"===i?[4,4,0,0]:[0,0,0,0],hide:"prices"!==i}),(0,x.jsx)(y.y,{dataKey:"resaleAvgPrice",name:"Resale Price",fill:"prices"===i?"#10B981":"transparent",radius:"prices"===i?[4,4,0,0]:[0,0,0,0],hide:"prices"!==i})]})})}),(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800",children:"Market Summary"}),(0,x.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[(0,x.jsx)("p",{className:"text-sm text-blue-700 font-medium",children:"New Construction"}),(0,x.jsxs)("p",{className:"text-2xl font-bold text-blue-800",children:[f,"%"]}),(0,x.jsx)("p",{className:"text-xs text-blue-600",children:"of total sales"})]}),(0,x.jsxs)("div",{className:"p-3 bg-green-50 rounded-lg border-l-4 border-green-500",children:[(0,x.jsx)("p",{className:"text-sm text-green-700 font-medium",children:"Total Units"}),(0,x.jsx)("p",{className:"text-2xl font-bold text-green-800",children:j.toLocaleString()}),(0,x.jsx)("p",{className:"text-xs text-green-600",children:"monthly sales"})]}),(0,x.jsxs)("div",{className:"p-3 bg-purple-50 rounded-lg border-l-4 border-purple-500",children:[(0,x.jsx)("p",{className:"text-sm text-purple-700 font-medium",children:"New Premium"}),(0,x.jsxs)("p",{className:"text-2xl font-bold text-purple-800",children:["+",P,"%"]}),(0,x.jsx)("p",{className:"text-xs text-purple-600",children:"vs resale prices"})]}),(0,x.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border-l-4 border-gray-400",children:[(0,x.jsx)("p",{className:"text-sm text-gray-700 font-medium",children:"Price Gap"}),(0,x.jsxs)("p",{className:"text-2xl font-bold text-gray-800",children:["$",((S-M)/1e3).toFixed(0),"k"]}),(0,x.jsx)("p",{className:"text-xs text-gray-600",children:"average difference"})]})]})]}),"distribution"!==i&&(0,x.jsxs)("div",{className:"mt-6",children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800 mb-4",children:"Analysis by Housing Type"}),(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:p.map(((e,t)=>{const s=(e.newPercentage||0)>50;return(0,x.jsxs)("div",{className:"\n                    p-4 rounded-lg border-2 border-gray-200 hover:border-gray-300 transition-all duration-200\n                    ".concat(s?"bg-blue-50":"bg-green-50","\n                  "),children:[(0,x.jsx)("h5",{className:"font-semibold text-gray-800 mb-2",children:e.type}),(0,x.jsxs)("div",{className:"space-y-2",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"New:"}),(0,x.jsxs)("span",{className:"font-bold text-blue-600",children:[e.newUnits||0," units"]})]}),(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"Resale:"}),(0,x.jsxs)("span",{className:"font-bold text-green-600",children:[e.resaleUnits||0," units"]})]}),(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"New %:"}),(0,x.jsxs)("span",{className:"text-sm font-medium ".concat(s?"text-blue-600":"text-gray-600"),children:[(e.newPercentage||0).toFixed(1),"%"]})]}),(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"Premium:"}),(0,x.jsxs)("span",{className:"text-sm font-medium text-purple-600",children:["+",(e.pricePremium||0).toFixed(1),"%"]})]})]})]},e.type||t)}))})]}),"distribution"===i&&p.length>0&&(0,x.jsxs)("div",{className:"mt-6",children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800 mb-4",children:"Market Composition"}),(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(((e,t)=>(0,x.jsxs)("div",{className:"p-6 rounded-lg border-2 border-gray-200 bg-gradient-to-br from-white to-gray-50",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-gray-800",children:e.name}),(0,x.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(0===t?"bg-blue-500":"bg-green-500")})]}),(0,x.jsxs)("div",{className:"space-y-3",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:e.value.toLocaleString()}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"Total Units"})]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[e.percentage,"%"]}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"Market Share"})]}),(0,x.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,x.jsx)("div",{className:"h-2 rounded-full ".concat(0===t?"bg-blue-500":"bg-green-500"),style:{width:"".concat(e.percentage,"%")}})})]})]},e.name||t)))})]}),(0,x.jsx)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:"distribution"===i?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-blue-800 mb-2",children:"Market Composition"}),(0,x.jsxs)("p",{className:"text-sm text-blue-600",children:["New construction represents ",f,"% of total market sales, while resale homes make up the remaining"," ",(100-parseFloat(f)).toFixed(1),"%."]})]}),(0,x.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-green-800 mb-2",children:"Market Dynamics"}),(0,x.jsxs)("p",{className:"text-sm text-green-600",children:["The market shows a"," ",parseFloat(f)>25?"strong":"moderate"," ","presence of new construction, indicating"," ",parseFloat(f)>25?"active development":"mature market conditions","."]})]}),(0,x.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-purple-800 mb-2",children:"Investment Perspective"}),(0,x.jsxs)("p",{className:"text-sm text-purple-600",children:["New homes command an average ",P,"% premium over resale properties, reflecting modern amenities and construction standards."]})]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-blue-800 mb-2",children:"New Construction Trends"}),(0,x.jsxs)("p",{className:"text-sm text-blue-600",children:["New construction represents ",f,"% of sales, with strongest presence in"," ",p.length>0&&void 0!==p[0].newPercentage&&(null===(t=p.reduce(((e,t)=>(e.newPercentage||0)>(t.newPercentage||0)?e:t)).type)||void 0===t?void 0:t.toLowerCase())||"various"," ","segment."]})]}),(0,x.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-green-800 mb-2",children:"Resale Market Dominance"}),(0,x.jsx)("p",{className:"text-sm text-green-600",children:"Resale homes dominate overall sales volume, particularly in established neighborhoods with mature housing stock and diverse pricing options."})]}),(0,x.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-purple-800 mb-2",children:"Price Premium Analysis"}),(0,x.jsxs)("p",{className:"text-sm text-purple-600",children:["New homes command an average ",P,"% premium, reflecting modern features, energy efficiency, and updated building standards."]})]})]})})]})};var G=s(877);const F={"Peel Region":{ratio:12.8,benchmark:10,status:"Overvalued",trend:"Rising"},Mississauga:{ratio:13.5,benchmark:10,status:"Overvalued",trend:"Rising"},Brampton:{ratio:11.9,benchmark:10,status:"Overvalued",trend:"Stable"},Caledon:{ratio:15.2,benchmark:10,status:"Severely Overvalued",trend:"Rising"}},H={"Peel Region":{overall:78,priceGrowth:85,salesVolume:72,inventory:65,timeOnMarket:68,status:"Hot"},Mississauga:{overall:82,priceGrowth:88,salesVolume:75,inventory:60,timeOnMarket:65,status:"Very Hot"},Brampton:{overall:74,priceGrowth:80,salesVolume:78,inventory:70,timeOnMarket:72,status:"Hot"},Caledon:{overall:68,priceGrowth:72,salesVolume:58,inventory:75,timeOnMarket:85,status:"Warm"}},T={"Peel Region":{monthsOfInventory:2.1,newListings:1250,salesVolume:980,absorptionRate:78.4,demandIndex:85,supplyIndex:42},Mississauga:{monthsOfInventory:1.8,newListings:520,salesVolume:420,absorptionRate:80.8,demandIndex:88,supplyIndex:38},Brampton:{monthsOfInventory:2.3,newListings:580,salesVolume:465,absorptionRate:80.2,demandIndex:82,supplyIndex:45},Caledon:{monthsOfInventory:3.2,newListings:150,salesVolume:95,absorptionRate:63.3,demandIndex:65,supplyIndex:58}},O={"Peel Region":{overvaluation:"High",interestRateSensitivity:"Very High",speculativeActivity:"Moderate",householdDebt:"High",overallRisk:"High",riskScore:78},Mississauga:{overvaluation:"Very High",interestRateSensitivity:"Very High",speculativeActivity:"High",householdDebt:"Very High",overallRisk:"Very High",riskScore:85},Brampton:{overvaluation:"High",interestRateSensitivity:"High",speculativeActivity:"Moderate",householdDebt:"High",overallRisk:"High",riskScore:74},Caledon:{overvaluation:"Very High",interestRateSensitivity:"High",speculativeActivity:"Low",householdDebt:"Moderate",overallRisk:"Moderate",riskScore:68}},I={"Peel Region":[{month:"Jan 2024",healthScore:65,priceGrowth:8.2,riskLevel:"Moderate"},{month:"Feb 2024",healthScore:68,priceGrowth:8.5,riskLevel:"Moderate"},{month:"Mar 2024",healthScore:72,priceGrowth:9.1,riskLevel:"High"},{month:"Apr 2024",healthScore:75,priceGrowth:9.8,riskLevel:"High"},{month:"May 2024",healthScore:78,priceGrowth:10.2,riskLevel:"High"},{month:"Jun 2024",healthScore:76,priceGrowth:9.9,riskLevel:"High"},{month:"Jul 2024",healthScore:79,priceGrowth:10.5,riskLevel:"High"},{month:"Aug 2024",healthScore:81,priceGrowth:11.1,riskLevel:"High"},{month:"Sep 2024",healthScore:78,priceGrowth:10.8,riskLevel:"High"},{month:"Oct 2024",healthScore:82,priceGrowth:11.4,riskLevel:"Very High"},{month:"Nov 2024",healthScore:80,priceGrowth:11,riskLevel:"High"},{month:"Dec 2024",healthScore:79,priceGrowth:10.7,riskLevel:"High"},{month:"Jan 2025",healthScore:77,priceGrowth:10.3,riskLevel:"High"},{month:"Feb 2025",healthScore:78,priceGrowth:10.6,riskLevel:"High"}],Mississauga:[{month:"Jan 2024",healthScore:70,priceGrowth:9.5,riskLevel:"High"},{month:"Feb 2024",healthScore:73,priceGrowth:9.8,riskLevel:"High"},{month:"Mar 2024",healthScore:76,priceGrowth:10.4,riskLevel:"High"},{month:"Apr 2024",healthScore:78,priceGrowth:11.1,riskLevel:"Very High"},{month:"May 2024",healthScore:81,priceGrowth:11.5,riskLevel:"Very High"},{month:"Jun 2024",healthScore:79,priceGrowth:11.2,riskLevel:"Very High"},{month:"Jul 2024",healthScore:83,priceGrowth:11.8,riskLevel:"Very High"},{month:"Aug 2024",healthScore:85,priceGrowth:12.4,riskLevel:"Very High"},{month:"Sep 2024",healthScore:82,priceGrowth:12.1,riskLevel:"Very High"},{month:"Oct 2024",healthScore:86,priceGrowth:12.7,riskLevel:"Very High"},{month:"Nov 2024",healthScore:84,priceGrowth:12.3,riskLevel:"Very High"},{month:"Dec 2024",healthScore:83,priceGrowth:12,riskLevel:"Very High"},{month:"Jan 2025",healthScore:81,priceGrowth:11.6,riskLevel:"Very High"},{month:"Feb 2025",healthScore:82,priceGrowth:11.9,riskLevel:"Very High"}],Brampton:[{month:"Jan 2024",healthScore:62,priceGrowth:7.8,riskLevel:"Moderate"},{month:"Feb 2024",healthScore:65,priceGrowth:8.1,riskLevel:"Moderate"},{month:"Mar 2024",healthScore:68,priceGrowth:8.7,riskLevel:"High"},{month:"Apr 2024",healthScore:71,priceGrowth:9.4,riskLevel:"High"},{month:"May 2024",healthScore:74,priceGrowth:9.8,riskLevel:"High"},{month:"Jun 2024",healthScore:72,priceGrowth:9.5,riskLevel:"High"},{month:"Jul 2024",healthScore:75,priceGrowth:10.1,riskLevel:"High"},{month:"Aug 2024",healthScore:77,priceGrowth:10.7,riskLevel:"High"},{month:"Sep 2024",healthScore:74,priceGrowth:10.4,riskLevel:"High"},{month:"Oct 2024",healthScore:78,priceGrowth:11,riskLevel:"High"},{month:"Nov 2024",healthScore:76,priceGrowth:10.6,riskLevel:"High"},{month:"Dec 2024",healthScore:75,priceGrowth:10.3,riskLevel:"High"},{month:"Jan 2025",healthScore:73,priceGrowth:9.9,riskLevel:"High"},{month:"Feb 2025",healthScore:74,priceGrowth:10.2,riskLevel:"High"}],Caledon:[{month:"Jan 2024",healthScore:58,priceGrowth:6.2,riskLevel:"Moderate"},{month:"Feb 2024",healthScore:60,priceGrowth:6.5,riskLevel:"Moderate"},{month:"Mar 2024",healthScore:62,priceGrowth:6.9,riskLevel:"Moderate"},{month:"Apr 2024",healthScore:64,priceGrowth:7.3,riskLevel:"Moderate"},{month:"May 2024",healthScore:66,priceGrowth:7.7,riskLevel:"Moderate"},{month:"Jun 2024",healthScore:65,priceGrowth:7.4,riskLevel:"Moderate"},{month:"Jul 2024",healthScore:67,priceGrowth:7.8,riskLevel:"Moderate"},{month:"Aug 2024",healthScore:69,priceGrowth:8.2,riskLevel:"High"},{month:"Sep 2024",healthScore:67,priceGrowth:7.9,riskLevel:"Moderate"},{month:"Oct 2024",healthScore:70,priceGrowth:8.3,riskLevel:"High"},{month:"Nov 2024",healthScore:69,priceGrowth:8,riskLevel:"High"},{month:"Dec 2024",healthScore:68,priceGrowth:7.7,riskLevel:"Moderate"},{month:"Jan 2025",healthScore:67,priceGrowth:7.4,riskLevel:"Moderate"},{month:"Feb 2025",healthScore:68,priceGrowth:7.6,riskLevel:"Moderate"}]},D={"Peel Region":{priceGrowthNext12Months:8.5,confidence:"Moderate",keyRisks:["Interest Rate Increases","Affordability Crisis","Policy Changes"],outlook:"Cautiously Optimistic",recommendedActions:["Monitor Interest Rates","Assess Affordability Impact","Watch Supply Response"]},Mississauga:{priceGrowthNext12Months:7.2,confidence:"Low",keyRisks:["Overvaluation","Interest Rate Sensitivity","Speculative Activity"],outlook:"Concerning",recommendedActions:["Exercise Caution","Monitor Correction Signals","Assess Downside Risk"]},Brampton:{priceGrowthNext12Months:9.1,confidence:"Moderate",keyRisks:["Affordability Constraints","Interest Rate Impact","Employment Trends"],outlook:"Positive",recommendedActions:["Monitor Employment","Track Affordability","Watch First-time Buyers"]},Caledon:{priceGrowthNext12Months:6.8,confidence:"High",keyRisks:["Limited Inventory","Infrastructure Constraints","Luxury Market Volatility"],outlook:"Stable",recommendedActions:["Monitor Luxury Trends","Track Infrastructure Development","Assess Supply Pipeline"]}},B={overall:{marketHealth:76,affordability:32,sustainability:45,growth:88,stability:61},regional:{"Peel Region":{health:78,risk:78,opportunity:72},Mississauga:{health:82,risk:85,opportunity:68},Brampton:{health:74,risk:74,opportunity:76},Caledon:{health:68,risk:68,opportunity:70}}};function V(){const[e,t]=(0,a.useState)("Peel Region"),[s,i]=(0,a.useState)("overview"),m=Object.keys(H),h=(()=>{switch(s){case"overview":return m.map((e=>({region:e.replace(" Region",""),health:B.regional[e].health,risk:B.regional[e].risk,opportunity:B.regional[e].opportunity,priceToIncome:F[e].ratio,temperature:H[e].overall})));case"temperature":const t=H[e];return[{metric:"Price Growth",value:t.priceGrowth},{metric:"Sales Volume",value:t.salesVolume},{metric:"Inventory",value:t.inventory},{metric:"Time on Market",value:t.timeOnMarket}];case"risk":return m.map((e=>({region:e.replace(" Region",""),riskScore:O[e].riskScore,overvaluation:O[e].overvaluation,interestSensitivity:O[e].interestRateSensitivity,priceToIncome:F[e].ratio})));case"trends":return I[e];case"forecast":return m.map((e=>({region:e.replace(" Region",""),forecast:D[e].priceGrowthNext12Months,confidence:D[e].confidence,currentGrowth:I[e][I[e].length-1].priceGrowth})));default:return[]}})(),g=e=>{switch(e){case"Very Hot":return"bg-red-600";case"Hot":return"bg-orange-500";case"Warm":return"bg-yellow-500";case"Cool":return"bg-blue-500";default:return"bg-gray-500"}},p=e=>{let{active:t,payload:s,label:a}=e;return t&&s&&s.length?(0,x.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-gray-200",children:[(0,x.jsx)("p",{className:"font-bold text-gray-800 mb-2",children:a}),(0,x.jsx)("div",{className:"space-y-1",children:s.map(((e,t)=>(0,x.jsxs)("p",{className:"text-sm",children:[(0,x.jsxs)("span",{className:"text-gray-600",children:[e.name,":"]}),(0,x.jsx)("span",{className:"font-medium ml-2",style:{color:e.color},children:"number"===typeof e.value?e.name.includes("Growth")||e.name.includes("forecast")?"".concat(e.value.toFixed(1),"%"):e.value.toFixed(1):e.value})]},t)))})]}):null},v=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center mb-2",children:[(0,x.jsx)("span",{className:"mr-2",children:"\ud83c\udfe5"}),"Market Health Indicators Dashboard"]}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"Comprehensive market analysis including risk assessment, temperature, and forecasts"})]}),(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4 mt-4 lg:mt-0",children:[(0,x.jsxs)("div",{className:"flex space-x-2",children:[(0,x.jsx)("button",{onClick:()=>i("overview"),className:"\n                px-3 py-2 text-sm font-medium rounded-lg transition-all duration-300\n                ".concat("overview"===s?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200","\n              "),children:"Overview"}),(0,x.jsx)("button",{onClick:()=>i("temperature"),className:"\n                px-3 py-2 text-sm font-medium rounded-lg transition-all duration-300\n                ".concat("temperature"===s?"bg-orange-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200","\n              "),children:"Temperature"}),(0,x.jsx)("button",{onClick:()=>i("risk"),className:"\n                px-3 py-2 text-sm font-medium rounded-lg transition-all duration-300\n                ".concat("risk"===s?"bg-red-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200","\n              "),children:"Risk Analysis"}),(0,x.jsx)("button",{onClick:()=>i("trends"),className:"\n                px-3 py-2 text-sm font-medium rounded-lg transition-all duration-300\n                ".concat("trends"===s?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200","\n              "),children:"Trends"}),(0,x.jsx)("button",{onClick:()=>i("forecast"),className:"\n                px-3 py-2 text-sm font-medium rounded-lg transition-all duration-300\n                ".concat("forecast"===s?"bg-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200","\n              "),children:"Forecast"})]}),(0,x.jsx)("select",{value:e,onChange:e=>t(e.target.value),disabled:!("temperature"===s||"trends"===s),className:"\n              min-w-[180px] px-3 py-2 text-sm border rounded-lg transition-all duration-300\n              ".concat("temperature"===s||"trends"===s?"border-gray-300 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed","\n            "),children:m.map((e=>(0,x.jsx)("option",{value:e,children:e},e)))})]})]}),(0,x.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[(0,x.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-4 text-center",children:[(0,x.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:B.overall.marketHealth}),(0,x.jsx)("p",{className:"text-sm text-blue-800",children:"Market Health"})]}),(0,x.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 rounded-lg p-4 text-center",children:[(0,x.jsx)("p",{className:"text-2xl font-bold text-red-600",children:B.overall.affordability}),(0,x.jsx)("p",{className:"text-sm text-red-800",children:"Affordability"})]}),(0,x.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-lg p-4 text-center",children:[(0,x.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:B.overall.sustainability}),(0,x.jsx)("p",{className:"text-sm text-yellow-800",children:"Sustainability"})]}),(0,x.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-4 text-center",children:[(0,x.jsx)("p",{className:"text-2xl font-bold text-green-600",children:B.overall.growth}),(0,x.jsx)("p",{className:"text-sm text-green-800",children:"Growth"})]}),(0,x.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg p-4 text-center",children:[(0,x.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:B.overall.stability}),(0,x.jsx)("p",{className:"text-sm text-purple-800",children:"Stability"})]})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,x.jsx)("div",{className:"lg:col-span-3",children:(0,x.jsx)(r.u,{width:"100%",height:400,children:"trends"===s?(0,x.jsxs)(G.Q,{data:h,margin:{top:20,right:30,left:20,bottom:5},children:[(0,x.jsxs)("defs",{children:[(0,x.jsxs)("linearGradient",{id:"healthGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,x.jsx)("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),(0,x.jsx)("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.1})]}),(0,x.jsxs)("linearGradient",{id:"growthGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,x.jsx)("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.8}),(0,x.jsx)("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:.1})]})]}),(0,x.jsx)(n.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,x.jsx)(l.W,{dataKey:"month",tick:{fontSize:11},angle:-45,textAnchor:"end",height:80,tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(o.h,{tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(c.m,{content:(0,x.jsx)(p,{})}),(0,x.jsx)(d.s,{}),(0,x.jsx)(j.G,{type:"monotone",dataKey:"healthScore",stroke:"#3B82F6",fill:"url(#healthGradient)",name:"Health Score"}),(0,x.jsx)(j.G,{type:"monotone",dataKey:"priceGrowth",stroke:"#10B981",fill:"url(#growthGradient)",name:"Price Growth (%)"})]}):"temperature"===s?(0,x.jsxs)(u.E,{data:h,margin:{top:20,right:30,left:20,bottom:5},children:[(0,x.jsx)(n.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,x.jsx)(l.W,{dataKey:"metric",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(o.h,{tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"},domain:[0,100]}),(0,x.jsx)(c.m,{content:(0,x.jsx)(p,{})}),(0,x.jsx)(y.y,{dataKey:"value",name:"Temperature Score",radius:[8,8,0,0],children:h.map(((e,t)=>(0,x.jsx)(k.f,{fill:v[t]},"cell-".concat(t))))})]}):(0,x.jsxs)(u.E,{data:h,margin:{top:20,right:30,left:20,bottom:5},children:[(0,x.jsx)(n.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,x.jsx)(l.W,{dataKey:"region",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(o.h,{tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(c.m,{content:(0,x.jsx)(p,{})}),(0,x.jsx)(d.s,{}),(0,x.jsx)(y.y,{dataKey:"health",name:"Health Score",fill:"overview"===s?"#3B82F6":"transparent",radius:"overview"===s?[4,4,0,0]:[0,0,0,0],hide:"overview"!==s}),(0,x.jsx)(y.y,{dataKey:"risk",name:"Risk Score",fill:"overview"===s?"#EF4444":"transparent",radius:"overview"===s?[4,4,0,0]:[0,0,0,0],hide:"overview"!==s}),(0,x.jsx)(y.y,{dataKey:"opportunity",name:"Opportunity Score",fill:"overview"===s?"#10B981":"transparent",radius:"overview"===s?[4,4,0,0]:[0,0,0,0],hide:"overview"!==s}),(0,x.jsx)(y.y,{dataKey:"riskScore",name:"Overall Risk Score",fill:"risk"===s?"#EF4444":"transparent",radius:"risk"===s?[4,4,0,0]:[0,0,0,0],hide:"risk"!==s}),(0,x.jsx)(y.y,{dataKey:"priceToIncome",name:"Price-to-Income Ratio",fill:"risk"===s?"#F59E0B":"transparent",radius:"risk"===s?[4,4,0,0]:[0,0,0,0],hide:"risk"!==s}),(0,x.jsx)(y.y,{dataKey:"currentGrowth",name:"Current Growth %",fill:"forecast"===s?"#3B82F6":"transparent",radius:"forecast"===s?[4,4,0,0]:[0,0,0,0],hide:"forecast"!==s}),(0,x.jsx)(y.y,{dataKey:"forecast",name:"12-Month Forecast %",fill:"forecast"===s?"#10B981":"transparent",radius:"forecast"===s?[4,4,0,0]:[0,0,0,0],hide:"forecast"!==s})]})})}),(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800",children:"Market Summary"}),"overview"===s&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[(0,x.jsx)("p",{className:"text-sm text-blue-700 font-medium",children:"Market Leader"}),(0,x.jsx)("p",{className:"text-lg font-bold text-blue-800",children:"Mississauga"}),(0,x.jsx)("p",{className:"text-xs text-blue-600",children:"Highest health score"})]}),(0,x.jsxs)("div",{className:"p-3 bg-red-50 rounded-lg border-l-4 border-red-500",children:[(0,x.jsx)("p",{className:"text-sm text-red-700 font-medium",children:"Highest Risk"}),(0,x.jsx)("p",{className:"text-lg font-bold text-red-800",children:"Mississauga"}),(0,x.jsx)("p",{className:"text-xs text-red-600",children:"Risk score: 85"})]}),(0,x.jsxs)("div",{className:"p-3 bg-green-50 rounded-lg border-l-4 border-green-500",children:[(0,x.jsx)("p",{className:"text-sm text-green-700 font-medium",children:"Best Opportunity"}),(0,x.jsx)("p",{className:"text-lg font-bold text-green-800",children:"Brampton"}),(0,x.jsx)("p",{className:"text-xs text-green-600",children:"Opportunity score: 76"})]})]}),"temperature"===s&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"p-3 rounded-lg border-l-4 ".concat(g(H[e].status).replace("bg-","border-").replace("600","500")),children:[(0,x.jsx)("p",{className:"text-sm font-medium",children:"Market Status"}),(0,x.jsx)("p",{className:"text-lg font-bold",children:H[e].status}),(0,x.jsxs)("p",{className:"text-xs",children:["Overall: ",H[e].overall,"/100"]})]}),(0,x.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border-l-4 border-gray-400",children:[(0,x.jsx)("p",{className:"text-sm text-gray-700 font-medium",children:"Supply Demand"}),(0,x.jsxs)("p",{className:"text-lg font-bold text-gray-800",children:[T[e].monthsOfInventory," months"]}),(0,x.jsx)("p",{className:"text-xs text-gray-600",children:"Inventory supply"})]})]}),"risk"===s&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"p-3 bg-red-50 rounded-lg border-l-4 border-red-500",children:[(0,x.jsx)("p",{className:"text-sm text-red-700 font-medium",children:"Overvaluation Risk"}),(0,x.jsx)("p",{className:"text-lg font-bold text-red-800",children:"High"}),(0,x.jsx)("p",{className:"text-xs text-red-600",children:"Above sustainable levels"})]}),(0,x.jsxs)("div",{className:"p-3 bg-orange-50 rounded-lg border-l-4 border-orange-500",children:[(0,x.jsx)("p",{className:"text-sm text-orange-700 font-medium",children:"Interest Rate Risk"}),(0,x.jsx)("p",{className:"text-lg font-bold text-orange-800",children:"Very High"}),(0,x.jsx)("p",{className:"text-xs text-orange-600",children:"Highly leveraged market"})]})]}),"trends"===s&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[(0,x.jsx)("p",{className:"text-sm text-blue-700 font-medium",children:"Current Health"}),(0,x.jsx)("p",{className:"text-2xl font-bold text-blue-800",children:I[e][I[e].length-1].healthScore}),(0,x.jsx)("p",{className:"text-xs text-blue-600",children:"Health score"})]}),(0,x.jsxs)("div",{className:"p-3 bg-green-50 rounded-lg border-l-4 border-green-500",children:[(0,x.jsx)("p",{className:"text-sm text-green-700 font-medium",children:"Price Growth"}),(0,x.jsxs)("p",{className:"text-2xl font-bold text-green-800",children:[I[e][I[e].length-1].priceGrowth.toFixed(1),"%"]}),(0,x.jsx)("p",{className:"text-xs text-green-600",children:"Year-over-year"})]})]}),"forecast"===s&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"p-3 bg-purple-50 rounded-lg border-l-4 border-purple-500",children:[(0,x.jsx)("p",{className:"text-sm text-purple-700 font-medium",children:"Best Forecast"}),(0,x.jsx)("p",{className:"text-lg font-bold text-purple-800",children:"Brampton"}),(0,x.jsx)("p",{className:"text-xs text-purple-600",children:"9.1% growth expected"})]}),(0,x.jsxs)("div",{className:"p-3 bg-yellow-50 rounded-lg border-l-4 border-yellow-500",children:[(0,x.jsx)("p",{className:"text-sm text-yellow-700 font-medium",children:"Confidence Level"}),(0,x.jsx)("p",{className:"text-lg font-bold text-yellow-800",children:"Moderate"}),(0,x.jsx)("p",{className:"text-xs text-yellow-600",children:"Market uncertainty"})]})]})]})]}),(0,x.jsxs)("div",{className:"mt-6",children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800 mb-4",children:"Regional Market Analysis"}),(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m.map((e=>{const t=B.regional[e],s=H[e],a=D[e];return(0,x.jsxs)("div",{className:"p-4 rounded-lg border-2 border-gray-200 hover:border-gray-300 transition-all duration-200 bg-gradient-to-br from-white to-gray-50",children:[(0,x.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,x.jsx)("h5",{className:"font-semibold text-gray-800",children:e.replace(" Region","")}),(0,x.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(g(s.status))})]}),(0,x.jsxs)("div",{className:"space-y-2",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"Health:"}),(0,x.jsx)("span",{className:"font-bold ".concat((r=t.health,r>=80?"text-green-600":r>=70?"text-yellow-600":r>=60?"text-orange-600":"text-red-600")),children:t.health})]}),(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"Risk:"}),(0,x.jsx)("span",{className:"font-bold text-red-600",children:t.risk})]}),(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"Temperature:"}),(0,x.jsx)("span",{className:"font-medium text-orange-600",children:s.status})]}),(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"Forecast:"}),(0,x.jsxs)("span",{className:"font-medium text-purple-600",children:[a.priceGrowthNext12Months.toFixed(1),"%"]})]}),(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"P/I Ratio:"}),(0,x.jsxs)("span",{className:"font-medium text-gray-800",children:[F[e].ratio.toFixed(1),"x"]})]})]}),(0,x.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,x.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Outlook:"}),(0,x.jsx)("p",{className:"text-sm font-medium text-gray-800",children:a.outlook})]})]},e);var r}))})]}),(0,x.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,x.jsxs)("div",{className:"bg-red-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-red-800 mb-2",children:"Market Risks"}),(0,x.jsx)("p",{className:"text-sm text-red-600",children:"High overvaluation and interest rate sensitivity across all regions pose significant risks. Mississauga shows the highest risk profile with concerning affordability metrics."})]}),(0,x.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-yellow-800 mb-2",children:"Growth Outlook"}),(0,x.jsx)("p",{className:"text-sm text-yellow-600",children:"Price growth expected to moderate but remain elevated. Brampton offers the best growth prospects, while Mississauga faces correction pressure."})]}),(0,x.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,x.jsx)("h5",{className:"font-semibold text-blue-800 mb-2",children:"Investment Strategy"}),(0,x.jsx)("p",{className:"text-sm text-blue-600",children:"Market health remains strong but sustainability concerns growing. Diversification across regions and property types recommended to mitigate concentration risk."})]})]})]})}const E=a.memo(V);var K=s(32809),q=s(81645),U=s(39356),z=s(63733),W=s(76940),$=s(16868);s(42286);function J(){const e=(0,a.useRef)(),[t,s]=(0,a.useState)(null),[r,i]=(0,a.useState)("avgPrice"),[n,l]=(0,a.useState)("markers"),[o,c]=(0,a.useState)(!0),d=(0,a.useMemo)((()=>[{municipality:"Mississauga",geometry:[-79.6441,43.589],avgPrice:135e4,priceGrowth:11.9,affordabilityRate:45.2,riskScore:85,marketTemp:82,inventory:1.8},{municipality:"Brampton",geometry:[-79.7624,43.7315],avgPrice:115e4,priceGrowth:10.2,affordabilityRate:58.3,riskScore:74,marketTemp:74,inventory:2.3},{municipality:"Caledon",geometry:[-79.8711,43.8554],avgPrice:165e4,priceGrowth:7.6,affordabilityRate:28.1,riskScore:68,marketTemp:68,inventory:3.2},{municipality:"Oakville",geometry:[-79.6876,43.4675],avgPrice:175e4,priceGrowth:9.8,affordabilityRate:32.1,riskScore:78,marketTemp:79,inventory:1.5},{municipality:"Milton",geometry:[-79.8774,43.5183],avgPrice:145e4,priceGrowth:12.1,affordabilityRate:41.8,riskScore:76,marketTemp:81,inventory:2.1}]),[]);(0,a.useEffect)((()=>{try{const t=new K.A({basemap:"osm"}),a=new q.A({container:e.current,map:t,center:[-79.6441,43.6426],zoom:10,popup:{dockEnabled:!0,dockOptions:{position:"top-right",breakpoint:!1}}}),i=new z.A({title:"Housing Market Data"}),l=e=>{let t,s;switch(r){case"avgPrice":const a=e.avgPrice/165e4;t=a>.8?[220,38,127]:a>.7?[251,146,60]:[34,197,94],s=Math.max(20,e.avgPrice/5e4);break;case"riskScore":t=e.riskScore>80?[220,38,127]:e.riskScore>70?[251,146,60]:[34,197,94],s=Math.max(15,e.riskScore/3);break;case"marketTemp":t=e.marketTemp>80?[220,38,127]:e.marketTemp>70?[251,146,60]:[34,197,94],s=Math.max(15,e.marketTemp/3);break;default:t=[59,130,246],s=25}return new W.A({color:t,size:s,outline:{color:[255,255,255],width:2}})},o=()=>{i.removeAll(),d.forEach((e=>{const t=m(e);for(let s=0;s<t;s++){const t=.02*(Math.random()-.5),s=.02*(Math.random()-.5),a={type:"point",longitude:e.geometry[0]+s,latitude:e.geometry[1]+t},r=new W.A({color:[255,69,0,.8],size:8,outline:{color:[255,255,255,0],width:0}}),n=new U.A({geometry:a,symbol:r,attributes:e});i.add(n)}}))},m=e=>{let t;switch(r){case"avgPrice":default:t=Math.round(e.avgPrice/1e5);break;case"riskScore":t=Math.round(e.riskScore/10);break;case"marketTemp":t=Math.round(e.marketTemp/10);break;case"affordabilityRate":t=Math.round(e.affordabilityRate/10)}return Math.max(5,Math.min(25,t))},h=()=>{"heatmap"===n?o():(i.removeAll(),d.forEach((e=>{const t={type:"point",longitude:e.geometry[0],latitude:e.geometry[1]},s=new $.A({title:"{municipality} Housing Market",content:'\n              <div style="padding: 10px;">\n                <table style="width: 100%; border-collapse: collapse;">\n                  <tr><td><strong>Average Price:</strong></td><td>$'.concat(e.avgPrice.toLocaleString(),"</td></tr>\n                  <tr><td><strong>Price Growth:</strong></td><td>").concat(e.priceGrowth,"%</td></tr>\n                  <tr><td><strong>Affordability Rate:</strong></td><td>").concat(e.affordabilityRate,"%</td></tr>\n                  <tr><td><strong>Risk Score:</strong></td><td>").concat(e.riskScore,"/100</td></tr>\n                  <tr><td><strong>Market Temperature:</strong></td><td>").concat(e.marketTemp,"/100</td></tr>\n                  <tr><td><strong>Inventory (months):</strong></td><td>").concat(e.inventory,"</td></tr>\n                </table>\n              </div>\n            "),fieldInfos:[{fieldName:"municipality",visible:!1}]}),a=new U.A({geometry:t,symbol:l(e),attributes:e,popupTemplate:s});i.add(a)})))};return t.add(i),h(),s(a),c(!1),()=>{a&&a.destroy()}}catch(t){c(!1)}}),[r,n,d]),(0,a.useEffect)((()=>{}),[r,t]);return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"space-y-6 mb-8",children:[(0,x.jsx)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:(0,x.jsxs)("div",{children:[(0,x.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center mb-3",children:[(0,x.jsx)("span",{className:"mr-3",children:"\ud83d\uddfa\ufe0f"}),"Geographic Housing Market Analysis"]}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"Interactive map visualization of housing market trends across Peel Region"})]})}),(0,x.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Select Metric"}),(0,x.jsx)("div",{className:"flex flex-wrap gap-4",children:[{id:"avgPrice",label:"Average Prices",icon:"\ud83d\udcb0"},{id:"riskScore",label:"Risk Levels",icon:"\u26a0\ufe0f"},{id:"marketTemp",label:"Market Temperature",icon:"\ud83c\udf21\ufe0f"},{id:"affordabilityRate",label:"Affordability",icon:"\ud83c\udfe0"}].map((e=>(0,x.jsxs)("button",{onClick:()=>i(e.id),className:"\n                    px-5 py-3 text-sm font-medium rounded-lg transition-all duration-300 flex items-center space-x-3 shadow-sm min-w-[140px]\n                    ".concat(r===e.id?"bg-blue-600 text-white shadow-md transform scale-105":"bg-white text-gray-700 hover:bg-gray-50 hover:shadow-md border border-gray-200","\n                  "),children:[(0,x.jsx)("span",{className:"text-lg",children:e.icon}),(0,x.jsx)("span",{children:e.label})]},e.id)))})]}),(0,x.jsxs)("div",{className:"flex-shrink-0",children:[(0,x.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Visualization Type"}),(0,x.jsxs)("div",{className:"flex bg-gray-200 rounded-xl p-2 shadow-sm",children:[(0,x.jsxs)("button",{onClick:()=>l("markers"),className:"\n                  px-6 py-3 text-sm font-medium rounded-lg transition-all duration-300 flex items-center space-x-3 min-w-[120px] justify-center\n                  ".concat("markers"===n?"bg-blue-600 text-white shadow-md transform scale-105":"text-gray-700 hover:text-gray-900 hover:bg-gray-100","\n                "),children:[(0,x.jsx)("span",{className:"text-lg",children:"\ud83d\udccd"}),(0,x.jsx)("span",{children:"Markers"})]}),(0,x.jsxs)("button",{onClick:()=>l("heatmap"),className:"\n                  px-6 py-3 text-sm font-medium rounded-lg transition-all duration-300 flex items-center space-x-3 min-w-[120px] justify-center\n                  ".concat("heatmap"===n?"bg-orange-600 text-white shadow-md transform scale-105":"text-gray-700 hover:text-gray-900 hover:bg-gray-100","\n                "),children:[(0,x.jsx)("span",{className:"text-lg",children:"\ud83d\udd25"}),(0,x.jsx)("span",{children:"Heatmap"})]})]})]})]})]}),(0,x.jsxs)("div",{className:"relative",children:[o&&(0,x.jsx)("div",{className:"absolute inset-0 bg-gray-100 rounded-lg flex items-center justify-center z-10",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,x.jsx)("p",{className:"text-gray-600",children:"Loading ArcGIS Map..."})]})}),(0,x.jsx)("div",{ref:e,className:"w-full h-96 rounded-lg border border-gray-200",style:{minHeight:"400px"}})]}),(0,x.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,x.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:"Map Legend"}),(0,x.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,x.jsxs)("span",{children:["Low"," ","avgPrice"===r?"Price":"riskScore"===r?"Risk":"Temperature"]})]}),(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("div",{className:"w-4 h-4 bg-orange-500 rounded-full"}),(0,x.jsxs)("span",{children:["Medium"," ","avgPrice"===r?"Price":"riskScore"===r?"Risk":"Temperature"]})]}),(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),(0,x.jsxs)("span",{children:["High"," ","avgPrice"===r?"Price":"riskScore"===r?"Risk":"Temperature"]})]})]})]}),(0,x.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,x.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"Geographic Insights"}),(0,x.jsx)("p",{className:"text-sm text-blue-600",children:"Click on any municipality marker to view detailed housing market metrics and trends for that area."})]}),(0,x.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,x.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"Data Visualization"}),(0,x.jsx)("p",{className:"text-sm text-green-600",children:"Marker size and color represent the intensity of the selected metric. Larger, redder markers indicate higher values."})]})]})]})}const _=a.memo(J);var Y=s(45712);function X(e){let{selectedRegion:t,selectedHousingType:s}=e;const a=(0,h.hv)("keyMetrics",t,s),r=e=>{const t=e>0;return(0,x.jsxs)("span",{className:"".concat(Y.Ay.components.metric.change," flex items-center ").concat(t?Y.Ay.typography.success:Y.Ay.typography.danger),children:[(0,x.jsx)("span",{className:"text-lg mr-1",children:t?"\u2191":"\u2193"}),Math.abs(e),"%"]})},i=[{title:"Average Price",value:(n=(null===a||void 0===a?void 0:a.avgPrice)||0,new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0,maximumFractionDigits:0}).format(n||0)),change:(null===a||void 0===a?void 0:a.priceChange)||0,icon:"\ud83d\udcb0",bgGradient:Y.Ay.gradients.primary,shadowColor:Y.Ay.shadows.card,borderColor:Y.Ay.colors.primary[500]},{title:"Total Sales",value:((null===a||void 0===a?void 0:a.totalSales)||0).toLocaleString(),change:(null===a||void 0===a?void 0:a.salesChange)||0,icon:"\ud83d\udcca",bgGradient:Y.Ay.gradients.success,shadowColor:Y.Ay.shadows.card,borderColor:Y.Ay.colors.success[500]},{title:"Days on Market",value:(null===a||void 0===a?void 0:a.avgDaysOnMarket)||0,change:(null===a||void 0===a?void 0:a.daysChange)||0,icon:"\ud83d\udcc5",bgGradient:Y.Ay.gradients.warning,shadowColor:Y.Ay.shadows.card,borderColor:Y.Ay.colors.warning[500]},{title:"Active Inventory",value:((null===a||void 0===a?void 0:a.inventory)||0).toLocaleString(),change:(null===a||void 0===a?void 0:a.inventoryChange)||0,icon:"\ud83c\udfe0",bgGradient:Y.Ay.gradients.accent,shadowColor:Y.Ay.shadows.card,borderColor:Y.Ay.colors.accent[500]}];var n;return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("h3",{className:Y.Ay.typography.h3,children:"Key Performance Indicators"}),(0,x.jsxs)("p",{className:Y.Ay.typography.bodySmall,children:[t," - ",s]})]}),(0,x.jsx)("div",{className:Y.Ay.layout.gridResponsive4+" "+Y.Ay.spacing.gridGap,role:"region","aria-label":"Key performance metrics",children:i.map(((e,t)=>(0,x.jsx)("div",{className:"\n            ".concat(Y.Ay.animations.transition," ").concat(Y.Ay.animations.hoverScale," hover:-translate-y-2\n            animate-slide-up\n          "),style:{animationDelay:"".concat(100*t,"ms")},role:"article","aria-labelledby":"metric-".concat(t,"-title"),children:(0,x.jsxs)("div",{className:"\n            bg-gradient-to-br ".concat(e.bgGradient," ").concat(Y.Ay.borders.radius.medium," ").concat(Y.Ay.spacing.container," text-white\n            ").concat(e.shadowColor," hover:shadow-2xl ").concat(Y.Ay.animations.transition,"\n            relative overflow-hidden group\n          "),children:[(0,x.jsx)("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),(0,x.jsxs)("div",{className:"relative z-10",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,x.jsx)("h3",{id:"metric-".concat(t,"-title"),className:"text-white/90 font-medium text-sm uppercase tracking-wider",children:e.title}),(0,x.jsx)("span",{className:"text-3xl animate-pulse","aria-hidden":"true",children:e.icon})]}),(0,x.jsxs)("div",{className:"space-y-2",children:[(0,x.jsx)("p",{className:"text-3xl font-bold",children:e.value}),(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[r(e.change),(0,x.jsx)("span",{className:"text-xs text-white/70",children:"vs last month"})]})]})]}),(0,x.jsx)("div",{className:"absolute -bottom-2 -right-2 w-24 h-24 bg-white/10 rounded-full blur-xl"})]})},t)))})]})}const Q=a.memo(X);const Z=function(e){let{selectedRegion:t,selectedHousingType:s}=e;const{enhancedMetrics:r}=(0,h.Hp)(t,s),[i,n]=(0,a.useState)("price"),l={price:[{title:"Average Price",value:r.averagePrice,change:r.priceChange,isPositive:r.priceChange>0,icon:"\ud83d\udcb0",bgGradient:"from-blue-400 to-blue-600"},{title:"Median Price",value:r.medianPrice,change:r.medianPriceChange,isPositive:r.medianPriceChange>0,icon:"\ud83d\udcca",bgGradient:"from-indigo-400 to-indigo-600"},{title:"Price Per Sq Ft",value:r.pricePerSqFt,change:r.pricePerSqFtChange,isPositive:r.pricePerSqFtChange>0,icon:"\ud83d\udcd0",bgGradient:"from-purple-400 to-purple-600"},{title:"List-to-Sale Ratio",value:r.listToSaleRatio+"%",change:r.listToSaleChange,isPositive:r.listToSaleChange>0,icon:"\ud83c\udfaf",bgGradient:"from-pink-400 to-pink-600"}],activity:[{title:"Total Sales",value:r.totalSales.toLocaleString(),change:r.salesChange,isPositive:r.salesChange>0,icon:"\ud83d\uded2",bgGradient:"from-green-400 to-green-600"},{title:"Days on Market",value:r.daysOnMarket,change:r.daysOnMarketChange,isPositive:r.daysOnMarketChange<0,icon:"\u23f1\ufe0f",bgGradient:"from-yellow-400 to-yellow-600"},{title:"New Listings",value:r.newListings.toLocaleString(),change:r.newListingsChange,isPositive:r.newListingsChange>0,icon:"\ud83c\udfe1",bgGradient:"from-orange-400 to-orange-600"},{title:"Absorption Rate",value:r.absorptionRate+"%",change:r.absorptionRateChange,isPositive:r.absorptionRateChange>0,icon:"\ud83d\udcc8",bgGradient:"from-red-400 to-red-600"}],market:[{title:"Months of Inventory",value:r.monthsOfInventory,change:r.inventoryChange,isPositive:r.inventoryChange<0,icon:"\ud83d\udce6",bgGradient:"from-teal-400 to-teal-600"},{title:"Price-to-Income",value:r.priceToIncome+"x",change:r.priceToIncomeChange,isPositive:r.priceToIncomeChange<0,icon:"\ud83d\udcb3",bgGradient:"from-cyan-400 to-cyan-600"},{title:"Seller Market Index",value:r.sellerMarketIndex+"/100",change:null,isPositive:null,icon:"\ud83c\udfea",bgGradient:r.sellerMarketIndex>75?"from-red-400 to-red-600":r.sellerMarketIndex>50?"from-orange-400 to-orange-600":"from-green-400 to-green-600",description:r.sellerMarketIndex>75?"Strong Seller's Market":r.sellerMarketIndex>50?"Moderate Seller's Market":"Buyer's Market"},{title:"Affordability Index",value:r.affordabilityIndex+"/100",change:null,isPositive:null,icon:"\ud83c\udfe0",bgGradient:r.affordabilityIndex>75?"from-green-400 to-green-600":r.affordabilityIndex>50?"from-orange-400 to-orange-600":"from-red-400 to-red-600",description:r.affordabilityIndex>75?"High Affordability":r.affordabilityIndex>50?"Moderate Affordability":"Low Affordability"}]};return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Enhanced Market Metrics"}),(0,x.jsx)("div",{className:"flex flex-wrap border-b-2 border-gray-200 mb-6",children:[{id:"price",label:"Price Metrics",icon:"\ud83d\udcb0"},{id:"activity",label:"Activity Metrics",icon:"\ud83d\udcca"},{id:"market",label:"Market Conditions",icon:"\ud83c\udfea"}].map((e=>(0,x.jsxs)("button",{className:"\n                flex items-center space-x-2 py-3 px-6 font-medium transition-all duration-300\n                ".concat(i===e.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50","\n              "),onClick:()=>n(e.id),children:[(0,x.jsx)("span",{className:"text-xl",children:e.icon}),(0,x.jsx)("span",{children:e.label})]},e.id)))})]}),(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l[i].map(((e,t)=>(0,x.jsx)("div",{className:"\n              transform transition-all duration-500 hover:scale-105\n              ".concat(i?"translate-y-0 opacity-100":"translate-y-4 opacity-0","\n            "),style:{transitionDelay:"".concat(100*t,"ms")},children:(0,x.jsxs)("div",{className:"\n              bg-gradient-to-br ".concat(e.bgGradient," rounded-xl p-6 text-white\n              shadow-lg hover:shadow-2xl transition-shadow duration-300\n            "),children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,x.jsx)("h4",{className:"text-sm font-medium text-white/90",children:e.title}),(0,x.jsx)("span",{className:"text-2xl animate-pulse",children:e.icon})]}),(0,x.jsx)("p",{className:"text-2xl font-bold mb-2",children:e.value}),null!==e.change?(0,x.jsxs)("div",{className:"flex items-center space-x-1 text-sm ".concat(e.isPositive?"text-green-200":"text-red-200"),children:[(0,x.jsxs)("span",{className:"font-medium",children:[e.change>0?"+":"",e.change,"%"]}),(0,x.jsx)("span",{className:"text-lg",children:e.isPositive?"\u2191":"\u2193"})]}):e.description?(0,x.jsx)("div",{className:"text-sm text-white/90 font-medium",children:e.description}):null]})},e.title)))})]})};var ee=s(73243);const te=function(e){let{selectedHousingType:t}=e;const[s,i]=(0,a.useState)("averagePrice"),d=[{id:"averagePrice",name:"Average Price",icon:"\ud83d\udcb0",color:"#3B82F6"},{id:"pricePerSqFt",name:"Price per Sq Ft",icon:"\ud83d\udcd0",color:"#8B5CF6"},{id:"daysOnMarket",name:"Days on Market",icon:"\ud83d\udcc5",color:"#F59E0B"},{id:"absorptionRate",name:"Absorption Rate",icon:"\ud83d\udcca",color:"#10B981"}],m=(0,h.L6)(s,t),g=d.find((e=>e.id===s)),p="daysOnMarket"!==s,v=e=>{switch(s){case"averagePrice":return"$".concat((e/1e6).toFixed(2),"M");case"pricePerSqFt":return"$".concat(e);case"daysOnMarket":return"".concat(e," days");case"absorptionRate":return"".concat(e,"%");default:return e}},b=e=>{let{active:t,payload:s,label:a}=e;if(t&&s&&s.length){var r;const e=s[0].value,t=(null===(r=m.find((e=>e.name===a)))||void 0===r?void 0:r.ontarioAverage)||0,i=e-t,n=(i/t*100).toFixed(1);return(0,x.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-gray-200",children:[(0,x.jsx)("p",{className:"font-bold text-gray-800 mb-2",children:a}),(0,x.jsxs)("div",{className:"space-y-1",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"Region Value:"}),(0,x.jsx)("span",{className:"font-medium",children:v(e)})]}),(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"Ontario Avg:"}),(0,x.jsx)("span",{className:"font-medium",children:v(t)})]}),(0,x.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t ".concat(i>0&&p||i<0&&!p?"text-green-600":"text-red-600"),children:[(0,x.jsx)("span",{className:"text-sm font-medium",children:"Difference:"}),(0,x.jsxs)("span",{className:"font-bold",children:[i>0?"+":"",n,"%"]})]})]})]})}return null},j=(e,t)=>{const s=e-t;return s>0&&p||s<0&&!p?"#10B981":"#EF4444"};return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Regional Comparison"}),(0,x.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Compare ",t," across regions"]})]}),(0,x.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map((e=>(0,x.jsxs)("button",{className:"\n                flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg\n                transition-all duration-300 transform hover:scale-105\n                ".concat(s===e.id?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200","\n              "),onClick:()=>i(e.id),children:[(0,x.jsx)("span",{className:"text-lg",children:e.icon}),(0,x.jsx)("span",{className:"hidden sm:inline",children:e.name})]},e.id)))})]}),(0,x.jsx)(r.u,{width:"100%",height:400,children:(0,x.jsxs)(u.E,{data:m,margin:{top:20,right:30,left:40,bottom:60},layout:"vertical",children:[(0,x.jsx)("defs",{children:(0,x.jsxs)("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[(0,x.jsx)("stop",{offset:"5%",stopColor:g.color,stopOpacity:.8}),(0,x.jsx)("stop",{offset:"95%",stopColor:g.color,stopOpacity:.6})]})}),(0,x.jsx)(n.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,x.jsx)(l.W,{type:"number",tickFormatter:v,tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(o.h,{type:"category",dataKey:"name",width:100,tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),(0,x.jsx)(c.m,{content:(0,x.jsx)(b,{}),cursor:{fill:"rgba(59, 130, 246, 0.1)"}}),(0,x.jsx)(y.y,{dataKey:"value",name:"Regional Values",radius:[0,8,8,0],children:m.map(((e,t)=>(0,x.jsx)(k.f,{fill:j(e.value,e.ontarioAverage)},"cell-".concat(t))))}),(0,x.jsx)(y.y,{dataKey:"ontarioAverage",name:"Ontario Average",fill:"#9CA3AF",opacity:.7,radius:[0,8,8,0]}),(0,x.jsx)(ee.e,{x:m.length>0?m[0].ontarioAverage:0,stroke:"#9CA3AF",strokeDasharray:"5 5",strokeWidth:2,label:{value:"Ontario Avg",position:"topRight",fill:"#9CA3AF",fontSize:12,fontWeight:"bold"}})]})}),(0,x.jsx)("div",{className:"mt-4 mb-6 flex justify-center",children:(0,x.jsxs)("div",{className:"flex items-center space-x-6 text-sm",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("div",{className:"w-4 h-3 bg-green-500 rounded"}),(0,x.jsxs)("span",{className:"text-gray-700",children:[p?"Above Ontario Average":"Below Ontario Average"," ","(Better)"]})]}),(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("div",{className:"w-4 h-3 bg-red-500 rounded"}),(0,x.jsxs)("span",{className:"text-gray-700",children:[p?"Below Ontario Average":"Above Ontario Average"," ","(Worse)"]})]}),(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("div",{className:"w-4 h-3 bg-gray-400 rounded"}),(0,x.jsx)("span",{className:"text-gray-700",children:"Ontario Average"})]})]})}),(0,x.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,x.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Performance Summary"}),(0,x.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:m.map((e=>{const t=((e.value-e.ontarioAverage)/e.ontarioAverage*100).toFixed(1),s=t>0&&p||t<0&&!p;return(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"text-xs text-gray-600",children:e.name}),(0,x.jsxs)("p",{className:"text-lg font-bold ".concat(s?"text-green-600":"text-red-600"),children:[t>0?"+":"",t,"%"]})]},e.name)}))})]})]})},se=(e,t,s,a)=>{try{const a=(new Date).toISOString().split("T")[0],r="housing_dashboard_complete_".concat(e.replace(/\s+/g,"_"),"_").concat(t.replace(/\s+/g,"_"),"_").concat(a),i=[];i.push({Section:"EXPORT SUMMARY",Region:e,"Housing Type":t,"Export Date":(new Date).toLocaleString(),"Total Records":"See below sections","Data Source":"Housing Market Dashboard","Generated By":"Claude Code Assistant"}),i.push({}),i.push({Section:"=== KEY PERFORMANCE INDICATORS ===",Region:e,"Housing Type":t});const n=(0,h.hv)("keyMetrics",e,t)||{avgPrice:1245e3,priceChange:5.2,totalSales:1400,salesChange:3.7,avgDaysOnMarket:18,daysChange:-2.5,inventory:3500,inventoryChange:-8.3};i.push({Metric:"Average Price",Value:n.avgPrice,"Change (%)":n.priceChange,Unit:"CAD",Period:"Current Month"}),i.push({Metric:"Total Sales",Value:n.totalSales,"Change (%)":n.salesChange,Unit:"Properties",Period:"Current Month"}),i.push({Metric:"Average Days on Market",Value:n.avgDaysOnMarket,"Change (%)":n.daysChange,Unit:"Days",Period:"Current Month"}),i.push({Metric:"Active Inventory",Value:n.inventory,"Change (%)":n.inventoryChange,Unit:"Properties",Period:"Current Month"}),i.push({}),i.push({Section:"=== GEOGRAPHIC MARKET DATA ===",Description:"Municipal-level housing market data"}),s.forEach((e=>{i.push({Municipality:e.municipality,Longitude:e.geometry[0],Latitude:e.geometry[1],"Average Price ($)":e.avgPrice,"Price Growth (%)":e.priceGrowth,"Affordability Rate (%)":e.affordabilityRate,"Risk Score":e.riskScore,"Market Temperature":e.marketTemp,"Inventory (months)":e.inventory})})),i.push({}),i.push({Section:"=== MARKET HEALTH INDICATORS ===",Description:"Comprehensive market analysis and forecasts"});Object.keys(B.regional).forEach((e=>{const t=B.regional[e],s=H[e],a=O[e],r=D[e],n=F[e];i.push({Region:e,"Health Score":t.health,"Risk Score":t.risk,"Opportunity Score":t.opportunity,"Market Temperature":s.overall,"Market Status":s.status,"Price Growth (%)":s.priceGrowth,"Sales Volume Score":s.salesVolume,"Inventory Score":s.inventory,"Time on Market Score":s.timeOnMarket,"Risk Score Details":a.riskScore,"Overvaluation Risk":a.overvaluation,"Interest Rate Sensitivity":a.interestRateSensitivity,"Price to Income Ratio":n.ratio,"Affordability Index":n.affordabilityIndex,"Forecast Growth 12M (%)":r.priceGrowthNext12Months,"Forecast Confidence":r.confidence,"Market Outlook":r.outlook})})),i.push({}),i.push({Section:"=== HOUSING TYPE DISTRIBUTION ===",Description:"Market share and pricing by property type"});[{type:"Detached",share:45.2,avgPrice:165e4},{type:"Semi-Detached",share:22.1,avgPrice:125e4},{type:"Townhouse",share:18.7,avgPrice:95e4},{type:"Condo",share:12.8,avgPrice:65e4},{type:"Other",share:1.2,avgPrice:85e4}].forEach((t=>{i.push({"Housing Type":t.type,"Market Share (%)":t.share,"Average Price ($)":t.avgPrice,Region:e})})),i.push({}),i.push({Section:"=== MARKET TRENDS (12 MONTHS) ===",Description:"Historical price and sales trends"});const l=(0,h.hv)("priceChart",e,t);l&&l.length>0&&l.forEach((s=>{i.push({Month:s.month,"Average Price ($)":s.price,Region:e,"Housing Type":t})})),i.push({}),i.push({Section:"=== SALES VOLUME TRENDS ===",Description:"Monthly sales volume data"});const o=(0,h.hv)("salesChart",e,t);o&&o.length>0&&o.forEach((s=>{i.push({Month:s.month,"Sales Volume":s.sales,Region:e,"Housing Type":t})})),i.push({}),i.push({Section:"=== MARKET HEALTH TRENDS ===",Description:"Historical health score trends"});const c=I[e];return c&&c.length>0&&c.forEach((t=>{i.push({Month:t.month,"Health Score":t.healthScore,"Price Growth (%)":t.priceGrowth,"Sales Activity":t.salesActivity,"Market Confidence":t.marketConfidence,Region:e})})),((e,t)=>{if(!e||0===e.length)return;const s=Object.keys(e[0]),a=[s.join(","),...e.map((e=>s.map((t=>{let s=e[t];return"string"===typeof s&&(s.includes(",")||s.includes('"')||s.includes("\n"))&&(s='"'.concat(s.replace(/"/g,'""'),'"')),s})).join(",")))].join("\n"),r=new Blob([a],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(void 0!==i.download){const e=URL.createObjectURL(r);i.setAttribute("href",e),i.setAttribute("download","".concat(t,".csv")),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}})(i,r),!0}catch(r){return!1}};const ae=function(e){var t;let{selectedRegion:s,selectedHousingType:a}=e;return(0,x.jsx)("main",{className:"flex-1 p-6 bg-gradient-to-br from-gray-50 to-gray-100 overflow-y-auto overflow-x-hidden",children:(0,x.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,x.jsx)("div",{className:"mb-8 animate-fade-in",children:(0,x.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("h2",{className:"text-4xl font-bold text-gray-800 mb-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600",children:[s," - ",a]}),(0,x.jsx)("p",{className:"text-gray-600 text-lg",children:"Real-time housing market analytics and trends for February 2025"})]}),(0,x.jsx)("div",{className:"flex-shrink-0",children:(0,x.jsxs)("button",{onClick:()=>{se(s,a,[{municipality:"Mississauga",geometry:[-79.6441,43.589],avgPrice:135e4,priceGrowth:11.9,affordabilityRate:45.2,riskScore:85,marketTemp:82,inventory:1.8},{municipality:"Brampton",geometry:[-79.7624,43.7315],avgPrice:115e4,priceGrowth:10.2,affordabilityRate:58.3,riskScore:74,marketTemp:74,inventory:2.3},{municipality:"Caledon",geometry:[-79.8711,43.8554],avgPrice:165e4,priceGrowth:7.6,affordabilityRate:28.1,riskScore:68,marketTemp:68,inventory:3.2},{municipality:"Oakville",geometry:[-79.6876,43.4675],avgPrice:175e4,priceGrowth:9.8,affordabilityRate:32.1,riskScore:78,marketTemp:79,inventory:1.5},{municipality:"Milton",geometry:[-79.8774,43.5183],avgPrice:145e4,priceGrowth:12.1,affordabilityRate:41.8,riskScore:76,marketTemp:81,inventory:2.1}])},className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white text-sm font-semibold rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-300 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,x.jsx)("span",{className:"text-lg",children:"\ud83d\udcca"}),(0,x.jsx)("span",{children:"Export All Data"})]})})]})}),(0,x.jsx)("div",{className:"mb-8 animate-slide-up",style:{animationDelay:"100ms"},children:(0,x.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:(0,x.jsx)(Q,{selectedRegion:s,selectedHousingType:a})})}),(0,x.jsx)("div",{className:"mb-8 animate-slide-up",style:{animationDelay:"200ms"},children:(0,x.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:(0,x.jsx)(Z,{selectedRegion:s,selectedHousingType:a})})}),(0,x.jsx)("div",{className:"mb-8 animate-slide-up",style:{animationDelay:"250ms"},children:(0,x.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[(0,x.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Housing Type Analysis"}),(0,x.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,x.jsx)(S,{selectedRegion:s}),(0,x.jsx)(M,{selectedRegion:s})]})]})}),(0,x.jsx)("div",{className:"mb-8 animate-slide-up",style:{animationDelay:"275ms"},children:(0,x.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:(0,x.jsx)(C,{selectedRegion:s})})}),(0,x.jsx)("div",{className:"mb-8 animate-slide-up",style:{animationDelay:"285ms"},children:(0,x.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:(0,x.jsx)(L,{selectedRegion:s})})}),(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,x.jsx)("div",{className:"animate-slide-up",style:{animationDelay:"300ms"},children:(0,x.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 h-full transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[(0,x.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,x.jsx)("span",{className:"mr-2",children:"\ud83d\udcc8"}),"Average Price Trends"]}),(0,x.jsx)(p,{selectedRegion:s,selectedHousingType:a})]})}),(0,x.jsx)("div",{className:"animate-slide-up",style:{animationDelay:"400ms"},children:(0,x.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 h-full transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[(0,x.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,x.jsx)("span",{className:"mr-2",children:"\ud83d\udcca"}),"Monthly Sales Volume"]}),(0,x.jsx)(v,{selectedRegion:s,selectedHousingType:a})]})})]}),(0,x.jsx)("div",{className:"mb-8 animate-slide-up",style:{animationDelay:"500ms"},children:(0,x.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:(0,x.jsx)(f,{selectedRegion:s,selectedHousingType:a})})}),(0,x.jsx)("div",{className:"mb-8 animate-slide-up",style:{animationDelay:"600ms"},children:(0,x.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:(0,x.jsx)(te,{selectedHousingType:a})})}),(0,x.jsx)("div",{className:"mb-8 animate-slide-up",style:{animationDelay:"700ms"},children:(0,x.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:(0,x.jsx)(E,{})})}),(0,x.jsx)("div",{className:"mb-8 animate-slide-up",style:{animationDelay:"725ms"},children:(0,x.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:(0,x.jsx)(_,{})})}),(0,x.jsx)("div",{className:"mb-8 animate-slide-up",style:{animationDelay:"750ms"},children:(0,x.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[(0,x.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[(0,x.jsx)("span",{className:"mr-2",children:"\ud83d\udca1"}),"Market Insights & Recommendations"]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,x.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-blue-50 rounded-lg transform transition-all duration-300 hover:scale-105",children:[(0,x.jsx)("span",{className:"text-3xl animate-bounce",children:"\ud83d\udcc8"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800 mb-1",children:"Price Trend Analysis"}),(0,x.jsxs)("p",{className:"text-sm text-gray-600",children:[s," shows strong price appreciation with"," ",a," properties leading the market growth"]})]})]}),(0,x.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-green-50 rounded-lg transform transition-all duration-300 hover:scale-105",children:[(0,x.jsx)("span",{className:"text-3xl animate-pulse",children:"\ud83c\udfd8\ufe0f"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800 mb-1",children:"Market Activity"}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"High buyer demand with limited inventory creating competitive bidding situations"})]})]}),(0,x.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-yellow-50 rounded-lg transform transition-all duration-300 hover:scale-105",children:[(0,x.jsx)("span",{className:"text-3xl animate-spin-slow",children:"\u23f1\ufe0f"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800 mb-1",children:"Speed of Sales"}),(0,x.jsxs)("p",{className:"text-sm text-gray-600",children:["Properties selling"," ",Math.abs((null===(t=(0,h.hv)("keyMetrics",s,a))||void 0===t?void 0:t.daysChange)||2.5),"% faster than last month"]})]})]}),(0,x.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-purple-50 rounded-lg transform transition-all duration-300 hover:scale-105",children:[(0,x.jsx)("span",{className:"text-3xl animate-wiggle",children:"\ud83c\udfaf"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800 mb-1",children:"Strategic Recommendation"}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"Optimal time for sellers to list. Buyers should act quickly with pre-approved financing"})]})]})]})]})})]})})}}}]);
//# sourceMappingURL=3701.2e6c47ad.chunk.js.map