"use strict";(self.webpackChunkhousing_dashboard=self.webpackChunkhousing_dashboard||[]).push([[3777],{4414:(e,t,s)=>{s.d(t,{O3:()=>h,PU:()=>u,YW:()=>f,ex:()=>l,hv:()=>d,zp:()=>a});var i=s(15941),o=s(76931),r=s(43047),n=s(55855);const l=2.4;function a(e){return(0,o.PN)(e*l)}function u(e){return(0,o.Lz)(e)/l}function c(e,t,s,o){let{color:n,ratio:l}=t,{color:a,ratio:u}=s;if(u===l){const e=1e-6;1===u?l-=e:u+=e}const c=(0,i.qE)((o-l)/(u-l),0,1);(0,r.l)(e,n.toArray(),a.toArray(),c)}function h(e){const t=new Uint8ClampedArray(2048);if(e=e.filter((e=>{let{ratio:t}=e;return t>=0&&t<=1})).sort(((e,t)=>e.ratio-t.ratio)).map((e=>{let{color:t,ratio:s}=e;return{color:t,ratio:Math.max(s,.001)}})),e.length<1)return t;let s=e[0],i=e[0],o=1;const r=(0,n.vt)();for(let n=0;n<512;n++){const l=(n+.5)/512;for(;l>i.ratio&&o<e.length;)s=i,i=e[o++];c(r,s,i,l),t.set(r,4*n)}return t}function d(e,t,s){const i=Math.sqrt(e**2+t**2)/s;return i>1?0:3/(Math.PI*s**2)*(1-i**2)**2}function f(e){return"function"==typeof e?e:e?t=>+t[e]:()=>1}},5766:(e,t,s)=>{s.d(t,{A:()=>f});var i,o=s(35143),r=s(53084),n=s(46053),l=(s(81806),s(76460),s(6409)),a=s(85842),u=s(71832),c=s(37287),h=s(23243);let d=i=class extends((0,c.h)(u.A)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.symbols.map((s=>s.collectRequiredFields(e,t))))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){var e,t;return null!==(e=null===(t=this.visualVariables)||void 0===t?void 0:t.reduce(((e,t)=>e+t.getAttributeHash()),""))&&void 0!==e?e:""}getMeshHash(){return this.symbols.reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new i({description:this.description,label:this.label,symbol:(0,r.o8)(this.symbol),visualVariables:(0,r.o8)(this.visualVariables),authoringInfo:(0,r.o8)(this.authoringInfo)})}};(0,o._)([(0,n.MZ)({type:String,json:{write:!0}})],d.prototype,"description",void 0),(0,o._)([(0,n.MZ)({type:String,json:{write:!0}})],d.prototype,"label",void 0),(0,o._)([(0,n.MZ)(h.Wp)],d.prototype,"symbol",void 0),(0,o._)([(0,l.e)({simple:"simple"})],d.prototype,"type",void 0),d=i=(0,o._)([(0,a.$)("esri.renderers.SimpleRenderer")],d);const f=d},29380:(e,t,s)=>{s.d(t,{A:()=>c});var i,o=s(35143),r=s(42553),n=s(46053),l=(s(81806),s(76460),s(47249),s(85842)),a=s(23243);let u=i=class extends r.A{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){var e,t;return new i({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:null!==(e=null===(t=this.symbol)||void 0===t?void 0:t.clone())&&void 0!==e?e:null})}getMeshHash(){const e=JSON.stringify(this.symbol);return"".concat(this.minValue,".").concat(this.maxValue,".").concat(e)}};(0,o._)([(0,n.MZ)({type:String,json:{write:!0}})],u.prototype,"description",void 0),(0,o._)([(0,n.MZ)({type:String,json:{write:!0}})],u.prototype,"label",void 0),(0,o._)([(0,n.MZ)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],u.prototype,"minValue",void 0),(0,o._)([(0,n.MZ)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],u.prototype,"maxValue",void 0),(0,o._)([(0,n.MZ)(a.Wp)],u.prototype,"symbol",void 0),u=i=(0,o._)([(0,l.$)("esri.renderers.support.ClassBreakInfo")],u);const c=u},53521:(e,t,s)=>{s.d(t,{q:()=>o});var i=s(79369);class o{constructor(e,t){this._storage=new i.F,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this),t&&this._storage.registerRemoveFunc("",t)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._storage.put(this,e,t,s,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},63844:(e,t,s)=>{s.d(t,{A:()=>A});var i,o=s(89379),r=s(35143),n=s(45802),l=s(53084),a=s(76460),u=s(46053),c=s(21403),h=s(6409),d=s(28379),f=s(85842),p=s(17707),y=s(40565),m=s(53430),g=s(71832),v=s(37287),_=s(29380),b=s(23243),x=s(84563),z=s(98976),S=s(94725);const w="percent-of-total",k="field",M=new n.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:w,esriNormalizeByField:k}),I=(0,y.dp)(_.A);let F=i=class extends((0,v.h)(g.A)){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,s){if(!Array.isArray(e))return;let i=t.minValue;return e.map((e=>{const t=new _.A;return t.read(e,s),null==t.minValue&&(t.minValue=i),null==t.maxValue&&(t.maxValue=t.minValue),i=t.maxValue,t}))}writeClassBreakInfos(e,t,s,i){const o=e.map((e=>e.write({},i)));this._areClassBreaksConsecutive()&&o.forEach((e=>delete e.classMinValue)),t[s]=o}castField(e){return null==e?e:"function"==typeof e?(a.A.getLogger(this).error(".field: field must be a string value"),null):(0,y.GX)(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,s=null!=this.normalizationTotal;return t||s?(e=t&&k||s&&w||null,t&&s&&a.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==k&&e!==w||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,s){let i=null;i="number"==typeof e?new _.A({minValue:e,maxValue:t,symbol:(0,S.dp)(s)}):I((0,l.o8)(e)),this.classBreakInfos.push(i),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const s=this.classBreakInfos.length;for(let i=0;i<s;i++){const s=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(s[0]===e&&s[1]===t){this.classBreakInfos.splice(i,1);break}}}getBreakIndex(e,t){return this.valueExpression&&null==(null===t||void 0===t?void 0:t.arcade)&&a.A.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let s=t;this.valueExpression&&null==(null===t||void 0===t?void 0:t.arcade)&&(s=(0,o.A)((0,o.A)({},s),{},{arcade:await(0,z.lw)()}));const i=this.getBreakIndex(e,s);return-1!==i?this.classBreakInfos[i]:null}getSymbol(e,t){if(this.valueExpression&&null==(null===t||void 0===t?void 0:t.arcade))return void a.A.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const s=this.getBreakIndex(e,t);return s>-1?this.classBreakInfos[s].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let s=t;if(this.valueExpression&&null==(null===t||void 0===t?void 0:t.arcade)){const e=await(0,z.lw)(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),s=(0,o.A)((0,o.A)({},s),{},{arcade:e})}const i=this.getBreakIndex(e,s);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}get symbols(){const e=[];return this.classBreakInfos.forEach((t=>{t.symbol&&e.push(t.symbol)})),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){var e,t;return null!==(e=null===(t=this.visualVariables)||void 0===t?void 0:t.reduce(((e,t)=>e+t.getAttributeHash()),""))&&void 0!==e?e:""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),s="".concat(this.normalizationField,".").concat(this.normalizationType,".").concat(this.normalizationTotal);return"".concat(e,".").concat(t,".").concat(this.classBreakInfos.reduce(((e,t)=>e+t.getMeshHash()),""),".").concat(s,".").concat(this.field,".").concat(this.valueExpression)}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var e,t;return new i({field:this.field,backgroundFillSymbol:null===(e=this.backgroundFillSymbol)||void 0===e?void 0:e.clone(),defaultLabel:this.defaultLabel,defaultSymbol:null===(t=this.defaultSymbol)||void 0===t?void 0:t.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,l.o8)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,l.o8)(this.visualVariables),legendOptions:(0,l.o8)(this.legendOptions),authoringInfo:(0,l.o8)(this.authoringInfo)})}async collectRequiredFields(e,t){const s=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(s)}async collectSymbolFields(e,t){const s=[...this.symbols.map((s=>s.collectRequiredFields(e,t))),(0,m.Dx)(e,t,this.valueExpression)];(0,m.rq)(e,t,this.field),(0,m.rq)(e,t,this.normalizationField),await Promise.all(s)}_getBreakIndexForExpression(e,t){const{viewingMode:s,scale:i,spatialReference:o,arcade:r,timeZone:n}=null!==t&&void 0!==t?t:{},{valueExpression:l}=this;let a=this._compiledValueExpression.valueExpression===l?this._compiledValueExpression.compiledFunction:null;const u=r.arcadeUtils;if(!a){const e=u.createSyntaxTree(l);a=u.createFunction(e),this._compiledValueExpression.compiledFunction=a}this._compiledValueExpression.valueExpression=l;const c=u.executeFunction(a,u.createExecContext(e,u.getViewInfo({viewingMode:s,scale:i,spatialReference:o}),n));return this._getBreakIndexfromInfos(c)}_getBreakIndexForField(e){const t=this.field,s=e.attributes,i=this.normalizationType;let o=parseFloat(s[t]);if(i){const e=this.normalizationTotal,t=parseFloat(this.normalizationField?s[this.normalizationField]:void 0);if("log"===i)o=Math.log(o)*Math.LOG10E;else if(i!==w||null==e||isNaN(e)){if(i===k&&!isNaN(t)){if(isNaN(o)||isNaN(t))return-1;o/=t}}else o=o/e*100}return this._getBreakIndexfromInfos(o)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(null!=e&&"number"==typeof e&&!isNaN(e))for(let s=0;s<this.classBreakInfos.length;s++){const i=[this.classBreakInfos[s].minValue,this.classBreakInfos[s].maxValue];if(i[0]<=e&&(t?e<=i[1]:e<i[1]))return s}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let s=1;s<t;s++)if(e[s-1].maxValue!==e[s].minValue)return!1;return!0}};(0,r._)([(0,u.MZ)(b.As)],F.prototype,"backgroundFillSymbol",void 0),(0,r._)([(0,u.MZ)({type:[_.A],json:{write:{isRequired:!0}}})],F.prototype,"classBreakInfos",void 0),(0,r._)([(0,d.w)("classBreakInfos")],F.prototype,"readClassBreakInfos",null),(0,r._)([(0,p.K)("classBreakInfos")],F.prototype,"writeClassBreakInfos",null),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],F.prototype,"defaultLabel",void 0),(0,r._)([(0,u.MZ)(b.z4)],F.prototype,"defaultSymbol",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],F.prototype,"field",void 0),(0,r._)([(0,c.w)("field")],F.prototype,"castField",null),(0,r._)([(0,u.MZ)({type:Boolean})],F.prototype,"isMaxInclusive",void 0),(0,r._)([(0,u.MZ)({type:x.A,json:{write:!0}})],F.prototype,"legendOptions",void 0),(0,r._)([(0,u.MZ)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],F.prototype,"minValue",null),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],F.prototype,"normalizationField",void 0),(0,r._)([(0,u.MZ)({type:Number,json:{write:!0}})],F.prototype,"normalizationTotal",void 0),(0,r._)([(0,u.MZ)({type:M.apiValues,value:null,json:{type:M.jsonValues,read:M.read,write:M.write}})],F.prototype,"normalizationType",null),(0,r._)([(0,h.e)({classBreaks:"class-breaks"})],F.prototype,"type",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],F.prototype,"valueExpression",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],F.prototype,"valueExpressionTitle",void 0),F=i=(0,r._)([(0,f.$)("esri.renderers.ClassBreaksRenderer")],F);const A=F},69834:(e,t,s)=>{s.d(t,{Jy:()=>g,Ox:()=>m,Qm:()=>b,Sp:()=>_,_4:()=>y});var i=s(86560),o=s(55171),r=s(16868),n=s(3825),l=s(53084),a=s(90534),u=s(13312),c=s(42294),h=s(65391),d=s(86616),f=s(77725);const p={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function y(e){var t;const s=e.folders||[],i=s.slice(),o=new Map,r=new Map,n=new Map,a=new Map,u=new Map,c={esriGeometryPoint:r,esriGeometryPolyline:n,esriGeometryPolygon:a};((null===(t=e.featureCollection)||void 0===t?void 0:t.layers)||[]).forEach((e=>{const t=(0,l.o8)(e);t.featureSet.features=[];const s=e.featureSet.geometryType;o.set(s,t);const i=e.layerDefinition.objectIdField;"esriGeometryPoint"===s?v(r,i,e.featureSet.features):"esriGeometryPolyline"===s?v(n,i,e.featureSet.features):"esriGeometryPolygon"===s&&v(a,i,e.featureSet.features)})),e.groundOverlays&&e.groundOverlays.forEach((e=>{u.set(e.id,e)})),s.forEach((t=>{t.networkLinkIds.forEach((s=>{const o=function(e,t,s){const i=function(e,t){let s;return t.some((t=>t.id===e&&(s=t,!0))),s}(e,s);return i&&(i.parentFolderId=t,i.networkLink=i),i}(s,t.id,e.networkLinks);o&&i.push(o)}))})),i.forEach((e=>{if(e.featureInfos){e.points=(0,l.o8)(o.get("esriGeometryPoint")),e.polylines=(0,l.o8)(o.get("esriGeometryPolyline")),e.polygons=(0,l.o8)(o.get("esriGeometryPolygon")),e.mapImages=[];for(const s of e.featureInfos)switch(s.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":{var t;const i=c[s.type].get(s.id);i&&(null===(t=e[p[s.type]])||void 0===t||t.featureSet.features.push(i));break}case"GroundOverlay":{const t=u.get(s.id);t&&e.mapImages.push(t);break}}e.fullExtent=b([e])}}));const h=b(i);return{folders:s,sublayers:i,extent:h}}function m(e,t,s,r){const l=null===o.id||void 0===o.id?void 0:o.id.findCredential(e);e=(0,a.a6)(e,{token:null===l||void 0===l?void 0:l.token});const u=i.A.kmlServiceUrl;return(0,n.A)(u,{query:{url:e,model:"simple",folders:"",refresh:0!==s||void 0,outSR:JSON.stringify(t)},responseType:"json",signal:r})}function g(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o=[],r={},n=t.sublayers,l=new Set(t.folders.map((e=>e.id)));return n.forEach((t=>{const n=new e;if(s?n.read(t,s):n.read(t),i.length&&l.has(n.id)&&(n.visible=i.includes(n.id)),r[t.id]=n,null!=t.parentFolderId&&-1!==t.parentFolderId){var a;const e=r[t.parentFolderId];e.sublayers||(e.sublayers=[]),null===(a=e.sublayers)||void 0===a||a.unshift(n)}else o.unshift(n)})),o}function v(e,t,s){s.forEach((s=>{e.set(s.attributes[t],s)}))}async function _(e){const t=f.A.fromJSON(e.featureSet).features,s=e.layerDefinition,i=(0,d.r)(s.drawingInfo.renderer),o=r.A.fromJSON(e.popupInfo),n=[];for(const r of t){const e=await i.getSymbolAsync(r);r.symbol=e,r.popupTemplate=o,r.visible=!0,n.push(r)}return n}function b(e){const t=(0,c.vt)(c.qv),s=(0,c.vt)(c.qv);for(const n of e){var i,o,r;if(null!==(i=n.polygons)&&void 0!==i&&null!==(i=i.featureSet)&&void 0!==i&&i.features)for(const e of n.polygons.featureSet.features)(0,h.LJ)(t,e.geometry),(0,c.RF)(s,t);if(null!==(o=n.polylines)&&void 0!==o&&null!==(o=o.featureSet)&&void 0!==o&&o.features)for(const e of n.polylines.featureSet.features)(0,h.LJ)(t,e.geometry),(0,c.RF)(s,t);if(null!==(r=n.points)&&void 0!==r&&null!==(r=r.featureSet)&&void 0!==r&&r.features)for(const e of n.points.featureSet.features)(0,h.LJ)(t,e.geometry),(0,c.RF)(s,t);if(n.mapImages)for(const e of n.mapImages)(0,h.LJ)(t,e.extent),(0,c.RF)(s,t)}return(0,c.aI)(s,c.qv)?void 0:{xmin:s[0],ymin:s[1],zmin:s[2],xmax:s[3],ymax:s[4],zmax:s[5],spatialReference:u.A.WGS84}}},77725:(e,t,s)=>{s.d(t,{A:()=>_});var i,o=s(35143),r=s(39356),n=s(45802),l=s(42553),a=s(53084),u=s(46053),c=(s(81806),s(76460),s(28379)),h=s(85842),d=s(17707),f=s(13312),p=s(19902),y=s(31608),m=s(44135);const g=new n.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let v=i=class extends l.A{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,r.A)}writeGeometryType(e,t,s,i){if(e)return void g.write(e,t,s,i);const{features:o}=this;if(o)for(const r of o)if(null!=(null===r||void 0===r?void 0:r.geometry))return void g.write(r.geometry.type,t,s,i)}readQueryGeometry(e,t){if(!e)return null;const s=!!e.spatialReference,i=(0,p.rS)(e);return i&&!s&&t.spatialReference&&(i.spatialReference=f.A.fromJSON(t.spatialReference)),i}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:s}=this;if(s)for(const i of s)if(i&&null!=i.geometry&&i.geometry.spatialReference)return void(t.spatialReference=i.geometry.spatialReference.toJSON())}clone(){return new i(this.cloneProperties())}cloneProperties(){return(0,a.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let s=0;s<t.features.length;s++){const i=t.features[s];if(i.geometry){const t=null===e||void 0===e?void 0:e[s];i.geometry=(null===t||void 0===t?void 0:t.toJSON())||i.geometry}}return t}quantize(e){const{scale:[t,s],translate:[i,o]}=e,r=this.features,n=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-i)/t)),(e=>Math.round((o-e)/s)));for(let l=0,a=r.length;l<a;l++)(null===n||void 0===n?void 0:n(r[l].geometry))||(r.splice(l,1),l--,a--);return this.transform=e,this}unquantize(){var e,t;const{geometryType:s,features:i,transform:o}=this;if(!o)return this;const{translate:[r,n],scale:[l,a]}=o;let u=null,c=null;if(this.hasZ&&null!=(null===o||void 0===o||null===(e=o.scale)||void 0===e?void 0:e[2])){const{translate:[,,e],scale:[,,t]}=o;u=s=>s*t+e}if(this.hasM&&null!=(null===o||void 0===o||null===(t=o.scale)||void 0===t?void 0:t[3])){const{translate:[,,,e],scale:[,,,t]}=o;c=s=>null==s?s:s*t+e}const h=this._getHydrationFunction(s,(e=>e*l+r),(e=>n-e*a),u,c);for(const{geometry:d}of i)null!=d&&h&&h(d);return this.transform=null,this}readFeaturesWithClass(e,t,s){const i=f.A.fromJSON(t.spatialReference),o=[];for(let n=0;n<e.length;n++){var r;const t=e[n],l=s.fromJSON(t),a=null===(r=t.geometry)||void 0===r?void 0:r.spatialReference;null==l.geometry||a||(l.geometry.spatialReference=i);const u=t.aggregateGeometries,c=l.aggregateGeometries;if(u&&null!=c)for(const e in c){const t=c[e],s=u[e],o=null===s||void 0===s?void 0:s.spatialReference;null==t||o||(t.spatialReference=i)}o.push(l)}return o}_quantizePoints(e,t,s){let i,o;const r=[];for(let n=0,l=e.length;n<l;n++){const l=e[n];if(n>0){const e=t(l[0]),n=s(l[1]);e===i&&n===o||(r.push([e-i,n-o]),i=e,o=n)}else i=t(l[0]),o=s(l[1]),r.push([i,o])}return r.length>0?r:null}_getQuantizationFunction(e,t,s){return"point"===e?e=>(e.x=t(e.x),e.y=s(e.y),e):"polyline"===e||"polygon"===e?e=>{const i=(0,p.Bi)(e)?e.rings:e.paths,o=[];for(let r=0,n=i.length;r<n;r++){const e=i[r],n=this._quantizePoints(e,t,s);n&&o.push(n)}return o.length>0?((0,p.Bi)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?e=>{const i=this._quantizePoints(e.points,t,s);return i&&i.length>0?(e.points=i,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,s,i,o){return"point"===e?e=>{e.x=t(e.x),e.y=s(e.y),i&&(e.z=i(e.z))}:"polyline"===e||"polygon"===e?e=>{const r=(0,p.Bi)(e)?e.rings:e.paths;let n,l;for(let i=0,o=r.length;i<o;i++){const e=r[i];for(let i=0,o=e.length;i<o;i++){const o=e[i];i>0?(n+=o[0],l+=o[1]):(n=o[0],l=o[1]),o[0]=t(n),o[1]=s(l)}}if(i&&o)for(let t=0,s=r.length;t<s;t++){const e=r[t];for(let t=0,s=e.length;t<s;t++){const s=e[t];s[2]=i(s[2]),s[3]=o(s[3])}}else if(i)for(let t=0,s=r.length;t<s;t++){const e=r[t];for(let t=0,s=e.length;t<s;t++){const s=e[t];s[2]=i(s[2])}}else if(o)for(let t=0,s=r.length;t<s;t++){const e=r[t];for(let t=0,s=e.length;t<s;t++){const s=e[t];s[2]=o(s[2])}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=s(e.ymin),e.xmax=t(e.xmax),e.ymax=s(e.ymax),i&&null!=e.zmax&&null!=e.zmin&&(e.zmax=i(e.zmax),e.zmin=i(e.zmin)),o&&null!=e.mmax&&null!=e.mmin&&(e.mmax=o(e.mmax),e.mmin=o(e.mmin))}:"multipoint"===e?e=>{const r=e.points;let n,l;for(let i=0,o=r.length;i<o;i++){const e=r[i];i>0?(n+=e[0],l+=e[1]):(n=e[0],l=e[1]),e[0]=t(n),e[1]=s(l)}if(i&&o)for(let t=0,s=r.length;t<s;t++){const e=r[t];e[2]=i(e[2]),e[3]=o(e[3])}else if(i)for(let t=0,s=r.length;t<s;t++){const e=r[t];e[2]=i(e[2])}else if(o)for(let t=0,s=r.length;t<s;t++){const e=r[t];e[2]=o(e[2])}}:null}};(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],v.prototype,"displayFieldName",void 0),(0,o._)([(0,u.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],v.prototype,"exceededTransferLimit",void 0),(0,o._)([(0,u.MZ)({type:[r.A],json:{write:!0}})],v.prototype,"features",void 0),(0,o._)([(0,c.w)("features")],v.prototype,"readFeatures",null),(0,o._)([(0,u.MZ)({type:[m.A],json:{write:!0}})],v.prototype,"fields",void 0),(0,o._)([(0,u.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:g.read}}})],v.prototype,"geometryType",void 0),(0,o._)([(0,d.K)("geometryType")],v.prototype,"writeGeometryType",null),(0,o._)([(0,u.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],v.prototype,"hasM",void 0),(0,o._)([(0,u.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],v.prototype,"hasZ",void 0),(0,o._)([(0,u.MZ)({types:y.yR,json:{write:!0}})],v.prototype,"queryGeometry",void 0),(0,o._)([(0,c.w)("queryGeometry")],v.prototype,"readQueryGeometry",null),(0,o._)([(0,u.MZ)({type:f.A,json:{write:!0}})],v.prototype,"spatialReference",void 0),(0,o._)([(0,d.K)("spatialReference")],v.prototype,"writeSpatialReference",null),(0,o._)([(0,u.MZ)({json:{write:!0}})],v.prototype,"transform",void 0),v=i=(0,o._)([(0,h.$)("esri.rest.support.FeatureSet")],v),v.prototype.toJSON.isDefaultToJSON=!0;const _=v},79369:(e,t,s)=>{s.d(t,{F:()=>a,Ti:()=>o});var i=s(30015);const o=-3,r=o-1;var n,l;(l=n||(n={}))[l.ALL=0]="ALL",l[l.SOME=1]="SOME";class a{get size(){return this._size}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new i.A,this._users=new i.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){var s;const i=this._db.get(e.id+t);return null!==(s=null===i||void 0===i?void 0:i.size)&&void 0!==s?s:0}put(e,t,s,i,l){t=e.id+t;const a=this._db.get(t);if(a&&(this._size-=a.size,e.size-=a.size,this._db.delete(t),a.entry!==s&&this._notifyRemove(t,a.entry,a.size,n.ALL)),i>this._maxSize)return void this._notifyRemove(t,s,i,n.ALL);if(void 0===s)return void console.warn("Refusing to cache undefined entry ");if(!i||i<0)return console.warn("Refusing to cache entry with size ".concat(i," for key ").concat(t)),void this._notifyRemove(t,s,0,n.ALL);const c=1+Math.max(l,r)-o;this._db.set(t,new u(s,i,c)),this._size+=i,e.size+=i,this._checkSize()}updateSize(e,t,s,i){t=e.id+t;const o=this._db.get(t);if(o&&o.entry===s){for(this._size-=o.size,e.size-=o.size;i>this._maxSize;){const e=this._notifyRemove(t,s,i,n.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);i=e}o.size=i,this._size+=i,e.size+=i,this._checkSize()}}pop(e,t){t=e.id+t;const s=this._db.get(t);if(s)return this._size-=s.size,e.size-=s.size,this._db.delete(t),++this._hit,s.entry;++this._miss}get(e,t){t=e.id+t;const s=this._db.get(t);if(void 0!==s)return this._db.delete(t),s.lives=s.lifetime,this._db.set(t,s),++this._hit,s.entry;++this._miss}peek(e,t){const s=this._db.get(e.id+t);return s?++this._hit:++this._miss,null===s||void 0===s?void 0:s.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},s=new Array;this._db.forEach(((e,i)=>{const o=e.lifetime;s[o]=(s[o]||0)+e.size,this._users.forAll((s=>{const{id:o,name:r}=s;if(i.startsWith(o)){const s=t[r]||0;t[r]=s+e.size}}))}));const i={};this._users.forAll((e=>{const s=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const o=t[s]||0;t[s]=o,i[s]=Math.round(100*e.hitRate)+"%"}else i[s]="0%"}));const r=Object.keys(t);r.sort(((e,s)=>t[s]-t[e])),r.forEach((s=>e[s]=Math.round(t[s]/2**20)+"MB / "+i[s]));for(let n=s.length-1;n>=0;--n){const t=s[n];t&&(e["Priority "+(n+o-1)]=Math.round(t/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,s)=>{s.startsWith(t)&&(this._size-=e.size,this._db.delete(s),this._notifyRemove(s,e.entry,e.size,n.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,e.size,n.ALL))),this._users.forAll((e=>e.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,s,i){let o;return this._removeFuncs.some((r=>{if(e.startsWith(r[0])){const e=r[1](t,i,s);return"number"==typeof e&&(o=e),!0}return!1})),o}_checkSize(){this._users.forAll((e=>this._checkSizeLimits(e))),this._checkSizeLimits()}_checkSizeLimits(e){const t=null!==e&&void 0!==e?e:this;if(t.maxSize<0||t.size<=t.maxSize)return;const s=null===e||void 0===e?void 0:e.id;let i=!0;for(;i;){i=!1;for(const[o,r]of this._db)if(0===r.lifetime&&(!s||o.startsWith(s))){if(this._purgeItem(o,r,e),t.size<=.9*t.maxSize)return;i||(i=this._db.has(o))}}for(const[o,r]of this._db)if((!s||o.startsWith(s))&&(this._purgeItem(o,r,e),t.size<=.9*t.maxSize))return}_purgeItem(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._users.find((t=>e.startsWith(t.id)));if(this._db.delete(e),t.lives<=1){this._size-=t.size,s&&(s.size-=t.size);const i=this._notifyRemove(e,t.entry,t.size,n.SOME);null!=i&&i>0&&(this._size+=i,s&&(s.size+=i),t.lives=t.lifetime,t.size=i,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}class u{constructor(e,t,s){this.entry=e,this.size=t,this.lifetime=s,this.lives=s}}},86616:(e,t,s)=>{s.d(t,{L:()=>a,r:()=>n});var i=s(62754),o=s(7982),r=s(49176);function n(e,t){return a(e,null,t)}const l=(0,o.C)({types:r.Hg});function a(e,t,s){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(null!==s&&void 0!==s&&s.messages&&s.messages.push(new i.A("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:s})),null):l(e,t,s):null}}}]);
//# sourceMappingURL=3777.bfae833e.chunk.js.map