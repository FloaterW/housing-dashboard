-- ====================================================================
-- TIME SERIES DATA FOR CHARTS AND TRENDS
-- Populates historical data for price trends, sales, inventory, rental trends
-- ====================================================================

USE housing_dashboard;

-- Clear existing time series data
DELETE FROM price_trends;
DELETE FROM sales_data;
DELETE FROM inventory_data;
DELETE FROM rental_price_trends;
DELETE FROM market_velocity;
DELETE FROM new_vs_resale;
DELETE FROM market_health_trends;

-- ====================================================================
-- PRICE TRENDS (12 months historical data)
-- ====================================================================

INSERT INTO price_trends (region_id, housing_type_id, month, price, change_pct, min_price, max_price, sales_count) VALUES
-- Peel Region - All Types (12 months)
(1, 1, '2024-07-01', 1050000, 5.2, 825000, 1380000, 1250),
(1, 1, '2024-08-01', 1075000, 2.4, 845000, 1420000, 1320),
(1, 1, '2024-09-01', 1100000, 2.3, 865000, 1450000, 1280),
(1, 1, '2024-10-01', 1125000, 2.3, 885000, 1480000, 1180),
(1, 1, '2024-11-01', 1140000, 1.3, 895000, 1500000, 980),
(1, 1, '2024-12-01', 1160000, 1.8, 915000, 1520000, 850),
(1, 1, '2025-01-01', 1180000, 1.7, 930000, 1545000, 980),
(1, 1, '2025-02-01', 1200000, 1.7, 945000, 1570000, 1150),
(1, 1, '2025-03-01', 1220000, 1.7, 960000, 1595000, 1280),
(1, 1, '2025-04-01', 1235000, 1.2, 975000, 1620000, 1320),
(1, 1, '2025-05-01', 1245000, 0.8, 985000, 1645000, 1380),
(1, 1, '2025-06-01', 1245000, 0.0, 985000, 1645000, 1400),

-- Mississauga - All Types
(2, 1, '2024-07-01', 1135000, 4.8, 895000, 1495000, 620),
(2, 1, '2024-08-01', 1165000, 2.6, 920000, 1535000, 685),
(2, 1, '2024-09-01', 1195000, 2.6, 945000, 1575000, 650),
(2, 1, '2024-10-01', 1225000, 2.5, 970000, 1615000, 580),
(2, 1, '2024-11-01', 1245000, 1.6, 985000, 1640000, 480),
(2, 1, '2024-12-01', 1270000, 2.0, 1005000, 1675000, 420),
(2, 1, '2025-01-01', 1295000, 2.0, 1025000, 1710000, 485),
(2, 1, '2025-02-01', 1320000, 1.9, 1045000, 1745000, 565),
(2, 1, '2025-03-01', 1340000, 1.5, 1060000, 1770000, 625),
(2, 1, '2025-04-01', 1350000, 0.7, 1070000, 1785000, 665),
(2, 1, '2025-05-01', 1350000, 0.0, 1070000, 1785000, 685),
(2, 1, '2025-06-01', 1350000, 0.0, 1070000, 1785000, 700),

-- Brampton - All Types  
(3, 1, '2024-07-01', 975000, 5.8, 765000, 1285000, 385),
(3, 1, '2024-08-01', 1005000, 3.1, 790000, 1325000, 420),
(3, 1, '2024-09-01', 1035000, 3.0, 815000, 1365000, 405),
(3, 1, '2024-10-01', 1065000, 2.9, 840000, 1405000, 375),
(3, 1, '2024-11-01', 1085000, 1.9, 855000, 1430000, 320),
(3, 1, '2024-12-01', 1105000, 1.8, 870000, 1460000, 285),
(3, 1, '2025-01-01', 1120000, 1.4, 882000, 1480000, 320),
(3, 1, '2025-02-01', 1135000, 1.3, 895000, 1500000, 375),
(3, 1, '2025-03-01', 1145000, 0.9, 902000, 1515000, 415),
(3, 1, '2025-04-01', 1150000, 0.4, 906000, 1522000, 445),
(3, 1, '2025-05-01', 1150000, 0.0, 906000, 1522000, 455),
(3, 1, '2025-06-01', 1150000, 0.0, 906000, 1522000, 465),

-- Caledon - All Types
(4, 1, '2024-07-01', 1485000, 3.5, 1170000, 1955000, 78),
(4, 1, '2024-08-01', 1525000, 2.7, 1200000, 2010000, 85),
(4, 1, '2024-09-01', 1565000, 2.6, 1235000, 2065000, 82),
(4, 1, '2024-10-01', 1590000, 1.6, 1252000, 2095000, 75),
(4, 1, '2024-11-01', 1610000, 1.3, 1268000, 2125000, 68),
(4, 1, '2024-12-01', 1625000, 0.9, 1280000, 2145000, 62),
(4, 1, '2025-01-01', 1635000, 0.6, 1288000, 2158000, 68),
(4, 1, '2025-02-01', 1645000, 0.6, 1296000, 2170000, 78),
(4, 1, '2025-03-01', 1650000, 0.3, 1300000, 2175000, 85),
(4, 1, '2025-04-01', 1650000, 0.0, 1300000, 2175000, 88),
(4, 1, '2025-05-01', 1650000, 0.0, 1300000, 2175000, 92),
(4, 1, '2025-06-01', 1650000, 0.0, 1300000, 2175000, 95);

-- ====================================================================
-- SALES DATA (12 months historical)
-- ====================================================================

INSERT INTO sales_data (region_id, housing_type_id, month, sales_count, avg_price, total_value) VALUES
-- Peel Region - All Types
(1, 1, '2024-07-01', 1250, 1050000, 1312500000),
(1, 1, '2024-08-01', 1320, 1075000, 1419000000),
(1, 1, '2024-09-01', 1280, 1100000, 1408000000),
(1, 1, '2024-10-01', 1180, 1125000, 1327500000),
(1, 1, '2024-11-01', 980, 1140000, 1117200000),
(1, 1, '2024-12-01', 850, 1160000, 986000000),
(1, 1, '2025-01-01', 980, 1180000, 1156400000),
(1, 1, '2025-02-01', 1150, 1200000, 1380000000),
(1, 1, '2025-03-01', 1280, 1220000, 1561600000),
(1, 1, '2025-04-01', 1320, 1235000, 1630200000),
(1, 1, '2025-05-01', 1380, 1245000, 1718100000),
(1, 1, '2025-06-01', 1400, 1245000, 1743000000),

-- Mississauga - All Types
(2, 1, '2024-07-01', 620, 1135000, 703700000),
(2, 1, '2024-08-01', 685, 1165000, 798025000),
(2, 1, '2024-09-01', 650, 1195000, 776750000),
(2, 1, '2024-10-01', 580, 1225000, 710500000),
(2, 1, '2024-11-01', 480, 1245000, 597600000),
(2, 1, '2024-12-01', 420, 1270000, 533400000),
(2, 1, '2025-01-01', 485, 1295000, 628075000),
(2, 1, '2025-02-01', 565, 1320000, 745800000),
(2, 1, '2025-03-01', 625, 1340000, 837500000),
(2, 1, '2025-04-01', 665, 1350000, 897750000),
(2, 1, '2025-05-01', 685, 1350000, 924750000),
(2, 1, '2025-06-01', 700, 1350000, 945000000);

-- ====================================================================
-- INVENTORY DATA (12 months historical)
-- ====================================================================

INSERT INTO inventory_data (region_id, housing_type_id, month, total_listings, new_listings, sold_listings, expired_listings, avg_list_price) VALUES
-- Peel Region - All Types
(1, 1, '2024-07-01', 4200, 520, 1250, 85, 1065000),
(1, 1, '2024-08-01', 4185, 485, 1320, 92, 1090000),
(1, 1, '2024-09-01', 4050, 465, 1280, 88, 1115000),
(1, 1, '2024-10-01', 3920, 425, 1180, 75, 1140000),
(1, 1, '2024-11-01', 3850, 380, 980, 68, 1155000),
(1, 1, '2024-12-01', 3720, 342, 850, 62, 1175000),
(1, 1, '2025-01-01', 3680, 385, 980, 58, 1195000),
(1, 1, '2025-02-01', 3645, 425, 1150, 65, 1215000),
(1, 1, '2025-03-01', 3580, 465, 1280, 72, 1235000),
(1, 1, '2025-04-01', 3525, 485, 1320, 78, 1250000),
(1, 1, '2025-05-01', 3505, 495, 1380, 82, 1260000),
(1, 1, '2025-06-01', 3500, 505, 1400, 85, 1260000);

-- ====================================================================
-- RENTAL PRICE TRENDS (12 months by bedroom type)
-- ====================================================================

INSERT INTO rental_price_trends (region_id, bedroom_type_id, month, avg_rent, yoy_growth_pct) VALUES
-- Peel Region - 1-BR
(1, 2, '2024-07-01', 2095, 8.5),
(1, 2, '2024-08-01', 2125, 8.8),
(1, 2, '2024-09-01', 2155, 9.1),
(1, 2, '2024-10-01', 2180, 9.2),
(1, 2, '2024-11-01', 2205, 9.0),
(1, 2, '2024-12-01', 2235, 8.8),
(1, 2, '2025-01-01', 2250, 8.5),
(1, 2, '2025-02-01', 2265, 8.2),
(1, 2, '2025-03-01', 2280, 7.8),
(1, 2, '2025-04-01', 2290, 7.5),
(1, 2, '2025-05-01', 2295, 7.2),
(1, 2, '2025-06-01', 2295, 7.0),

-- Peel Region - 2-BR
(1, 3, '2024-07-01', 2685, 9.2),
(1, 3, '2024-08-01', 2725, 9.5),
(1, 3, '2024-09-01', 2765, 9.8),
(1, 3, '2024-10-01', 2800, 9.9),
(1, 3, '2024-11-01', 2835, 9.7),
(1, 3, '2024-12-01', 2870, 9.5),
(1, 3, '2025-01-01', 2885, 9.2),
(1, 3, '2025-02-01', 2895, 8.8),
(1, 3, '2025-03-01', 2905, 8.5),
(1, 3, '2025-04-01', 2910, 8.2),
(1, 3, '2025-05-01', 2910, 7.8),
(1, 3, '2025-06-01', 2910, 7.5),

-- Mississauga - 1-BR
(2, 2, '2024-07-01', 2285, 7.8),
(2, 2, '2024-08-01', 2325, 8.2),
(2, 2, '2024-09-01', 2365, 8.5),
(2, 2, '2024-10-01', 2395, 8.6),
(2, 2, '2024-11-01', 2425, 8.4),
(2, 2, '2024-12-01', 2455, 8.2),
(2, 2, '2025-01-01', 2470, 7.9),
(2, 2, '2025-02-01', 2485, 7.6),
(2, 2, '2025-03-01', 2500, 7.2),
(2, 2, '2025-04-01', 2505, 6.9),
(2, 2, '2025-05-01', 2510, 6.6),
(2, 2, '2025-06-01', 2510, 6.3),

-- Mississauga - 2-BR  
(2, 3, '2024-07-01', 2895, 8.5),
(2, 3, '2024-08-01', 2945, 8.9),
(2, 3, '2024-09-01', 2995, 9.2),
(2, 3, '2024-10-01', 3035, 9.3),
(2, 3, '2024-11-01', 3075, 9.1),
(2, 3, '2024-12-01', 3115, 8.9),
(2, 3, '2025-01-01', 3135, 8.6),
(2, 3, '2025-02-01', 3155, 8.2),
(2, 3, '2025-03-01', 3170, 7.9),
(2, 3, '2025-04-01', 3175, 7.5),
(2, 3, '2025-05-01', 3175, 7.2),
(2, 3, '2025-06-01', 3175, 6.8);

-- ====================================================================
-- MARKET VELOCITY DATA (All regions and housing types)
-- ====================================================================

INSERT INTO market_velocity (region_id, housing_type_id, data_date, days_on_market, change_from_prev_month, velocity_index) VALUES
-- Current month data for all combinations
(1, 1, '2025-06-01', 21, -8.2, 95.5),
(1, 2, '2025-06-01', 24, -12.5, 83.3),
(1, 3, '2025-06-01', 19, -5.2, 105.3),
(1, 4, '2025-06-01', 18, -6.8, 111.1),
(1, 5, '2025-06-01', 15, -2.5, 133.3),

(2, 1, '2025-06-01', 18, -10.5, 111.1),
(2, 2, '2025-06-01', 22, -15.2, 90.9),
(2, 3, '2025-06-01', 17, -8.8, 117.6),
(2, 4, '2025-06-01', 16, -9.2, 125.0),
(2, 5, '2025-06-01', 14, -4.2, 142.9),

(3, 1, '2025-06-01', 22, -6.5, 90.9),
(3, 2, '2025-06-01', 25, -8.2, 80.0),
(3, 3, '2025-06-01', 20, -4.2, 100.0),
(3, 4, '2025-06-01', 19, -5.5, 105.3),
(3, 5, '2025-06-01', 16, -1.8, 125.0),

(4, 1, '2025-06-01', 35, -2.8, 57.1),
(4, 2, '2025-06-01', 38, -5.2, 52.6),
(4, 3, '2025-06-01', 32, -2.2, 62.5),
(4, 4, '2025-06-01', 30, -1.8, 66.7),
(4, 5, '2025-06-01', 28, -0.8, 71.4);

-- ====================================================================
-- NEW VS RESALE DATA
-- ====================================================================

INSERT INTO new_vs_resale (region_id, housing_type_id, data_date, new_units, resale_units, new_avg_price, resale_avg_price, price_premium_pct) VALUES
-- All regions and housing types
(1, 1, '2025-06-01', 420, 980, 1380000, 1185000, 16.5),
(1, 2, '2025-06-01', 85, 335, 1895000, 1620000, 17.0),
(1, 3, '2025-06-01', 115, 270, 1195000, 1025000, 16.6),
(1, 4, '2025-06-01', 165, 275, 1085000, 925000, 17.3),
(1, 5, '2025-06-01', 55, 185, 785000, 695000, 12.9),

(2, 1, '2025-06-01', 210, 490, 1495000, 1285000, 16.3),
(2, 2, '2025-06-01', 37, 148, 2050000, 1750000, 17.1),
(2, 3, '2025-06-01', 45, 105, 1305000, 1125000, 16.0),
(2, 4, '2025-06-01', 80, 120, 1165000, 995000, 17.1),
(2, 5, '2025-06-01', 48, 112, 855000, 745000, 14.8),

(3, 1, '2025-06-01', 140, 325, 1275000, 1095000, 16.4),
(3, 2, '2025-06-01', 37, 148, 1795000, 1535000, 16.9),
(3, 3, '2025-06-01', 42, 98, 1130000, 975000, 15.9),
(3, 4, '2025-06-01', 50, 115, 1020000, 875000, 16.6),
(3, 5, '2025-06-01', 11, 49, 715000, 625000, 14.4),

(4, 1, '2025-06-01', 70, 25, 1825000, 1385000, 31.8),
(4, 2, '2025-06-01', 35, 15, 2150000, 1625000, 32.3),
(4, 3, '2025-06-01', 10, 5, 1380000, 1045000, 32.1),
(4, 4, '2025-06-01', 20, 5, 1275000, 965000, 32.1),
(4, 5, '2025-06-01', 5, 0, 935000, 850000, 10.0);

-- ====================================================================
-- MARKET HEALTH TRENDS (12 months)
-- ====================================================================

INSERT INTO market_health_trends (region_id, month, health_score, price_growth_pct, risk_level) VALUES
-- Peel Region
(1, '2024-07-01', 72, 5.2, 'Moderate'),
(1, '2024-08-01', 74, 2.4, 'Moderate'),
(1, '2024-09-01', 75, 2.3, 'Moderate'),
(1, '2024-10-01', 76, 2.3, 'Moderate'),
(1, '2024-11-01', 77, 1.3, 'Moderate'),
(1, '2024-12-01', 77, 1.8, 'Moderate'),
(1, '2025-01-01', 77, 1.7, 'Moderate'),
(1, '2025-02-01', 78, 1.7, 'Moderate'),
(1, '2025-03-01', 78, 1.7, 'Moderate'),
(1, '2025-04-01', 78, 1.2, 'Moderate'),
(1, '2025-05-01', 78, 0.8, 'Moderate'),
(1, '2025-06-01', 78, 0.0, 'High'),

-- Mississauga
(2, '2024-07-01', 78, 4.8, 'Moderate'),
(2, '2024-08-01', 79, 2.6, 'Moderate'),
(2, '2024-09-01', 80, 2.6, 'Moderate'),
(2, '2024-10-01', 81, 2.5, 'Moderate'),
(2, '2024-11-01', 81, 1.6, 'Moderate'),
(2, '2024-12-01', 82, 2.0, 'Moderate'),
(2, '2025-01-01', 82, 2.0, 'High'),
(2, '2025-02-01', 82, 1.9, 'High'),
(2, '2025-03-01', 82, 1.5, 'High'),
(2, '2025-04-01', 82, 0.7, 'High'),
(2, '2025-05-01', 82, 0.0, 'High'),
(2, '2025-06-01', 82, 0.0, 'Very High'),

-- Brampton
(3, '2024-07-01', 70, 5.8, 'Moderate'),
(3, '2024-08-01', 71, 3.1, 'Moderate'),
(3, '2024-09-01', 72, 3.0, 'Moderate'),
(3, '2024-10-01', 73, 2.9, 'Moderate'),
(3, '2024-11-01', 73, 1.9, 'Moderate'),
(3, '2024-12-01', 74, 1.8, 'Moderate'),
(3, '2025-01-01', 74, 1.4, 'Moderate'),
(3, '2025-02-01', 74, 1.3, 'Moderate'),
(3, '2025-03-01', 74, 0.9, 'Moderate'),
(3, '2025-04-01', 74, 0.4, 'Moderate'),
(3, '2025-05-01', 74, 0.0, 'Moderate'),
(3, '2025-06-01', 74, 0.0, 'High'),

-- Caledon
(4, '2024-07-01', 65, 3.5, 'Low'),
(4, '2024-08-01', 66, 2.7, 'Low'),
(4, '2024-09-01', 67, 2.6, 'Low'),
(4, '2024-10-01', 67, 1.6, 'Low'),
(4, '2024-11-01', 68, 1.3, 'Low'),
(4, '2024-12-01', 68, 0.9, 'Low'),
(4, '2025-01-01', 68, 0.6, 'Low'),
(4, '2025-02-01', 68, 0.6, 'Low'),
(4, '2025-03-01', 68, 0.3, 'Low'),
(4, '2025-04-01', 68, 0.0, 'Low'),
(4, '2025-05-01', 68, 0.0, 'Low'),
(4, '2025-06-01', 68, 0.0, 'Moderate');

-- Database seeding with time series data completed successfully! 