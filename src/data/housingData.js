// Housing market data for different regions
export const housingData = {
  regions: ['Peel Region', 'Mississauga', 'Brampton', 'Caledon'],
  housingTypes: ['All Types', 'Detached', 'Semi-Detached', 'Townhouse', 'Condo'],
  
  // Price trends data
  priceData: {
    'Peel Region': {
      'All Types': [
        { month: 'Jan 2024', price: 1050000 },
        { month: 'Feb 2024', price: 1065000 },
        { month: 'Mar 2024', price: 1080000 },
        { month: 'Apr 2024', price: 1095000 },
        { month: 'May 2024', price: 1110000 },
        { month: 'Jun 2024', price: 1125000 },
        { month: 'Jul 2024', price: 1140000 },
        { month: 'Aug 2024', price: 1155000 },
        { month: 'Sep 2024', price: 1170000 },
        { month: 'Oct 2024', price: 1185000 },
        { month: 'Nov 2024', price: 1200000 },
        { month: 'Dec 2024', price: 1215000 },
        { month: 'Jan 2025', price: 1230000 },
        { month: 'Feb 2025', price: 1245000 },
      ],
      'Detached': [
        { month: 'Jan 2024', price: 1450000 },
        { month: 'Feb 2024', price: 1470000 },
        { month: 'Mar 2024', price: 1490000 },
        { month: 'Apr 2024', price: 1510000 },
        { month: 'May 2024', price: 1530000 },
        { month: 'Jun 2024', price: 1550000 },
        { month: 'Jul 2024', price: 1570000 },
        { month: 'Aug 2024', price: 1590000 },
        { month: 'Sep 2024', price: 1610000 },
        { month: 'Oct 2024', price: 1630000 },
        { month: 'Nov 2024', price: 1650000 },
        { month: 'Dec 2024', price: 1670000 },
        { month: 'Jan 2025', price: 1690000 },
        { month: 'Feb 2025', price: 1710000 },
      ],
      'Semi-Detached': [
        { month: 'Jan 2024', price: 950000 },
        { month: 'Feb 2024', price: 960000 },
        { month: 'Mar 2024', price: 970000 },
        { month: 'Apr 2024', price: 980000 },
        { month: 'May 2024', price: 990000 },
        { month: 'Jun 2024', price: 1000000 },
        { month: 'Jul 2024', price: 1010000 },
        { month: 'Aug 2024', price: 1020000 },
        { month: 'Sep 2024', price: 1030000 },
        { month: 'Oct 2024', price: 1040000 },
        { month: 'Nov 2024', price: 1050000 },
        { month: 'Dec 2024', price: 1060000 },
        { month: 'Jan 2025', price: 1070000 },
        { month: 'Feb 2025', price: 1080000 },
      ],
      'Townhouse': [
        { month: 'Jan 2024', price: 850000 },
        { month: 'Feb 2024', price: 860000 },
        { month: 'Mar 2024', price: 870000 },
        { month: 'Apr 2024', price: 880000 },
        { month: 'May 2024', price: 890000 },
        { month: 'Jun 2024', price: 900000 },
        { month: 'Jul 2024', price: 910000 },
        { month: 'Aug 2024', price: 920000 },
        { month: 'Sep 2024', price: 930000 },
        { month: 'Oct 2024', price: 940000 },
        { month: 'Nov 2024', price: 950000 },
        { month: 'Dec 2024', price: 960000 },
        { month: 'Jan 2025', price: 970000 },
        { month: 'Feb 2025', price: 980000 },
      ],
      'Condo': [
        { month: 'Jan 2024', price: 650000 },
        { month: 'Feb 2024', price: 655000 },
        { month: 'Mar 2024', price: 660000 },
        { month: 'Apr 2024', price: 665000 },
        { month: 'May 2024', price: 670000 },
        { month: 'Jun 2024', price: 675000 },
        { month: 'Jul 2024', price: 680000 },
        { month: 'Aug 2024', price: 685000 },
        { month: 'Sep 2024', price: 690000 },
        { month: 'Oct 2024', price: 695000 },
        { month: 'Nov 2024', price: 700000 },
        { month: 'Dec 2024', price: 705000 },
        { month: 'Jan 2025', price: 710000 },
        { month: 'Feb 2025', price: 715000 },
      ],
    },
    'Mississauga': {
      'All Types': [
        { month: 'Jan 2024', price: 1100000 },
        { month: 'Feb 2024', price: 1115000 },
        { month: 'Mar 2024', price: 1130000 },
        { month: 'Apr 2024', price: 1145000 },
        { month: 'May 2024', price: 1160000 },
        { month: 'Jun 2024', price: 1175000 },
        { month: 'Jul 2024', price: 1190000 },
        { month: 'Aug 2024', price: 1205000 },
        { month: 'Sep 2024', price: 1220000 },
        { month: 'Oct 2024', price: 1235000 },
        { month: 'Nov 2024', price: 1250000 },
        { month: 'Dec 2024', price: 1265000 },
        { month: 'Jan 2025', price: 1280000 },
        { month: 'Feb 2025', price: 1295000 },
      ],
      'Detached': [
        { month: 'Jan 2024', price: 1500000 },
        { month: 'Feb 2024', price: 1520000 },
        { month: 'Mar 2024', price: 1540000 },
        { month: 'Apr 2024', price: 1560000 },
        { month: 'May 2024', price: 1580000 },
        { month: 'Jun 2024', price: 1600000 },
        { month: 'Jul 2024', price: 1620000 },
        { month: 'Aug 2024', price: 1640000 },
        { month: 'Sep 2024', price: 1660000 },
        { month: 'Oct 2024', price: 1680000 },
        { month: 'Nov 2024', price: 1700000 },
        { month: 'Dec 2024', price: 1720000 },
        { month: 'Jan 2025', price: 1740000 },
        { month: 'Feb 2025', price: 1760000 },
      ],
    },
    'Brampton': {
      'All Types': [
        { month: 'Jan 2024', price: 1000000 },
        { month: 'Feb 2024', price: 1015000 },
        { month: 'Mar 2024', price: 1030000 },
        { month: 'Apr 2024', price: 1045000 },
        { month: 'May 2024', price: 1060000 },
        { month: 'Jun 2024', price: 1075000 },
        { month: 'Jul 2024', price: 1090000 },
        { month: 'Aug 2024', price: 1105000 },
        { month: 'Sep 2024', price: 1120000 },
        { month: 'Oct 2024', price: 1135000 },
        { month: 'Nov 2024', price: 1150000 },
        { month: 'Dec 2024', price: 1165000 },
        { month: 'Jan 2025', price: 1180000 },
        { month: 'Feb 2025', price: 1195000 },
      ],
    },
    'Caledon': {
      'All Types': [
        { month: 'Jan 2024', price: 1200000 },
        { month: 'Feb 2024', price: 1220000 },
        { month: 'Mar 2024', price: 1240000 },
        { month: 'Apr 2024', price: 1260000 },
        { month: 'May 2024', price: 1280000 },
        { month: 'Jun 2024', price: 1300000 },
        { month: 'Jul 2024', price: 1320000 },
        { month: 'Aug 2024', price: 1340000 },
        { month: 'Sep 2024', price: 1360000 },
        { month: 'Oct 2024', price: 1380000 },
        { month: 'Nov 2024', price: 1400000 },
        { month: 'Dec 2024', price: 1420000 },
        { month: 'Jan 2025', price: 1440000 },
        { month: 'Feb 2025', price: 1460000 },
      ],
    },
  },
  
  // Sales data
  salesData: {
    'Peel Region': {
      'All Types': [
        { month: 'Jan 2024', sales: 1200 },
        { month: 'Feb 2024', sales: 1350 },
        { month: 'Mar 2024', sales: 1500 },
        { month: 'Apr 2024', sales: 1650 },
        { month: 'May 2024', sales: 1800 },
        { month: 'Jun 2024', sales: 1950 },
        { month: 'Jul 2024', sales: 2100 },
        { month: 'Aug 2024', sales: 2000 },
        { month: 'Sep 2024', sales: 1850 },
        { month: 'Oct 2024', sales: 1700 },
        { month: 'Nov 2024', sales: 1550 },
        { month: 'Dec 2024', sales: 1400 },
        { month: 'Jan 2025', sales: 1250 },
        { month: 'Feb 2025', sales: 1400 },
      ],
    },
    'Mississauga': {
      'All Types': [
        { month: 'Jan 2024', sales: 600 },
        { month: 'Feb 2024', sales: 680 },
        { month: 'Mar 2024', sales: 750 },
        { month: 'Apr 2024', sales: 820 },
        { month: 'May 2024', sales: 900 },
        { month: 'Jun 2024', sales: 980 },
        { month: 'Jul 2024', sales: 1050 },
        { month: 'Aug 2024', sales: 1000 },
        { month: 'Sep 2024', sales: 920 },
        { month: 'Oct 2024', sales: 850 },
        { month: 'Nov 2024', sales: 780 },
        { month: 'Dec 2024', sales: 700 },
        { month: 'Jan 2025', sales: 630 },
        { month: 'Feb 2025', sales: 700 },
      ],
    },
    'Brampton': {
      'All Types': [
        { month: 'Jan 2024', sales: 500 },
        { month: 'Feb 2024', sales: 560 },
        { month: 'Mar 2024', sales: 620 },
        { month: 'Apr 2024', sales: 680 },
        { month: 'May 2024', sales: 740 },
        { month: 'Jun 2024', sales: 800 },
        { month: 'Jul 2024', sales: 860 },
        { month: 'Aug 2024', sales: 820 },
        { month: 'Sep 2024', sales: 760 },
        { month: 'Oct 2024', sales: 700 },
        { month: 'Nov 2024', sales: 640 },
        { month: 'Dec 2024', sales: 580 },
        { month: 'Jan 2025', sales: 520 },
        { month: 'Feb 2025', sales: 580 },
      ],
    },
    'Caledon': {
      'All Types': [
        { month: 'Jan 2024', sales: 100 },
        { month: 'Feb 2024', sales: 110 },
        { month: 'Mar 2024', sales: 130 },
        { month: 'Apr 2024', sales: 150 },
        { month: 'May 2024', sales: 160 },
        { month: 'Jun 2024', sales: 170 },
        { month: 'Jul 2024', sales: 190 },
        { month: 'Aug 2024', sales: 180 },
        { month: 'Sep 2024', sales: 170 },
        { month: 'Oct 2024', sales: 150 },
        { month: 'Nov 2024', sales: 130 },
        { month: 'Dec 2024', sales: 120 },
        { month: 'Jan 2025', sales: 100 },
        { month: 'Feb 2025', sales: 120 },
      ],
    },
  },
  
  // Inventory data
  inventoryData: {
    'Peel Region': {
      'All Types': [
        { type: 'Active Listings', count: 3500 },
        { type: 'New Listings', count: 1200 },
        { type: 'Sold', count: 800 },
        { type: 'Expired', count: 200 },
      ],
    },
    'Mississauga': {
      'All Types': [
        { type: 'Active Listings', count: 1800 },
        { type: 'New Listings', count: 600 },
        { type: 'Sold', count: 400 },
        { type: 'Expired', count: 100 },
      ],
    },
    'Brampton': {
      'All Types': [
        { type: 'Active Listings', count: 1400 },
        { type: 'New Listings', count: 500 },
        { type: 'Sold', count: 350 },
        { type: 'Expired', count: 80 },
      ],
    },
    'Caledon': {
      'All Types': [
        { type: 'Active Listings', count: 300 },
        { type: 'New Listings', count: 100 },
        { type: 'Sold', count: 50 },
        { type: 'Expired', count: 20 },
      ],
    },
  },
  
  // Key metrics
  keyMetrics: {
    'Peel Region': {
      'All Types': {
        avgPrice: 1245000,
        priceChange: 5.2,
        totalSales: 1400,
        salesChange: 3.7,
        avgDaysOnMarket: 18,
        daysChange: -2.5,
        inventory: 3500,
        inventoryChange: -8.3,
      },
    },
    'Mississauga': {
      'All Types': {
        avgPrice: 1295000,
        priceChange: 4.8,
        totalSales: 700,
        salesChange: 2.9,
        avgDaysOnMarket: 16,
        daysChange: -3.1,
        inventory: 1800,
        inventoryChange: -7.5,
      },
    },
    'Brampton': {
      'All Types': {
        avgPrice: 1195000,
        priceChange: 5.5,
        totalSales: 580,
        salesChange: 4.2,
        avgDaysOnMarket: 20,
        daysChange: -1.8,
        inventory: 1400,
        inventoryChange: -9.1,
      },
    },
    'Caledon': {
      'All Types': {
        avgPrice: 1460000,
        priceChange: 6.1,
        totalSales: 120,
        salesChange: 5.3,
        avgDaysOnMarket: 25,
        daysChange: -0.5,
        inventory: 300,
        inventoryChange: -10.2,
      },
    },
  },
};

// Helper function to get data with fallbacks
export const getDataForRegionAndType = (dataType, region, housingType) => {
  const data = housingData[dataType];
  if (!data) return null;
  
  const regionData = data[region] || data['Peel Region'];
  if (!regionData) return null;
  
  return regionData[housingType] || regionData['All Types'] || null;
};

// Enhanced market data function
export const getEnhancedMarketData = (region, housingType) => {
  const baseMetrics = getDataForRegionAndType('keyMetrics', region, housingType) || housingData.keyMetrics['Peel Region']['All Types'];
  
  // Calculate additional metrics
  const enhancedMetrics = {
    ...baseMetrics,
    // Price metrics
    averagePrice: `$${baseMetrics.avgPrice.toLocaleString()}`,
    medianPrice: `$${Math.round(baseMetrics.avgPrice * 0.92).toLocaleString()}`,
    pricePerSqFt: `$${Math.round(baseMetrics.avgPrice / 1800)}`,
    listToSaleRatio: 102.5,
    
    // Changes
    medianPriceChange: baseMetrics.priceChange - 0.5,
    pricePerSqFtChange: baseMetrics.priceChange + 1.2,
    listToSaleChange: 1.2,
    
    // Activity metrics
    totalSales: baseMetrics.totalSales,
    daysOnMarket: baseMetrics.avgDaysOnMarket,
    newListings: Math.round(baseMetrics.totalSales * 1.2),
    absorptionRate: 65,
    
    // Activity changes
    daysOnMarketChange: baseMetrics.daysChange,
    newListingsChange: 8.5,
    absorptionRateChange: 3.2,
    
    // Market conditions
    monthsOfInventory: (baseMetrics.inventory / baseMetrics.totalSales).toFixed(1),
    priceToIncome: 12.5,
    sellerMarketIndex: 78,
    affordabilityIndex: 42,
    
    // Market changes
    priceToIncomeChange: 5.2,
  };
  
  return { enhancedMetrics };
};

// Market trends data function
export const getMarketTrendsData = (region, housingType) => {
  const priceData = getDataForRegionAndType('priceData', region, housingType) || [];
  const salesData = getDataForRegionAndType('salesData', region, housingType) || [];
  
  // Combine price and sales data with additional metrics
  return priceData.map((pricePoint, index) => {
    const salesPoint = salesData[index] || { sales: 0 };
    const basePrice = priceData[0]?.price || 1000000;
    const baseSales = salesData[0]?.sales || 100;
    
    return {
      month: pricePoint.month.split(' ')[0], // Just the month name
      price: pricePoint.price,
      sales: salesPoint.sales,
      priceIndex: Math.round((pricePoint.price / basePrice) * 100),
      salesIndex: Math.round((salesPoint.sales / baseSales) * 100),
      affordabilityIndex: Math.round(100 - ((pricePoint.price / basePrice) * 50)),
      listToSaleRatio: 98 + Math.random() * 8,
    };
  });
};

// Regional comparison data function
export const getRegionalComparisonData = (metric, housingType) => {
  const regions = ['Mississauga', 'Brampton', 'Caledon', 'Peel Region'];
  
  return regions.map(region => {
    const metrics = getDataForRegionAndType('keyMetrics', region, housingType) || housingData.keyMetrics['Peel Region']['All Types'];
    
    switch(metric) {
      case 'averagePrice':
        return {
          name: region,
          value: metrics.avgPrice,
          ontarioAverage: 850000,
        };
      case 'pricePerSqFt':
        return {
          name: region,
          value: Math.round(metrics.avgPrice / 1800),
          ontarioAverage: 472,
        };
      case 'daysOnMarket':
        return {
          name: region,
          value: metrics.avgDaysOnMarket,
          ontarioAverage: 22,
        };
      case 'absorptionRate':
        return {
          name: region,
          value: Math.round(65 + (Math.random() * 20 - 10)),
          ontarioAverage: 60,
        };
      default:
        return { name: region, value: 0, ontarioAverage: 0 };
    }
  });
}; 