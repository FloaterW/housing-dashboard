{"date":"Tue Jun 17 2025 20:25:41 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"address":"::","code":"EADDRINUSE","errno":-48,"port":3001,"syscall":"listen"},"exception":true,"level":"error","message":"uncaughtException: listen EADDRINUSE: address already in use :::3001\nError: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:262:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","os":{"loadavg":[39.90185546875,23.73779296875,13.6015625],"uptime":444289},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":19120,"external":2235040,"heapTotal":33259520,"heapUsed":18423144,"rss":83755008},"pid":32247,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:262:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:25:41","trace":[{"column":16,"file":"node:net","function":"Server.setupListenHandle [as _listen2]","line":1940,"method":"setupListenHandle [as _listen2]","native":false},{"column":12,"file":"node:net","function":"listenInCluster","line":1997,"method":null,"native":false},{"column":7,"file":"node:net","function":"Server.listen","line":2102,"method":"listen","native":false},{"column":24,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js","function":"app.listen","line":635,"method":"listen","native":false},{"column":24,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js","function":"startServer","line":262,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false}],"version":"1.0.0"}
{"environment":"development","error":"Incorrect arguments to mysqld_stmt_execute","level":"error","message":"Query failed (3ms):","params":[5,0],"service":"housing-dashboard-api","sql":"\n      SELECT \n        ps.id,\n        ps.sale_date,\n        ps.sale_price,\n        ps.list_price,\n        ps.price_per_sqft,\n        ps.size_sqft,\n        ps.bedrooms,\n        ps.bathrooms,\n        ps.days_on_market,\n        ps.is_new_construction,\n        ps.postal_code,\n        r.name as region_name,\n        r.code as region_code,\n        ht.name as housing_type_name,\n        ht.code as housing_type_code\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      \n      ORDER BY ps.sale_date DESC\n      LIMIT ? OFFSET ?\n    ","timestamp":"2025-06-17 20:30:20","version":"1.0.0"}
{"code":"ER_WRONG_ARGUMENTS","environment":"development","errno":1210,"level":"error","message":"Error fetching sales data: Incorrect arguments to mysqld_stmt_execute","service":"housing-dashboard-api","sql":"\n      SELECT \n        ps.id,\n        ps.sale_date,\n        ps.sale_price,\n        ps.list_price,\n        ps.price_per_sqft,\n        ps.size_sqft,\n        ps.bedrooms,\n        ps.bathrooms,\n        ps.days_on_market,\n        ps.is_new_construction,\n        ps.postal_code,\n        r.name as region_name,\n        r.code as region_code,\n        ht.name as housing_type_name,\n        ht.code as housing_type_code\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      \n      ORDER BY ps.sale_date DESC\n      LIMIT ? OFFSET ?\n    ","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/housing.js:217:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:30:20","version":"1.0.0"}
{"duration":"15ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":93,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-17 20:30:20","url":"/api/housing/sales?limit=5","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36","version":"1.0.0"}
{"environment":"development","error":"Incorrect arguments to mysqld_stmt_execute","level":"error","message":"Query failed (0ms):","params":[5,0],"service":"housing-dashboard-api","sql":"\n      SELECT \n        ps.id,\n        ps.sale_date,\n        ps.sale_price,\n        ps.list_price,\n        ps.price_per_sqft,\n        ps.size_sqft,\n        ps.bedrooms,\n        ps.bathrooms,\n        ps.days_on_market,\n        ps.is_new_construction,\n        ps.postal_code,\n        r.name as region_name,\n        r.code as region_code,\n        ht.name as housing_type_name,\n        ht.code as housing_type_code\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      \n      ORDER BY ps.sale_date DESC\n      LIMIT ? OFFSET ?\n    ","timestamp":"2025-06-17 20:30:26","version":"1.0.0"}
{"code":"ER_WRONG_ARGUMENTS","environment":"development","errno":1210,"level":"error","message":"Error fetching sales data: Incorrect arguments to mysqld_stmt_execute","service":"housing-dashboard-api","sql":"\n      SELECT \n        ps.id,\n        ps.sale_date,\n        ps.sale_price,\n        ps.list_price,\n        ps.price_per_sqft,\n        ps.size_sqft,\n        ps.bedrooms,\n        ps.bathrooms,\n        ps.days_on_market,\n        ps.is_new_construction,\n        ps.postal_code,\n        r.name as region_name,\n        r.code as region_code,\n        ht.name as housing_type_name,\n        ht.code as housing_type_code\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      \n      ORDER BY ps.sale_date DESC\n      LIMIT ? OFFSET ?\n    ","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/housing.js:217:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:30:26","version":"1.0.0"}
{"duration":"2ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":93,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-17 20:30:26","url":"/api/housing/sales?limit=5","userAgent":"curl/8.7.1","version":"1.0.0"}
{"date":"Tue Jun 17 2025 20:30:58 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"address":"::","code":"EADDRINUSE","errno":-48,"port":3001,"syscall":"listen"},"exception":true,"level":"error","message":"uncaughtException: listen EADDRINUSE: address already in use :::3001\nError: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:262:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","os":{"loadavg":[4.19091796875,11.83447265625,11.2763671875],"uptime":444606},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":19120,"external":2235040,"heapTotal":34308096,"heapUsed":17910456,"rss":84459520},"pid":32574,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:262:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:30:58","trace":[{"column":16,"file":"node:net","function":"Server.setupListenHandle [as _listen2]","line":1940,"method":"setupListenHandle [as _listen2]","native":false},{"column":12,"file":"node:net","function":"listenInCluster","line":1997,"method":null,"native":false},{"column":7,"file":"node:net","function":"Server.listen","line":2102,"method":"listen","native":false},{"column":24,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js","function":"app.listen","line":635,"method":"listen","native":false},{"column":24,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js","function":"startServer","line":262,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false}],"version":"1.0.0"}
{"date":"Tue Jun 17 2025 20:31:04 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"address":"::","code":"EADDRINUSE","errno":-48,"port":3001,"syscall":"listen"},"exception":true,"level":"error","message":"uncaughtException: listen EADDRINUSE: address already in use :::3001\nError: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:262:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","os":{"loadavg":[4.09521484375,11.6875,11.2275390625],"uptime":444612},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":19120,"external":2235040,"heapTotal":33259520,"heapUsed":18439352,"rss":82345984},"pid":32581,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:262:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:31:04","trace":[{"column":16,"file":"node:net","function":"Server.setupListenHandle [as _listen2]","line":1940,"method":"setupListenHandle [as _listen2]","native":false},{"column":12,"file":"node:net","function":"listenInCluster","line":1997,"method":null,"native":false},{"column":7,"file":"node:net","function":"Server.listen","line":2102,"method":"listen","native":false},{"column":24,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js","function":"app.listen","line":635,"method":"listen","native":false},{"column":24,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js","function":"startServer","line":262,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false}],"version":"1.0.0"}
{"date":"Tue Jun 17 2025 20:31:09 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"address":"::","code":"EADDRINUSE","errno":-48,"port":3001,"syscall":"listen"},"exception":true,"level":"error","message":"uncaughtException: listen EADDRINUSE: address already in use :::3001\nError: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:262:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","os":{"loadavg":[3.92724609375,11.5263671875,11.17333984375],"uptime":444617},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":19120,"external":2235040,"heapTotal":33259520,"heapUsed":18362608,"rss":84312064},"pid":32621,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:262:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:31:09","trace":[{"column":16,"file":"node:net","function":"Server.setupListenHandle [as _listen2]","line":1940,"method":"setupListenHandle [as _listen2]","native":false},{"column":12,"file":"node:net","function":"listenInCluster","line":1997,"method":null,"native":false},{"column":7,"file":"node:net","function":"Server.listen","line":2102,"method":"listen","native":false},{"column":24,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js","function":"app.listen","line":635,"method":"listen","native":false},{"column":24,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js","function":"startServer","line":262,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false}],"version":"1.0.0"}
{"environment":"development","error":"Incorrect arguments to mysqld_stmt_execute","level":"error","message":"Query failed (1ms):","params":[3,0],"service":"housing-dashboard-api","sql":"\n      SELECT \n        ps.id,\n        ps.sale_date,\n        ps.sale_price,\n        ps.list_price,\n        ps.price_per_sqft,\n        ps.size_sqft,\n        ps.bedrooms,\n        ps.bathrooms,\n        ps.days_on_market,\n        ps.is_new_construction,\n        ps.postal_code,\n        r.name as region_name,\n        r.code as region_code,\n        ht.name as housing_type_name,\n        ht.code as housing_type_code\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      \n      ORDER BY ps.sale_date DESC\n      LIMIT ? OFFSET ?\n    ","timestamp":"2025-06-17 20:31:36","version":"1.0.0"}
{"code":"ER_WRONG_ARGUMENTS","environment":"development","errno":1210,"level":"error","message":"Error fetching sales data: Incorrect arguments to mysqld_stmt_execute","service":"housing-dashboard-api","sql":"\n      SELECT \n        ps.id,\n        ps.sale_date,\n        ps.sale_price,\n        ps.list_price,\n        ps.price_per_sqft,\n        ps.size_sqft,\n        ps.bedrooms,\n        ps.bathrooms,\n        ps.days_on_market,\n        ps.is_new_construction,\n        ps.postal_code,\n        r.name as region_name,\n        r.code as region_code,\n        ht.name as housing_type_name,\n        ht.code as housing_type_code\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      \n      ORDER BY ps.sale_date DESC\n      LIMIT ? OFFSET ?\n    ","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/housing.js:218:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:31:36","version":"1.0.0"}
{"duration":"7ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":93,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-17 20:31:36","url":"/api/housing/sales?limit=3","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:279:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-17 20:31:42","version":"1.0.0"}
{"date":"Tue Jun 17 2025 20:32:05 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"address":"::","code":"EADDRINUSE","errno":-48,"port":3001,"syscall":"listen"},"exception":true,"level":"error","message":"uncaughtException: listen EADDRINUSE: address already in use :::3001\nError: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/test-simple-api.js:49:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","os":{"loadavg":[2.61865234375,9.9013671875,10.58984375],"uptime":444673},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/test-simple-api.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18944,"external":2209580,"heapTotal":30605312,"heapUsed":12585320,"rss":76660736},"pid":32735,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/test-simple-api.js:49:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:32:05","trace":[{"column":16,"file":"node:net","function":"Server.setupListenHandle [as _listen2]","line":1940,"method":"setupListenHandle [as _listen2]","native":false},{"column":12,"file":"node:net","function":"listenInCluster","line":1997,"method":null,"native":false},{"column":7,"file":"node:net","function":"Server.listen","line":2102,"method":"listen","native":false},{"column":24,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js","function":"app.listen","line":635,"method":"listen","native":false},{"column":9,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/test-simple-api.js","function":"startServer","line":49,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false}],"version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:279:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-17 20:32:16","version":"1.0.0"}
{"date":"Tue Jun 17 2025 20:34:41 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"address":"::","code":"EADDRINUSE","errno":-48,"port":3001,"syscall":"listen"},"exception":true,"level":"error","message":"uncaughtException: listen EADDRINUSE: address already in use :::3001\nError: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:262:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","os":{"loadavg":[3.13037109375,6.9814453125,9.25048828125],"uptime":444829},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18944,"external":2209580,"heapTotal":34832384,"heapUsed":17056504,"rss":87916544},"pid":32916,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:262:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:34:41","trace":[{"column":16,"file":"node:net","function":"Server.setupListenHandle [as _listen2]","line":1940,"method":"setupListenHandle [as _listen2]","native":false},{"column":12,"file":"node:net","function":"listenInCluster","line":1997,"method":null,"native":false},{"column":7,"file":"node:net","function":"Server.listen","line":2102,"method":"listen","native":false},{"column":24,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js","function":"app.listen","line":635,"method":"listen","native":false},{"column":24,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js","function":"startServer","line":262,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false}],"version":"1.0.0"}
{"date":"Tue Jun 17 2025 20:40:50 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"address":"::","code":"EADDRINUSE","errno":-48,"port":3001,"syscall":"listen"},"exception":true,"level":"error","message":"uncaughtException: listen EADDRINUSE: address already in use :::3001\nError: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/test-simple-api.js:49:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","os":{"loadavg":[3.41943359375,5.17919921875,7.58447265625],"uptime":445198},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/test-simple-api.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18944,"external":2209580,"heapTotal":31129600,"heapUsed":12469768,"rss":78217216},"pid":33925,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: listen EADDRINUSE: address already in use :::3001\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js:635:24)\n    at startServer (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/test-simple-api.js:49:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:40:50","trace":[{"column":16,"file":"node:net","function":"Server.setupListenHandle [as _listen2]","line":1940,"method":"setupListenHandle [as _listen2]","native":false},{"column":12,"file":"node:net","function":"listenInCluster","line":1997,"method":null,"native":false},{"column":7,"file":"node:net","function":"Server.listen","line":2102,"method":"listen","native":false},{"column":24,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/application.js","function":"app.listen","line":635,"method":"listen","native":false},{"column":9,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/test-simple-api.js","function":"startServer","line":49,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":105,"method":"processTicksAndRejections","native":false}],"version":"1.0.0"}
{"environment":"development","error":"Incorrect arguments to mysqld_stmt_execute","level":"error","message":"Query failed (3ms):","params":[50,0],"service":"housing-dashboard-api","sql":"\n      SELECT \n        ps.id,\n        ps.sale_date,\n        ps.sale_price,\n        ps.list_price,\n        ps.price_per_sqft,\n        ps.size_sqft,\n        ps.bedrooms,\n        ps.bathrooms,\n        ps.days_on_market,\n        ps.is_new_construction,\n        ps.postal_code,\n        r.name as region_name,\n        r.code as region_code,\n        ht.name as housing_type_name,\n        ht.code as housing_type_code\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      \n      ORDER BY ps.sale_date DESC\n      LIMIT ? OFFSET ?\n    ","timestamp":"2025-06-17 20:47:41","version":"1.0.0"}
{"code":"ER_WRONG_ARGUMENTS","environment":"development","errno":1210,"level":"error","message":"Error fetching sales data: Incorrect arguments to mysqld_stmt_execute","service":"housing-dashboard-api","sql":"\n      SELECT \n        ps.id,\n        ps.sale_date,\n        ps.sale_price,\n        ps.list_price,\n        ps.price_per_sqft,\n        ps.size_sqft,\n        ps.bedrooms,\n        ps.bathrooms,\n        ps.days_on_market,\n        ps.is_new_construction,\n        ps.postal_code,\n        r.name as region_name,\n        r.code as region_code,\n        ht.name as housing_type_name,\n        ht.code as housing_type_code\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      \n      ORDER BY ps.sale_date DESC\n      LIMIT ? OFFSET ?\n    ","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/housing.js:218:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:47:41","version":"1.0.0"}
{"duration":"7ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":93,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-17 20:47:41","url":"/api/housing/sales","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","error":"Incorrect arguments to mysqld_stmt_execute","level":"error","message":"Query failed (5ms):","params":[50,0],"service":"housing-dashboard-api","sql":"\n      SELECT \n        ps.id,\n        ps.sale_date,\n        ps.sale_price,\n        ps.list_price,\n        ps.price_per_sqft,\n        ps.size_sqft,\n        ps.bedrooms,\n        ps.bathrooms,\n        ps.days_on_market,\n        ps.is_new_construction,\n        ps.postal_code,\n        r.name as region_name,\n        r.code as region_code,\n        ht.name as housing_type_name,\n        ht.code as housing_type_code\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      \n      ORDER BY ps.sale_date DESC\n      LIMIT ? OFFSET ?\n    ","timestamp":"2025-06-17 20:49:51","version":"1.0.0"}
{"code":"ER_WRONG_ARGUMENTS","environment":"development","errno":1210,"level":"error","message":"Error fetching sales data: Incorrect arguments to mysqld_stmt_execute","service":"housing-dashboard-api","sql":"\n      SELECT \n        ps.id,\n        ps.sale_date,\n        ps.sale_price,\n        ps.list_price,\n        ps.price_per_sqft,\n        ps.size_sqft,\n        ps.bedrooms,\n        ps.bathrooms,\n        ps.days_on_market,\n        ps.is_new_construction,\n        ps.postal_code,\n        r.name as region_name,\n        r.code as region_code,\n        ht.name as housing_type_name,\n        ht.code as housing_type_code\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      \n      ORDER BY ps.sale_date DESC\n      LIMIT ? OFFSET ?\n    ","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/housing.js:218:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:49:51","version":"1.0.0"}
{"duration":"11ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":93,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-17 20:49:51","url":"/api/housing/sales","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","error":"Incorrect arguments to mysqld_stmt_execute","level":"error","message":"Query failed (1ms):","params":[5,0],"service":"housing-dashboard-api","sql":"\n      SELECT \n        ps.id,\n        ps.sale_date,\n        ps.sale_price,\n        ps.list_price,\n        ps.price_per_sqft,\n        ps.size_sqft,\n        ps.bedrooms,\n        ps.bathrooms,\n        ps.days_on_market,\n        ps.is_new_construction,\n        ps.postal_code,\n        r.name as region_name,\n        r.code as region_code,\n        ht.name as housing_type_name,\n        ht.code as housing_type_code\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      \n      ORDER BY ps.sale_date DESC\n      LIMIT ? OFFSET ?\n    ","timestamp":"2025-06-17 20:50:07","version":"1.0.0"}
{"code":"ER_WRONG_ARGUMENTS","environment":"development","errno":1210,"level":"error","message":"Error fetching sales data: Incorrect arguments to mysqld_stmt_execute","service":"housing-dashboard-api","sql":"\n      SELECT \n        ps.id,\n        ps.sale_date,\n        ps.sale_price,\n        ps.list_price,\n        ps.price_per_sqft,\n        ps.size_sqft,\n        ps.bedrooms,\n        ps.bathrooms,\n        ps.days_on_market,\n        ps.is_new_construction,\n        ps.postal_code,\n        r.name as region_name,\n        r.code as region_code,\n        ht.name as housing_type_name,\n        ht.code as housing_type_code\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      \n      ORDER BY ps.sale_date DESC\n      LIMIT ? OFFSET ?\n    ","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/housing.js:218:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-17 20:50:07","version":"1.0.0"}
{"duration":"2ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":93,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-17 20:50:07","url":"/api/housing/sales?limit=5","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:279:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-17 20:51:00","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:311:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-17 21:08:23","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:311:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-17 21:12:20","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:23","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:23","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:24","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:24","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:24","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:25","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:25","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:26","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:26","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:27","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:28","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 10:39:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:39:29","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:330:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-19 10:40:41","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:54","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:54","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:54","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:54","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:54","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:55","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:55","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:56","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:56","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:57","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:58","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 10:40:59","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:59","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 10:40:59","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 11:26:06","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 11:26:06","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 11:26:06","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 11:26:06","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 11:26:06","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 11:26:07","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 11:26:07","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 11:26:08","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 11:26:09","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 11:26:09","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 11:26:10","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 11:26:11","version":"1.0.0"}
{"environment":"development","error":"Table 'housing_dashboard.property_sales' doesn't exist","level":"error","message":"Query failed (3ms):","params":["2","2"],"service":"housing-dashboard-api","sql":"\n      SELECT \n        COUNT(*) as total_sales,\n        AVG(ps.sale_price) as avg_price,\n        AVG(ps.days_on_market) as avg_days_on_market,\n        SUM(ps.sale_price) as total_sales_value,\n        MAX(ps.sale_date) as latest_sale_date,\n        MIN(ps.sale_date) as earliest_sale_date\n      FROM property_sales ps\n      WHERE ps.region_id = ?\n        \n        AND ps.sale_date >= (\n          SELECT DATE_SUB(MAX(sale_date), INTERVAL 90 DAY) \n          FROM property_sales \n          WHERE region_id = ?\n        )\n    ","timestamp":"2025-06-19 11:26:13","version":"1.0.0"}
{"code":"ER_NO_SUCH_TABLE","environment":"development","errno":1146,"level":"error","message":"Error fetching market summary: Table 'housing_dashboard.property_sales' doesn't exist","service":"housing-dashboard-api","sql":"\n      SELECT \n        COUNT(*) as total_sales,\n        AVG(ps.sale_price) as avg_price,\n        AVG(ps.days_on_market) as avg_days_on_market,\n        SUM(ps.sale_price) as total_sales_value,\n        MAX(ps.sale_date) as latest_sale_date,\n        MIN(ps.sale_date) as earliest_sale_date\n      FROM property_sales ps\n      WHERE ps.region_id = ?\n        \n        AND ps.sale_date >= (\n          SELECT DATE_SUB(MAX(sale_date), INTERVAL 90 DAY) \n          FROM property_sales \n          WHERE region_id = ?\n        )\n    ","sqlMessage":"Table 'housing_dashboard.property_sales' doesn't exist","sqlState":"42S02","stack":"Error: Table 'housing_dashboard.property_sales' doesn't exist\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:98:16\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at validateRequest (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:18:3)\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-19 11:26:13","version":"1.0.0"}
{"duration":"4ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":109,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-19 11:26:13","url":"/api/analytics/market-summary?regionId=2&housingTypeId=1","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","error":"Table 'housing_dashboard.active_listings' doesn't exist","level":"error","message":"Query failed (4ms):","params":["2"],"service":"housing-dashboard-api","sql":"\n      SELECT COUNT(*) as active_listings\n      FROM active_listings al\n      WHERE al.region_id = ?\n        \n    ","timestamp":"2025-06-19 11:26:13","version":"1.0.0"}
{"environment":"development","error":"Table 'housing_dashboard.property_sales' doesn't exist","level":"error","message":"Query failed (7ms):","params":["2","2","2"],"service":"housing-dashboard-api","sql":"\n      SELECT \n        COUNT(*) as total_sales,\n        AVG(ps.sale_price) as avg_price,\n        AVG(ps.days_on_market) as avg_days_on_market\n      FROM property_sales ps\n      WHERE ps.region_id = ?\n        \n        AND ps.sale_date >= (\n          SELECT DATE_SUB(MAX(sale_date), INTERVAL 180 DAY) \n          FROM property_sales \n          WHERE region_id = ?\n        )\n        AND ps.sale_date < (\n          SELECT DATE_SUB(MAX(sale_date), INTERVAL 90 DAY) \n          FROM property_sales \n          WHERE region_id = ?\n        )\n    ","timestamp":"2025-06-19 11:26:13","version":"1.0.0"}
{"environment":"development","error":"Table 'housing_dashboard.active_listings' doesn't exist","level":"error","message":"Query failed (16ms):","params":["2"],"service":"housing-dashboard-api","sql":"\n      SELECT COUNT(*) as active_listings\n      FROM active_listings al\n      WHERE al.region_id = ?\n        \n    ","timestamp":"2025-06-19 11:33:44","version":"1.0.0"}
{"code":"ER_NO_SUCH_TABLE","environment":"development","errno":1146,"level":"error","message":"Error fetching market summary: Table 'housing_dashboard.active_listings' doesn't exist","service":"housing-dashboard-api","sql":"\n      SELECT COUNT(*) as active_listings\n      FROM active_listings al\n      WHERE al.region_id = ?\n        \n    ","sqlMessage":"Table 'housing_dashboard.active_listings' doesn't exist","sqlState":"42S02","stack":"Error: Table 'housing_dashboard.active_listings' doesn't exist\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:100:16\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at validateRequest (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:18:3)\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-19 11:33:44","version":"1.0.0"}
{"duration":"24ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":110,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-19 11:33:44","url":"/api/analytics/market-summary?regionId=2&housingTypeId=1","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","error":"Table 'housing_dashboard.property_sales' doesn't exist","level":"error","message":"Query failed (29ms):","params":["2","2"],"service":"housing-dashboard-api","sql":"\n      SELECT \n        COUNT(*) as total_sales,\n        AVG(ps.sale_price) as avg_price,\n        AVG(ps.days_on_market) as avg_days_on_market,\n        SUM(ps.sale_price) as total_sales_value,\n        MAX(ps.sale_date) as latest_sale_date,\n        MIN(ps.sale_date) as earliest_sale_date\n      FROM property_sales ps\n      WHERE ps.region_id = ?\n        \n        AND ps.sale_date >= (\n          SELECT DATE_SUB(MAX(sale_date), INTERVAL 90 DAY) \n          FROM property_sales \n          WHERE region_id = ?\n        )\n    ","timestamp":"2025-06-19 11:33:44","version":"1.0.0"}
{"environment":"development","error":"Table 'housing_dashboard.property_sales' doesn't exist","level":"error","message":"Query failed (27ms):","params":["2","2","2"],"service":"housing-dashboard-api","sql":"\n      SELECT \n        COUNT(*) as total_sales,\n        AVG(ps.sale_price) as avg_price,\n        AVG(ps.days_on_market) as avg_days_on_market\n      FROM property_sales ps\n      WHERE ps.region_id = ?\n        \n        AND ps.sale_date >= (\n          SELECT DATE_SUB(MAX(sale_date), INTERVAL 180 DAY) \n          FROM property_sales \n          WHERE region_id = ?\n        )\n        AND ps.sale_date < (\n          SELECT DATE_SUB(MAX(sale_date), INTERVAL 90 DAY) \n          FROM property_sales \n          WHERE region_id = ?\n        )\n    ","timestamp":"2025-06-19 11:33:44","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:330:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-19 11:33:49","version":"1.0.0"}
{"date":"Thu Jun 19 2025 11:34:02 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{},"exception":true,"level":"error","message":"uncaughtException: Unexpected token '}'\n/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:101\n      },\n      ^\n\nSyntaxError: Unexpected token '}'\n    at wrapSafe (node:internal/modules/cjs/loader:1666:18)\n    at Module._compile (node:internal/modules/cjs/loader:1708:20)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)\n    at Object.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:20:25)","os":{"loadavg":[2.44580078125,3.25927734375,3.5615234375],"uptime":585190},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18644,"external":2083652,"heapTotal":100696064,"heapUsed":43693472,"rss":124452864},"pid":88951,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:101\n      },\n      ^\n\nSyntaxError: Unexpected token '}'\n    at wrapSafe (node:internal/modules/cjs/loader:1666:18)\n    at Module._compile (node:internal/modules/cjs/loader:1708:20)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)\n    at Object.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:20:25)","timestamp":"2025-06-19 11:34:02","trace":[{"column":18,"file":"node:internal/modules/cjs/loader","function":"wrapSafe","line":1666,"method":null,"native":false},{"column":20,"file":"node:internal/modules/cjs/loader","function":"Module._compile","line":1708,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":"Object..js","line":1899,"method":".js","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1469,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Module._load","line":1286,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false},{"column":24,"file":"node:internal/modules/cjs/loader","function":"wrapModuleLoad","line":235,"method":null,"native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1491,"method":"require","native":false},{"column":16,"file":"node:internal/modules/helpers","function":"require","line":135,"method":null,"native":false},{"column":25,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js","function":null,"line":20,"method":null,"native":false}],"version":"1.0.0"}
{"date":"Thu Jun 19 2025 11:35:05 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{},"exception":true,"level":"error","message":"uncaughtException: Unexpected token '}'\n/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:101\n      },\n      ^\n\nSyntaxError: Unexpected token '}'\n    at wrapSafe (node:internal/modules/cjs/loader:1666:18)\n    at Module._compile (node:internal/modules/cjs/loader:1708:20)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)\n    at Object.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:20:25)","os":{"loadavg":[3.38330078125,3.31494140625,3.5556640625],"uptime":585253},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18644,"external":2083652,"heapTotal":100958208,"heapUsed":43546088,"rss":125157376},"pid":89954,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:101\n      },\n      ^\n\nSyntaxError: Unexpected token '}'\n    at wrapSafe (node:internal/modules/cjs/loader:1666:18)\n    at Module._compile (node:internal/modules/cjs/loader:1708:20)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)\n    at Object.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:20:25)","timestamp":"2025-06-19 11:35:05","trace":[{"column":18,"file":"node:internal/modules/cjs/loader","function":"wrapSafe","line":1666,"method":null,"native":false},{"column":20,"file":"node:internal/modules/cjs/loader","function":"Module._compile","line":1708,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":"Object..js","line":1899,"method":".js","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1469,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Module._load","line":1286,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false},{"column":24,"file":"node:internal/modules/cjs/loader","function":"wrapModuleLoad","line":235,"method":null,"native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1491,"method":"require","native":false},{"column":16,"file":"node:internal/modules/helpers","function":"require","line":135,"method":null,"native":false},{"column":25,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js","function":null,"line":20,"method":null,"native":false}],"version":"1.0.0"}
{"date":"Thu Jun 19 2025 11:35:22 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{},"exception":true,"level":"error","message":"uncaughtException: Unexpected token '}'\n/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:101\n      },\n      ^\n\nSyntaxError: Unexpected token '}'\n    at wrapSafe (node:internal/modules/cjs/loader:1666:18)\n    at Module._compile (node:internal/modules/cjs/loader:1708:20)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)\n    at Object.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:20:25)","os":{"loadavg":[6.0068359375,3.91064453125,3.7626953125],"uptime":585270},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18644,"external":2083652,"heapTotal":100696064,"heapUsed":43397040,"rss":126140416},"pid":90020,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:101\n      },\n      ^\n\nSyntaxError: Unexpected token '}'\n    at wrapSafe (node:internal/modules/cjs/loader:1666:18)\n    at Module._compile (node:internal/modules/cjs/loader:1708:20)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)\n    at Object.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:20:25)","timestamp":"2025-06-19 11:35:22","trace":[{"column":18,"file":"node:internal/modules/cjs/loader","function":"wrapSafe","line":1666,"method":null,"native":false},{"column":20,"file":"node:internal/modules/cjs/loader","function":"Module._compile","line":1708,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":"Object..js","line":1899,"method":".js","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1469,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Module._load","line":1286,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false},{"column":24,"file":"node:internal/modules/cjs/loader","function":"wrapModuleLoad","line":235,"method":null,"native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1491,"method":"require","native":false},{"column":16,"file":"node:internal/modules/helpers","function":"require","line":135,"method":null,"native":false},{"column":25,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js","function":null,"line":20,"method":null,"native":false}],"version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:30","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:30","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:31","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:31","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:32","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:33","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 16:13:34","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:34","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:13:34","version":"1.0.0"}
{"environment":"development","error":"Table 'housing_dashboard.property_sales' doesn't exist","level":"error","message":"Query failed (22ms):","params":[],"service":"housing-dashboard-api","sql":"\n      SELECT \n        r.id,\n        r.name,\n        r.code,\n        r.population,\n        r.area_km2,\n        parent.name as parent_region_name,\n        COUNT(DISTINCT ps.id) as total_sales_last_30_days,\n        COUNT(DISTINCT al.id) as active_listings\n      FROM regions r\n      LEFT JOIN regions parent ON r.parent_region_id = parent.id\n      LEFT JOIN property_sales ps ON r.id = ps.region_id \n        AND ps.sale_date >= DATE_SUB(CURDATE(), INTERVAL 30 DAY)\n      LEFT JOIN active_listings al ON r.id = al.region_id\n      GROUP BY r.id, r.name, r.code, r.population, r.area_km2, parent.name\n      ORDER BY r.name\n    ","timestamp":"2025-06-19 16:15:25","version":"1.0.0"}
{"code":"ER_NO_SUCH_TABLE","environment":"development","errno":1146,"level":"error","message":"Error fetching regions: Table 'housing_dashboard.property_sales' doesn't exist","service":"housing-dashboard-api","sql":"\n      SELECT \n        r.id,\n        r.name,\n        r.code,\n        r.population,\n        r.area_km2,\n        parent.name as parent_region_name,\n        COUNT(DISTINCT ps.id) as total_sales_last_30_days,\n        COUNT(DISTINCT al.id) as active_listings\n      FROM regions r\n      LEFT JOIN regions parent ON r.parent_region_id = parent.id\n      LEFT JOIN property_sales ps ON r.id = ps.region_id \n        AND ps.sale_date >= DATE_SUB(CURDATE(), INTERVAL 30 DAY)\n      LEFT JOIN active_listings al ON r.id = al.region_id\n      GROUP BY r.id, r.name, r.code, r.population, r.area_km2, parent.name\n      ORDER BY r.name\n    ","sqlMessage":"Table 'housing_dashboard.property_sales' doesn't exist","sqlState":"42S02","stack":"Error: Table 'housing_dashboard.property_sales' doesn't exist\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/housing.js:48:37\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-06-19 16:15:25","version":"1.0.0"}
{"duration":"24ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":102,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-19 16:15:25","url":"/api/housing/regions","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","error":"Table 'housing_dashboard.property_sales' doesn't exist","level":"error","message":"Query failed (64ms):","params":["2","1","12"],"service":"housing-dashboard-api","sql":"\n      SELECT \n        DATE_FORMAT(ps.sale_date, '%Y-%m') as month,\n        COUNT(*) as sales_count,\n        AVG(ps.sale_price) as avg_price,\n        AVG(ps.price_per_sqft) as avg_price_per_sqft,\n        AVG(ps.days_on_market) as avg_days_on_market,\n        MIN(ps.sale_price) as min_price,\n        MAX(ps.sale_price) as max_price,\n        r.name as region_name,\n        ht.name as housing_type_name\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      WHERE ps.region_id = ? \n        AND ps.housing_type_id = ?\n        AND ps.sale_date >= DATE_SUB(CURDATE(), INTERVAL ? MONTH)\n      GROUP BY DATE_FORMAT(ps.sale_date, '%Y-%m'), r.name, ht.name\n      ORDER BY month\n    ","timestamp":"2025-06-19 16:16:40","version":"1.0.0"}
{"code":"ER_NO_SUCH_TABLE","environment":"development","errno":1146,"level":"error","message":"Error fetching price trends: Table 'housing_dashboard.property_sales' doesn't exist","service":"housing-dashboard-api","sql":"\n      SELECT \n        DATE_FORMAT(ps.sale_date, '%Y-%m') as month,\n        COUNT(*) as sales_count,\n        AVG(ps.sale_price) as avg_price,\n        AVG(ps.price_per_sqft) as avg_price_per_sqft,\n        AVG(ps.days_on_market) as avg_days_on_market,\n        MIN(ps.sale_price) as min_price,\n        MAX(ps.sale_price) as max_price,\n        r.name as region_name,\n        ht.name as housing_type_name\n      FROM property_sales ps\n      JOIN regions r ON ps.region_id = r.id\n      JOIN housing_types ht ON ps.housing_type_id = ht.id\n      WHERE ps.region_id = ? \n        AND ps.housing_type_id = ?\n        AND ps.sale_date >= DATE_SUB(CURDATE(), INTERVAL ? MONTH)\n      GROUP BY DATE_FORMAT(ps.sale_date, '%Y-%m'), r.name, ht.name\n      ORDER BY month\n    ","sqlMessage":"Table 'housing_dashboard.property_sales' doesn't exist","sqlState":"42S02","stack":"Error: Table 'housing_dashboard.property_sales' doesn't exist\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/housing.js:395:37\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at validateRequest (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/housing.js:23:3)\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-19 16:16:40","version":"1.0.0"}
{"duration":"83ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":107,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-19 16:16:40","url":"/api/housing/price-trends/2/1?months=12","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:298:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-19 16:17:18","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:25","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:25","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:25","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:25","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:25","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:26","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:26","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:27","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:27","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:28","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:30","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:30","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 16:17:30","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:30","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:30","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:30","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:31","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:31","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:32","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:33","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:17:34","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 16:17:35","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:298:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-19 16:28:51","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:03","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:03","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:03","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:04","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:04","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:04","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:05","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:05","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:06","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:07","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:08","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 16:29:09","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:09","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:29:09","version":"1.0.0"}
{"environment":"development","error":"Unknown column 'pt.avg_price' in 'field list'","level":"error","message":"Query failed (5ms):","params":["1","1"],"service":"housing-dashboard-api","sql":"\n      SELECT \n        AVG(pt.avg_price) as avg_price,\n        AVG(pt.median_price) as median_price,\n        AVG(pt.price_per_sqft) as price_per_sqft,\n        SUM(pt.sales_count) as total_sales,\n        AVG(pt.avg_days_on_market) as avg_days_on_market,\n        SUM(pt.active_listings) as active_listings,\n        SUM(pt.new_listings) as new_listings,\n        r.name as region_name,\n        ht.name as housing_type_name,\n        MAX(pt.data_date) as data_date\n      FROM price_trends pt\n      JOIN regions r ON pt.region_id = r.id\n      JOIN housing_types ht ON pt.housing_type_id = ht.id\n      WHERE pt.region_id = ? \n        AND pt.housing_type_id = ?\n        AND pt.data_date >= DATE_SUB(CURDATE(), INTERVAL 3 MONTH)\n      GROUP BY r.name, ht.name\n    ","timestamp":"2025-06-19 16:29:14","version":"1.0.0"}
{"code":"ER_BAD_FIELD_ERROR","environment":"development","errno":1054,"level":"error","message":"Error fetching enhanced metrics: Unknown column 'pt.avg_price' in 'field list'","service":"housing-dashboard-api","sql":"\n      SELECT \n        AVG(pt.avg_price) as avg_price,\n        AVG(pt.median_price) as median_price,\n        AVG(pt.price_per_sqft) as price_per_sqft,\n        SUM(pt.sales_count) as total_sales,\n        AVG(pt.avg_days_on_market) as avg_days_on_market,\n        SUM(pt.active_listings) as active_listings,\n        SUM(pt.new_listings) as new_listings,\n        r.name as region_name,\n        ht.name as housing_type_name,\n        MAX(pt.data_date) as data_date\n      FROM price_trends pt\n      JOIN regions r ON pt.region_id = r.id\n      JOIN housing_types ht ON pt.housing_type_id = ht.id\n      WHERE pt.region_id = ? \n        AND pt.housing_type_id = ?\n        AND pt.data_date >= DATE_SUB(CURDATE(), INTERVAL 3 MONTH)\n      GROUP BY r.name, ht.name\n    ","sqlMessage":"Unknown column 'pt.avg_price' in 'field list'","sqlState":"42S22","stack":"Error: Unknown column 'pt.avg_price' in 'field list'\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:343:39\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at validateRequest (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:18:3)\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-19 16:29:14","version":"1.0.0"}
{"duration":"8ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":102,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-19 16:29:14","url":"/api/analytics/enhanced-metrics?regionId=1&housingTypeId=1","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","error":"Unknown column 'pt.avg_price' in 'field list'","level":"error","message":"Query failed (1ms):","params":["1","1"],"service":"housing-dashboard-api","sql":"\n      SELECT \n        AVG(pt.avg_price) as avg_price,\n        AVG(pt.median_price) as median_price,\n        AVG(pt.price_per_sqft) as price_per_sqft,\n        SUM(pt.sales_count) as total_sales,\n        AVG(pt.avg_days_on_market) as avg_days_on_market,\n        SUM(pt.active_listings) as active_listings,\n        SUM(pt.new_listings) as new_listings,\n        r.name as region_name,\n        ht.name as housing_type_name,\n        MAX(pt.data_date) as data_date\n      FROM price_trends pt\n      JOIN regions r ON pt.region_id = r.id\n      JOIN housing_types ht ON pt.housing_type_id = ht.id\n      WHERE pt.region_id = ? \n        AND pt.housing_type_id = ?\n        AND pt.data_date >= DATE_SUB(CURDATE(), INTERVAL 3 MONTH)\n      GROUP BY r.name, ht.name\n    ","timestamp":"2025-06-19 16:29:17","version":"1.0.0"}
{"code":"ER_BAD_FIELD_ERROR","environment":"development","errno":1054,"level":"error","message":"Error fetching enhanced metrics: Unknown column 'pt.avg_price' in 'field list'","service":"housing-dashboard-api","sql":"\n      SELECT \n        AVG(pt.avg_price) as avg_price,\n        AVG(pt.median_price) as median_price,\n        AVG(pt.price_per_sqft) as price_per_sqft,\n        SUM(pt.sales_count) as total_sales,\n        AVG(pt.avg_days_on_market) as avg_days_on_market,\n        SUM(pt.active_listings) as active_listings,\n        SUM(pt.new_listings) as new_listings,\n        r.name as region_name,\n        ht.name as housing_type_name,\n        MAX(pt.data_date) as data_date\n      FROM price_trends pt\n      JOIN regions r ON pt.region_id = r.id\n      JOIN housing_types ht ON pt.housing_type_id = ht.id\n      WHERE pt.region_id = ? \n        AND pt.housing_type_id = ?\n        AND pt.data_date >= DATE_SUB(CURDATE(), INTERVAL 3 MONTH)\n      GROUP BY r.name, ht.name\n    ","sqlMessage":"Unknown column 'pt.avg_price' in 'field list'","sqlState":"42S22","stack":"Error: Unknown column 'pt.avg_price' in 'field list'\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:343:39\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at validateRequest (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:18:3)\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-19 16:29:17","version":"1.0.0"}
{"duration":"2ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":102,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-19 16:29:17","url":"/api/analytics/enhanced-metrics?regionId=1&housingTypeId=1","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","error":"Unknown column 'pt.avg_price' in 'field list'","level":"error","message":"Query failed (3ms):","params":["1","1"],"service":"housing-dashboard-api","sql":"\n      SELECT \n        AVG(pt.avg_price) as avg_price,\n        AVG(pt.median_price) as median_price,\n        AVG(pt.price_per_sqft) as price_per_sqft,\n        SUM(pt.sales_count) as total_sales,\n        AVG(pt.avg_days_on_market) as avg_days_on_market,\n        SUM(pt.active_listings) as active_listings,\n        SUM(pt.new_listings) as new_listings,\n        r.name as region_name,\n        ht.name as housing_type_name,\n        MAX(pt.data_date) as data_date\n      FROM price_trends pt\n      JOIN regions r ON pt.region_id = r.id\n      JOIN housing_types ht ON pt.housing_type_id = ht.id\n      WHERE pt.region_id = ? \n        AND pt.housing_type_id = ?\n        AND pt.data_date >= DATE_SUB(CURDATE(), INTERVAL 3 MONTH)\n      GROUP BY r.name, ht.name\n    ","timestamp":"2025-06-19 16:31:57","version":"1.0.0"}
{"code":"ER_BAD_FIELD_ERROR","environment":"development","errno":1054,"level":"error","message":"Error fetching enhanced metrics: Unknown column 'pt.avg_price' in 'field list'","service":"housing-dashboard-api","sql":"\n      SELECT \n        AVG(pt.avg_price) as avg_price,\n        AVG(pt.median_price) as median_price,\n        AVG(pt.price_per_sqft) as price_per_sqft,\n        SUM(pt.sales_count) as total_sales,\n        AVG(pt.avg_days_on_market) as avg_days_on_market,\n        SUM(pt.active_listings) as active_listings,\n        SUM(pt.new_listings) as new_listings,\n        r.name as region_name,\n        ht.name as housing_type_name,\n        MAX(pt.data_date) as data_date\n      FROM price_trends pt\n      JOIN regions r ON pt.region_id = r.id\n      JOIN housing_types ht ON pt.housing_type_id = ht.id\n      WHERE pt.region_id = ? \n        AND pt.housing_type_id = ?\n        AND pt.data_date >= DATE_SUB(CURDATE(), INTERVAL 3 MONTH)\n      GROUP BY r.name, ht.name\n    ","sqlMessage":"Unknown column 'pt.avg_price' in 'field list'","sqlState":"42S22","stack":"Error: Unknown column 'pt.avg_price' in 'field list'\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:343:39\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at validateRequest (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:18:3)\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-19 16:31:57","version":"1.0.0"}
{"duration":"4ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":102,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-19 16:31:57","url":"/api/analytics/enhanced-metrics?regionId=1&housingTypeId=1","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","error":"Unknown column 'pt.avg_price' in 'field list'","level":"error","message":"Query failed (1ms):","params":["1","1"],"service":"housing-dashboard-api","sql":"\n      SELECT \n        AVG(pt.avg_price) as avg_price,\n        AVG(pt.median_price) as median_price,\n        AVG(pt.price_per_sqft) as price_per_sqft,\n        SUM(pt.sales_count) as total_sales,\n        AVG(pt.avg_days_on_market) as avg_days_on_market,\n        SUM(pt.active_listings) as active_listings,\n        SUM(pt.new_listings) as new_listings,\n        r.name as region_name,\n        ht.name as housing_type_name,\n        MAX(pt.data_date) as data_date\n      FROM price_trends pt\n      JOIN regions r ON pt.region_id = r.id\n      JOIN housing_types ht ON pt.housing_type_id = ht.id\n      WHERE pt.region_id = ? \n        AND pt.housing_type_id = ?\n        AND pt.data_date >= DATE_SUB(CURDATE(), INTERVAL 3 MONTH)\n      GROUP BY r.name, ht.name\n    ","timestamp":"2025-06-19 16:32:01","version":"1.0.0"}
{"code":"ER_BAD_FIELD_ERROR","environment":"development","errno":1054,"level":"error","message":"Error fetching enhanced metrics: Unknown column 'pt.avg_price' in 'field list'","service":"housing-dashboard-api","sql":"\n      SELECT \n        AVG(pt.avg_price) as avg_price,\n        AVG(pt.median_price) as median_price,\n        AVG(pt.price_per_sqft) as price_per_sqft,\n        SUM(pt.sales_count) as total_sales,\n        AVG(pt.avg_days_on_market) as avg_days_on_market,\n        SUM(pt.active_listings) as active_listings,\n        SUM(pt.new_listings) as new_listings,\n        r.name as region_name,\n        ht.name as housing_type_name,\n        MAX(pt.data_date) as data_date\n      FROM price_trends pt\n      JOIN regions r ON pt.region_id = r.id\n      JOIN housing_types ht ON pt.housing_type_id = ht.id\n      WHERE pt.region_id = ? \n        AND pt.housing_type_id = ?\n        AND pt.data_date >= DATE_SUB(CURDATE(), INTERVAL 3 MONTH)\n      GROUP BY r.name, ht.name\n    ","sqlMessage":"Unknown column 'pt.avg_price' in 'field list'","sqlState":"42S22","stack":"Error: Unknown column 'pt.avg_price' in 'field list'\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:343:39\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at validateRequest (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/analytics.js:18:3)\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-19 16:32:01","version":"1.0.0"}
{"duration":"1ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":102,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-19 16:32:01","url":"/api/analytics/enhanced-metrics?regionId=1&housingTypeId=1","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:298:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-19 16:32:06","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:09","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:09","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:09","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:09","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:09","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:10","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:10","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:11","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:12","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:12","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:13","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 16:32:14","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:14","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:32:14","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:298:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-19 16:35:35","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:38","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:38","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:38","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:38","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:38","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:39","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:39","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:40","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:40","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:41","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:42","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 16:35:43","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:43","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:35:43","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:298:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-19 16:38:12","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:21","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:21","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:21","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:21","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:21","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:22","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:22","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:23","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:24","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:24","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:25","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 16:39:26","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:26","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:39:26","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:44:56","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:44:56","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:44:56","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:44:56","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:44:56","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:44:57","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:44:57","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:44:58","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:44:58","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:44:59","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:45:00","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 16:45:01","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:45:01","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:45:01","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:298:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-19 16:51:34","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:36","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:36","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:36","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:37","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:37","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:37","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:38","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:38","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:39","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:40","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:41","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 16:51:42","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:42","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:51:42","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:56:38","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:56:38","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:56:38","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:56:38","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:56:39","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:56:39","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:56:40","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:56:40","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:56:41","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:56:42","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 16:56:43","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 16:56:44","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:00:58","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:00:58","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:00:58","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:00:58","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:00:58","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:00:59","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:00:59","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:01:00","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:01:00","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:01:01","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:01:02","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 17:01:03","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:01:03","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:01:03","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:298:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-19 17:12:09","version":"1.0.0"}
{"date":"Thu Jun 19 2025 17:13:18 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"code":"EPIPE","errno":-32,"syscall":"write"},"exception":true,"level":"error","message":"uncaughtException: write EPIPE\nError: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","os":{"loadavg":[10.09326171875,6.33935546875,5.27197265625],"uptime":605546},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18644,"external":2097076,"heapTotal":101679104,"heapUsed":46409184,"rss":127500288},"pid":14531,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","timestamp":"2025-06-19 17:13:18","trace":[{"column":15,"file":"node:internal/stream_base_commons","function":"afterWriteDispatched","line":159,"method":null,"native":false},{"column":3,"file":"node:internal/stream_base_commons","function":"writeGeneric","line":150,"method":null,"native":false},{"column":11,"file":"node:net","function":"Socket._writeGeneric","line":966,"method":"_writeGeneric","native":false},{"column":8,"file":"node:net","function":"Socket._write","line":978,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":570,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":499,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":508,"method":"write","native":false},{"column":16,"file":"node:internal/console/constructor","function":"console.value","line":298,"method":"value","native":false},{"column":26,"file":"node:internal/console/constructor","function":"console.log","line":384,"method":"log","native":false},{"column":34,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js","function":"module.exports","line":17,"method":"exports","native":false}],"version":"1.0.0"}
{"date":"Thu Jun 19 2025 17:13:18 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"code":"EPIPE","errno":-32,"syscall":"write"},"exception":true,"level":"error","message":"uncaughtException: write EPIPE\nError: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","os":{"loadavg":[10.09326171875,6.33935546875,5.27197265625],"uptime":605546},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18668,"external":2097140,"heapTotal":101941248,"heapUsed":46637296,"rss":127729664},"pid":14531,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","timestamp":"2025-06-19 17:13:18","trace":[{"column":15,"file":"node:internal/stream_base_commons","function":"afterWriteDispatched","line":159,"method":null,"native":false},{"column":3,"file":"node:internal/stream_base_commons","function":"writeGeneric","line":150,"method":null,"native":false},{"column":11,"file":"node:net","function":"Socket._writeGeneric","line":966,"method":"_writeGeneric","native":false},{"column":8,"file":"node:net","function":"Socket._write","line":978,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":570,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":499,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":508,"method":"write","native":false},{"column":16,"file":"node:internal/console/constructor","function":"console.value","line":298,"method":"value","native":false},{"column":26,"file":"node:internal/console/constructor","function":"console.log","line":384,"method":"log","native":false},{"column":34,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js","function":"module.exports","line":17,"method":"exports","native":false}],"version":"1.0.0"}
{"date":"Thu Jun 19 2025 17:13:18 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"code":"EPIPE","errno":-32,"syscall":"write"},"exception":true,"level":"error","message":"uncaughtException: write EPIPE\nError: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","os":{"loadavg":[10.09326171875,6.33935546875,5.27197265625],"uptime":605546},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":26860,"external":2105332,"heapTotal":101941248,"heapUsed":46759912,"rss":127762432},"pid":14531,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","timestamp":"2025-06-19 17:13:18","trace":[{"column":15,"file":"node:internal/stream_base_commons","function":"afterWriteDispatched","line":159,"method":null,"native":false},{"column":3,"file":"node:internal/stream_base_commons","function":"writeGeneric","line":150,"method":null,"native":false},{"column":11,"file":"node:net","function":"Socket._writeGeneric","line":966,"method":"_writeGeneric","native":false},{"column":8,"file":"node:net","function":"Socket._write","line":978,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":570,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":499,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":508,"method":"write","native":false},{"column":16,"file":"node:internal/console/constructor","function":"console.value","line":298,"method":"value","native":false},{"column":26,"file":"node:internal/console/constructor","function":"console.log","line":384,"method":"log","native":false},{"column":34,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js","function":"module.exports","line":17,"method":"exports","native":false}],"version":"1.0.0"}
{"date":"Thu Jun 19 2025 17:13:18 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"code":"EPIPE","errno":-32,"syscall":"write"},"exception":true,"level":"error","message":"uncaughtException: write EPIPE\nError: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","os":{"loadavg":[10.09326171875,6.33935546875,5.27197265625],"uptime":605546},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":35052,"external":2113524,"heapTotal":101941248,"heapUsed":47210536,"rss":127762432},"pid":14531,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","timestamp":"2025-06-19 17:13:18","trace":[{"column":15,"file":"node:internal/stream_base_commons","function":"afterWriteDispatched","line":159,"method":null,"native":false},{"column":3,"file":"node:internal/stream_base_commons","function":"writeGeneric","line":150,"method":null,"native":false},{"column":11,"file":"node:net","function":"Socket._writeGeneric","line":966,"method":"_writeGeneric","native":false},{"column":8,"file":"node:net","function":"Socket._write","line":978,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":570,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":499,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":508,"method":"write","native":false},{"column":16,"file":"node:internal/console/constructor","function":"console.value","line":298,"method":"value","native":false},{"column":26,"file":"node:internal/console/constructor","function":"console.log","line":384,"method":"log","native":false},{"column":34,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js","function":"module.exports","line":17,"method":"exports","native":false}],"version":"1.0.0"}
{"date":"Thu Jun 19 2025 17:13:18 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"code":"EPIPE","errno":-32,"syscall":"write"},"exception":true,"level":"error","message":"uncaughtException: write EPIPE\nError: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","os":{"loadavg":[10.09326171875,6.33935546875,5.27197265625],"uptime":605546},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":43244,"external":2121716,"heapTotal":101941248,"heapUsed":47308848,"rss":127778816},"pid":14531,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","timestamp":"2025-06-19 17:13:18","trace":[{"column":15,"file":"node:internal/stream_base_commons","function":"afterWriteDispatched","line":159,"method":null,"native":false},{"column":3,"file":"node:internal/stream_base_commons","function":"writeGeneric","line":150,"method":null,"native":false},{"column":11,"file":"node:net","function":"Socket._writeGeneric","line":966,"method":"_writeGeneric","native":false},{"column":8,"file":"node:net","function":"Socket._write","line":978,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":570,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":499,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":508,"method":"write","native":false},{"column":16,"file":"node:internal/console/constructor","function":"console.value","line":298,"method":"value","native":false},{"column":26,"file":"node:internal/console/constructor","function":"console.log","line":384,"method":"log","native":false},{"column":34,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js","function":"module.exports","line":17,"method":"exports","native":false}],"version":"1.0.0"}
{"date":"Thu Jun 19 2025 17:13:18 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"code":"EPIPE","errno":-32,"syscall":"write"},"exception":true,"level":"error","message":"uncaughtException: write EPIPE\nError: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","os":{"loadavg":[10.09326171875,6.33935546875,5.27197265625],"uptime":605546},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":51436,"external":2129908,"heapTotal":101941248,"heapUsed":47408904,"rss":127811584},"pid":14531,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","timestamp":"2025-06-19 17:13:18","trace":[{"column":15,"file":"node:internal/stream_base_commons","function":"afterWriteDispatched","line":159,"method":null,"native":false},{"column":3,"file":"node:internal/stream_base_commons","function":"writeGeneric","line":150,"method":null,"native":false},{"column":11,"file":"node:net","function":"Socket._writeGeneric","line":966,"method":"_writeGeneric","native":false},{"column":8,"file":"node:net","function":"Socket._write","line":978,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":570,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":499,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":508,"method":"write","native":false},{"column":16,"file":"node:internal/console/constructor","function":"console.value","line":298,"method":"value","native":false},{"column":26,"file":"node:internal/console/constructor","function":"console.log","line":384,"method":"log","native":false},{"column":34,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js","function":"module.exports","line":17,"method":"exports","native":false}],"version":"1.0.0"}
{"date":"Thu Jun 19 2025 17:13:18 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"code":"EPIPE","errno":-32,"syscall":"write"},"exception":true,"level":"error","message":"uncaughtException: write EPIPE\nError: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","os":{"loadavg":[10.09326171875,6.33935546875,5.27197265625],"uptime":605546},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":59628,"external":2138100,"heapTotal":101941248,"heapUsed":47489560,"rss":127827968},"pid":14531,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","timestamp":"2025-06-19 17:13:18","trace":[{"column":15,"file":"node:internal/stream_base_commons","function":"afterWriteDispatched","line":159,"method":null,"native":false},{"column":3,"file":"node:internal/stream_base_commons","function":"writeGeneric","line":150,"method":null,"native":false},{"column":11,"file":"node:net","function":"Socket._writeGeneric","line":966,"method":"_writeGeneric","native":false},{"column":8,"file":"node:net","function":"Socket._write","line":978,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":570,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":499,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":508,"method":"write","native":false},{"column":16,"file":"node:internal/console/constructor","function":"console.value","line":298,"method":"value","native":false},{"column":26,"file":"node:internal/console/constructor","function":"console.log","line":384,"method":"log","native":false},{"column":34,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js","function":"module.exports","line":17,"method":"exports","native":false}],"version":"1.0.0"}
{"date":"Thu Jun 19 2025 17:13:18 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"code":"EPIPE","errno":-32,"syscall":"write"},"exception":true,"level":"error","message":"uncaughtException: write EPIPE\nError: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","os":{"loadavg":[10.09326171875,6.33935546875,5.27197265625],"uptime":605546},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":67820,"external":2146292,"heapTotal":101941248,"heapUsed":47300000,"rss":127860736},"pid":14531,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","timestamp":"2025-06-19 17:13:18","trace":[{"column":15,"file":"node:internal/stream_base_commons","function":"afterWriteDispatched","line":159,"method":null,"native":false},{"column":3,"file":"node:internal/stream_base_commons","function":"writeGeneric","line":150,"method":null,"native":false},{"column":11,"file":"node:net","function":"Socket._writeGeneric","line":966,"method":"_writeGeneric","native":false},{"column":8,"file":"node:net","function":"Socket._write","line":978,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":570,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":499,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":508,"method":"write","native":false},{"column":16,"file":"node:internal/console/constructor","function":"console.value","line":298,"method":"value","native":false},{"column":26,"file":"node:internal/console/constructor","function":"console.log","line":384,"method":"log","native":false},{"column":34,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js","function":"module.exports","line":17,"method":"exports","native":false}],"version":"1.0.0"}
{"date":"Thu Jun 19 2025 17:13:18 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"code":"EPIPE","errno":-32,"syscall":"write"},"exception":true,"level":"error","message":"uncaughtException: write EPIPE\nError: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","os":{"loadavg":[10.09326171875,6.33935546875,5.27197265625],"uptime":605546},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":76012,"external":2154484,"heapTotal":101941248,"heapUsed":47390912,"rss":127860736},"pid":14531,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","timestamp":"2025-06-19 17:13:18","trace":[{"column":15,"file":"node:internal/stream_base_commons","function":"afterWriteDispatched","line":159,"method":null,"native":false},{"column":3,"file":"node:internal/stream_base_commons","function":"writeGeneric","line":150,"method":null,"native":false},{"column":11,"file":"node:net","function":"Socket._writeGeneric","line":966,"method":"_writeGeneric","native":false},{"column":8,"file":"node:net","function":"Socket._write","line":978,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":570,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":499,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":508,"method":"write","native":false},{"column":16,"file":"node:internal/console/constructor","function":"console.value","line":298,"method":"value","native":false},{"column":26,"file":"node:internal/console/constructor","function":"console.log","line":384,"method":"log","native":false},{"column":34,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js","function":"module.exports","line":17,"method":"exports","native":false}],"version":"1.0.0"}
{"date":"Thu Jun 19 2025 17:13:18 GMT-0400 (Eastern Daylight Time)","environment":"development","error":{"code":"EPIPE","errno":-32,"syscall":"write"},"exception":true,"level":"error","message":"uncaughtException: write EPIPE\nError: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","os":{"loadavg":[10.09326171875,6.33935546875,5.27197265625],"uptime":605546},"process":{"argv":["/Users/farad/.nvm/versions/node/v24.2.0/bin/node","/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js"],"cwd":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend","execPath":"/Users/farad/.nvm/versions/node/v24.2.0/bin/node","gid":20,"memoryUsage":{"arrayBuffers":84204,"external":2162676,"heapTotal":102203392,"heapUsed":47560160,"rss":128106496},"pid":14531,"uid":501,"version":"v24.2.0"},"service":"housing-dashboard-api","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:966:11)\n    at Socket._write (node:net:978:8)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at console.value (node:internal/console/constructor:298:16)\n    at console.log (node:internal/console/constructor:384:26)\n    at module.exports (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js:17:34)","timestamp":"2025-06-19 17:13:18","trace":[{"column":15,"file":"node:internal/stream_base_commons","function":"afterWriteDispatched","line":159,"method":null,"native":false},{"column":3,"file":"node:internal/stream_base_commons","function":"writeGeneric","line":150,"method":null,"native":false},{"column":11,"file":"node:net","function":"Socket._writeGeneric","line":966,"method":"_writeGeneric","native":false},{"column":8,"file":"node:net","function":"Socket._write","line":978,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":570,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":499,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":508,"method":"write","native":false},{"column":16,"file":"node:internal/console/constructor","function":"console.value","line":298,"method":"value","native":false},{"column":26,"file":"node:internal/console/constructor","function":"console.log","line":384,"method":"log","native":false},{"column":34,"file":"/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/@dabh/diagnostics/logger/console.js","function":"module.exports","line":17,"method":"exports","native":false}],"version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:13","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:13","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:13","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:13","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:13","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:14","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:14","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:15","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:16","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:16","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:17","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 17:25:18","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:18","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:25:18","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:13","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:13","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:13","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:13","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:14","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:14","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:15","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:15","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:16","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:17","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:18","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 17:31:19","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:19","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:31:19","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:33:08","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:33:08","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:33:08","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:33:08","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:33:08","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:33:09","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:33:09","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:33:10","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:33:11","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:33:11","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:33:12","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 17:33:13","version":"1.0.0"}
{"environment":"development","level":"error","message":"Database disconnection failed: Can't add new command when connection is in closed state","service":"housing-dashboard-api","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePool.end (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:72:22)\n    at Database.disconnect (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:57:25)\n    at Server.<anonymous> (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/server.js:298:26)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:507:28)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-19 17:33:24","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:13","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:13","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:13","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:14","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:14","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:14","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:15","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:15","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:16","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:17","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:18","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 17:34:19","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:19","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Failed to connect to Redis","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:34:19","version":"1.0.0"}
{"environment":"development","error":"Table 'housing_dashboard.property_sales' doesn't exist","level":"error","message":"Query failed (20ms):","params":[],"service":"housing-dashboard-api","sql":"\n      SELECT \n        r.id,\n        r.name,\n        r.code,\n        r.population,\n        r.area_km2,\n        parent.name as parent_region_name,\n        COUNT(DISTINCT ps.id) as total_sales_last_30_days,\n        COUNT(DISTINCT al.id) as active_listings\n      FROM regions r\n      LEFT JOIN regions parent ON r.parent_region_id = parent.id\n      LEFT JOIN property_sales ps ON r.id = ps.region_id \n        AND ps.sale_date >= DATE_SUB(CURDATE(), INTERVAL 30 DAY)\n      LEFT JOIN active_listings al ON r.id = al.region_id\n      GROUP BY r.id, r.name, r.code, r.population, r.area_km2, parent.name\n      ORDER BY r.name\n    ","timestamp":"2025-06-19 17:34:37","version":"1.0.0"}
{"code":"ER_NO_SUCH_TABLE","environment":"development","errno":1146,"level":"error","message":"Error fetching regions: Table 'housing_dashboard.property_sales' doesn't exist","service":"housing-dashboard-api","sql":"\n      SELECT \n        r.id,\n        r.name,\n        r.code,\n        r.population,\n        r.area_km2,\n        parent.name as parent_region_name,\n        COUNT(DISTINCT ps.id) as total_sales_last_30_days,\n        COUNT(DISTINCT al.id) as active_listings\n      FROM regions r\n      LEFT JOIN regions parent ON r.parent_region_id = parent.id\n      LEFT JOIN property_sales ps ON r.id = ps.region_id \n        AND ps.sale_date >= DATE_SUB(CURDATE(), INTERVAL 30 DAY)\n      LEFT JOIN active_listings al ON r.id = al.region_id\n      GROUP BY r.id, r.name, r.code, r.population, r.area_km2, parent.name\n      ORDER BY r.name\n    ","sqlMessage":"Table 'housing_dashboard.property_sales' doesn't exist","sqlState":"42S02","stack":"Error: Table 'housing_dashboard.property_sales' doesn't exist\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/housing.js:48:37\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-06-19 17:34:37","version":"1.0.0"}
{"duration":"22ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":102,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-19 17:34:37","url":"/api/housing/regions","userAgent":"curl/8.7.1","version":"1.0.0"}
{"environment":"development","error":"Table 'housing_dashboard.property_sales' doesn't exist","level":"error","message":"Query failed (1ms):","params":[],"service":"housing-dashboard-api","sql":"\n      SELECT \n        r.id,\n        r.name,\n        r.code,\n        r.population,\n        r.area_km2,\n        parent.name as parent_region_name,\n        COUNT(DISTINCT ps.id) as total_sales_last_30_days,\n        COUNT(DISTINCT al.id) as active_listings\n      FROM regions r\n      LEFT JOIN regions parent ON r.parent_region_id = parent.id\n      LEFT JOIN property_sales ps ON r.id = ps.region_id \n        AND ps.sale_date >= DATE_SUB(CURDATE(), INTERVAL 30 DAY)\n      LEFT JOIN active_listings al ON r.id = al.region_id\n      GROUP BY r.id, r.name, r.code, r.population, r.area_km2, parent.name\n      ORDER BY r.name\n    ","timestamp":"2025-06-19 17:35:03","version":"1.0.0"}
{"code":"ER_NO_SUCH_TABLE","environment":"development","errno":1146,"level":"error","message":"Error fetching regions: Table 'housing_dashboard.property_sales' doesn't exist","service":"housing-dashboard-api","sql":"\n      SELECT \n        r.id,\n        r.name,\n        r.code,\n        r.population,\n        r.area_km2,\n        parent.name as parent_region_name,\n        COUNT(DISTINCT ps.id) as total_sales_last_30_days,\n        COUNT(DISTINCT al.id) as active_listings\n      FROM regions r\n      LEFT JOIN regions parent ON r.parent_region_id = parent.id\n      LEFT JOIN property_sales ps ON r.id = ps.region_id \n        AND ps.sale_date >= DATE_SUB(CURDATE(), INTERVAL 30 DAY)\n      LEFT JOIN active_listings al ON r.id = al.region_id\n      GROUP BY r.id, r.name, r.code, r.population, r.area_km2, parent.name\n      ORDER BY r.name\n    ","sqlMessage":"Table 'housing_dashboard.property_sales' doesn't exist","sqlState":"42S02","stack":"Error: Table 'housing_dashboard.property_sales' doesn't exist\n    at PromisePool.execute (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at Database.query (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/config/database.js:78:46)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/routes/housing.js:48:37\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/farad/Downloads/housind-dashboard/housing-dashboard/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-06-19 17:35:03","version":"1.0.0"}
{"duration":"2ms","environment":"development","ip":"::1","level":"error","message":"HTTP Request","method":"GET","responseSize":102,"service":"housing-dashboard-api","statusCode":500,"timestamp":"2025-06-19 17:35:03","url":"/api/housing/regions","userAgent":"curl/8.7.1","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:22","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:22","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:22","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:22","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:22","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:23","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:23","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:24","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:25","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:25","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:26","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 17:38:27","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:28","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:28","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:28","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:28","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:28","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:29","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:30","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:31","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:32","version":"1.0.0"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Redis client error","service":"housing-dashboard-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-06-19 17:38:32","version":"1.0.0"}
{"environment":"development","level":"error","message":"Too many Redis connection attempts","service":"housing-dashboard-api","timestamp":"2025-06-19 17:38:33","version":"1.0.0"}
